(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Qd={exports:{}},Rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function db(){if(ev)return Rl;ev=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=t,Rl.jsx=n,Rl.jsxs=n,Rl}var nv;function mb(){return nv||(nv=1,Qd.exports=db()),Qd.exports}var R=mb(),Yd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function pb(){if(iv)return wt;iv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,Z={};function ot(O,G,et){this.props=O,this.context=G,this.refs=Z,this.updater=et||X}ot.prototype.isReactComponent={},ot.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},ot.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function pt(){}pt.prototype=ot.prototype;function ut(O,G,et){this.props=O,this.context=G,this.refs=Z,this.updater=et||X}var St=ut.prototype=new pt;St.constructor=ut,tt(St,ot.prototype),St.isPureReactComponent=!0;var Bt=Array.isArray;function Dt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function N(O,G,et){var it=et.ref;return{$$typeof:s,type:O,key:G,ref:it!==void 0?it:null,props:et}}function V(O,G){return N(O.type,G,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return G[et]})}var I=/\/+/g;function ie(O,G){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):G.toString(36)}function bt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Dt,Dt):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,G,et,it,ft){var gt=typeof O;(gt==="undefined"||gt==="boolean")&&(O=null);var _t=!1;if(O===null)_t=!0;else switch(gt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(O.$$typeof){case s:case t:_t=!0;break;case E:return _t=O._init,B(_t(O._payload),G,et,it,ft)}}if(_t)return ft=ft(O),_t=it===""?"."+ie(O,0):it,Bt(ft)?(et="",_t!=null&&(et=_t.replace(I,"$&/")+"/"),B(ft,G,et,"",function(Cn){return Cn})):ft!=null&&(M(ft)&&(ft=V(ft,et+(ft.key==null||O&&O.key===ft.key?"":(""+ft.key).replace(I,"$&/")+"/")+_t)),G.push(ft)),1;_t=0;var Zt=it===""?".":it+":";if(Bt(O))for(var Qt=0;Qt<O.length;Qt++)it=O[Qt],gt=Zt+ie(it,Qt),_t+=B(it,G,et,gt,ft);else if(Qt=j(O),typeof Qt=="function")for(O=Qt.call(O),Qt=0;!(it=O.next()).done;)it=it.value,gt=Zt+ie(it,Qt++),_t+=B(it,G,et,gt,ft);else if(gt==="object"){if(typeof O.then=="function")return B(bt(O),G,et,it,ft);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return _t}function W(O,G,et){if(O==null)return O;var it=[],ft=0;return B(O,it,"","",function(gt){return G.call(et,gt,ft++)}),it}function rt(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var Tt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ot={map:W,forEach:function(O,G,et){W(O,function(){G.apply(this,arguments)},et)},count:function(O){var G=0;return W(O,function(){G++}),G},toArray:function(O){return W(O,function(G){return G})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=A,wt.Children=Ot,wt.Component=ot,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=ut,wt.StrictMode=r,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,G,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=tt({},O.props),ft=O.key;if(G!=null)for(gt in G.key!==void 0&&(ft=""+G.key),G)!b.call(G,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&G.ref===void 0||(it[gt]=G[gt]);var gt=arguments.length-2;if(gt===1)it.children=et;else if(1<gt){for(var _t=Array(gt),Zt=0;Zt<gt;Zt++)_t[Zt]=arguments[Zt+2];it.children=_t}return N(O.type,ft,it)},wt.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},wt.createElement=function(O,G,et){var it,ft={},gt=null;if(G!=null)for(it in G.key!==void 0&&(gt=""+G.key),G)b.call(G,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(ft[it]=G[it]);var _t=arguments.length-2;if(_t===1)ft.children=et;else if(1<_t){for(var Zt=Array(_t),Qt=0;Qt<_t;Qt++)Zt[Qt]=arguments[Qt+2];ft.children=Zt}if(O&&O.defaultProps)for(it in _t=O.defaultProps,_t)ft[it]===void 0&&(ft[it]=_t[it]);return N(O,gt,ft)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:m,render:O}},wt.isValidElement=M,wt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:rt}},wt.memo=function(O,G){return{$$typeof:y,type:O,compare:G===void 0?null:G}},wt.startTransition=function(O){var G=D.T,et={};D.T=et;try{var it=O(),ft=D.S;ft!==null&&ft(et,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Dt,Tt)}catch(gt){Tt(gt)}finally{G!==null&&et.types!==null&&(G.types=et.types),D.T=G}},wt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},wt.use=function(O){return D.H.use(O)},wt.useActionState=function(O,G,et){return D.H.useActionState(O,G,et)},wt.useCallback=function(O,G){return D.H.useCallback(O,G)},wt.useContext=function(O){return D.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,G){return D.H.useDeferredValue(O,G)},wt.useEffect=function(O,G){return D.H.useEffect(O,G)},wt.useEffectEvent=function(O){return D.H.useEffectEvent(O)},wt.useId=function(){return D.H.useId()},wt.useImperativeHandle=function(O,G,et){return D.H.useImperativeHandle(O,G,et)},wt.useInsertionEffect=function(O,G){return D.H.useInsertionEffect(O,G)},wt.useLayoutEffect=function(O,G){return D.H.useLayoutEffect(O,G)},wt.useMemo=function(O,G){return D.H.useMemo(O,G)},wt.useOptimistic=function(O,G){return D.H.useOptimistic(O,G)},wt.useReducer=function(O,G,et){return D.H.useReducer(O,G,et)},wt.useRef=function(O){return D.H.useRef(O)},wt.useState=function(O){return D.H.useState(O)},wt.useSyncExternalStore=function(O,G,et){return D.H.useSyncExternalStore(O,G,et)},wt.useTransition=function(){return D.H.useTransition()},wt.version="19.2.0",wt}var sv;function jm(){return sv||(sv=1,Yd.exports=pb()),Yd.exports}var st=jm(),Xd={exports:{}},Il={},$d={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function gb(){return rv||(rv=1,(function(s){function t(B,W){var rt=B.length;B.push(W);t:for(;0<rt;){var Tt=rt-1>>>1,Ot=B[Tt];if(0<o(Ot,W))B[Tt]=W,B[rt]=Ot,rt=Tt;else break t}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],rt=B.pop();if(rt!==W){B[0]=rt;t:for(var Tt=0,Ot=B.length,O=Ot>>>1;Tt<O;){var G=2*(Tt+1)-1,et=B[G],it=G+1,ft=B[it];if(0>o(et,rt))it<Ot&&0>o(ft,et)?(B[Tt]=ft,B[it]=rt,Tt=it):(B[Tt]=et,B[G]=rt,Tt=G);else if(it<Ot&&0>o(ft,rt))B[Tt]=ft,B[it]=rt,Tt=it;else break t}}return W}function o(B,W){var rt=B.sortIndex-W.sortIndex;return rt!==0?rt:B.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,A=null,w=3,j=!1,X=!1,tt=!1,Z=!1,ot=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function St(B){for(var W=n(y);W!==null;){if(W.callback===null)r(y);else if(W.startTime<=B)r(y),W.sortIndex=W.expirationTime,t(g,W);else break;W=n(y)}}function Bt(B){if(tt=!1,St(B),!X)if(n(g)!==null)X=!0,Dt||(Dt=!0,L());else{var W=n(y);W!==null&&bt(Bt,W.startTime-B)}}var Dt=!1,D=-1,b=5,N=-1;function V(){return Z?!0:!(s.unstable_now()-N<b)}function M(){if(Z=!1,Dt){var B=s.unstable_now();N=B;var W=!0;try{t:{X=!1,tt&&(tt=!1,pt(D),D=-1),j=!0;var rt=w;try{e:{for(St(B),A=n(g);A!==null&&!(A.expirationTime>B&&V());){var Tt=A.callback;if(typeof Tt=="function"){A.callback=null,w=A.priorityLevel;var Ot=Tt(A.expirationTime<=B);if(B=s.unstable_now(),typeof Ot=="function"){A.callback=Ot,St(B),W=!0;break e}A===n(g)&&r(g),St(B)}else r(g);A=n(g)}if(A!==null)W=!0;else{var O=n(y);O!==null&&bt(Bt,O.startTime-B),W=!1}}break t}finally{A=null,w=rt,j=!1}W=void 0}}finally{W?L():Dt=!1}}}var L;if(typeof ut=="function")L=function(){ut(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ie=I.port2;I.port1.onmessage=M,L=function(){ie.postMessage(null)}}else L=function(){ot(M,0)};function bt(B,W){D=ot(function(){B(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(B){switch(w){case 1:case 2:case 3:var W=3;break;default:W=w}var rt=w;w=W;try{return B()}finally{w=rt}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var rt=w;w=B;try{return W()}finally{w=rt}},s.unstable_scheduleCallback=function(B,W,rt){var Tt=s.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?Tt+rt:Tt):rt=Tt,B){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=rt+Ot,B={id:E++,callback:W,priorityLevel:B,startTime:rt,expirationTime:Ot,sortIndex:-1},rt>Tt?(B.sortIndex=rt,t(y,B),n(g)===null&&B===n(y)&&(tt?(pt(D),D=-1):tt=!0,bt(Bt,rt-Tt))):(B.sortIndex=Ot,t(g,B),X||j||(X=!0,Dt||(Dt=!0,L()))),B},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(B){var W=w;return function(){var rt=w;w=W;try{return B.apply(this,arguments)}finally{w=rt}}}})(Zd)),Zd}var av;function yb(){return av||(av=1,$d.exports=gb()),$d.exports}var Jd={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function _b(){if(ov)return $e;ov=1;var s=jm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$e.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},$e.flushSync=function(g){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=E,r.d.f()}},$e.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},$e.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$e.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:j}):E==="script"&&r.d.X(g,{crossOrigin:A,integrity:w,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},$e.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);r.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},$e.requestFormReset=function(g){r.d.r(g)},$e.unstable_batchedUpdates=function(g,y){return g(y)},$e.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},$e.useFormStatus=function(){return f.H.useHostTransitionStatus()},$e.version="19.2.0",$e}var lv;function vb(){if(lv)return Jd.exports;lv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Jd.exports=_b(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function Eb(){if(uv)return Il;uv=1;var s=yb(),t=jm(),n=vb();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),Bt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ot:return"Profiler";case Z:return"StrictMode";case Bt:return"Suspense";case Dt:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case ut:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case St:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:ie(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return ie(e(i))}catch{}}return null}var bt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},Tt=[],Ot=-1;function O(e){return{current:e}}function G(e){0>Ot||(e.current=Tt[Ot],Tt[Ot]=null,Ot--)}function et(e,i){Ot++,Tt[Ot]=e.current,e.current=i}var it=O(null),ft=O(null),gt=O(null),_t=O(null);function Zt(e,i){switch(et(gt,i),et(ft,e),et(it,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?b_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=b_(i),e=w_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(it),et(it,e)}function Qt(){G(it),G(ft),G(gt)}function Cn(e){e.memoizedState!==null&&et(_t,e);var i=it.current,a=w_(i,e.type);i!==a&&(et(ft,e),et(it,a))}function Fn(e){ft.current===e&&(G(it),G(ft)),_t.current===e&&(G(_t),Sl._currentValue=rt)}var ji,Bi;function gn(e){if(ji===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ji=i&&i[1]||"",Bi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ji+e+Bi}var ps=!1;function Hi(e,i){if(!e||ps)return"";ps=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(F){var H=F}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(F){H=F}e.call(Y.prototype)}}else{try{throw Error()}catch(F){H=F}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var K=`
`+C[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{ps=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?gn(a):""}function Ao(e,i){switch(e.tag){case 26:case 27:case 5:return gn(e.type);case 16:return gn("Lazy");case 13:return e.child!==i&&i!==null?gn("Suspense Fallback"):gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return Hi(e.type,!1);case 11:return Hi(e.type.render,!1);case 1:return Hi(e.type,!0);case 31:return gn("Activity");default:return""}}function bo(e){try{var i="",a=null;do i+=Ao(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Oe=s.unstable_scheduleCallback,gs=s.unstable_cancelCallback,Yh=s.unstable_shouldYield,lu=s.unstable_requestPaint,en=s.unstable_now,_r=s.unstable_getCurrentPriorityLevel,wo=s.unstable_ImmediatePriority,Ro=s.unstable_UserBlockingPriority,ys=s.unstable_NormalPriority,Xh=s.unstable_LowPriority,uu=s.unstable_IdlePriority,cu=s.log,hu=s.unstable_setDisableYieldValue,Gn=null,Be=null;function Nn(e){if(typeof cu=="function"&&hu(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Gn,e)}catch{}}var de=Math.clz32?Math.clz32:du,fu=Math.log,ua=Math.LN2;function du(e){return e>>>=0,e===0?32:31-(fu(e)/ua|0)|0}var oi=256,vr=262144,ve=4194304;function li(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=li(l):(_&=T,_!==0?h=li(_):a||(a=T&~e,a!==0&&(h=li(a))))):(T=l&~d,T!==0?h=li(T):_!==0?h=li(_):a||(a=l&~e,a!==0&&(h=li(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Kn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function $h(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ci(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Er(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var K=31-de(a),Y=1<<K;T[K]=0,C[K]=-1;var H=z[K];if(H!==null)for(z[K]=null,K=0;K<H.length;K++){var F=H[K];F!==null&&(F.lane&=-536870913)}a&=~Y}l!==0&&Tr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Tr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-de(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Io(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-de(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Co(e,i){var a=i&-i;return a=(a&42)!==0?1:Sr(a),(a&(e.suspendedLanes|i))!==0?0:a}function Sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:Y_(e.type))}function Qn(e,i){var a=W.p;try{return W.p=e,i()}finally{W.p=a}}var Yn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Yn,ke="__reactProps$"+Yn,hi="__reactContainer$"+Yn,ca="__reactEvents$"+Yn,Jh="__reactListeners$"+Yn,gu="__reactHandles$"+Yn,yu="__reactResources$"+Yn,fi="__reactMarker$"+Yn;function ha(e){delete e[Ee],delete e[ke],delete e[ca],delete e[Jh],delete e[gu]}function di(e){var i=e[Ee];if(i)return i;for(var a=e.parentNode;a;){if(i=a[hi]||a[Ee]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=x_(e);e!==null;){if(a=e[Ee])return a;e=x_(e)}return i}e=a,a=e.parentNode}return null}function Dn(e){if(e=e[Ee]||e[hi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function yn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function mi(e){var i=e[yu];return i||(i=e[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Te(e){e[fi]=!0}var No=new Set,Do={};function pi(e,i){gi(e,i),gi(e+"Capture",i)}function gi(e,i){for(Do[e]=i,e=0;e<i.length;e++)No.add(i[e])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Mo={};function _u(e){return _e.call(Mo,e)?!0:_e.call(xo,e)?!1:Oo.test(e)?Mo[e]=!0:(xo[e]=!0,!1)}function fa(e,i,a){if(_u(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function _n(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Se(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _s(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Yt(e){if(!e._valueTracker){var i=_s(e)?"checked":"value";e._valueTracker=Vo(e,i,""+e[i])}}function Ar(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=_s(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var br=/[\n"\\]/g;function on(e){return e.replace(br,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function da(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?ko(e,_,Le(i)):a!=null?ko(e,_,Le(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Le(T):e.removeAttribute("name")}function vu(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Yt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Yt(e)}function ko(e,i,a){i==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vs(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Eu(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function Es(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(bt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Yt(e)}function ln(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Tu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Uo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Lo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Lo(e,d,i[d])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return Ts.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var Po=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,_i=null;function wr(e){var i=Dn(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(da(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ke]||null;if(!h)throw Error(r(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ar(l)}break t;case"textarea":Eu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&vs(e,!!a.multiple,i,!1)}}}var ga=!1;function As(e,i,a){if(ga)return e(i,a);ga=!0;try{var l=e(i);return l}finally{if(ga=!1,(Ss!==null||_i!==null)&&(pc(),Ss&&(i=Ss,e=_i,_i=Ss=null,wr(i),e)))for(i=0;i<e.length;i++)wr(e[i])}}function $n(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ke]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(xn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Rr=!1}var vi=null,zo=null,Ir=null;function jo(){if(Ir)return Ir;var e,i=zo,a=i.length,l,h="value"in vi?vi.value:vi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ir=h.slice(e,1<l?1-l:void 0)}function Cr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function Zn(){return!1}function He(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:Zn,this.isPropagationStopped=Zn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=He(Gi),bs=A({},Gi,{view:0,detail:0}),Bo=He(bs),ws,ya,Ti,_a=A({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(ws=e.screenX-Ti.screenX,ya=e.screenY-Ti.screenY):ya=ws=0,Ti=e),ws)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Ho=He(_a),Nr=A({},_a,{dataTransfer:0}),Au=He(Nr),bu=A({},bs,{relatedTarget:0}),Dr=He(bu),qo=A({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=He(qo),va=A({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ru=He(va),Iu=A({},Gi,{data:0}),Si=He(Iu),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Du[e])?!!i[e]:!1}function Rs(){return Ou}var nn=A({},bs,{key:function(e){if(e.key){var i=Cu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(e){return e.type==="keypress"?Cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xu=He(nn),Mu=A({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=He(Mu),c=A({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),p=He(c),v=A({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=He(v),U=A({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=He(U),nt=A({},Gi,{newState:0,oldState:0}),It=He(nt),me=[9,13,27,32],Ft=xn&&"CompositionEvent"in window,le=null;xn&&"documentMode"in document&&(le=document.documentMode);var Mn=xn&&"TextEvent"in window&&!le,Ai=xn&&(!Ft||le&&8<le&&11>=le),Jn=" ",Wn=!1;function Or(e,i){switch(e){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function US(e,i){switch(e){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(Wn=!0,Jn);case"textInput":return e=i.data,e===Jn&&Wn?null:e;default:return null}}function PS(e,i){if(Ta)return e==="compositionend"||!Ft&&Or(e,i)?(e=jo(),Ir=zo=vi=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!zS[e.type]:i==="textarea"}function Lp(e,i,a,l){Ss?_i?_i.push(l):_i=[l]:Ss=l,i=Sc(i,"onChange"),0<i.length&&(a=new Ei("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Fo=null,Go=null;function jS(e){__(e,0)}function Vu(e){var i=yn(e);if(Ar(i))return e}function Up(e,i){if(e==="change")return i}var Pp=!1;if(xn){var Wh;if(xn){var tf="oninput"in document;if(!tf){var zp=document.createElement("div");zp.setAttribute("oninput","return;"),tf=typeof zp.oninput=="function"}Wh=tf}else Wh=!1;Pp=Wh&&(!document.documentMode||9<document.documentMode)}function jp(){Fo&&(Fo.detachEvent("onpropertychange",Bp),Go=Fo=null)}function Bp(e){if(e.propertyName==="value"&&Vu(Go)){var i=[];Lp(i,Go,e,On(e)),As(jS,i)}}function BS(e,i,a){e==="focusin"?(jp(),Fo=i,Go=a,Fo.attachEvent("onpropertychange",Bp)):e==="focusout"&&jp()}function HS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(Go)}function qS(e,i){if(e==="click")return Vu(i)}function FS(e,i){if(e==="input"||e==="change")return Vu(i)}function GS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var vn=typeof Object.is=="function"?Object.is:GS;function Ko(e,i){if(vn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_e.call(i,h)||!vn(e[h],i[h]))return!1}return!0}function Hp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qp(e,i){var a=Hp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Hp(a)}}function Fp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Fp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Gp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=yi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=yi(e.document)}return i}function ef(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var KS=xn&&"documentMode"in document&&11>=document.documentMode,Sa=null,nf=null,Qo=null,sf=!1;function Kp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||Sa==null||Sa!==yi(l)||(l=Sa,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Ko(Qo,l)||(Qo=l,l=Sc(nf,"onSelect"),0<l.length&&(i=new Ei("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Sa)))}function xr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Aa={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},rf={},Qp={};xn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Mr(e){if(rf[e])return rf[e];if(!Aa[e])return e;var i=Aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qp)return rf[e]=i[a];return e}var Yp=Mr("animationend"),Xp=Mr("animationiteration"),$p=Mr("animationstart"),QS=Mr("transitionrun"),YS=Mr("transitionstart"),XS=Mr("transitioncancel"),Zp=Mr("transitionend"),Jp=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function ti(e,i){Jp.set(e,i),pi(i,[e])}var ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],ba=0,of=0;function Lu(){for(var e=ba,i=of=ba=0;i<e;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Wp(a,h,d)}}function Uu(e,i,a,l){Vn[ba++]=e,Vn[ba++]=i,Vn[ba++]=a,Vn[ba++]=l,of|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function lf(e,i,a,l){return Uu(e,i,a,l),Pu(e)}function Vr(e,i){return Uu(e,null,null,i),Pu(e)}function Wp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-de(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Pu(e){if(50<pl)throw pl=0,yd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var wa={};function $S(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,i,a,l){return new $S(e,i,a,l)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,i){var a=e.alternate;return a===null?(a=En(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function tg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function zu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")uf(e)&&(_=1);else if(typeof e=="string")_=eb(e,a,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=En(31,a,i,h),e.elementType=N,e.lanes=d,e;case tt:return kr(a.children,h,d,i);case Z:_=8,h|=24;break;case ot:return e=En(12,a,i,h|2),e.elementType=ot,e.lanes=d,e;case Bt:return e=En(13,a,i,h),e.elementType=Bt,e.lanes=d,e;case Dt:return e=En(19,a,i,h),e.elementType=Dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:_=10;break t;case pt:_=9;break t;case St:_=11;break t;case D:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=En(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function kr(e,i,a,l){return e=En(7,e,l,i),e.lanes=a,e}function cf(e,i,a){return e=En(6,e,null,i),e.lanes=a,e}function eg(e){var i=En(18,null,null,0);return i.stateNode=e,i}function hf(e,i,a){return i=En(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ng=new WeakMap;function kn(e,i){if(typeof e=="object"&&e!==null){var a=ng.get(e);return a!==void 0?a:(i={value:e,source:i,stack:bo(i)},ng.set(e,i),i)}return{value:e,source:i,stack:bo(i)}}var Ra=[],Ia=0,ju=null,Yo=0,Ln=[],Un=0,Is=null,bi=1,wi="";function Yi(e,i){Ra[Ia++]=Yo,Ra[Ia++]=ju,ju=e,Yo=i}function ig(e,i,a){Ln[Un++]=bi,Ln[Un++]=wi,Ln[Un++]=Is,Is=e;var l=bi;e=wi;var h=32-de(l)-1;l&=~(1<<h),a+=1;var d=32-de(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,bi=1<<32-de(i)+h|a<<h|l,wi=d+e}else bi=1<<d|a<<h|l,wi=e}function ff(e){e.return!==null&&(Yi(e,1),ig(e,1,0))}function df(e){for(;e===ju;)ju=Ra[--Ia],Ra[Ia]=null,Yo=Ra[--Ia],Ra[Ia]=null;for(;e===Is;)Is=Ln[--Un],Ln[Un]=null,wi=Ln[--Un],Ln[Un]=null,bi=Ln[--Un],Ln[Un]=null}function sg(e,i){Ln[Un++]=bi,Ln[Un++]=wi,Ln[Un++]=Is,bi=i.id,wi=i.overflow,Is=e}var qe=null,se=null,zt=!1,Cs=null,Pn=!1,mf=Error(r(519));function Ns(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(kn(i,e)),mf}function rg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ee]=e,i[ke]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<yl.length;a++)Mt(yl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),Es(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||S_(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=Xn),i=!0):i=!1,i||Ns(e,!0)}function ag(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:qe=qe.return}}function Ca(e){if(e!==qe)return!1;if(!zt)return ag(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||xd(e.type,e.memoizedProps)),a=!a),a&&se&&Ns(e),ag(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=O_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=O_(e)}else i===27?(i=se,qs(e.type)?(e=Ud,Ud=null,se=e):se=i):se=qe?jn(e.stateNode.nextSibling):null;return!0}function Lr(){se=qe=null,zt=!1}function pf(){var e=Cs;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Cs=null),e}function Xo(e){Cs===null?Cs=[e]:Cs.push(e)}var gf=O(null),Ur=null,Xi=null;function Ds(e,i,a){et(gf,i._currentValue),i._currentValue=a}function $i(e){e._currentValue=gf.current,G(gf)}function yf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function _f(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),yf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),yf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;vn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===_t.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}h=h.return}e!==null&&_f(i,e,a,l),i.flags|=262144}function Bu(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pr(e){Ur=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return og(Ur,e)}function Hu(e,i){return Ur===null&&Pr(e),og(e,i)}function og(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(e===null)throw Error(r(308));Xi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Xi=Xi.next=i;return a}var ZS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},JS=s.unstable_scheduleCallback,WS=s.unstable_NormalPriority,Ae={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new ZS,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&JS(WS,function(){e.controller.abort()})}var Zo=null,Ef=0,Da=0,Oa=null;function tA(e,i){if(Zo===null){var a=Zo=[];Ef=0,Da=Ad(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ef++,i.then(lg,lg),i}function lg(){if(--Ef===0&&Zo!==null){Oa!==null&&(Oa.status="fulfilled");var e=Zo;Zo=null,Da=0,Oa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function eA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ug=B.S;B.S=function(e,i){Ky=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tA(e,i),ug!==null&&ug(e,i)};var zr=O(null);function Tf(){var e=zr.current;return e!==null?e:ne.pooledCache}function qu(e,i){i===null?et(zr,zr.current):et(zr,i.pool)}function cg(){var e=Tf();return e===null?null:{parent:Ae._currentValue,pool:e}}var xa=Error(r(460)),Sf=Error(r(474)),Fu=Error(r(542)),Gu={then:function(){}};function hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Xn,Xn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,mg(e),e;default:if(typeof i.status=="string")i.then(Xn,Xn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,mg(e),e}throw Br=i,xa}}function jr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Br=a,xa):a}}var Br=null;function dg(){if(Br===null)throw Error(r(459));var e=Br;return Br=null,e}function mg(e){if(e===xa||e===Fu)throw Error(r(483))}var Ma=null,Jo=0;function Ku(e){var i=Jo;return Jo+=1,Ma===null&&(Ma=[]),fg(Ma,e,i)}function Wo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Qu(e,i){throw i.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function pg(e){function i(k,x){if(e){var P=k.deletions;P===null?(k.deletions=[x],k.flags|=16):P.push(x)}}function a(k,x){if(!e)return null;for(;x!==null;)i(k,x),x=x.sibling;return null}function l(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Qi(k,x),k.index=0,k.sibling=null,k}function d(k,x,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<x?(k.flags|=67108866,x):P):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,x,P,Q){return x===null||x.tag!==6?(x=cf(P,k.mode,Q),x.return=k,x):(x=h(x,P),x.return=k,x)}function C(k,x,P,Q){var dt=P.type;return dt===tt?K(k,x,P.props.children,Q,P.key):x!==null&&(x.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&jr(dt)===x.type)?(x=h(x,P.props),Wo(x,P),x.return=k,x):(x=zu(P.type,P.key,P.props,null,k.mode,Q),Wo(x,P),x.return=k,x)}function z(k,x,P,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=hf(P,k.mode,Q),x.return=k,x):(x=h(x,P.children||[]),x.return=k,x)}function K(k,x,P,Q,dt){return x===null||x.tag!==7?(x=kr(P,k.mode,Q,dt),x.return=k,x):(x=h(x,P),x.return=k,x)}function Y(k,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=cf(""+x,k.mode,P),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case j:return P=zu(x.type,x.key,x.props,null,k.mode,P),Wo(P,x),P.return=k,P;case X:return x=hf(x,k.mode,P),x.return=k,x;case b:return x=jr(x),Y(k,x,P)}if(bt(x)||L(x))return x=kr(x,k.mode,P,null),x.return=k,x;if(typeof x.then=="function")return Y(k,Ku(x),P);if(x.$$typeof===ut)return Y(k,Hu(k,x),P);Qu(k,x)}return null}function H(k,x,P,Q){var dt=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:T(k,x,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===dt?C(k,x,P,Q):null;case X:return P.key===dt?z(k,x,P,Q):null;case b:return P=jr(P),H(k,x,P,Q)}if(bt(P)||L(P))return dt!==null?null:K(k,x,P,Q,null);if(typeof P.then=="function")return H(k,x,Ku(P),Q);if(P.$$typeof===ut)return H(k,x,Hu(k,P),Q);Qu(k,P)}return null}function F(k,x,P,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,T(x,k,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return k=k.get(Q.key===null?P:Q.key)||null,C(x,k,Q,dt);case X:return k=k.get(Q.key===null?P:Q.key)||null,z(x,k,Q,dt);case b:return Q=jr(Q),F(k,x,P,Q,dt)}if(bt(Q)||L(Q))return k=k.get(P)||null,K(x,k,Q,dt,null);if(typeof Q.then=="function")return F(k,x,P,Ku(Q),dt);if(Q.$$typeof===ut)return F(k,x,P,Hu(x,Q),dt);Qu(x,Q)}return null}function lt(k,x,P,Q){for(var dt=null,Ht=null,ht=x,Nt=x=0,kt=null;ht!==null&&Nt<P.length;Nt++){ht.index>Nt?(kt=ht,ht=null):kt=ht.sibling;var qt=H(k,ht,P[Nt],Q);if(qt===null){ht===null&&(ht=kt);break}e&&ht&&qt.alternate===null&&i(k,ht),x=d(qt,x,Nt),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt,ht=kt}if(Nt===P.length)return a(k,ht),zt&&Yi(k,Nt),dt;if(ht===null){for(;Nt<P.length;Nt++)ht=Y(k,P[Nt],Q),ht!==null&&(x=d(ht,x,Nt),Ht===null?dt=ht:Ht.sibling=ht,Ht=ht);return zt&&Yi(k,Nt),dt}for(ht=l(ht);Nt<P.length;Nt++)kt=F(ht,k,Nt,P[Nt],Q),kt!==null&&(e&&kt.alternate!==null&&ht.delete(kt.key===null?Nt:kt.key),x=d(kt,x,Nt),Ht===null?dt=kt:Ht.sibling=kt,Ht=kt);return e&&ht.forEach(function(Ys){return i(k,Ys)}),zt&&Yi(k,Nt),dt}function yt(k,x,P,Q){if(P==null)throw Error(r(151));for(var dt=null,Ht=null,ht=x,Nt=x=0,kt=null,qt=P.next();ht!==null&&!qt.done;Nt++,qt=P.next()){ht.index>Nt?(kt=ht,ht=null):kt=ht.sibling;var Ys=H(k,ht,qt.value,Q);if(Ys===null){ht===null&&(ht=kt);break}e&&ht&&Ys.alternate===null&&i(k,ht),x=d(Ys,x,Nt),Ht===null?dt=Ys:Ht.sibling=Ys,Ht=Ys,ht=kt}if(qt.done)return a(k,ht),zt&&Yi(k,Nt),dt;if(ht===null){for(;!qt.done;Nt++,qt=P.next())qt=Y(k,qt.value,Q),qt!==null&&(x=d(qt,x,Nt),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt);return zt&&Yi(k,Nt),dt}for(ht=l(ht);!qt.done;Nt++,qt=P.next())qt=F(ht,k,Nt,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&ht.delete(qt.key===null?Nt:qt.key),x=d(qt,x,Nt),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt);return e&&ht.forEach(function(fb){return i(k,fb)}),zt&&Yi(k,Nt),dt}function ee(k,x,P,Q){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:t:{for(var dt=P.key;x!==null;){if(x.key===dt){if(dt=P.type,dt===tt){if(x.tag===7){a(k,x.sibling),Q=h(x,P.props.children),Q.return=k,k=Q;break t}}else if(x.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&jr(dt)===x.type){a(k,x.sibling),Q=h(x,P.props),Wo(Q,P),Q.return=k,k=Q;break t}a(k,x);break}else i(k,x);x=x.sibling}P.type===tt?(Q=kr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=zu(P.type,P.key,P.props,null,k.mode,Q),Wo(Q,P),Q.return=k,k=Q)}return _(k);case X:t:{for(dt=P.key;x!==null;){if(x.key===dt)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){a(k,x.sibling),Q=h(x,P.children||[]),Q.return=k,k=Q;break t}else{a(k,x);break}else i(k,x);x=x.sibling}Q=hf(P,k.mode,Q),Q.return=k,k=Q}return _(k);case b:return P=jr(P),ee(k,x,P,Q)}if(bt(P))return lt(k,x,P,Q);if(L(P)){if(dt=L(P),typeof dt!="function")throw Error(r(150));return P=dt.call(P),yt(k,x,P,Q)}if(typeof P.then=="function")return ee(k,x,Ku(P),Q);if(P.$$typeof===ut)return ee(k,x,Hu(k,P),Q);Qu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(a(k,x.sibling),Q=h(x,P),Q.return=k,k=Q):(a(k,x),Q=cf(P,k.mode,Q),Q.return=k,k=Q),_(k)):a(k,x)}return function(k,x,P,Q){try{Jo=0;var dt=ee(k,x,P,Q);return Ma=null,dt}catch(ht){if(ht===xa||ht===Fu)throw ht;var Ht=En(29,ht,null,k.mode);return Ht.lanes=Q,Ht.return=k,Ht}finally{}}}var Hr=pg(!0),gg=pg(!1),Os=!1;function Af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Pu(e),Wp(e,null,a),i}return Uu(e,l,i,a),Pu(e)}function tl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Io(e,a)}}function wf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Rf=!1;function el(){if(Rf){var e=Oa;if(e!==null)throw e}}function nl(e,i,a,l){Rf=!1;var h=e.updateQueue;Os=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,_===null?d=z:_.next=z,_=C;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=C))}if(d!==null){var Y=h.baseState;_=0,K=z=C=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Vt&H)===H:(l&H)===H){H!==0&&H===Da&&(Rf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,yt=T;H=i;var ee=a;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){Y=lt.call(ee,Y,H);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,H=typeof lt=="function"?lt.call(ee,Y,H):lt,H==null)break t;Y=A({},Y,H);break t;case 2:Os=!0}}H=T.callback,H!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=F,C=Y):K=K.next=F,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Ps|=_,e.lanes=_,e.memoizedState=Y}}function yg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function _g(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)yg(a[e],i)}var Va=O(null),Yu=O(0);function vg(e,i){e=rs,et(Yu,e),et(Va,i),rs=e|i.baseLanes}function If(){et(Yu,rs),et(Va,Va.current)}function Cf(){rs=Yu.current,G(Va),G(Yu)}var Tn=O(null),zn=null;function Vs(e){var i=e.alternate;et(pe,pe.current&1),et(Tn,e),zn===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(zn=e)}function Nf(e){et(pe,pe.current),et(Tn,e),zn===null&&(zn=e)}function Eg(e){e.tag===22?(et(pe,pe.current),et(Tn,e),zn===null&&(zn=e)):ks()}function ks(){et(pe,pe.current),et(Tn,Tn.current)}function Sn(e){G(Tn),zn===e&&(zn=null),G(pe)}var pe=O(0);function Xu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Ld(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zi=0,Ct=null,Wt=null,be=null,$u=!1,ka=!1,qr=!1,Zu=0,il=0,La=null,nA=0;function he(){throw Error(r(321))}function Df(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!vn(e[a],i[a]))return!1;return!0}function Of(e,i,a,l,h,d){return Zi=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=e===null||e.memoizedState===null?iy:Kf,qr=!1,d=a(l,h),qr=!1,ka&&(d=Sg(i,a,l,h)),Tg(e),d}function Tg(e){B.H=al;var i=Wt!==null&&Wt.next!==null;if(Zi=0,be=Wt=Ct=null,$u=!1,il=0,La=null,i)throw Error(r(300));e===null||we||(e=e.dependencies,e!==null&&Bu(e)&&(we=!0))}function Sg(e,i,a,l){Ct=e;var h=0;do{if(ka&&(La=null),il=0,ka=!1,25<=h)throw Error(r(301));if(h+=1,be=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=sy,d=i(a,l)}while(ka);return d}function iA(){var e=B.H,i=e.useState()[0];return i=typeof i.then=="function"?sl(i):i,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Ct.flags|=1024),i}function xf(){var e=Zu!==0;return Zu=0,e}function Mf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Vf(e){if($u){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}$u=!1}Zi=0,be=Wt=Ct=null,ka=!1,il=Zu=0,La=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Ct.memoizedState=be=e:be=be.next=e,be}function ge(){if(Wt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var i=be===null?Ct.memoizedState:be.next;if(i!==null)be=i,Wt=e;else{if(e===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},be===null?Ct.memoizedState=be=e:be=be.next=e}return be}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(e){var i=il;return il+=1,La===null&&(La=[]),e=fg(La,e,i),i=Ct,(be===null?i.memoizedState:be.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?iy:Kf),e}function Wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sl(e);if(e.$$typeof===ut)return Fe(e)}throw Error(r(438,String(e)))}function kf(e){var i=null,a=Ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ju(),Ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Ji(e,i){return typeof i=="function"?i(e):i}function tc(e){var i=ge();return Lf(i,Wt,e)}function Lf(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,C=null,z=i,K=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Vt&Y)===Y:(Zi&Y)===Y){var H=z.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Da&&(K=!0);else if((Zi&H)===H){z=z.next,H===Da&&(K=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=Y,_=d):C=C.next=Y,Ct.lanes|=H,Ps|=H;Y=z.action,qr&&a(d,Y),d=z.hasEagerState?z.eagerState:a(d,Y)}else H={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=H,_=d):C=C.next=H,Ct.lanes|=Y,Ps|=Y;z=z.next}while(z!==null&&z!==i);if(C===null?_=d:C.next=T,!vn(d,e.memoizedState)&&(we=!0,K&&(a=Oa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Uf(e){var i=ge(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);vn(d,i.memoizedState)||(we=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ag(e,i,a){var l=Ct,h=ge(),d=zt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!vn((Wt||h).memoizedState,a);if(_&&(h.memoizedState=a,we=!0),h=h.queue,jf(Rg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},wg.bind(null,l,h,a,i),null),ne===null)throw Error(r(349));d||(Zi&127)!==0||bg(l,i,a)}return a}function bg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ct.updateQueue,i===null?(i=Ju(),Ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function wg(e,i,a,l){i.value=a,i.getSnapshot=l,Ig(i)&&Cg(e)}function Rg(e,i,a){return a(function(){Ig(i)&&Cg(e)})}function Ig(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!vn(e,a)}catch{return!0}}function Cg(e){var i=Vr(e,2);i!==null&&dn(i,e,2)}function Pf(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),qr){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},i}function Ng(e,i,a,l){return e.baseState=a,Lf(e,Wt,typeof l=="function"?l:Ji)}function sA(e,i,a,l,h){if(ic(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};B.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Dg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Dg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=B.T,_={};B.T=_;try{var T=a(h,l),C=B.S;C!==null&&C(_,T),Og(e,i,T)}catch(z){zf(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),B.T=d}}else try{d=a(h,l),Og(e,i,d)}catch(z){zf(e,i,z)}}function Og(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xg(e,i,l)},function(l){return zf(e,i,l)}):xg(e,i,a)}function xg(e,i,a){i.status="fulfilled",i.value=a,Mg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Dg(e,a)))}function zf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Mg(i),i=i.next;while(i!==l)}e.action=null}function Mg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Vg(e,i){return i}function kg(e,i){if(zt){var a=ne.formState;if(a!==null){t:{var l=Ct;if(zt){if(se){e:{for(var h=se,d=Pn;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){se=jn(h.nextSibling),l=h.data==="F!";break t}}Ns(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:i},a.queue=l,a=ty.bind(null,Ct,l),l.dispatch=a,l=Pf(!1),d=Gf.bind(null,Ct,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=sA.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Lg(e){var i=ge();return Ug(i,Wt,e)}function Ug(e,i,a){if(i=Lf(e,i,Vg)[0],e=tc(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=sl(i)}catch(_){throw _===xa?Fu:_}else l=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ct.flags|=2048,Ua(9,{destroy:void 0},rA.bind(null,h,a),null)),[l,d,e]}function rA(e,i){e.action=i}function Pg(e){var i=ge(),a=Wt;if(a!==null)return Ug(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ua(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=Ju(),Ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function zg(){return ge().memoizedState}function ec(e,i,a,l){var h=sn();Ct.flags|=e,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function nc(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Wt!==null&&l!==null&&Df(l,Wt.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(Ct.flags|=e,h.memoizedState=Ua(1|i,d,a,l))}function jg(e,i){ec(8390656,8,e,i)}function jf(e,i){nc(2048,8,e,i)}function aA(e){Ct.flags|=4;var i=Ct.updateQueue;if(i===null)i=Ju(),Ct.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Bg(e){var i=ge().memoizedState;return aA({ref:i,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Hg(e,i){return nc(4,2,e,i)}function qg(e,i){return nc(4,4,e,i)}function Fg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Gg(e,i,a){a=a!=null?a.concat([e]):null,nc(4,4,Fg.bind(null,i,e),a)}function Bf(){}function Kg(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Df(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Qg(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Df(i,l[1]))return l[0];if(l=e(),qr){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function Hf(e,i,a){return a===void 0||(Zi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Yy(),Ct.lanes|=e,Ps|=e,a)}function Yg(e,i,a,l){return vn(a,i)?a:Va.current!==null?(e=Hf(e,a,l),vn(e,i)||(we=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(Vt&261930)===0?(we=!0,e.memoizedState=a):(e=Yy(),Ct.lanes|=e,Ps|=e,i)}function Xg(e,i,a,l,h){var d=W.p;W.p=d!==0&&8>d?d:8;var _=B.T,T={};B.T=T,Gf(e,!1,i,a);try{var C=h(),z=B.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=eA(C,l);rl(e,i,K,wn(e))}else rl(e,i,l,wn(e))}catch(Y){rl(e,i,{then:function(){},status:"rejected",reason:Y},wn())}finally{W.p=d,_!==null&&T.types!==null&&(_.types=T.types),B.T=_}}function oA(){}function qf(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=$g(e).queue;Xg(e,h,i,rt,a===null?oA:function(){return Zg(e),a(l)})}function $g(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:rt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Zg(e){var i=$g(e);i.next===null&&(i=e.alternate.memoizedState),rl(e,i.next.queue,{},wn())}function Ff(){return Fe(Sl)}function Jg(){return ge().memoizedState}function Wg(){return ge().memoizedState}function lA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();e=xs(a);var l=Ms(i,e,a);l!==null&&(dn(l,i,a),tl(l,i,a)),i={cache:vf()},e.payload=i;return}i=i.return}}function uA(e,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(e)?ey(i,a):(a=lf(e,i,a,l),a!==null&&(dn(a,e,l),ny(a,i,l)))}function ty(e,i,a){var l=wn();rl(e,i,a,l)}function rl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(e))ey(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,vn(T,_))return Uu(e,i,h,0),ne===null&&Lu(),!1}catch{}finally{}if(a=lf(e,i,h,l),a!==null)return dn(a,e,l),ny(a,i,l),!0}return!1}function Gf(e,i,a,l){if(l={lane:2,revertLane:Ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ic(e)){if(i)throw Error(r(479))}else i=lf(e,a,l,2),i!==null&&dn(i,e,2)}function ic(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function ey(e,i){ka=$u=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ny(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Io(e,a)}}var al={readContext:Fe,use:Wu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};al.useEffectEvent=he;var iy={readContext:Fe,use:Wu,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:jg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ec(4194308,4,Fg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ec(4194308,4,e,i)},useInsertionEffect:function(e,i){ec(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(qr){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(qr){Nn(!0);try{a(i)}finally{Nn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=uA.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Pf(e);var i=e.queue,a=ty.bind(null,Ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(e,i){var a=sn();return Hf(a,e,i)},useTransition:function(){var e=Pf(!1);return e=Xg.bind(null,Ct,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ct,h=sn();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ne===null)throw Error(r(349));(Vt&127)!==0||bg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,jg(Rg.bind(null,l,d,e),[e]),l.flags|=2048,Ua(9,{destroy:void 0},wg.bind(null,l,d,a,i),null),a},useId:function(){var e=sn(),i=ne.identifierPrefix;if(zt){var a=wi,l=bi;a=(l&~(1<<32-de(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Zu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=nA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Ff,useFormState:kg,useActionState:kg,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gf.bind(null,Ct,!0,a),a.dispatch=i,[e,i]},useMemoCache:kf,useCacheRefresh:function(){return sn().memoizedState=lA.bind(null,Ct)},useEffectEvent:function(e){var i=sn(),a={impl:e};return i.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:Fe,use:Wu,useCallback:Kg,useContext:Fe,useEffect:jf,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Qg,useReducer:tc,useRef:zg,useState:function(){return tc(Ji)},useDebugValue:Bf,useDeferredValue:function(e,i){var a=ge();return Yg(a,Wt.memoizedState,e,i)},useTransition:function(){var e=tc(Ji)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:sl(e),i]},useSyncExternalStore:Ag,useId:Jg,useHostTransitionStatus:Ff,useFormState:Lg,useActionState:Lg,useOptimistic:function(e,i){var a=ge();return Ng(a,Wt,e,i)},useMemoCache:kf,useCacheRefresh:Wg};Kf.useEffectEvent=Bg;var sy={readContext:Fe,use:Wu,useCallback:Kg,useContext:Fe,useEffect:jf,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Qg,useReducer:Uf,useRef:zg,useState:function(){return Uf(Ji)},useDebugValue:Bf,useDeferredValue:function(e,i){var a=ge();return Wt===null?Hf(a,e,i):Yg(a,Wt.memoizedState,e,i)},useTransition:function(){var e=Uf(Ji)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:sl(e),i]},useSyncExternalStore:Ag,useId:Jg,useHostTransitionStatus:Ff,useFormState:Pg,useActionState:Pg,useOptimistic:function(e,i){var a=ge();return Wt!==null?Ng(a,Wt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:Wg};sy.useEffectEvent=Bg;function Qf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=wn(),h=xs(l);h.payload=i,a!=null&&(h.callback=a),i=Ms(e,h,l),i!==null&&(dn(i,e,l),tl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=wn(),h=xs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ms(e,h,l),i!==null&&(dn(i,e,l),tl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=wn(),l=xs(a);l.tag=2,i!=null&&(l.callback=i),i=Ms(e,l,a),i!==null&&(dn(i,e,a),tl(i,e,a))}};function ry(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Ko(a,l)||!Ko(h,d):!0}function ay(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Yf.enqueueReplaceState(i,i.state,null)}function Fr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function oy(e){ku(e)}function ly(e){console.error(e)}function uy(e){ku(e)}function sc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function cy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(e,i,a){return a=xs(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(e,i)},a}function hy(e){return e=xs(e),e.tag=3,e}function fy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){cy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){cy(i,a,l),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function cA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?gc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ed(e,l,h)),!1;case 22:return a.flags|=65536,l===Gu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ed(e,l,h)),!1}throw Error(r(435,a.tag))}return Ed(e,l,h),gc(),!1}if(zt)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==mf&&(e=Error(r(422),{cause:l}),Xo(kn(e,a)))):(l!==mf&&(i=Error(r(423),{cause:l}),Xo(kn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=kn(l,a),h=Xf(e.stateNode,l,h),wf(e,h),fe!==4&&(fe=2)),!1;var d=Error(r(520),{cause:l});if(d=kn(d,a),ml===null?ml=[d]:ml.push(d),fe!==4&&(fe=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Xf(a.stateNode,l,e),wf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zs===null||!zs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=hy(h),fy(h,e,a,l),wf(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(r(461)),we=!1;function Ge(e,i,a,l){i.child=e===null?gg(i,null,a,l):Hr(i,e.child,a,l)}function dy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Pr(i),l=Of(e,i,a,_,d,h),T=xf(),e!==null&&!we?(Mf(e,i,h),Wi(e,i,h)):(zt&&T&&ff(i),i.flags|=1,Ge(e,i,l,h),i.child)}function my(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!uf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,py(e,i,d,l,h)):(e=zu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!sd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(_,l)&&e.ref===i.ref)return Wi(e,i,h)}return i.flags|=1,e=Qi(d,l),e.ref=i.ref,e.return=i,i.child=e}function py(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Ko(d,l)&&e.ref===i.ref)if(we=!1,i.pendingProps=l=d,sd(e,h))(e.flags&131072)!==0&&(we=!0);else return i.lanes=e.lanes,Wi(e,i,h)}return Zf(e,i,a,l,h)}function gy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return yy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&qu(i,d!==null?d.cachePool:null),d!==null?vg(i,d):If(),Eg(i);else return l=i.lanes=536870912,yy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(qu(i,d.cachePool),vg(i,d),ks(),i.memoizedState=null):(e!==null&&qu(i,null),If(),ks());return Ge(e,i,h,a),i.child}function ol(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function yy(e,i,a,l,h){var d=Tf();return d=d===null?null:{parent:Ae._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&qu(i,null),If(),Eg(i),e!==null&&Na(e,i,l,!0),i.childLanes=h,null}function rc(e,i){return i=oc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function _y(e,i,a){return Hr(i,e.child,null,a),e=rc(i,i.pendingProps),e.flags|=2,Sn(i),i.memoizedState=null,e}function hA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=rc(i,l),i.lanes=536870912,ol(null,e);if(Nf(i),(e=se)?(e=D_(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Is!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=eg(e),a.return=i,i.child=a,qe=i,se=null)):e=null,e===null)throw Ns(i);return i.lanes=536870912,null}return rc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Nf(i),h)if(i.flags&256)i.flags&=-257,i=_y(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(we||Na(e,i,a,!1),h=(a&e.childLanes)!==0,we||h){if(l=ne,l!==null&&(_=Co(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Vr(e,_),dn(l,e,_),$f;gc(),i=_y(e,i,a)}else e=d.treeContext,se=jn(_.nextSibling),qe=i,zt=!0,Cs=null,Pn=!1,e!==null&&sg(i,e),i=rc(i,l),i.flags|=4096;return i}return e=Qi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ac(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Zf(e,i,a,l,h){return Pr(i),a=Of(e,i,a,l,void 0,h),l=xf(),e!==null&&!we?(Mf(e,i,h),Wi(e,i,h)):(zt&&l&&ff(i),i.flags|=1,Ge(e,i,a,h),i.child)}function vy(e,i,a,l,h,d){return Pr(i),i.updateQueue=null,a=Sg(i,l,a,h),Tg(e),l=xf(),e!==null&&!we?(Mf(e,i,d),Wi(e,i,d)):(zt&&l&&ff(i),i.flags|=1,Ge(e,i,a,d),i.child)}function Ey(e,i,a,l,h){if(Pr(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Fe(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Af(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Fe(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Yf.enqueueReplaceState(d,d.state,null),nl(i,l,d,h),el(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,C=Fr(a,T);d.props=C;var z=d.context,K=a.contextType;_=wa,typeof K=="object"&&K!==null&&(_=Fe(K));var Y=a.getDerivedStateFromProps;K=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&ay(i,d,l,_),Os=!1;var H=i.memoizedState;d.state=H,nl(i,l,d,h),el(),z=i.memoizedState,T||H!==z||Os?(typeof Y=="function"&&(Qf(i,a,Y,l),z=i.memoizedState),(C=Os||ry(i,a,C,l,H,z,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,bf(e,i),_=i.memoizedProps,K=Fr(a,_),d.props=K,Y=i.pendingProps,H=d.context,z=a.contextType,C=wa,typeof z=="object"&&z!==null&&(C=Fe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Y||H!==C)&&ay(i,d,l,C),Os=!1,H=i.memoizedState,d.state=H,nl(i,l,d,h),el();var F=i.memoizedState;_!==Y||H!==F||Os||e!==null&&e.dependencies!==null&&Bu(e.dependencies)?(typeof T=="function"&&(Qf(i,a,T,l),F=i.memoizedState),(K=Os||ry(i,a,K,l,H,F,C)||e!==null&&e.dependencies!==null&&Bu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,ac(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Hr(i,e.child,null,h),i.child=Hr(i,null,a,h)):Ge(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Wi(e,i,h),e}function Ty(e,i,a,l){return Lr(),i.flags|=256,Ge(e,i,a,l),i.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(e){return{baseLanes:e,cachePool:cg()}}function td(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=bn),e}function Sy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?Vs(i):ks(),(e=se)?(e=D_(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Is!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=eg(e),a.return=i,i.child=a,qe=i,se=null)):e=null,e===null)throw Ns(i);return Ld(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(ks(),h=i.mode,T=oc({mode:"hidden",children:T},h),l=kr(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Wf(a),l.childLanes=td(e,_,a),i.memoizedState=Jf,ol(null,l)):(Vs(i),ed(i,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Vs(i),i.flags&=-257,i=nd(e,i,a)):i.memoizedState!==null?(ks(),i.child=e.child,i.flags|=128,i=null):(ks(),T=l.fallback,h=i.mode,l=oc({mode:"visible",children:l.children},h),T=kr(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Hr(i,e.child,null,a),l=i.child,l.memoizedState=Wf(a),l.childLanes=td(e,_,a),i.memoizedState=Jf,i=ol(null,l));else if(Vs(i),Ld(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,Xo({value:l,source:null,stack:null}),i=nd(e,i,a)}else if(we||Na(e,i,a,!1),_=(a&e.childLanes)!==0,we||_){if(_=ne,_!==null&&(l=Co(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Vr(e,l),dn(_,e,l),$f;kd(T)||gc(),i=nd(e,i,a)}else kd(T)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,se=jn(T.nextSibling),qe=i,zt=!0,Cs=null,Pn=!1,e!==null&&sg(i,e),i=ed(i,l.children),i.flags|=4096);return i}return h?(ks(),T=l.fallback,h=i.mode,C=e.child,z=C.sibling,l=Qi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=Qi(z,T):(T=kr(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ol(null,l),l=i.child,T=e.child.memoizedState,T===null?T=Wf(a):(h=T.cachePool,h!==null?(C=Ae._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=cg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=td(e,_,a),i.memoizedState=Jf,ol(e.child,l)):(Vs(i),a=e.child,e=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function ed(e,i){return i=oc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function oc(e,i){return e=En(22,e,null,i),e.lanes=0,e}function nd(e,i,a){return Hr(i,e.child,null,a),e=ed(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ay(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),yf(e.return,i,a)}function id(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function by(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pe.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,et(pe,_),Ge(e,i,l,a),l=zt?Yo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ay(e,a,i);else if(e.tag===19)Ay(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Xu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),id(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Xu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}id(i,!0,a,null,d,l);break;case"together":id(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ps|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Na(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Qi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Qi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function sd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Bu(e)))}function fA(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),Ds(i,Ae,e.memoizedState.cache),Lr();break;case 27:case 5:Cn(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:Ds(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Nf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Sy(e,i,a):(Vs(i),e=Wi(e,i,a),e!==null?e.sibling:null);Vs(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Na(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return by(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(pe,pe.current),l)break;return null;case 22:return i.lanes=0,gy(e,i,a,i.pendingProps);case 24:Ds(i,Ae,e.memoizedState.cache)}return Wi(e,i,a)}function wy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)we=!0;else{if(!sd(e,a)&&(i.flags&128)===0)return we=!1,fA(e,i,a);we=(e.flags&131072)!==0}else we=!1,zt&&(i.flags&1048576)!==0&&ig(i,Yo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=jr(i.elementType),i.type=e,typeof e=="function")uf(e)?(l=Fr(e,l),i.tag=1,i=Ey(null,i,e,l,a)):(i.tag=0,i=Zf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===St){i.tag=11,i=dy(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=my(null,i,e,l,a);break t}}throw i=ie(e)||e,Error(r(306,i,""))}}return i;case 0:return Zf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Fr(l,i.pendingProps),Ey(e,i,l,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,bf(e,i),nl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ds(i,Ae,l),l!==d.cache&&_f(i,[Ae],a,!0),el(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ty(e,i,l,a);break t}else if(l!==h){h=kn(Error(r(424)),i),Xo(h),i=Ty(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(se=jn(e.firstChild),qe=i,zt=!0,Cs=null,Pn=!0,a=gg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Lr(),l===h){i=Wi(e,i,a);break t}Ge(e,i,l,a)}i=i.child}return i;case 26:return ac(e,i),e===null?(a=L_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=Ac(gt.current).createElement(a),l[Ee]=i,l[ke]=e,Ke(l,a,e),Te(l),i.stateNode=l):i.memoizedState=L_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Cn(i),e===null&&zt&&(l=i.stateNode=M_(i.type,i.pendingProps,gt.current),qe=i,Pn=!0,h=se,qs(i.type)?(Ud=h,se=jn(l.firstChild)):se=h),Ge(e,i,i.pendingProps.children,a),ac(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=l=se)&&(l=HA(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,qe=i,se=jn(l.firstChild),Pn=!1,h=!0):h=!1),h||Ns(i)),Cn(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,xd(h,d)?l=null:_!==null&&xd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Of(e,i,iA,null,null,a),Sl._currentValue=h),ac(e,i),Ge(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=se)&&(a=qA(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,qe=i,se=null,e=!0):e=!1),e||Ns(i)),null;case 13:return Sy(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Hr(i,null,l,a):Ge(e,i,l,a),i.child;case 11:return dy(e,i,i.type,i.pendingProps,a);case 7:return Ge(e,i,i.pendingProps,a),i.child;case 8:return Ge(e,i,i.pendingProps.children,a),i.child;case 12:return Ge(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ds(i,i.type,l.value),Ge(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Pr(i),h=Fe(h),l=l(h),i.flags|=1,Ge(e,i,l,a),i.child;case 14:return my(e,i,i.type,i.pendingProps,a);case 15:return py(e,i,i.type,i.pendingProps,a);case 19:return by(e,i,a);case 31:return hA(e,i,a);case 22:return gy(e,i,a,i.pendingProps);case 24:return Pr(i),l=Fe(Ae),e===null?(h=Tf(),h===null&&(h=ne,d=vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Af(i),Ds(i,Ae,h)):((e.lanes&a)!==0&&(bf(e,i),nl(i,null,null,a),el()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ds(i,Ae,l)):(l=d.cache,Ds(i,Ae,l),l!==h.cache&&_f(i,[Ae],a,!0))),Ge(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ts(e){e.flags|=4}function rd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Jy())e.flags|=8192;else throw Br=Gu,Sf}else e.flags&=-16777217}function Ry(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!B_(i))if(Jy())e.flags|=8192;else throw Br=Gu,Sf}function lc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?mu():536870912,e.lanes|=i,Ba|=i)}function ll(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function dA(e,i,a){var l=i.pendingProps;switch(df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(Ae),Qt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ca(i)?ts(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pf())),re(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(ts(i),d!==null?(re(i),Ry(i,d)):(re(i),rd(i,h,null,l,a))):d?d!==e.memoizedState?(ts(i),re(i),Ry(i,d)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&ts(i),re(i),rd(i,h,e,l,a)),null;case 27:if(Fn(i),a=gt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ts(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return re(i),null}e=it.current,Ca(i)?rg(i):(e=M_(h,l,a),i.stateNode=e,ts(i))}return re(i),null;case 5:if(Fn(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ts(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return re(i),null}if(d=it.current,Ca(i))rg(i);else{var _=Ac(gt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ee]=i,d[ke]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ke(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ts(i)}}return re(i),rd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ts(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=gt.current,Ca(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||S_(e.nodeValue,a)),e||Ns(i,!0)}else e=Ac(e).createTextNode(l),e[Ee]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ca(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ee]=i}else Lr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ca(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ee]=i}else Lr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),lc(i,i.updateQueue),re(i),null);case 4:return Qt(),e===null&&Id(i.stateNode.containerInfo),re(i),null;case 10:return $i(i.type),re(i),null;case 19:if(G(pe),l=i.memoizedState,l===null)return re(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ll(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Xu(e),d!==null){for(i.flags|=128,ll(l,!1),e=d.updateQueue,i.updateQueue=e,lc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)tg(a,e),a=a.sibling;return et(pe,pe.current&1|2),zt&&Yi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&en()>dc&&(i.flags|=128,h=!0,ll(l,!1),i.lanes=4194304)}else{if(!h)if(e=Xu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,lc(i,e),ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return re(i),null}else 2*en()-l.renderingStartTime>dc&&a!==536870912&&(i.flags|=128,h=!0,ll(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=en(),e.sibling=null,a=pe.current,et(pe,h?a&1|2:a&1),zt&&Yi(i,l.treeForkCount),e):(re(i),null);case 22:case 23:return Sn(i),Cf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&lc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&G(zr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(Ae),re(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function mA(e,i){switch(df(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return $i(Ae),Qt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Fn(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(r(340));Lr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Sn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Lr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return G(pe),null;case 4:return Qt(),null;case 10:return $i(i.type),null;case 22:case 23:return Sn(i),Cf(),e!==null&&G(zr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return $i(Ae),null;case 25:return null;default:return null}}function Iy(e,i){switch(df(i),i.tag){case 3:$i(Ae),Qt();break;case 26:case 27:case 5:Fn(i);break;case 4:Qt();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:G(pe);break;case 10:$i(i.type);break;case 22:case 23:Sn(i),Cf(),e!==null&&G(zr);break;case 24:$i(Ae)}}function ul(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function Ls(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,z=T;try{z()}catch(K){$t(h,C,K)}}}l=l.next}while(l!==d)}}catch(K){$t(i,i.return,K)}}function Cy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{_g(i,a)}catch(l){$t(e,e.return,l)}}}function Ny(e,i,a){a.props=Fr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function cl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function Ri(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Dy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function ad(e,i,a){try{var l=e.stateNode;LA(l,e.type,a,i),l[ke]=i}catch(h){$t(e,e.return,h)}}function Oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qs(e.type)||e.tag===4}function od(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ld(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xn));else if(l!==4&&(l===27&&qs(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ld(e,i,a),e=e.sibling;e!==null;)ld(e,i,a),e=e.sibling}function uc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&qs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(uc(e,i,a),e=e.sibling;e!==null;)uc(e,i,a),e=e.sibling}function xy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ke(i,l,a),i[Ee]=e,i[ke]=a}catch(d){$t(e,e.return,d)}}var es=!1,Re=!1,ud=!1,My=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function pA(e,i){if(e=e.containerInfo,Dd=Dc,e=Gp(e),ef(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,C=-1,z=0,K=0,Y=e,H=null;e:for(;;){for(var F;Y!==a||h!==0&&Y.nodeType!==3||(T=_+h),Y!==d||l!==0&&Y.nodeType!==3||(C=_+l),Y.nodeType===3&&(_+=Y.nodeValue.length),(F=Y.firstChild)!==null;)H=Y,Y=F;for(;;){if(Y===e)break e;if(H===a&&++z===h&&(T=_),H===d&&++K===l&&(C=_),(F=Y.nextSibling)!==null)break;Y=H,H=Y.parentNode}Y=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:e,selectionRange:a},Dc=!1,Ue=i;Ue!==null;)if(i=Ue,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ue=e;else for(;Ue!==null;){switch(i=Ue,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var lt=Fr(a.type,h);e=l.getSnapshotBeforeUpdate(lt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){$t(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Ue=e;break}Ue=i.return}}function Vy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:is(e,a),l&4&&ul(5,a);break;case 1:if(is(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){$t(a,a.return,_)}else{var h=Fr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}l&64&&Cy(a),l&512&&cl(a,a.return);break;case 3:if(is(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{_g(e,i)}catch(_){$t(a,a.return,_)}}break;case 27:i===null&&l&4&&xy(a);case 26:case 5:is(e,a),i===null&&l&4&&Dy(a),l&512&&cl(a,a.return);break;case 12:is(e,a);break;case 31:is(e,a),l&4&&Uy(e,a);break;case 13:is(e,a),l&4&&Py(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=bA.bind(null,a),FA(e,a))));break;case 22:if(l=a.memoizedState!==null||es,!l){i=i!==null&&i.memoizedState!==null||Re,h=es;var d=Re;es=l,(Re=i)&&!d?ss(e,a,(a.subtreeFlags&8772)!==0):is(e,a),es=h,Re=d}break;case 30:break;default:is(e,a)}}function ky(e){var i=e.alternate;i!==null&&(e.alternate=null,ky(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ha(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,un=!1;function ns(e,i,a){for(a=a.child;a!==null;)Ly(e,i,a),a=a.sibling}function Ly(e,i,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Re||Ri(a,i),ns(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ri(a,i);var l=ue,h=un;qs(a.type)&&(ue=a.stateNode,un=!1),ns(e,i,a),vl(a.stateNode),ue=l,un=h;break;case 5:Re||Ri(a,i);case 6:if(l=ue,h=un,ue=null,ns(e,i,a),ue=l,un=h,ue!==null)if(un)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ue.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ue!==null&&(un?(e=ue,C_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Xa(e)):C_(ue,a.stateNode));break;case 4:l=ue,h=un,ue=a.stateNode.containerInfo,un=!0,ns(e,i,a),ue=l,un=h;break;case 0:case 11:case 14:case 15:Ls(2,a,i),Re||Ls(4,a,i),ns(e,i,a);break;case 1:Re||(Ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ny(a,i,l)),ns(e,i,a);break;case 21:ns(e,i,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,ns(e,i,a),Re=l;break;default:ns(e,i,a)}}function Uy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(a){$t(i,i.return,a)}}}function Py(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(a){$t(i,i.return,a)}}function gA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new My),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new My),i;default:throw Error(r(435,e.tag))}}function cc(e,i){var a=gA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=wA.bind(null,e,l);l.then(h,h)}})}function cn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(qs(T.type)){ue=T.stateNode,un=!1;break t}break;case 5:ue=T.stateNode,un=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,un=!0;break t}T=T.return}if(ue===null)throw Error(r(160));Ly(d,_,h),ue=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)zy(i,e),i=i.sibling}var ei=null;function zy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(i,e),hn(e),l&4&&(Ls(3,e,e.return),ul(3,e),Ls(5,e,e.return));break;case 1:cn(i,e),hn(e),l&512&&(Re||a===null||Ri(a,a.return)),l&64&&es&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ei;if(cn(i,e),hn(e),l&512&&(Re||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fi]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ke(d,l,a),d[Ee]=e,Te(d),l=d;break t;case"link":var _=z_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Ke(d,l,a),h.head.appendChild(d);break;case"meta":if(_=z_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Ke(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ee]=e,Te(d),l=d}e.stateNode=l}else j_(h,e.type,e.stateNode);else e.stateNode=P_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?j_(h,e.type,e.stateNode):P_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ad(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(i,e),hn(e),l&512&&(Re||a===null||Ri(a,a.return)),a!==null&&l&4&&ad(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,e),hn(e),l&512&&(Re||a===null||Ri(a,a.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(lt){$t(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,ad(e,h,a!==null?a.memoizedProps:h)),l&1024&&(ud=!0);break;case 6:if(cn(i,e),hn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(lt){$t(e,e.return,lt)}}break;case 3:if(Rc=null,h=ei,ei=bc(i.containerInfo),cn(i,e),ei=h,hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(lt){$t(e,e.return,lt)}ud&&(ud=!1,jy(e));break;case 4:l=ei,ei=bc(e.stateNode.containerInfo),cn(i,e),hn(e),ei=l;break;case 12:cn(i,e),hn(e);break;case 31:cn(i,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cc(e,l)));break;case 13:cn(i,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cc(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=es,K=Re;if(es=z||h,Re=K||C,cn(i,e),Re=K,es=z,hn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||es||Re||Gr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,H=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(lt){$t(C,C.return,lt)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){$t(C,C.return,lt)}}}else if(i.tag===18){if(a===null){C=i;try{var F=C.stateNode;h?N_(F,!0):N_(C.stateNode,!1)}catch(lt){$t(C,C.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cc(e,a))));break;case 19:cn(i,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,cc(e,l)));break;case 30:break;case 21:break;default:cn(i,e),hn(e)}}function hn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Oy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=od(e);uc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var T=od(e);uc(e,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=od(e);ld(e,z,C);break;default:throw Error(r(161))}}catch(K){$t(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function jy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;jy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function is(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Vy(e,i.alternate,i),i=i.sibling}function Gr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ls(4,i,i.return),Gr(i);break;case 1:Ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ny(i,i.return,a),Gr(i);break;case 27:vl(i.stateNode);case 26:case 5:Ri(i,i.return),Gr(i);break;case 22:i.memoizedState===null&&Gr(i);break;case 30:Gr(i);break;default:Gr(i)}e=e.sibling}}function ss(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ss(h,d,a),ul(4,d);break;case 1:if(ss(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)yg(C[h],T)}catch(z){$t(l,l.return,z)}}a&&_&64&&Cy(d),cl(d,d.return);break;case 27:xy(d);case 26:case 5:ss(h,d,a),a&&l===null&&_&4&&Dy(d),cl(d,d.return);break;case 12:ss(h,d,a);break;case 31:ss(h,d,a),a&&_&4&&Uy(h,d);break;case 13:ss(h,d,a),a&&_&4&&Py(h,d);break;case 22:d.memoizedState===null&&ss(h,d,a),cl(d,d.return);break;case 30:break;default:ss(h,d,a)}i=i.sibling}}function cd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&$o(a))}function hd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$o(e))}function ni(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)By(e,i,a,l),i=i.sibling}function By(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(e,i,a,l),h&2048&&ul(9,i);break;case 1:ni(e,i,a,l);break;case 3:ni(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$o(e)));break;case 12:if(h&2048){ni(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(i,i.return,C)}}else ni(e,i,a,l);break;case 31:ni(e,i,a,l);break;case 13:ni(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ni(e,i,a,l):hl(e,i):d._visibility&2?ni(e,i,a,l):(d._visibility|=2,Pa(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&cd(_,i);break;case 24:ni(e,i,a,l),h&2048&&hd(i.alternate,i);break;default:ni(e,i,a,l)}}function Pa(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,C=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Pa(d,_,T,C,h),ul(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Pa(d,_,T,C,h):hl(d,_):(K._visibility|=2,Pa(d,_,T,C,h)),h&&z&2048&&cd(_.alternate,_);break;case 24:Pa(d,_,T,C,h),h&&z&2048&&hd(_.alternate,_);break;default:Pa(d,_,T,C,h)}i=i.sibling}}function hl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:hl(a,l),h&2048&&cd(l.alternate,l);break;case 24:hl(a,l),h&2048&&hd(l.alternate,l);break;default:hl(a,l)}i=i.sibling}}var fl=8192;function za(e,i,a){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)Hy(e,i,a),e=e.sibling}function Hy(e,i,a){switch(e.tag){case 26:za(e,i,a),e.flags&fl&&e.memoizedState!==null&&nb(a,ei,e.memoizedState,e.memoizedProps);break;case 5:za(e,i,a);break;case 3:case 4:var l=ei;ei=bc(e.stateNode.containerInfo),za(e,i,a),ei=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=fl,fl=16777216,za(e,i,a),fl=l):za(e,i,a));break;default:za(e,i,a)}}function qy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function dl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,Gy(l,e)}qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fy(e),e=e.sibling}function Fy(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,hc(e)):dl(e);break;default:dl(e)}}function hc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,Gy(l,e)}qy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ls(8,i,i.return),hc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,hc(i));break;default:hc(i)}e=e.sibling}}function Gy(e,i){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Ls(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=e;Ue!==null;){l=Ue;var h=l.sibling,d=l.return;if(ky(l),l===a){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var yA={getCacheForType:function(e){var i=Fe(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Fe(Ae).controller.signal}},_A=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,xt=null,Vt=0,Xt=0,An=null,Us=!1,ja=!1,fd=!1,rs=0,fe=0,Ps=0,Kr=0,dd=0,bn=0,Ba=0,ml=null,fn=null,md=!1,fc=0,Ky=0,dc=1/0,mc=null,zs=null,xe=0,js=null,Ha=null,as=0,pd=0,gd=null,Qy=null,pl=0,yd=null;function wn(){return(Gt&2)!==0&&Vt!==0?Vt&-Vt:B.T!==null?Ad():pu()}function Yy(){if(bn===0)if((Vt&536870912)===0||zt){var e=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),bn=e}else bn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),bn}function dn(e,i,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(qa(e,0),Bs(e,Vt,bn,!1)),Er(e,a),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(Kr|=a),fe===4&&Bs(e,Vt,bn,!1)),Ii(e))}function Xy(e,i,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Kn(e,i),h=l?TA(e,i):vd(e,i,!0),d=l;do{if(h===0){ja&&!l&&Bs(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!vA(a)){h=vd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=ml;var C=T.current.memoizedState.isDehydrated;if(C&&(qa(T,_).flags|=256),_=vd(T,_,!1),_!==2){if(fd&&!C){T.errorRecoveryDisabledLanes|=d,Kr|=d,h=4;break t}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){qa(e,0),Bs(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Bs(l,i,bn,!Us);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=fc+300-en(),10<h)){if(Bs(l,i,bn,!Us),ui(l,0,!0)!==0)break t;as=i,l.timeoutHandle=R_($y.bind(null,l,a,fn,mc,md,i,bn,Kr,Ba,Us,d,"Throttled",-0,0),h);break t}$y(l,a,fn,mc,md,i,bn,Kr,Ba,Us,d,null,-0,0)}}break}while(!0);Ii(e)}function $y(e,i,a,l,h,d,_,T,C,z,K,Y,H,F){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},Hy(i,d,Y);var lt=(d&62914560)===d?fc-en():(d&4194048)===d?Ky-en():0;if(lt=ib(Y,lt),lt!==null){as=d,e.cancelPendingCommit=lt(s_.bind(null,e,i,d,a,l,h,_,T,C,K,Y,null,H,F)),Bs(e,d,_,!z);return}}s_(e,i,d,a,l,h,_,T,C)}function vA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bs(e,i,a,l){i&=~dd,i&=~Kr,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-de(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Tr(e,a,i)}function pc(){return(Gt&6)===0?(gl(0),!1):!0}function _d(){if(xt!==null){if(Xt===0)var e=xt.return;else e=xt,Xi=Ur=null,Vf(e),Ma=null,Jo=0,e=xt;for(;e!==null;)Iy(e.alternate,e),e=e.return;xt=null}}function qa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),as=0,_d(),ne=e,xt=a=Qi(e.current,null),Vt=i,Xt=0,An=null,Us=!1,ja=Kn(e,i),fd=!1,Ba=bn=dd=Kr=Ps=fe=0,fn=ml=null,md=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-de(l),d=1<<h;i|=e[h],l&=~d}return rs=i,Lu(),a}function Zy(e,i){Ct=null,B.H=al,i===xa||i===Fu?(i=dg(),Xt=3):i===Sf?(i=dg(),Xt=4):Xt=i===$f?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,xt===null&&(fe=1,sc(e,kn(i,e.current)))}function Jy(){var e=Tn.current;return e===null?!0:(Vt&4194048)===Vt?zn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===zn:!1}function Wy(){var e=B.H;return B.H=al,e===null?al:e}function t_(){var e=B.A;return B.A=yA,e}function gc(){fe=4,Us||(Vt&4194048)!==Vt&&Tn.current!==null||(ja=!0),(Ps&134217727)===0&&(Kr&134217727)===0||ne===null||Bs(ne,Vt,bn,!1)}function vd(e,i,a){var l=Gt;Gt|=2;var h=Wy(),d=t_();(ne!==e||Vt!==i)&&(mc=null,qa(e,i)),i=!1;var _=fe;t:do try{if(Xt!==0&&xt!==null){var T=xt,C=An;switch(Xt){case 8:_d(),_=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var z=Xt;if(Xt=0,An=null,Fa(e,T,C,z),a&&ja){_=0;break t}break;default:z=Xt,Xt=0,An=null,Fa(e,T,C,z)}}EA(),_=fe;break}catch(K){Zy(e,K)}while(!0);return i&&e.shellSuspendCounter++,Xi=Ur=null,Gt=l,B.H=h,B.A=d,xt===null&&(ne=null,Vt=0,Lu()),_}function EA(){for(;xt!==null;)e_(xt)}function TA(e,i){var a=Gt;Gt|=2;var l=Wy(),h=t_();ne!==e||Vt!==i?(mc=null,dc=en()+500,qa(e,i)):ja=Kn(e,i);t:do try{if(Xt!==0&&xt!==null){i=xt;var d=An;e:switch(Xt){case 1:Xt=0,An=null,Fa(e,i,d,1);break;case 2:case 9:if(hg(d)){Xt=0,An=null,n_(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),Ii(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:hg(d)?(Xt=0,An=null,n_(i)):(Xt=0,An=null,Fa(e,i,d,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var T=xt;if(_?B_(_):T.stateNode.complete){Xt=0,An=null;var C=T.sibling;if(C!==null)xt=C;else{var z=T.return;z!==null?(xt=z,yc(z)):xt=null}break e}}Xt=0,An=null,Fa(e,i,d,5);break;case 6:Xt=0,An=null,Fa(e,i,d,6);break;case 8:_d(),fe=6;break t;default:throw Error(r(462))}}SA();break}catch(K){Zy(e,K)}while(!0);return Xi=Ur=null,B.H=l,B.A=h,Gt=a,xt!==null?0:(ne=null,Vt=0,Lu(),fe)}function SA(){for(;xt!==null&&!Yh();)e_(xt)}function e_(e){var i=wy(e.alternate,e,rs);e.memoizedProps=e.pendingProps,i===null?yc(e):xt=i}function n_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=vy(a,i,i.pendingProps,i.type,void 0,Vt);break;case 11:i=vy(a,i,i.pendingProps,i.type.render,i.ref,Vt);break;case 5:Vf(i);default:Iy(a,i),i=xt=tg(i,rs),i=wy(a,i,rs)}e.memoizedProps=e.pendingProps,i===null?yc(e):xt=i}function Fa(e,i,a,l){Xi=Ur=null,Vf(i),Ma=null,Jo=0;var h=i.return;try{if(cA(e,h,i,a,Vt)){fe=1,sc(e,kn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;fe=1,sc(e,kn(a,e.current)),xt=null;return}i.flags&32768?(zt||l===1?e=!0:ja||(Vt&536870912)!==0?e=!1:(Us=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),i_(i,e)):yc(i)}function yc(e){var i=e;do{if((i.flags&32768)!==0){i_(i,Us);return}e=i.return;var a=dA(i.alternate,i,rs);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);fe===0&&(fe=5)}function i_(e,i){do{var a=mA(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);fe=6,xt=null}function s_(e,i,a,l,h,d,_,T,C){e.cancelPendingCommit=null;do _c();while(xe!==0);if((Gt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=of,Zh(e,a,d,_,T,C),e===ne&&(xt=ne=null,Vt=0),Ha=i,js=e,as=a,pd=d,gd=h,Qy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,RA(ys,function(){return u_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=W.p,W.p=2,_=Gt,Gt|=4;try{pA(e,i,a)}finally{Gt=_,W.p=h,B.T=l}}xe=1,r_(),a_(),o_()}}function r_(){if(xe===1){xe=0;var e=js,i=Ha,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=W.p;W.p=2;var h=Gt;Gt|=4;try{zy(i,e);var d=Od,_=Gp(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Fp(T.ownerDocument.documentElement,T)){if(C!==null&&ef(T)){var z=C.start,K=C.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var Y=T.ownerDocument||document,H=Y&&Y.defaultView||window;if(H.getSelection){var F=H.getSelection(),lt=T.textContent.length,yt=Math.min(C.start,lt),ee=C.end===void 0?yt:Math.min(C.end,lt);!F.extend&&yt>ee&&(_=ee,ee=yt,yt=_);var k=qp(T,yt),x=qp(T,ee);if(k&&x&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==x.node||F.focusOffset!==x.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),yt>ee?(F.addRange(P),F.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),F.addRange(P))}}}}for(Y=[],F=T;F=F.parentNode;)F.nodeType===1&&Y.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Dc=!!Dd,Od=Dd=null}finally{Gt=h,W.p=l,B.T=a}}e.current=i,xe=2}}function a_(){if(xe===2){xe=0;var e=js,i=Ha,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=W.p;W.p=2;var h=Gt;Gt|=4;try{Vy(e,i.alternate,i)}finally{Gt=h,W.p=l,B.T=a}}xe=3}}function o_(){if(xe===4||xe===3){xe=0,lu();var e=js,i=Ha,a=as,l=Qy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,Ha=js=null,l_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(zs=null),qi(a),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=B.T,h=W.p,W.p=2,B.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{B.T=i,W.p=h}}(as&3)!==0&&_c(),Ii(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===yd?pl++:(pl=0,yd=e):pl=0,gl(0)}}function l_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,$o(i)))}function _c(){return r_(),a_(),o_(),u_()}function u_(){if(xe!==5)return!1;var e=js,i=pd;pd=0;var a=qi(as),l=B.T,h=W.p;try{W.p=32>a?32:a,B.T=null,a=gd,gd=null;var d=js,_=as;if(xe=0,Ha=js=null,as=0,(Gt&6)!==0)throw Error(r(331));var T=Gt;if(Gt|=4,Fy(d.current),By(d,d.current,_,a),Gt=T,gl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{W.p=h,B.T=l,l_(e,i)}}function c_(e,i,a){i=kn(a,i),i=Xf(e.stateNode,i,2),e=Ms(e,i,2),e!==null&&(Er(e,2),Ii(e))}function $t(e,i,a){if(e.tag===3)c_(e,e,a);else for(;i!==null;){if(i.tag===3){c_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zs===null||!zs.has(l))){e=kn(a,e),a=hy(2),l=Ms(i,a,2),l!==null&&(fy(a,l,i,e),Er(l,2),Ii(l));break}}i=i.return}}function Ed(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new _A;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(fd=!0,h.add(a),e=AA.bind(null,e,i,a),i.then(e,e))}function AA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Vt&a)===a&&(fe===4||fe===3&&(Vt&62914560)===Vt&&300>en()-fc?(Gt&2)===0&&qa(e,0):dd|=a,Ba===Vt&&(Ba=0)),Ii(e)}function h_(e,i){i===0&&(i=mu()),e=Vr(e,i),e!==null&&(Er(e,i),Ii(e))}function bA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),h_(e,a)}function wA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),h_(e,a)}function RA(e,i){return Oe(e,i)}var vc=null,Ga=null,Td=!1,Ec=!1,Sd=!1,Hs=0;function Ii(e){e!==Ga&&e.next===null&&(Ga===null?vc=Ga=e:Ga=Ga.next=e),Ec=!0,Td||(Td=!0,CA())}function gl(e,i){if(!Sd&&Ec){Sd=!0;do for(var a=!1,l=vc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-de(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,p_(l,d))}else d=Vt,d=ui(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,p_(l,d));l=l.next}while(a);Sd=!1}}function IA(){f_()}function f_(){Ec=Td=!1;var e=0;Hs!==0&&PA()&&(e=Hs);for(var i=en(),a=null,l=vc;l!==null;){var h=l.next,d=d_(l,i);d===0?(l.next=null,a===null?vc=h:a.next=h,h===null&&(Ga=a)):(a=l,(e!==0||(d&3)!==0)&&(Ec=!0)),l=h}xe!==0&&xe!==5||gl(e),Hs!==0&&(Hs=0)}function d_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-de(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=$h(T,i)):C<=i&&(e.expiredLanes|=T),d&=~T}if(i=ne,a=Vt,a=ui(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&gs(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Kn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&gs(l),qi(a)){case 2:case 8:a=Ro;break;case 32:a=ys;break;case 268435456:a=uu;break;default:a=ys}return l=m_.bind(null,e),a=Oe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&gs(l),e.callbackPriority=2,e.callbackNode=null,2}function m_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(_c()&&e.callbackNode!==a)return null;var l=Vt;return l=ui(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Xy(e,l,i),d_(e,en()),e.callbackNode!=null&&e.callbackNode===a?m_.bind(null,e):null)}function p_(e,i){if(_c())return null;Xy(e,i,!0)}function CA(){jA(function(){(Gt&6)!==0?Oe(wo,IA):f_()})}function Ad(){if(Hs===0){var e=Da;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Hs=e}return Hs}function g_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function y_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function NA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=g_((h[ke]||null).action),_=l.submitter;_&&(i=(i=_[ke]||null)?g_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ei("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var C=_?y_(h,_):new FormData(h);qf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?y_(h,_):new FormData(h),qf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var bd=0;bd<af.length;bd++){var wd=af[bd],DA=wd.toLowerCase(),OA=wd[0].toUpperCase()+wd.slice(1);ti(DA,"on"+OA)}ti(Yp,"onAnimationEnd"),ti(Xp,"onAnimationIteration"),ti($p,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(QS,"onTransitionRun"),ti(YS,"onTransitionStart"),ti(XS,"onTransitionCancel"),ti(Zp,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function __(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){ku(K)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,z=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){ku(K)}h.currentTarget=null,d=C}}}}function Mt(e,i){var a=i[ca];a===void 0&&(a=i[ca]=new Set);var l=e+"__bubble";a.has(l)||(v_(i,e,2,!1),a.add(l))}function Rd(e,i,a){var l=0;i&&(l|=4),v_(a,e,l,i)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Id(e){if(!e[Tc]){e[Tc]=!0,No.forEach(function(a){a!=="selectionchange"&&(xA.has(a)||Rd(a,!1,e),Rd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Tc]||(i[Tc]=!0,Rd("selectionchange",!1,i))}}function v_(e,i,a,l){switch(Y_(i)){case 2:var h=ab;break;case 8:h=ob;break;default:h=Hd}a=h.bind(null,i,a,e),h=void 0,!Rr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Cd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=di(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}T=T.parentNode}}l=l.return}As(function(){var z=d,K=On(a),Y=[];t:{var H=Jp.get(e);if(H!==void 0){var F=Ei,lt=e;switch(e){case"keypress":if(Cr(a)===0)break t;case"keydown":case"keyup":F=xu;break;case"focusin":lt="focus",F=Dr;break;case"focusout":lt="blur",F=Dr;break;case"beforeblur":case"afterblur":F=Dr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case Yp:case Xp:case $p:F=wu;break;case Zp:F=S;break;case"scroll":case"scrollend":F=Bo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ki;break;case"toggle":case"beforetoggle":F=It}var yt=(i&4)!==0,ee=!yt&&(e==="scroll"||e==="scrollend"),k=yt?H!==null?H+"Capture":null:H;yt=[];for(var x=z,P;x!==null;){var Q=x;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=$n(x,k),Q!=null&&yt.push(_l(x,Q,P))),ee)break;x=x.return}0<yt.length&&(H=new F(H,lt,null,a,K),Y.push({event:H,listeners:yt}))}}if((i&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",H&&a!==Po&&(lt=a.relatedTarget||a.fromElement)&&(di(lt)||lt[hi]))break t;if((F||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,F?(lt=a.relatedTarget||a.toElement,F=z,lt=lt?di(lt):null,lt!==null&&(ee=u(lt),yt=lt.tag,lt!==ee||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(F=null,lt=z),F!==lt)){if(yt=Ho,Q="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Ki,Q="onPointerLeave",k="onPointerEnter",x="pointer"),ee=F==null?H:yn(F),P=lt==null?H:yn(lt),H=new yt(Q,x+"leave",F,a,K),H.target=ee,H.relatedTarget=P,Q=null,di(K)===z&&(yt=new yt(k,x+"enter",lt,a,K),yt.target=P,yt.relatedTarget=ee,Q=yt),ee=Q,F&&lt)e:{for(yt=MA,k=F,x=lt,P=0,Q=k;Q;Q=yt(Q))P++;Q=0;for(var dt=x;dt;dt=yt(dt))Q++;for(;0<P-Q;)k=yt(k),P--;for(;0<Q-P;)x=yt(x),Q--;for(;P--;){if(k===x||x!==null&&k===x.alternate){yt=k;break e}k=yt(k),x=yt(x)}yt=null}else yt=null;F!==null&&E_(Y,H,F,yt,!1),lt!==null&&ee!==null&&E_(Y,ee,lt,yt,!0)}}t:{if(H=z?yn(z):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var Ht=Up;else if(kp(H))if(Pp)Ht=FS;else{Ht=HS;var ht=BS}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&ma(z.elementType)&&(Ht=Up):Ht=qS;if(Ht&&(Ht=Ht(e,z))){Lp(Y,Ht,a,K);break t}ht&&ht(e,H,z),e==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&ko(H,"number",H.value)}switch(ht=z?yn(z):window,e){case"focusin":(kp(ht)||ht.contentEditable==="true")&&(Sa=ht,nf=z,Qo=null);break;case"focusout":Qo=nf=Sa=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Kp(Y,a,K);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":Kp(Y,a,K)}var Nt;if(Ft)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Ta?Or(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(Ai&&a.locale!=="ko"&&(Ta||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Ta&&(Nt=jo()):(vi=K,zo="value"in vi?vi.value:vi.textContent,Ta=!0)),ht=Sc(z,kt),0<ht.length&&(kt=new Si(kt,e,null,a,K),Y.push({event:kt,listeners:ht}),Nt?kt.data=Nt:(Nt=Ea(a),Nt!==null&&(kt.data=Nt)))),(Nt=Mn?US(e,a):PS(e,a))&&(kt=Sc(z,"onBeforeInput"),0<kt.length&&(ht=new Si("onBeforeInput","beforeinput",null,a,K),Y.push({event:ht,listeners:kt}),ht.data=Nt)),NA(Y,e,z,a,K)}__(Y,i)})}function _l(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Sc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=$n(e,a),h!=null&&l.unshift(_l(e,h,d)),h=$n(e,i),h!=null&&l.push(_l(e,h,d))),e.tag===3)return l;e=e.return}return[]}function MA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function E_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=$n(a,d),z!=null&&_.unshift(_l(a,z,C))):h||(z=$n(a,d),z!=null&&_.push(_l(a,z,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var VA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function T_(e){return(typeof e=="string"?e:""+e).replace(VA,`
`).replace(kA,"")}function S_(e,i){return i=T_(i),T_(e)===i}function te(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(e,""+l);break;case"className":_n(e,"class",l);break;case"tabIndex":_n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,a,l);break;case"style":Uo(e,l,d);break;case"data":if(i!=="object"){_n(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&te(e,i,"name",h.name,h,null),te(e,i,"formEncType",h.formEncType,h,null),te(e,i,"formMethod",h.formMethod,h,null),te(e,i,"formTarget",h.formTarget,h,null)):(te(e,i,"encType",h.encType,h,null),te(e,i,"method",h.method,h,null),te(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Xn);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=pa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Su.get(a)||a,fa(e,a,l))}}function Nd(e,i,a,l,h,d){switch(a){case"style":Uo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ln(e,l):(typeof l=="number"||typeof l=="bigint")&&ln(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ke]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fa(e,a,l)}}}function Ke(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:te(e,i,d,_,a,null)}}h&&te(e,i,"srcSet",a.srcSet,a,null),l&&te(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=d=_=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":C=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:te(e,i,l,K,a,null)}}vu(e,d,T,C,z,_,h,!1);return;case"select":Mt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:te(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?vs(e,!!l,i,!1):a!=null&&vs(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:te(e,i,_,T,a,null)}Es(e,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,i,C,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<yl.length;l++)Mt(yl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:te(e,i,z,l,a,null)}return;default:if(ma(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Nd(e,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&te(e,i,T,l,a,null))}function LA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,z=null,K=null;for(F in a){var Y=a[F];if(a.hasOwnProperty(F)&&Y!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(F)||te(e,i,F,null,l,Y)}}for(var H in l){var F=l[H];if(Y=a[H],l.hasOwnProperty(H)&&(F!=null||Y!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":K=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:F!==Y&&te(e,i,H,F,l,Y)}}da(e,_,T,C,z,K,d,h);return;case"select":F=_=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||te(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&te(e,i,h,d,l,C)}i=T,a=_,l=F,H!=null?vs(e,!!a,H,!1):!!l!=!!a&&(i!=null?vs(e,!!a,i,!0):vs(e,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:te(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&te(e,i,_,h,l,d)}Eu(e,H,F);return;case"option":for(var lt in a)if(H=a[lt],a.hasOwnProperty(lt)&&H!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:te(e,i,lt,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:te(e,i,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)H=a[yt],a.hasOwnProperty(yt)&&H!=null&&!l.hasOwnProperty(yt)&&te(e,i,yt,null,l,H);for(z in l)if(H=l[z],F=a[z],l.hasOwnProperty(z)&&H!==F&&(H!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:te(e,i,z,H,l,F)}return;default:if(ma(i)){for(var ee in a)H=a[ee],a.hasOwnProperty(ee)&&H!==void 0&&!l.hasOwnProperty(ee)&&Nd(e,i,ee,void 0,l,H);for(K in l)H=l[K],F=a[K],!l.hasOwnProperty(K)||H===F||H===void 0&&F===void 0||Nd(e,i,K,H,l,F);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&te(e,i,k,null,l,H);for(Y in l)H=l[Y],F=a[Y],!l.hasOwnProperty(Y)||H===F||H==null&&F==null||te(e,i,Y,H,l,F)}function A_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&A_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>T)break;var K=C.transferSize,Y=C.initiatorType;K&&A_(Y)&&(C=C.responseEnd,_+=K*(C<T?1:(T-z)/(C-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dd=null,Od=null;function Ac(e){return e.nodeType===9?e:e.ownerDocument}function b_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function xd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Md=null;function PA(){var e=window.event;return e&&e.type==="popstate"?e===Md?!1:(Md=e,!0):(Md=null,!1)}var R_=typeof setTimeout=="function"?setTimeout:void 0,zA=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,jA=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(e){return I_.resolve(null).then(e).catch(BA)}:R_;function BA(e){setTimeout(function(){throw e})}function qs(e){return e==="head"}function C_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Xa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")vl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,vl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[fi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&vl(e.ownerDocument.body);a=h}while(a);Xa(i)}function N_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Vd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function HA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[fi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function qA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function D_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=jn(e.nextSibling),e===null))return null;return e}function kd(e){return e.data==="$?"||e.data==="$~"}function Ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function FA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Ud=null;function O_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return jn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function x_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function M_(e,i,a){switch(i=Ac(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function vl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ha(e)}var Bn=new Map,V_=new Set;function bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=W.d;W.d={f:GA,r:KA,D:QA,C:YA,L:XA,m:$A,X:JA,S:ZA,M:WA};function GA(){var e=os.f(),i=pc();return e||i}function KA(e){var i=Dn(e);i!==null&&i.tag===5&&i.type==="form"?Zg(i):os.r(e)}var Ka=typeof document>"u"?null:document;function k_(e,i,a){var l=Ka;if(l&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),V_.has(h)||(V_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ke(i,"link",e),Te(i),l.head.appendChild(i)))}}function QA(e){os.D(e),k_("dns-prefetch",e,null)}function YA(e,i){os.C(e,i),k_("preconnect",e,i)}function XA(e,i,a){os.L(e,i,a);var l=Ka;if(l&&e&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var d=h;switch(i){case"style":d=Qa(e);break;case"script":d=Ya(e)}Bn.has(d)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Bn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(El(d))||i==="script"&&l.querySelector(Tl(d))||(i=l.createElement("link"),Ke(i,"link",e),Te(i),l.head.appendChild(i)))}}function $A(e,i){os.m(e,i);var a=Ka;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(e)}if(!Bn.has(d)&&(e=A({rel:"modulepreload",href:e},i),Bn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(d)))return}l=a.createElement("link"),Ke(l,"link",e),Te(l),a.head.appendChild(l)}}}function ZA(e,i,a){os.S(e,i,a);var l=Ka;if(l&&e){var h=mi(l).hoistableStyles,d=Qa(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(El(d)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Bn.get(d))&&Pd(e,a);var C=_=l.createElement("link");Te(C),Ke(C,"link",e),C._p=new Promise(function(z,K){C.onload=z,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function JA(e,i){os.X(e,i);var a=Ka;if(a&&e){var l=mi(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(e=A({src:e,async:!0},i),(i=Bn.get(h))&&zd(e,i),d=a.createElement("script"),Te(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function WA(e,i){os.M(e,i);var a=Ka;if(a&&e){var l=mi(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(e=A({src:e,async:!0,type:"module"},i),(i=Bn.get(h))&&zd(e,i),d=a.createElement("script"),Te(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function L_(e,i,a,l){var h=(h=gt.current)?bc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=mi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Qa(a.href);var d=mi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(El(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(e,a),d||tb(h,e,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=mi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Qa(e){return'href="'+on(e)+'"'}function El(e){return'link[rel="stylesheet"]['+e+"]"}function U_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function tb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ke(i,"link",a),Te(i),e.head.appendChild(i))}function Ya(e){return'[src="'+on(e)+'"]'}function Tl(e){return"script[async]"+e}function P_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,Te(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Ke(l,"style",h),wc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Qa(a.href);var d=e.querySelector(El(h));if(d)return i.state.loading|=4,i.instance=d,Te(d),d;l=U_(a),(h=Bn.get(h))&&Pd(l,h),d=(e.ownerDocument||e).createElement("link"),Te(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ke(d,"link",l),i.state.loading|=4,wc(d,a.precedence,e),i.instance=d;case"script":return d=Ya(a.src),(h=e.querySelector(Tl(d)))?(i.instance=h,Te(h),h):(l=a,(h=Bn.get(d))&&(l=A({},a),zd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ke(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,wc(l,a.precedence,e));return i.instance}function wc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Pd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function zd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Rc=null;function z_(e,i,a){if(Rc===null){var l=new Map,h=Rc=new Map;h.set(a,l)}else h=Rc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[fi]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function j_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function eb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function B_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nb(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Qa(l.href),d=i.querySelector(El(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ic.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Te(d);return}d=i.ownerDocument||i,l=U_(l),(h=Bn.get(h))&&Pd(l,h),d=d.createElement("link"),Te(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ke(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ic.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var jd=0;function ib(e,i){return e.stylesheets&&e.count===0&&Nc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Nc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&jd===0&&(jd=62500*UA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Nc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>jd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cc=null;function Nc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cc=new Map,i.forEach(sb,e),Cc=null,Ic.call(e))}function sb(e,i){if(!(i.state.loading&4)){var a=Cc.get(e);if(a)var l=a.get(null);else{a=new Map,Cc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Ic.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Sl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function rb(e,i,a,l,h,d,_,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function H_(e,i,a,l,h,d,_,T,C,z,K,Y){return e=new rb(e,i,a,_,C,z,K,Y,T),i=1,d===!0&&(i|=24),d=En(3,null,null,i),e.current=d,d.stateNode=e,i=vf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Af(d),e}function q_(e){return e?(e=wa,e):wa}function F_(e,i,a,l,h,d){h=q_(h),l.context===null?l.context=h:l.pendingContext=h,l=xs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ms(e,l,i),a!==null&&(dn(a,e,i),tl(a,e,i))}function G_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Bd(e,i){G_(e,i),(e=e.alternate)&&G_(e,i)}function K_(e){if(e.tag===13||e.tag===31){var i=Vr(e,67108864);i!==null&&dn(i,e,67108864),Bd(e,67108864)}}function Q_(e){if(e.tag===13||e.tag===31){var i=wn();i=Sr(i);var a=Vr(e,i);a!==null&&dn(a,e,i),Bd(e,i)}}var Dc=!0;function ab(e,i,a,l){var h=B.T;B.T=null;var d=W.p;try{W.p=2,Hd(e,i,a,l)}finally{W.p=d,B.T=h}}function ob(e,i,a,l){var h=B.T;B.T=null;var d=W.p;try{W.p=8,Hd(e,i,a,l)}finally{W.p=d,B.T=h}}function Hd(e,i,a,l){if(Dc){var h=qd(l);if(h===null)Cd(e,i,l,Oc,a),X_(e,l);else if(ub(h,e,i,a,l))l.stopPropagation();else if(X_(e,l),i&4&&-1<lb.indexOf(e)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=li(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-de(_);T.entanglements[1]|=C,_&=~C}Ii(d),(Gt&6)===0&&(dc=en()+500,gl(0))}}break;case 31:case 13:T=Vr(d,2),T!==null&&dn(T,d,2),pc(),Bd(d,2)}if(d=qd(l),d===null&&Cd(e,i,l,Oc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Cd(e,i,l,null,a)}}function qd(e){return e=On(e),Fd(e)}var Oc=null;function Fd(e){if(Oc=null,e=di(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Oc=e,null}function Y_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case wo:return 2;case Ro:return 8;case ys:case Xh:return 32;case uu:return 268435456;default:return 32}default:return 32}}var Gd=!1,Fs=null,Gs=null,Ks=null,Al=new Map,bl=new Map,Qs=[],lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X_(e,i){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(i.pointerId)}}function wl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Dn(i),i!==null&&K_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function ub(e,i,a,l,h){switch(i){case"focusin":return Fs=wl(Fs,e,i,a,l,h),!0;case"dragenter":return Gs=wl(Gs,e,i,a,l,h),!0;case"mouseover":return Ks=wl(Ks,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Al.set(d,wl(Al.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,bl.set(d,wl(bl.get(d)||null,e,i,a,l,h)),!0}return!1}function $_(e){var i=di(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Qn(e.priority,function(){Q_(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Qn(e.priority,function(){Q_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=qd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Po=l,a.target.dispatchEvent(l),Po=null}else return i=Dn(a),i!==null&&K_(i),e.blockedOn=a,!1;i.shift()}return!0}function Z_(e,i,a){xc(e)&&a.delete(i)}function cb(){Gd=!1,Fs!==null&&xc(Fs)&&(Fs=null),Gs!==null&&xc(Gs)&&(Gs=null),Ks!==null&&xc(Ks)&&(Ks=null),Al.forEach(Z_),bl.forEach(Z_)}function Mc(e,i){e.blockedOn===i&&(e.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,cb)))}var Vc=null;function J_(e){Vc!==e&&(Vc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Fd(l||a)===null)continue;break}var d=Dn(a);d!==null&&(e.splice(i,3),i-=3,qf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(e){function i(C){return Mc(C,e)}Fs!==null&&Mc(Fs,e),Gs!==null&&Mc(Gs,e),Ks!==null&&Mc(Ks,e),Al.forEach(i),bl.forEach(i);for(var a=0;a<Qs.length;a++){var l=Qs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qs.length&&(a=Qs[0],a.blockedOn===null);)$_(a),a.blockedOn===null&&Qs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[ke]||null;if(typeof d=="function")_||J_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[ke]||null)T=_.formAction;else if(Fd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),J_(a)}}}function W_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Kd(e){this._internalRoot=e}kc.prototype.render=Kd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=wn();F_(a,l,e,i,null,null)},kc.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;F_(e.current,2,null,e,null,null),pc(),i[hi]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var i=pu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Qs.length&&i!==0&&i<Qs[a].priority;a++);Qs.splice(a,0,e),a===0&&$_(e)}};var tv=t.version;if(tv!=="19.2.0")throw Error(r(527,tv,"19.2.0"));W.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var hb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{Gn=Lc.inject(hb),Be=Lc}catch{}}return Il.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=oy,d=ly,_=uy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=H_(e,1,!1,null,null,a,l,null,h,d,_,W_),e[hi]=i.current,Id(e),new Kd(i)},Il.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=oy,_=ly,T=uy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=H_(e,1,!0,i,a??null,l,h,C,d,_,T,W_),i.context=q_(null),a=i.current,l=wn(),l=Sr(l),h=xs(l),h.callback=null,Ms(a,h,l),a=l,i.current.lanes=a,Er(i,a),Ii(i),e[hi]=i.current,Id(e),new kc(i)},Il.version="19.2.0",Il}var cv;function Tb(){if(cv)return Xd.exports;cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Xd.exports=Eb(),Xd.exports}var Sb=Tb();const Ab=()=>{};var hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},bb=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},JE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,j=y&63;g||(j=64,f||(w=64)),r.push(n[E],n[A],n[w],n[j])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(ZE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):bb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const A=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new wb;const w=u<<2|m>>4;if(r.push(w),y!==64){const j=m<<4&240|y>>2;if(r.push(j),A!==64){const X=y<<6&192|A;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rb=function(s){const t=ZE(s);return JE.encodeByteArray(t,!0)},nh=function(s){return Rb(s).replace(/\./g,"")},WE=function(s){try{return JE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=()=>Ib().__FIREBASE_DEFAULTS__,Nb=()=>{if(typeof process>"u"||typeof hv>"u")return;const s=hv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Db=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&WE(s[1]);return t&&JSON.parse(t)},Sh=()=>{try{return Ab()||Cb()||Nb()||Db()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},tT=s=>Sh()?.emulatorHosts?.[s],eT=s=>{const t=tT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},nT=()=>Sh()?.config,iT=s=>Sh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bm(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}const Ll={};function xb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ll))Ll[t]?s.emulator.push(t):s.prod.push(t);return s}function Mb(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let fv=!1;function Hm(s,t){if(typeof window>"u"||typeof document>"u"||!mr(window.location.host)||Ll[s]===t||Ll[s]||fv)return;Ll[s]=t;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=xb().prod.length>0;function f(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,j){w.setAttribute("width","24"),w.setAttribute("id",j),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{fv=!0,f()},w}function E(w,j){w.setAttribute("id",j),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=Mb(r),j=n("text"),X=document.getElementById(j)||document.createElement("span"),tt=n("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),ot=n("preprendIcon"),pt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ut=w.element;m(ut),E(Z,tt);const St=y();g(pt,ot),ut.append(pt,X,Z,St),document.body.appendChild(ut)}u?(X.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function kb(){const s=Sh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ub(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Pb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zb(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function jb(){return!kb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bb(){try{return typeof indexedDB=="object"}catch{return!1}}function Hb(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="FirebaseError";class zi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=qb,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Fb(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new zi(o,m,r)}}function Fb(s,t){return s.replace(Gb,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Gb=/\{\$([^}]+)}/g;function Kb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Wr(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(dv(u)&&dv(f)){if(!Wr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function dv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Dl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ol(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function Qb(s,t){const n=new Yb(s,t);return n.subscribe.bind(n)}class Yb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xb(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Wd),o.error===void 0&&(o.error=Wd),o.complete===void 0&&(o.complete=Wd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xb(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(s){return s&&s._delegate?s._delegate:s}class or{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ob;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Jb(t))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Yr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yr){return this.instances.has(t)}getOptions(t=Yr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zb(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Yr){return this.component?this.component.multipleInstances?t:Yr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zb(s){return s===Yr?void 0:s}function Jb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $b(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const t1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},e1=Lt.INFO,n1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},i1=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=n1[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qm{constructor(t){this.name=t,this._logLevel=e1,this._logHandler=i1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?t1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const s1=(s,t)=>t.some(n=>s instanceof n);let mv,pv;function r1(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a1(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rT=new WeakMap,dm=new WeakMap,aT=new WeakMap,tm=new WeakMap,Fm=new WeakMap;function o1(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(nr(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&rT.set(n,s)}).catch(()=>{}),Fm.set(t,s),t}function l1(s){if(dm.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});dm.set(s,t)}let mm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return dm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||aT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function u1(s){mm=s(mm)}function c1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(em(this),t,...n);return aT.set(r,t.sort?t.sort():[t]),nr(r)}:a1().includes(s)?function(...t){return s.apply(em(this),t),nr(rT.get(this))}:function(...t){return nr(s.apply(em(this),t))}}function h1(s){return typeof s=="function"?c1(s):(s instanceof IDBTransaction&&l1(s),s1(s,r1())?new Proxy(s,mm):s)}function nr(s){if(s instanceof IDBRequest)return o1(s);if(tm.has(s))return tm.get(s);const t=h1(s);return t!==s&&(tm.set(s,t),Fm.set(t,s)),t}const em=s=>Fm.get(s);function f1(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),m=nr(f);return r&&f.addEventListener("upgradeneeded",g=>{r(nr(f.result),g.oldVersion,g.newVersion,nr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const d1=["get","getKey","getAll","getAllKeys","count"],m1=["put","add","delete","clear"],nm=new Map;function gv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(nm.get(t))return nm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=m1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||d1.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return nm.set(t,u),u}u1(s=>({...s,get:(t,n,r)=>gv(t,n)||s.get(t,n,r),has:(t,n)=>!!gv(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function g1(s){return s.getComponent()?.type==="VERSION"}const pm="@firebase/app",yv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new qm("@firebase/app"),y1="@firebase/app-compat",_1="@firebase/analytics-compat",v1="@firebase/analytics",E1="@firebase/app-check-compat",T1="@firebase/app-check",S1="@firebase/auth",A1="@firebase/auth-compat",b1="@firebase/database",w1="@firebase/data-connect",R1="@firebase/database-compat",I1="@firebase/functions",C1="@firebase/functions-compat",N1="@firebase/installations",D1="@firebase/installations-compat",O1="@firebase/messaging",x1="@firebase/messaging-compat",M1="@firebase/performance",V1="@firebase/performance-compat",k1="@firebase/remote-config",L1="@firebase/remote-config-compat",U1="@firebase/storage",P1="@firebase/storage-compat",z1="@firebase/firestore",j1="@firebase/ai",B1="@firebase/firestore-compat",H1="firebase",q1="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="[DEFAULT]",F1={[pm]:"fire-core",[y1]:"fire-core-compat",[v1]:"fire-analytics",[_1]:"fire-analytics-compat",[T1]:"fire-app-check",[E1]:"fire-app-check-compat",[S1]:"fire-auth",[A1]:"fire-auth-compat",[b1]:"fire-rtdb",[w1]:"fire-data-connect",[R1]:"fire-rtdb-compat",[I1]:"fire-fn",[C1]:"fire-fn-compat",[N1]:"fire-iid",[D1]:"fire-iid-compat",[O1]:"fire-fcm",[x1]:"fire-fcm-compat",[M1]:"fire-perf",[V1]:"fire-perf-compat",[k1]:"fire-rc",[L1]:"fire-rc-compat",[U1]:"fire-gcs",[P1]:"fire-gcs-compat",[z1]:"fire-fst",[B1]:"fire-fst-compat",[j1]:"fire-vertex","fire-js":"fire-js",[H1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,G1=new Map,ym=new Map;function _v(s,t){try{s.container.addComponent(t)}catch(n){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function ta(s){const t=s.name;if(ym.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;ym.set(t,s);for(const n of ih.values())_v(n,s);for(const n of G1.values())_v(n,s);return!0}function Ah(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Hn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new Zl("app","Firebase",K1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=q1;function oT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:gm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(n||(n=nT()),!n)throw ir.create("no-options");const u=ih.get(o);if(u){if(Wr(n,u.options)&&Wr(r,u.config))return u;throw ir.create("duplicate-app",{appName:o})}const f=new Wb(o);for(const g of ym.values())f.addComponent(g);const m=new Q1(n,r,f);return ih.set(o,m),m}function Gm(s=gm){const t=ih.get(s);if(!t&&s===gm&&nT())return oT();if(!t)throw ir.create("no-app",{appName:s});return t}function Ni(s,t,n){let r=F1[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(f.join(" "));return}ta(new or(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="firebase-heartbeat-database",X1=1,Hl="firebase-heartbeat-store";let im=null;function lT(){return im||(im=f1(Y1,X1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),im}async function $1(s){try{const n=(await lT()).transaction(Hl),r=await n.objectStore(Hl).get(uT(s));return await n.done,r}catch(t){if(t instanceof zi)hs.warn(t.message);else{const n=ir.create("idb-get",{originalErrorMessage:t?.message});hs.warn(n.message)}}}async function vv(s,t){try{const r=(await lT()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(t,uT(s)),await r.done}catch(n){if(n instanceof zi)hs.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n?.message});hs.warn(r.message)}}}function uT(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1024,J1=30;class W1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ew(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ev();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>J1){const o=nw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ev(),{heartbeatsToSend:n,unsentEntries:r}=tw(this._heartbeatsCache.heartbeats),o=nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hs.warn(t),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function tw(s,t=Z1){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Tv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Tv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ew{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bb()?Hb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Tv(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function nw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(s){ta(new or("platform-logger",t=>new p1(t),"PRIVATE")),ta(new or("heartbeat",t=>new W1(t),"PRIVATE")),Ni(pm,yv,s),Ni(pm,yv,"esm2020"),Ni("fire-js","")}iw("");function cT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sw=cT,hT=new Zl("auth","Firebase",cT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new qm("@firebase/auth");function rw(s,...t){sh.logLevel<=Lt.WARN&&sh.warn(`Auth (${ra}): ${s}`,...t)}function Kc(s,...t){sh.logLevel<=Lt.ERROR&&sh.error(`Auth (${ra}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(s,...t){throw Km(s,...t)}function Di(s,...t){return Km(s,...t)}function fT(s,t,n){const r={...sw(),[t]:n};return new Zl("auth","Firebase",r).create(t,{appName:s.name})}function sr(s){return fT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Km(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return hT.create(s,...t)}function vt(s,t,...n){if(!s)throw Km(t,...n)}function ls(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Kc(t),new Error(t)}function fs(s,t){s||ls(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){return typeof self<"u"&&self.location?.href||""}function aw(){return Sv()==="http:"||Sv()==="https:"}function Sv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aw()||Ub()||"connection"in navigator)?navigator.onLine:!0}function lw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n){this.shortDelay=t,this.longDelay=n,fs(n>t,"Short delay should be less than long delay!"),this.isMobile=Vb()||Pb()}get(){return ow()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(s,t){fs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hw=new Wl(3e4,6e4);function aa(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function pr(s,t,n,r,o={}){return mT(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const m=Jl({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:g,...u};return Lb()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&mr(s.emulatorConfig.host)&&(y.credentials="include"),dT.fetch()(await pT(s,s.config.apiHost,n,m),y)})}async function mT(s,t,n){s._canInitEmulator=!1;const r={...uw,...t};try{const o=new dw(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Uc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Uc(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Uc(s,"user-disabled",f);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw fT(s,E,y);ai(s,E)}}catch(o){if(o instanceof zi)throw o;ai(s,"network-request-failed",{message:String(o)})}}async function bh(s,t,n,r,o={}){const u=await pr(s,t,n,r,o);return"mfaPendingCredential"in u&&ai(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function pT(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?Qm(s.config,o):`${s.config.apiScheme}://${o}`;return cw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function fw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Di(this.auth,"network-request-failed")),hw.get())})}}function Uc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Di(s,t,r);return o.customData._tokenResponse=n,o}function Av(s){return s!==void 0&&s.enterprise!==void 0}class mw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return fw(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pw(s,t){return pr(s,"GET","/v2/recaptchaConfig",aa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(s,t){return pr(s,"POST","/v1/accounts:delete",t)}async function rh(s,t){return pr(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yw(s,t=!1){const n=De(s),r=await n.getIdToken(t),o=Ym(r);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Ul(sm(o.auth_time)),issuedAtTime:Ul(sm(o.iat)),expirationTime:Ul(sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(s){return Number(s)*1e3}function Ym(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=WE(n);return o?JSON.parse(o):(Kc("Failed to decode base64 JWT payload"),null)}catch(o){return Kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bv(s){const t=Ym(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof zi&&_w(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function _w({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(s){const t=s.auth,n=await s.getIdToken(),r=await ql(s,rh(t,{idToken:n}));vt(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?gT(o.providerUserInfo):[],f=Tw(s.providerData,u),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function Ew(s){const t=De(s);await ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Tw(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function gT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(s,t){const n=await mT(s,{},async()=>{const r=Jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await pT(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&mr(s.emulatorConfig.host)&&(g.credentials="include"),dT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aw(s,t){return pr(s,"POST","/v2/accounts:revokeToken",aa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=bv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await Sw(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new io;return r&&(vt(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new vw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await ql(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return yw(this,t)}reload(){return Ew(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(sr(this.auth));const t=await this.getIdToken();return await ql(this,gw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:j,providerData:X,stsTokenManager:tt}=n;vt(A&&tt,t,"internal-error");const Z=io.fromJSON(this.name,tt);vt(typeof A=="string",t,"internal-error"),Xs(r,t.name),Xs(o,t.name),vt(typeof w=="boolean",t,"internal-error"),vt(typeof j=="boolean",t,"internal-error"),Xs(u,t.name),Xs(f,t.name),Xs(m,t.name),Xs(g,t.name),Xs(y,t.name),Xs(E,t.name);const ot=new si({uid:A,auth:t,email:o,emailVerified:w,displayName:r,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Z,createdAt:y,lastLoginAt:E});return X&&Array.isArray(X)&&(ot.providerData=X.map(pt=>({...pt}))),g&&(ot._redirectEventId=g),ot}static async _fromIdTokenResponse(t,n,r=!1){const o=new io;o.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await ah(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?gT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new io;m.updateFromIdToken(r);const g=new si({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=new Map;function us(s){fs(s instanceof Function,"Expected a class definition");let t=wv.get(s);return t?(fs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,wv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}yT.type="NONE";const Rv=yT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(s,t,n){return`firebase:${s}:${t}:${n}`}class so{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Qc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await rh(this.auth,{idToken:t}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new so(us(Rv),t,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||us(Rv);const f=Qc(r,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let A;if(typeof E=="string"){const w=await rh(t,{idToken:E}).catch(()=>{});if(!w)break;A=await si._fromGetAccountInfoResponse(t,w,E)}else A=si._fromJSON(t,E);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new so(u,t,r):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new so(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(TT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_T(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AT(t))return"Blackberry";if(bT(t))return"Webos";if(vT(t))return"Safari";if((t.includes("chrome/")||ET(t))&&!t.includes("edge/"))return"Chrome";if(ST(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function _T(s=tn()){return/firefox\//i.test(s)}function vT(s=tn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ET(s=tn()){return/crios\//i.test(s)}function TT(s=tn()){return/iemobile/i.test(s)}function ST(s=tn()){return/android/i.test(s)}function AT(s=tn()){return/blackberry/i.test(s)}function bT(s=tn()){return/webos/i.test(s)}function Xm(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function bw(s=tn()){return Xm(s)&&!!window.navigator?.standalone}function ww(){return zb()&&document.documentMode===10}function wT(s=tn()){return Xm(s)||ST(s)||bT(s)||AT(s)||/windows phone/i.test(s)||TT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(s,t=[]){let n;switch(s){case"Browser":n=Iv(tn());break;case"Worker":n=`${Iv(tn())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iw(s,t={}){return pr(s,"GET","/v2/passwordPolicy",aa(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=6;class Nw{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Cw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cv(this),this.idTokenSubscription=new Cv(this),this.beforeStateQueue=new Rw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=us(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await rh(this,{idToken:t}),r=await si._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Hn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ah(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Hn(this.app))return Promise.reject(sr(this));const n=t?De(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Hn(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Iw(this),n=new Nw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Aw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&us(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&rw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function go(s){return De(s)}class Cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Qb(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ow(s){wh=s}function IT(s){return wh.loadJS(s)}function xw(){return wh.recaptchaEnterpriseScript}function Mw(){return wh.gapiScript}function Vw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class kw{constructor(){this.enterprise=new Lw}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Lw{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Uw="recaptcha-enterprise",CT="NO_RECAPTCHA";class Pw{constructor(t){this.type=Uw,this.auth=go(t)}async verify(t="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{pw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new mw(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Av(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(CT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!n&&Av(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=xw();g.length!==0&&(g+=m),IT(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Nv(s,t,n,r=!1,o=!1){const u=new Pw(s);let f;if(o)f=CT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Dv(s,t,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Nv(s,t,n,n==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Nv(s,t,n,n==="getOobCode");return r(s,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(s,t){const n=Ah(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Wr(u,t??{}))return o;ai(o,"already-initialized")}return n.initialize({options:t})}function jw(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(us);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Bw(s,t,n){const r=go(s);vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=NT(t),{host:f,port:m}=Hw(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(Wr(y,r.config.emulator)&&Wr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,mr(f)?(Bm(`${u}//${f}${g}`),Hm("Auth",!0)):qw()}function NT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Hw(s){const t=NT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Ov(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Ov(f)}}}function Ov(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function qw(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ls("not implemented")}_getIdTokenResponse(t){return ls("not implemented")}_linkToIdToken(t,n){return ls("not implemented")}_getReauthenticationResolver(t){return ls("not implemented")}}async function Fw(s,t){return pr(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(s,t){return bh(s,"POST","/v1/accounts:signInWithPassword",aa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(s,t){return bh(s,"POST","/v1/accounts:signInWithEmailLink",aa(s,t))}async function Qw(s,t){return bh(s,"POST","/v1/accounts:signInWithEmailLink",aa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends $m{constructor(t,n,r,o=null){super("password",r),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Fl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Fl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dv(t,n,"signInWithPassword",Gw);case"emailLink":return Kw(t,{email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dv(t,r,"signUpPassword",Fw);case"emailLink":return Qw(t,{idToken:n,email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(s,t){return bh(s,"POST","/v1/accounts:signInWithIdp",aa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="http://localhost";class ea extends $m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new ea(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ro(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ro(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ro(t,n)}buildRequest(){const t={requestUri:Yw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Jl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $w(s){const t=Dl(Ol(s)).link,n=t?Dl(Ol(t)).deep_link_id:null,r=Dl(Ol(s)).deep_link_id;return(r?Dl(Ol(r)).link:null)||r||n||t||s}class Zm{constructor(t){const n=Dl(Ol(t)),r=n.apiKey??null,o=n.oobCode??null,u=Xw(n.mode??null);vt(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=$w(t);try{return new Zm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(t,n){return Fl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Zm.parseLink(n);return vt(r,"argument-error"),Fl._fromEmailAndCode(t,r.code,r.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends DT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends tu{constructor(){super("facebook.com")}static credential(t){return ea._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ea._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends tu{constructor(){super("github.com")}static credential(t){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends tu{constructor(){super("twitter.com")}static credential(t,n){return ea._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await si._fromIdTokenResponse(t,r,o),f=xv(r);return new lo({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=xv(r);return new lo({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function xv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends zi{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new oh(t,n,r,o)}}function OT(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(s,u,t,r):u})}async function Zw(s,t,n=!1){const r=await ql(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return lo._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(s,t,n=!1){const{auth:r}=s;if(Hn(r.app))return Promise.reject(sr(r));const o="reauthenticate";try{const u=await ql(s,OT(r,o,t,s),n);vt(u.idToken,r,"internal-error");const f=Ym(u.idToken);vt(f,r,"internal-error");const{sub:m}=f;return vt(s.uid===m,r,"user-mismatch"),lo._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xT(s,t,n=!1){if(Hn(s.app))return Promise.reject(sr(s));const r="signIn",o=await OT(s,r,t),u=await lo._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function Ww(s,t){return xT(go(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(s){const t=go(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function eR(s,t,n){return Hn(s.app)?Promise.reject(sr(s)):Ww(De(s),yo.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tR(s),r})}function nR(s,t,n,r){return De(s).onIdTokenChanged(t,n,r)}function iR(s,t,n){return De(s).beforeAuthStateChanged(t,n)}function sR(s,t,n,r){return De(s).onAuthStateChanged(t,n,r)}function rR(s){return De(s).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=1e3,oR=10;class VT extends MT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);ww()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,oR):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},aR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}VT.type="LOCAL";const lR=VT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends MT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}kT.type="SESSION";const LT=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Rh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await uR(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Jm("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function hR(s){Oi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function fR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dR(){return navigator?.serviceWorker?.controller||null}function mR(){return UT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebaseLocalStorageDb",pR=1,uh="firebaseLocalStorage",zT="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ih(s,t){return s.transaction([uh],t?"readwrite":"readonly").objectStore(uh)}function gR(){const s=indexedDB.deleteDatabase(PT);return new eu(s).toPromise()}function Em(){const s=indexedDB.open(PT,pR);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(uh,{keyPath:zT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(uh)?t(r):(r.close(),await gR(),t(await Em()))})})}async function Mv(s,t,n){const r=Ih(s,!0).put({[zT]:t,value:n});return new eu(r).toPromise()}async function yR(s,t){const n=Ih(s,!1).get(t),r=await new eu(n).toPromise();return r===void 0?null:r.value}function Vv(s,t){const n=Ih(s,!0).delete(t);return new eu(n).toPromise()}const _R=800,vR=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>vR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(mR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fR(),!this.activeServiceWorker)return;this.sender=new cR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Em();return await Mv(t,lh,"1"),await Vv(t,lh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>yR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Ih(o,!1).getAll();return new eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const ER=jT;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(s,t){return t?us(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends $m{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function SR(s){return xT(s.auth,new Wm(s),s.bypassAuthState)}function AR(s){const{auth:t,user:n}=s;return vt(n,t,"internal-error"),Jw(n,new Wm(s),s.bypassAuthState)}async function bR(s){const{auth:t,user:n}=s;return vt(n,t,"internal-error"),Zw(n,new Wm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return SR;case"linkViaPopup":case"linkViaRedirect":return bR;case"reauthViaPopup":case"reauthViaRedirect":return AR;default:ai(this.auth,"internal-error")}}resolve(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new Wl(2e3,1e4);class no extends BT{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const t=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wR.get())};t()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="pendingRedirect",Yc=new Map;class IR extends BT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Yc.get(this.auth._key());if(!t){try{const r=await CR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Yc.set(this.auth._key(),t)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CR(s,t){const n=OR(t),r=DR(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function NR(s,t){Yc.set(s._key(),t)}function DR(s){return us(s._redirectPersistence)}function OR(s){return Qc(RR,s.config.apiKey,s.name)}async function xR(s,t,n=!1){if(Hn(s.app))return Promise.reject(sr(s));const r=go(s),o=TR(r,t),f=await new IR(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=600*1e3;class VR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!HT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Di(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=MR&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(t))}saveEventToCache(t){this.cachedEventUids.add(kv(t)),this.lastProcessedEventTime=Date.now()}}function kv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function HT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function kR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(s,t={}){return pr(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PR=/^https?/;async function zR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await LR(s);for(const n of t)try{if(jR(n))return}catch{}ai(s,"unauthorized-domain")}function jR(s){const t=_m(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!PR.test(n))return!1;if(UR.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Wl(3e4,6e4);function Lv(){const s=Oi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function HR(s){return new Promise((t,n)=>{function r(){Lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lv(),n(Di(s,"network-request-failed"))},timeout:BR.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)r();else{const o=Vw("iframefcb");return Oi()[o]=()=>{gapi.load?r():n(Di(s,"network-request-failed"))},IT(`${Mw()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Xc=null,t})}let Xc=null;function qR(s){return Xc=Xc||HR(s),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Wl(5e3,15e3),GR="__/auth/iframe",KR="emulator/auth/iframe",QR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XR(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Qm(t,KR):`https://${s.config.authDomain}/${GR}`,r={apiKey:t.apiKey,appName:s.name,v:ra},o=YR.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Jl(r).slice(1)}`}async function $R(s){const t=await qR(s),n=Oi().gapi;return vt(n,s,"internal-error"),t.open({where:document.body,url:XR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QR,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Di(s,"network-request-failed"),m=Oi().setTimeout(()=>{u(f)},FR.get());function g(){Oi().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JR=500,WR=600,tI="_blank",eI="http://localhost";class Uv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nI(s,t,n,r=JR,o=WR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...ZR,width:r.toString(),height:o.toString(),top:u,left:f},y=tn().toLowerCase();n&&(m=ET(y)?tI:n),_T(y)&&(t=t||eI,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[j,X])=>`${w}${j}=${X},`,"");if(bw(y)&&m!=="_self")return iI(t||"",m),new Uv(null);const A=window.open(t||"",m,E);vt(A,s,"popup-blocked");try{A.focus()}catch{}return new Uv(A)}function iI(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="__/auth/handler",rI="emulator/auth/handler",aI=encodeURIComponent("fac");async function Pv(s,t,n,r,o,u){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ra,eventId:o};if(t instanceof DT){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",Kb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof tu){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await s._getAppCheckToken(),y=g?`#${aI}=${encodeURIComponent(g)}`:"";return`${oI(s)}?${Jl(m).slice(1)}${y}`}function oI({config:s}){return s.emulator?Qm(s,rI):`https://${s.authDomain}/${sI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="webStorageSupport";class lI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=xR,this._overrideRedirectResult=NR}async _openPopup(t,n,r,o){fs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Pv(t,n,r,_m(),o);return nI(t,u,Jm())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await Pv(t,n,r,_m(),o);return hR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await $R(t),r=new VR(t);return n.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(rm,{type:rm},o=>{const u=o?.[0]?.[rm];u!==void 0&&n(!!u),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return wT()||vT()||Xm()}}const uI=lI;var zv="@firebase/auth",jv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fI(s){ta(new or("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RT(s)},y=new Dw(r,o,u,g);return jw(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ta(new or("auth-internal",t=>{const n=go(t.getProvider("auth").getImmediate());return(r=>new cI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(zv,jv,hI(s)),Ni(zv,jv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=300,mI=iT("authIdTokenMaxAge")||dI;let Bv=null;const pI=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mI)return;const o=n?.token;Bv!==o&&(Bv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gI(s=Gm()){const t=Ah(s,"auth");if(t.isInitialized())return t.getImmediate();const n=zw(s,{popupRedirectResolver:uI,persistence:[ER,lR,LT]}),r=iT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=pI(u.toString());iR(n,f,()=>f(n.currentUser)),nR(n,m=>f(m))}}const o=tT("auth");return o&&Bw(n,`http://${o}`),n}function yI(){return document.getElementsByTagName("head")?.[0]??document}Ow({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=Di("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",yI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fI("Browser");var _I="firebase",vI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(_I,vI,"app");var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rr,qT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,b){function N(){}N.prototype=b.prototype,D.F=b.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(V,M,L){for(var I=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)I[ie-2]=arguments[ie];return b.prototype[M].apply(V,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,N){N||(N=0);const V=Array(16);if(typeof b=="string")for(var M=0;M<16;++M)V[M]=b.charCodeAt(N++)|b.charCodeAt(N++)<<8|b.charCodeAt(N++)<<16|b.charCodeAt(N++)<<24;else for(M=0;M<16;++M)V[M]=b[N++]|b[N++]<<8|b[N++]<<16|b[N++]<<24;b=D.g[0],N=D.g[1],M=D.g[2];let L=D.g[3],I;I=b+(L^N&(M^L))+V[0]+3614090360&4294967295,b=N+(I<<7&4294967295|I>>>25),I=L+(M^b&(N^M))+V[1]+3905402710&4294967295,L=b+(I<<12&4294967295|I>>>20),I=M+(N^L&(b^N))+V[2]+606105819&4294967295,M=L+(I<<17&4294967295|I>>>15),I=N+(b^M&(L^b))+V[3]+3250441966&4294967295,N=M+(I<<22&4294967295|I>>>10),I=b+(L^N&(M^L))+V[4]+4118548399&4294967295,b=N+(I<<7&4294967295|I>>>25),I=L+(M^b&(N^M))+V[5]+1200080426&4294967295,L=b+(I<<12&4294967295|I>>>20),I=M+(N^L&(b^N))+V[6]+2821735955&4294967295,M=L+(I<<17&4294967295|I>>>15),I=N+(b^M&(L^b))+V[7]+4249261313&4294967295,N=M+(I<<22&4294967295|I>>>10),I=b+(L^N&(M^L))+V[8]+1770035416&4294967295,b=N+(I<<7&4294967295|I>>>25),I=L+(M^b&(N^M))+V[9]+2336552879&4294967295,L=b+(I<<12&4294967295|I>>>20),I=M+(N^L&(b^N))+V[10]+4294925233&4294967295,M=L+(I<<17&4294967295|I>>>15),I=N+(b^M&(L^b))+V[11]+2304563134&4294967295,N=M+(I<<22&4294967295|I>>>10),I=b+(L^N&(M^L))+V[12]+1804603682&4294967295,b=N+(I<<7&4294967295|I>>>25),I=L+(M^b&(N^M))+V[13]+4254626195&4294967295,L=b+(I<<12&4294967295|I>>>20),I=M+(N^L&(b^N))+V[14]+2792965006&4294967295,M=L+(I<<17&4294967295|I>>>15),I=N+(b^M&(L^b))+V[15]+1236535329&4294967295,N=M+(I<<22&4294967295|I>>>10),I=b+(M^L&(N^M))+V[1]+4129170786&4294967295,b=N+(I<<5&4294967295|I>>>27),I=L+(N^M&(b^N))+V[6]+3225465664&4294967295,L=b+(I<<9&4294967295|I>>>23),I=M+(b^N&(L^b))+V[11]+643717713&4294967295,M=L+(I<<14&4294967295|I>>>18),I=N+(L^b&(M^L))+V[0]+3921069994&4294967295,N=M+(I<<20&4294967295|I>>>12),I=b+(M^L&(N^M))+V[5]+3593408605&4294967295,b=N+(I<<5&4294967295|I>>>27),I=L+(N^M&(b^N))+V[10]+38016083&4294967295,L=b+(I<<9&4294967295|I>>>23),I=M+(b^N&(L^b))+V[15]+3634488961&4294967295,M=L+(I<<14&4294967295|I>>>18),I=N+(L^b&(M^L))+V[4]+3889429448&4294967295,N=M+(I<<20&4294967295|I>>>12),I=b+(M^L&(N^M))+V[9]+568446438&4294967295,b=N+(I<<5&4294967295|I>>>27),I=L+(N^M&(b^N))+V[14]+3275163606&4294967295,L=b+(I<<9&4294967295|I>>>23),I=M+(b^N&(L^b))+V[3]+4107603335&4294967295,M=L+(I<<14&4294967295|I>>>18),I=N+(L^b&(M^L))+V[8]+1163531501&4294967295,N=M+(I<<20&4294967295|I>>>12),I=b+(M^L&(N^M))+V[13]+2850285829&4294967295,b=N+(I<<5&4294967295|I>>>27),I=L+(N^M&(b^N))+V[2]+4243563512&4294967295,L=b+(I<<9&4294967295|I>>>23),I=M+(b^N&(L^b))+V[7]+1735328473&4294967295,M=L+(I<<14&4294967295|I>>>18),I=N+(L^b&(M^L))+V[12]+2368359562&4294967295,N=M+(I<<20&4294967295|I>>>12),I=b+(N^M^L)+V[5]+4294588738&4294967295,b=N+(I<<4&4294967295|I>>>28),I=L+(b^N^M)+V[8]+2272392833&4294967295,L=b+(I<<11&4294967295|I>>>21),I=M+(L^b^N)+V[11]+1839030562&4294967295,M=L+(I<<16&4294967295|I>>>16),I=N+(M^L^b)+V[14]+4259657740&4294967295,N=M+(I<<23&4294967295|I>>>9),I=b+(N^M^L)+V[1]+2763975236&4294967295,b=N+(I<<4&4294967295|I>>>28),I=L+(b^N^M)+V[4]+1272893353&4294967295,L=b+(I<<11&4294967295|I>>>21),I=M+(L^b^N)+V[7]+4139469664&4294967295,M=L+(I<<16&4294967295|I>>>16),I=N+(M^L^b)+V[10]+3200236656&4294967295,N=M+(I<<23&4294967295|I>>>9),I=b+(N^M^L)+V[13]+681279174&4294967295,b=N+(I<<4&4294967295|I>>>28),I=L+(b^N^M)+V[0]+3936430074&4294967295,L=b+(I<<11&4294967295|I>>>21),I=M+(L^b^N)+V[3]+3572445317&4294967295,M=L+(I<<16&4294967295|I>>>16),I=N+(M^L^b)+V[6]+76029189&4294967295,N=M+(I<<23&4294967295|I>>>9),I=b+(N^M^L)+V[9]+3654602809&4294967295,b=N+(I<<4&4294967295|I>>>28),I=L+(b^N^M)+V[12]+3873151461&4294967295,L=b+(I<<11&4294967295|I>>>21),I=M+(L^b^N)+V[15]+530742520&4294967295,M=L+(I<<16&4294967295|I>>>16),I=N+(M^L^b)+V[2]+3299628645&4294967295,N=M+(I<<23&4294967295|I>>>9),I=b+(M^(N|~L))+V[0]+4096336452&4294967295,b=N+(I<<6&4294967295|I>>>26),I=L+(N^(b|~M))+V[7]+1126891415&4294967295,L=b+(I<<10&4294967295|I>>>22),I=M+(b^(L|~N))+V[14]+2878612391&4294967295,M=L+(I<<15&4294967295|I>>>17),I=N+(L^(M|~b))+V[5]+4237533241&4294967295,N=M+(I<<21&4294967295|I>>>11),I=b+(M^(N|~L))+V[12]+1700485571&4294967295,b=N+(I<<6&4294967295|I>>>26),I=L+(N^(b|~M))+V[3]+2399980690&4294967295,L=b+(I<<10&4294967295|I>>>22),I=M+(b^(L|~N))+V[10]+4293915773&4294967295,M=L+(I<<15&4294967295|I>>>17),I=N+(L^(M|~b))+V[1]+2240044497&4294967295,N=M+(I<<21&4294967295|I>>>11),I=b+(M^(N|~L))+V[8]+1873313359&4294967295,b=N+(I<<6&4294967295|I>>>26),I=L+(N^(b|~M))+V[15]+4264355552&4294967295,L=b+(I<<10&4294967295|I>>>22),I=M+(b^(L|~N))+V[6]+2734768916&4294967295,M=L+(I<<15&4294967295|I>>>17),I=N+(L^(M|~b))+V[13]+1309151649&4294967295,N=M+(I<<21&4294967295|I>>>11),I=b+(M^(N|~L))+V[4]+4149444226&4294967295,b=N+(I<<6&4294967295|I>>>26),I=L+(N^(b|~M))+V[11]+3174756917&4294967295,L=b+(I<<10&4294967295|I>>>22),I=M+(b^(L|~N))+V[2]+718787259&4294967295,M=L+(I<<15&4294967295|I>>>17),I=N+(L^(M|~b))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+L&4294967295}r.prototype.v=function(D,b){b===void 0&&(b=D.length);const N=b-this.blockSize,V=this.C;let M=this.h,L=0;for(;L<b;){if(M==0)for(;L<=N;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<b;)if(V[M++]=D.charCodeAt(L++),M==this.blockSize){o(this,V),M=0;break}}else for(;L<b;)if(V[M++]=D[L++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=b},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)D[b++]=this.g[N]>>>V&255;return D};function u(D,b){var N=m;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=b(D)}function f(D,b){this.h=b;const N=[];let V=!0;for(let M=D.length-1;M>=0;M--){const L=D[M]|0;V&&L==b||(N[M]=L,V=!1)}this.g=N}var m={};function g(D){return-128<=D&&D<128?u(D,function(b){return new f([b|0],b<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return Z(y(-D));const b=[];let N=1;for(let V=0;D>=N;V++)b[V]=D/N|0,N*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return Z(E(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(b,8));let V=A;for(let L=0;L<D.length;L+=8){var M=Math.min(8,D.length-L);const I=parseInt(D.substring(L,L+M),b);M<8?(M=y(Math.pow(b,M)),V=V.j(M).add(y(I))):(V=V.j(N),V=V.add(y(I)))}return V}var A=g(0),w=g(1),j=g(16777216);s=f.prototype,s.m=function(){if(tt(this))return-Z(this).m();let D=0,b=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);D+=(V>=0?V:4294967296+V)*b,b*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(X(this))return"0";if(tt(this))return"-"+Z(this).toString(D);const b=y(Math.pow(D,6));var N=this;let V="";for(;;){const M=St(N,b).g;N=ot(N,M.j(b));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=M,X(N))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function X(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function tt(D){return D.h==-1}s.l=function(D){return D=ot(this,D),tt(D)?-1:X(D)?0:1};function Z(D){const b=D.g.length,N=[];for(let V=0;V<b;V++)N[V]=~D.g[V];return new f(N,~D.h).add(w)}s.abs=function(){return tt(this)?Z(this):this},s.add=function(D){const b=Math.max(this.g.length,D.g.length),N=[];let V=0;for(let M=0;M<=b;M++){let L=V+(this.i(M)&65535)+(D.i(M)&65535),I=(L>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);V=I>>>16,L&=65535,I&=65535,N[M]=I<<16|L}return new f(N,N[N.length-1]&-2147483648?-1:0)};function ot(D,b){return D.add(Z(b))}s.j=function(D){if(X(this)||X(D))return A;if(tt(this))return tt(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(tt(D))return Z(this.j(Z(D)));if(this.l(j)<0&&D.l(j)<0)return y(this.m()*D.m());const b=this.g.length+D.g.length,N=[];for(var V=0;V<2*b;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<D.g.length;M++){const L=this.i(V)>>>16,I=this.i(V)&65535,ie=D.i(M)>>>16,bt=D.i(M)&65535;N[2*V+2*M]+=I*bt,pt(N,2*V+2*M),N[2*V+2*M+1]+=L*bt,pt(N,2*V+2*M+1),N[2*V+2*M+1]+=I*ie,pt(N,2*V+2*M+1),N[2*V+2*M+2]+=L*ie,pt(N,2*V+2*M+2)}for(D=0;D<b;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=b;D<2*b;D++)N[D]=0;return new f(N,0)};function pt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function ut(D,b){this.g=D,this.h=b}function St(D,b){if(X(b))throw Error("division by zero");if(X(D))return new ut(A,A);if(tt(D))return b=St(Z(D),b),new ut(Z(b.g),Z(b.h));if(tt(b))return b=St(D,Z(b)),new ut(Z(b.g),b.h);if(D.g.length>30){if(tt(D)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var N=w,V=b;V.l(D)<=0;)N=Bt(N),V=Bt(V);var M=Dt(N,1),L=Dt(V,1);for(V=Dt(V,2),N=Dt(N,2);!X(V);){var I=L.add(V);I.l(D)<=0&&(M=M.add(N),L=I),V=Dt(V,1),N=Dt(N,1)}return b=ot(D,M.j(b)),new ut(M,b)}for(M=A;D.l(b)>=0;){for(N=Math.max(1,Math.floor(D.m()/b.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(N),I=L.j(b);tt(I)||I.l(D)>0;)N-=V,L=y(N),I=L.j(b);X(L)&&(L=w),M=M.add(L),D=ot(D,I)}return new ut(M,D)}s.B=function(D){return St(this,D).h},s.and=function(D){const b=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<b;V++)N[V]=this.i(V)&D.i(V);return new f(N,this.h&D.h)},s.or=function(D){const b=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<b;V++)N[V]=this.i(V)|D.i(V);return new f(N,this.h|D.h)},s.xor=function(D){const b=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<b;V++)N[V]=this.i(V)^D.i(V);return new f(N,this.h^D.h)};function Bt(D){const b=D.g.length+1,N=[];for(let V=0;V<b;V++)N[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(N,D.h)}function Dt(D,b){const N=b>>5;b%=32;const V=D.g.length-N,M=[];for(let L=0;L<V;L++)M[L]=b>0?D.i(L+N)>>>b|D.i(L+N+1)<<32-b:D.i(L+N);return new f(M,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,rr=f}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FT,xl,GT,$c,Tm,KT,QT,YT;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,p){if(p)t:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break t;v=v[U]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,U,q){for(var nt=Array(arguments.length-2),It=2;It<arguments.length;It++)nt[It-2]=arguments[It];return p.prototype[U].apply(S,nt)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const p=c.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function X(c,p){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let nt=0;nt<q;nt++)c[v+nt]=U[nt]}else c.push(U)}}class tt{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Z(c){f.setTimeout(()=>{throw c},0)}function ot(){var c=D;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class pt{constructor(){this.h=this.g=null}add(p,v){const S=ut.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ut=new tt(()=>new St,c=>c.reset());class St{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,Dt=!1,D=new pt,b=()=>{const c=Promise.resolve(void 0);Bt=()=>{c.then(N)}};function N(){for(var c;c=ot();){try{c.h.call(c.g)}catch(v){Z(v)}var p=ut;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ie(c,p){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}A(ie,M),ie.prototype.init=function(c,p){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),B=0;function W(c,p,v,S,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=U,this.key=++B,this.da=this.fa=!1}function rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tt(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function Ot(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function O(c){const p={};for(const v in c)p[v]=c[v];return p}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(c,p){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let q=0;q<G.length;q++)v=G[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function it(c){this.src=c,this.g={},this.h=0}it.prototype.add=function(c,p,v,S,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const nt=gt(c,p,S,U);return nt>-1?(p=c[nt],v||(p.fa=!1)):(p=new W(p,this.src,q,!!S,U),p.fa=v,c.push(p)),p};function ft(c,p){const v=p.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,p,void 0),q;(q=U>=0)&&Array.prototype.splice.call(S,U,1),q&&(rt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function gt(c,p,v,S){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==p&&q.capture==!!v&&q.ha==S)return U}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),Zt={};function Qt(c,p,v,S,U){if(Array.isArray(p)){for(let q=0;q<p.length;q++)Qt(c,p[q],v,S,U);return null}return v=bo(v),c&&c[bt]?c.J(p,v,m(S)?!!S.capture:!1,U):Cn(c,p,v,!1,S,U)}function Cn(c,p,v,S,U,q){if(!p)throw Error("Invalid event type");const nt=m(U)?!!U.capture:!!U;let It=Hi(c);if(It||(c[_t]=It=new it(c)),v=It.add(p,v,S,nt,q),v.proxy)return v;if(S=Fn(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)L||(U=nt),U===void 0&&(U=!1),c.addEventListener(p.toString(),S,U);else if(c.attachEvent)c.attachEvent(gn(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fn(){function c(v){return p.call(c.src,c.listener,v)}const p=ps;return c}function ji(c,p,v,S,U){if(Array.isArray(p))for(var q=0;q<p.length;q++)ji(c,p[q],v,S,U);else S=m(S)?!!S.capture:!!S,v=bo(v),c&&c[bt]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],v=gt(p,v,S,U),v>-1&&(rt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=Hi(c))&&(p=c.g[p.toString()],c=-1,p&&(c=gt(p,v,S,U)),(v=c>-1?p[c]:null)&&Bi(v))}function Bi(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[bt])ft(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(gn(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=Hi(p))?(ft(v,c),v.h==0&&(v.src=null,p[_t]=null)):rt(c)}}}function gn(c){return c in Zt?Zt[c]:Zt[c]="on"+c}function ps(c,p){if(c.da)c=!0;else{p=new ie(p,this);const v=c.listener,S=c.ha||c.src;c.fa&&Bi(c),c=v.call(S,p)}return c}function Hi(c){return c=c[_t],c instanceof it?c:null}var Ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function bo(c){return typeof c=="function"?c:(c[Ao]||(c[Ao]=function(p){return c.handleEvent(p)}),c[Ao])}function _e(){V.call(this),this.i=new it(this),this.M=this,this.G=null}A(_e,V),_e.prototype[bt]=!0,_e.prototype.removeEventListener=function(c,p,v,S){ji(this,c,p,v,S)};function Oe(c,p){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new M(p,c);else if(p instanceof M)p.target=p.target||c;else{var U=p;p=new M(S,c),et(p,U)}U=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=p.g=v[nt],U=gs(q,S,!0,p)&&U;if(q=p.g=c,U=gs(q,S,!0,p)&&U,U=gs(q,S,!1,p)&&U,v)for(nt=0;nt<v.length;nt++)q=p.g=v[nt],U=gs(q,S,!1,p)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let S=0;S<v.length;S++)rt(v[S]);delete c.g[p],c.h--}}this.G=null},_e.prototype.J=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},_e.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function gs(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let q=0;q<p.length;++q){const nt=p[q];if(nt&&!nt.da&&nt.capture==v){const It=nt.listener,me=nt.ha||nt.src;nt.fa&&ft(c.i,nt),U=It.call(me,S)!==!1&&U}}return U&&!S.defaultPrevented}function Yh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function lu(c){c.g=Yh(()=>{c.g=null,c.i&&(c.i=!1,lu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(c){V.call(this),this.h=c,this.g={}}A(_r,V);var wo=[];function Ro(c){Tt(c.g,function(p,v){this.g.hasOwnProperty(v)&&Bi(p)},c),c.g={}}_r.prototype.N=function(){_r.Z.N.call(this),Ro(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ys=f.JSON.stringify,Xh=f.JSON.parse,uu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function cu(){}function hu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){M.call(this,"d")}A(Be,M);function Nn(){M.call(this,"c")}A(Nn,M);var de={},fu=null;function ua(){return fu=fu||new _e}de.Ia="serverreachability";function du(c){M.call(this,de.Ia,c)}A(du,M);function oi(c){const p=ua();Oe(p,new du(p))}de.STAT_EVENT="statevent";function vr(c,p){M.call(this,de.STAT_EVENT,c),this.stat=p}A(vr,M);function ve(c){const p=ua();Oe(p,new vr(p,c))}de.Ja="timingevent";function li(c,p){M.call(this,de.Ja,c),this.size=p}A(li,M);function ui(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function $h(c,p,v,S,U,q){c.info(function(){if(c.g)if(q){var nt="",It=q.split("&");for(let Ft=0;Ft<It.length;Ft++){var me=It[Ft].split("=");if(me.length>1){const le=me[0];me=me[1];const Mn=le.split("_");nt=Mn.length>=2&&Mn[1]=="type"?nt+(le+"="+me+"&"):nt+(le+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+p+`
`+v+`
`+nt})}function mu(c,p,v,S,U,q,nt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+p+`
`+v+`
`+q+" "+nt})}function ci(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Zh(c,v)+(S?" "+S:"")})}function Er(c,p){c.info(function(){return"TIMEOUT: "+p})}Kn.prototype.info=function(){};function Zh(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let nt=1;nt<S.length;nt++)S[nt]=""}}}}return ys(q)}catch{return p}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function Sr(){}A(Sr,cu),Sr.prototype.g=function(){return new XMLHttpRequest},Co=new Sr;function qi(c){return encodeURIComponent(String(c))}function pu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Qn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.S=S||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Ee={},ke={};function hi(c,p,v){c.M=1,c.A=Ar(Se(p)),c.u=v,c.R=!0,ca(c,null)}function ca(c,p){c.F=Date.now(),fi(c),c.B=Se(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ma(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Yn,c.g=Du(c.j,v?p:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(wo[0]=U.toString()),U=wo);for(let q=0;q<U.length;q++){const nt=Qt(v,U[q],S||p.handleEvent,!1,p.h||p);if(!nt)break;p.g[nt.key]=nt}p=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),oi(),$h(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Zn(c)==3?p.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)t:{const It=Zn(this.g),me=this.g.ya(),Ft=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||It!=4||me==7||(me==8||Ft<=0?oi(3):oi(2)),di(this);var p=this.g.ca();this.X=p;var v=Jh(this);if(this.o=p==200,mu(this.i,this.v,this.B,this.l,this.S,It,p),this.o){if(this.U&&!this.L){e:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var q=S;break e}}q=null}if(c=q)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,ve(12),yn(this),Dn(this);break t}}if(this.R){c=!0;let le;for(;!this.K&&this.C<v.length;)if(le=yu(this,v),le==ke){It==4&&(this.m=4,ve(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,ve(15),ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,le,null),mi(this,le);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,ve(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(nt),nt.P=!0,ve(11))}}else ci(this.i,this.l,v,null),mi(this,v);It==4&&yn(this),this.o&&!this.K&&(It==4?Ru(this.j,this):(this.o=!1,fi(this)))}else Gi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),yn(this),Dn(this)}}}catch{}finally{}};function Jh(c){if(!gu(c))return c.g.la();const p=He(c.g);if(p==="")return"";let v="";const S=p.length,U=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),Dn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(p[q],{stream:!(U&&q==S-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function gu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?ke:(v=Number(p.substring(v,S)),isNaN(v)?Ee:(S+=1,S+v>p.length?ke:(p=p.slice(S,S+v),c.C=S+v,p)))}Qn.prototype.cancel=function(){this.K=!0,yn(this)};function fi(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(y(c.aa,c),p)}function di(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Er(this.i,this.B),this.M!=2&&(oi(),ve(17)),yn(this),this.m=2,Dn(this)):ha(this,this.T-c)};function Dn(c){c.j.I==0||c.K||Ru(c.j,c)}function yn(c){di(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Ro(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function mi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),ws(v);else break t;Dr(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(y(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((c.L||v.g==c)&&va(v),!I(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let Ft=U[p];const le=Ft[0];if(!(le<=v.K))if(v.K=le,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Mn=Ft[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const Ai=Ft[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Jn=Ft[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(S=1.5*Jn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Wn=c.g;if(Wn){const Or=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var q=S.h;q.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Oo(q,q.h),q.h=null))}if(S.G){const Ea=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(S.wa=Ea,Yt(S.J,S.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var nt=c;if(S.na=Nu(S,S.L?S.ba:null,S.W),nt.L){xo(S.h,nt);var It=nt,me=S.O;me&&(It.H=me),It.D&&(di(It),fi(It)),S.g=nt}else bu(S);v.i.length>0&&Ti(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Si(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Si(v,7):Bo(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}oi(4)}catch{}}var Te=class{constructor(c,p){this.g=c,this.map=p}};function No(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Do(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function gi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Oo(c,p){c.g?c.g.add(p):c.h=p}function xo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}No.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return j(c.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let U,q=null;S>=0?(U=c[v].substring(0,S),q=c[v].substring(S+1)):U=c[v],p(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof _n?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,_s(this,c.u),this.h=c.h,Vo(this,Su(c.i)),this.m=c.m):c&&(p=String(c).match(_u))?(this.l=!1,Le(this,p[1]||"",!0),this.o=yi(p[2]||""),this.g=yi(p[3]||"",!0),_s(this,p[4]),this.h=yi(p[5]||"",!0),Vo(this,p[6]||"",!0),this.m=yi(p[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}_n.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(br(p,da,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(br(p,da,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(br(v,v.charAt(0)=="/"?ko:vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",br(v,Eu)),c.join("")},_n.prototype.resolve=function(c){const p=Se(this);let v=!!c.j;v?Le(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var S=c.h;if(v)_s(p,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=p.h.lastIndexOf("/");U!=-1&&(S=p.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let nt=0;nt<U.length;){const It=U[nt++];It=="."?S&&nt==U.length&&q.push(""):It==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&nt==U.length&&q.push("")):(q.push(It),S=!0)}S=q.join("/")}else S=U}return v?p.h=S:v=c.i.toString()!=="",v?Vo(p,Su(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Se(c){return new _n(c)}function Le(c,p,v){c.j=v?yi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function _s(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Vo(c,p,v){p instanceof Es?(c.i=p,pa(c.i,c.l)):(v||(p=br(p,vs)),c.i=new Es(p,c.l))}function Yt(c,p,v){c.i.set(p,v)}function Ar(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function br(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,vu=/[#\?:]/g,ko=/[#\?]/g,vs=/[#\?@]/g,Eu=/#/g;function Es(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=Es.prototype,s.add=function(c,p){ln(this),this.i=null,c=Ts(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Tu(c,p){ln(c),p=Ts(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Lo(c,p){return ln(c),p=Ts(c,p),c.g.has(p)}s.forEach=function(c,p){ln(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(p,U,S,this)},this)},this)};function Uo(c,p){ln(c);let v=[];if(typeof p=="string")Lo(c,p)&&(v=v.concat(c.g.get(Ts(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}s.set=function(c,p){return ln(this),this.i=null,c=Ts(this,c),Lo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},s.get=function(c,p){return c?(c=Uo(this,c),c.length>0?String(c[0]):p):p};function ma(c,p,v){Tu(c,p),v.length>0&&(c.i=null,c.g.set(Ts(c,p),j(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const U=qi(v);v=Uo(this,v);for(let q=0;q<v.length;q++){let nt=U;v[q]!==""&&(nt+="="+qi(v[q])),c.push(nt)}}return this.i=c.join("&")};function Su(c){const p=new Es;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Ts(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function pa(c,p){p&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(Tu(this,S),ma(this,U,v))},c)),c.j=p}function Xn(c,p){const v=new Kn;if(f.Image){const S=new Image;S.onload=E(On,v,"TestLoadImage: loaded",!0,p,S),S.onerror=E(On,v,"TestLoadImage: error",!1,p,S),S.onabort=E(On,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(On,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Po(c,p){const v=new Kn,S=new AbortController,U=setTimeout(()=>{S.abort(),On(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?On(v,"TestPingServer: ok",!0,p):On(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),On(v,"TestPingServer: error",!1,p)})}function On(c,p,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Ss(){this.g=new uu}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}A(_i,cu),_i.prototype.g=function(){return new wr(this.i,this.h)};function wr(c,p){_e.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(wr,_e),s=wr.prototype,s.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,$n(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?As(this):$n(this),this.readyState==3&&ga(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,As(this))},s.Na=function(c){this.g&&(this.response=c,As(this))},s.ga=function(){this.g&&As(this)};function As(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}s.setRequestHeader=function(c,p){this.A.append(c,p)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let p="";return Tt(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Rr(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=xn(v),typeof c=="string"?v!=null&&qi(v):Yt(c,p,v))}function Jt(c){_e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Jt,_e);var vi=/^https?$/i,zo=["POST","PUT"];s=Jt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){Ir(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(zo,p,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ir(this,q)}};function Ir(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,jo(c),Fi(c)}function jo(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Fi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},s.Xa=function(){Cr(this)};function Cr(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=q===0){let nt=String(c.D).match(_u)[1]||null;!nt&&f.self&&f.self.location&&(nt=f.self.location.protocol.slice(0,-1)),S=!vi.test(nt?nt.toLowerCase():"")}v=S}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var U=Zn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",jo(c)}}finally{Fi(c)}}}}function Fi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Xh(p)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const p={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=pu(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=p[U]||[];p[U]=q,q.push(v)}Ot(p,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function bs(c){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new No(c&&c.concurrentRequestLimit),this.Ba=new Ss,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=bs.prototype,s.ka=8,s.I=1,s.connect=function(c,p,v,S){ve(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Nu(this,null,this.W),Ti(this)};function Bo(c){if(ya(c),c.I==3){var p=c.V++,v=Se(c.J);if(Yt(v,"SID",c.M),Yt(v,"RID",p),Yt(v,"TYPE","terminate"),Nr(c,v),p=new Qn(c,c.j,p),p.M=2,p.A=Ar(Se(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Du(p.j,null),p.g.ea(p.A)),p.F=Date.now(),fi(p)}Cu(c)}function ws(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function ya(c){ws(c),c.v&&(f.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ti(c){if(!Do(c.h)&&!c.m){c.m=!0;var p=c.Ea;Bt||b(),Dt||(Bt(),Dt=!0),D.add(p,c),c.D=0}}function _a(c,p){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(y(c.Ea,c,p),Iu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=O(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Au(this,U,p),v=Se(this.J),Yt(v,"RID",c),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),Nr(this,v),q&&(this.R?p="headers="+qi(xn(q))+"&"+p:this.u&&Rr(v,this.u,q)),Oo(this.h,U),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",p),Yt(v,"SID","null"),U.U=!0,hi(U,v,null)):hi(U,v,p),this.I=2}}else this.I==3&&(c?Ho(this,c):this.i.length==0||Do(this.h)||Ho(this))};function Ho(c,p){var v;p?v=p.l:v=c.V++;const S=Se(c.J);Yt(S,"SID",c.M),Yt(S,"RID",v),Yt(S,"AID",c.K),Nr(c,S),c.u&&c.o&&Rr(S,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Au(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Oo(c.h,v),hi(v,S,p)}function Nr(c,p){c.H&&Tt(c.H,function(v,S){Yt(p,S,v)}),c.l&&Tt({},function(v,S){Yt(p,S,v)})}function Au(c,p,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let It=-1;for(;;){const me=["count="+v];It==-1?v>0?(It=U[0].g,me.push("ofs="+It)):It=0:me.push("ofs="+It);let Ft=!0;for(let le=0;le<v;le++){var q=U[le].g;const Mn=U[le].map;if(q-=It,q<0)It=Math.max(0,U[le].g-100),Ft=!1;else try{q="req"+q+"_"||"";try{var nt=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ai,Jn]of nt){let Wn=Jn;m(Jn)&&(Wn=ys(Jn)),me.push(q+Ai+"="+encodeURIComponent(Wn))}}catch(Ai){throw me.push(q+"type="+encodeURIComponent("_badmap")),Ai}}catch{S&&S(Mn)}}if(Ft){nt=me.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),p.G=c,nt}function bu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Bt||b(),Dt||(Bt(),Dt=!0),D.add(p,c),c.A=0}}function Dr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(y(c.Da,c),Iu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ws(this),wu(this))};function qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function wu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Se(c.na);Yt(p,"RID","rpc"),Yt(p,"SID",c.M),Yt(p,"AID",c.K),Yt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(p,"TO",c.ia),Yt(p,"TYPE","xmlhttp"),Nr(c,p),c.u&&c.o&&Rr(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ar(Se(p)),v.u=null,v.R=!0,ca(v,c)}s.Va=function(){this.C!=null&&(this.C=null,ws(this),Dr(this),ve(19))};function va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ru(c,p){var v=null;if(c.g==p){va(c),qo(c),c.g=null;var S=2}else if(gi(c.h,p))v=p.G,xo(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;S=ua(),Oe(S,new li(S,v)),Ti(c)}else bu(c);else if(U=p.m,U==3||U==0&&p.X>0||!(S==1&&_a(c,p)||S==2&&Dr(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),U){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Iu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Si(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),S=c.Ua;const U=!S;S=new _n(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(S,"https"),Ar(S),U?Xn(S.toString(),v):Po(S.toString(),v)}else ve(2);c.I=0,c.l&&c.l.pa(p),Cu(c),ya(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Cu(c){if(c.I=0,c.ja=[],c.l){const p=Mo(c.h);(p.length!=0||c.i.length!=0)&&(X(c.ja,p),X(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function Nu(c,p,v){var S=v instanceof _n?Se(v):new _n(v);if(S.g!="")p&&(S.g=p+"."+S.g),_s(S,S.u);else{var U=f.location;S=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const q=new _n(null);S&&Le(q,S),p&&(q.g=p),U&&_s(q,U),v&&(q.h=v),S=q}return v=c.G,p=c.wa,v&&p&&Yt(S,v,p),Yt(S,"VER",c.ka),Nr(c,S),S}function Du(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Jt(new _i({ab:v})):new Jt(c.ma),p.Fa(c.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}s=Ou.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Rs(){}Rs.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){_e.call(this),this.g=new bs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!I(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ki(this)}A(nn,_e),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Bo(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ys(c),c=v);p.i.push(new Te(p.Ya++,c)),p.I==3&&Ti(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,nn.Z.N.call(this)};function xu(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}A(xu,Be);function Mu(){Nn.call(this),this.status=1}A(Mu,Nn);function Ki(c){this.g=c}A(Ki,Ou),Ki.prototype.ra=function(){Oe(this.g,"a")},Ki.prototype.qa=function(c){Oe(this.g,new xu(c))},Ki.prototype.pa=function(c){Oe(this.g,new Mu)},Ki.prototype.oa=function(){Oe(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,YT=function(){return new Rs},QT=function(){return ua()},KT=de,Tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,$c=Tr,Io.COMPLETE="complete",GT=Io,hu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,xl=hu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,FT=Jt}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const qv="@firebase/firestore",Fv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new qm("@firebase/firestore");function Ja(){return na.logLevel}function at(s,...t){if(na.logLevel<=Lt.DEBUG){const n=t.map(tp);na.debug(`Firestore (${_o}): ${s}`,...n)}}function ds(s,...t){if(na.logLevel<=Lt.ERROR){const n=t.map(tp);na.error(`Firestore (${_o}): ${s}`,...n)}}function uo(s,...t){if(na.logLevel<=Lt.WARN){const n=t.map(tp);na.warn(`Firestore (${_o}): ${s}`,...n)}}function tp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,XT(s,r,n)}function XT(s,t,n){let r=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ds(r),new Error(r)}function Kt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||XT(t,o,r)}function Rt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends zi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class EI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class TI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class SI{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new cs,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new cs)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new $T(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class AI{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new AI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const r=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=RI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Ut(s,t){return s<t?-1:s>t?1:0}function Sm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return am(o)===am(u)?Ut(o,u):am(o)?1:-1}return Ut(s.length,t.length)}const II=55296,CI=57343;function am(s){const t=s.charCodeAt(0);return t>=II&&t<=CI}function co(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__name__";class Ci{constructor(t,n,r){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Et(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Ci.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ut(t.length,n.length)}static compareSegments(t,n){const r=Ci.isNumericId(t),o=Ci.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ci.extractNumericId(t).compare(Ci.extractNumericId(n)):Sm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rr.fromString(t.substring(4,t.length-2))}}class ae extends Ci{construct(t,n,r){return new ae(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const NI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Ci{construct(t,n,r){return new Ye(t,n,r)}static isValidIdentifier(t){return NI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kv}static keyField(){return new Ye([Kv])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ae.fromString(t))}static fromName(t){return new mt(ae.fromString(t).popFirst(5))}static empty(){return new mt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(s,t,n){if(!n)throw new ct(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function DI(s,t,n,r){if(t===!0&&r===!0)throw new ct(J.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Qv(s){if(!mt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Yv(s){if(mt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function JT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function np(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Et(12329,{type:typeof s})}function Li(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=np(s);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(s,t){const n={typeString:s};return t&&(n.value=t),n}function nu(s,t){if(!JT(s))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ct(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=-62135596800,$v=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*$v);return new oe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Xv)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(nu(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Xv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ce("string",oe._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new oe(0,0))}static max(){return new At(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function OI(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new oe(n+1,0):new oe(n,r));return new lr(o,mt.empty(),t)}function xI(s){return new lr(s.readTime,s.key,Gl)}class lr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(At.min(),mt.empty(),Gl)}static max(){return new lr(At.max(),mt.empty(),Gl)}}function MI(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(s.documentKey,t.documentKey),n!==0?n:Ut(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==VI)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,r)=>{n(t)}))}static reject(t){return new $(((n,r)=>{r(t)}))}static waitFor(t){return new $(((n,r)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>r(g)))})),f=!0,u===o&&n()}))}static or(t){let n=$.resolve(!1);for(const r of t)n=n.next((o=>o?$.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new $(((r,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&r(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new $(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function LI(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=-1;function Nh(s){return s==null}function ch(s){return s===0&&1/s==-1/0}function UI(s){return typeof s=="number"&&Number.isInteger(s)&&!ch(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="";function PI(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Zv(t)),t=zI(s.get(n),t);return Zv(t)}function zI(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case WT:n+="";break;default:n+=u}}return n}function Zv(s){return s+WT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function gr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function t0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zc(this.root,t,this.comparator,!0)}}class zc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Qe(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wv(this.data.getIterator())}getIteratorFrom(t){return new Wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class Wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Rn([])}unionWith(t){let n=new Ve(Ye.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Rn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return co(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new e0("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const jI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(Kt(!!s,39018),typeof s=="string"){let t=0;const n=jI.exec(s);if(Kt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?Xe.fromBase64String(s):Xe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="server_timestamp",i0="__type__",s0="__previous_value__",r0="__local_write_time__";function sp(s){return(s?.mapValue?.fields||{})[i0]?.stringValue===n0}function Dh(s){const t=s.mapValue.fields[s0];return sp(t)?Dh(t):t}function Kl(s){const t=ur(s.mapValue.fields[r0].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t,n,r,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const hh="(default)";class Ql{constructor(t,n){this.projectId=t,this.database=n||hh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===hh}isEqual(t){return t instanceof Ql&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="__type__",HI="__max__",jc={mapValue:{}},o0="__vector__",fh="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?sp(s)?4:FI(s)?9007199254740991:qI(s)?10:11:Et(28295,{value:s})}function Ui(s,t){if(s===t)return!0;const n=hr(s);if(n!==hr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Kl(s).isEqual(Kl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ur(o.timestampValue),m=ur(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return cr(o.bytesValue).isEqual(cr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ye(o.doubleValue),m=ye(u.doubleValue);return f===m?ch(f)===ch(m):isNaN(f)&&isNaN(m)}return!1})(s,t);case 9:return co(s.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Jv(f)!==Jv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Ui(f[g],m[g])))return!1;return!0})(s,t);default:return Et(52216,{left:s})}}function Yl(s,t){return(s.values||[]).find((n=>Ui(n,t)))!==void 0}function ho(s,t){if(s===t)return 0;const n=hr(s),r=hr(t);if(n!==r)return Ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ye(u.integerValue||u.doubleValue),g=ye(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,t);case 3:return tE(s.timestampValue,t.timestampValue);case 4:return tE(Kl(s),Kl(t));case 5:return Sm(s.stringValue,t.stringValue);case 6:return(function(u,f){const m=cr(u),g=cr(f);return m.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ut(m[y],g[y]);if(E!==0)return E}return Ut(m.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Ut(ye(u.latitude),ye(f.latitude));return m!==0?m:Ut(ye(u.longitude),ye(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return eE(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[fh]?.arrayValue,E=g[fh]?.arrayValue,A=Ut(y?.values?.length||0,E?.values?.length||0);return A!==0?A:eE(y,E)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===jc.mapValue&&f===jc.mapValue)return 0;if(u===jc.mapValue)return 1;if(f===jc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const w=Sm(g[A],E[A]);if(w!==0)return w;const j=ho(m[g[A]],y[E[A]]);if(j!==0)return j}return Ut(g.length,E.length)})(s.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function tE(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const n=ur(s),r=ur(t),o=Ut(n.seconds,r.seconds);return o!==0?o:Ut(n.nanos,r.nanos)}function eE(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=ho(n[o],r[o]);if(u)return u}return Ut(n.length,r.length)}function fo(s){return Am(s)}function Am(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ur(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return cr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return mt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Am(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Am(n.fields[f])}`;return o+"}"})(s.mapValue):Et(61005,{value:s})}function Zc(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dh(s);return t?16+Zc(t):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Zc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return gr(r.fields,((u,f)=>{o+=u.length+Zc(f)})),o})(s.mapValue);default:throw Et(13486,{value:s})}}function bm(s){return!!s&&"integerValue"in s}function rp(s){return!!s&&"arrayValue"in s}function nE(s){return!!s&&"nullValue"in s}function iE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Jc(s){return!!s&&"mapValue"in s}function qI(s){return(s?.mapValue?.fields||{})[a0]?.stringValue===o0}function Pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return gr(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Pl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pl(s.arrayValue.values[n]);return t}return{...s}}function FI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===HI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Jc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pl(n)}setAll(t){let n=Ye.emptyPath(),r={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Pl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){gr(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new pn(Pl(this.value))}}function l0(s){const t=[];return gr(s.fields,((n,r)=>{const o=new Ye([n]);if(Jc(r)){const u=l0(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Rn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n,r,o,u,f,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new We(t,0,At.min(),At.min(),At.min(),pn.empty(),0)}static newFoundDocument(t,n,r,o){return new We(t,1,n,At.min(),r,o,0)}static newNoDocument(t,n){return new We(t,2,n,At.min(),At.min(),pn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,At.min(),At.min(),pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,n){this.position=t,this.inclusive=n}}function sE(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=mt.comparator(mt.fromName(f.referenceValue),n.key):r=ho(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function rE(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ui(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n="asc"){this.field=t,this.dir=n}}function GI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{}class Me extends u0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new QI(t,n,r):n==="array-contains"?new $I(t,r):n==="in"?new ZI(t,r):n==="not-in"?new JI(t,r):n==="array-contains-any"?new WI(t,r):new Me(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new YI(t,r):new XI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends u0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Pi(t,n)}matches(t){return c0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function c0(s){return s.op==="and"}function h0(s){return KI(s)&&c0(s)}function KI(s){for(const t of s.filters)if(t instanceof Pi)return!1;return!0}function wm(s){if(s instanceof Me)return s.field.canonicalString()+s.op.toString()+fo(s.value);if(h0(s))return s.filters.map((t=>wm(t))).join(",");{const t=s.filters.map((n=>wm(n))).join(",");return`${s.op}(${t})`}}function f0(s,t){return s instanceof Me?(function(r,o){return o instanceof Me&&r.op===o.op&&r.field.isEqual(o.field)&&Ui(r.value,o.value)})(s,t):s instanceof Pi?(function(r,o){return o instanceof Pi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&f0(f,o.filters[m])),!0):!1})(s,t):void Et(19439)}function d0(s){return s instanceof Me?(function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`})(s):s instanceof Pi?(function(n){return n.op.toString()+" {"+n.getFilters().map(d0).join(" ,")+"}"})(s):"Filter"}class QI extends Me{constructor(t,n,r){super(t,n,r),this.key=mt.fromName(r.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class YI extends Me{constructor(t,n){super(t,"in",n),this.keys=m0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class XI extends Me{constructor(t,n){super(t,"not-in",n),this.keys=m0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function m0(s,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class $I extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return rp(n)&&Yl(n.arrayValue,this.value)}}class ZI extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class JI extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class WI extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t,n=null,r=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function aE(s,t=null,n=[],r=[],o=null,u=null,f=null){return new tC(s,t,n,r,o,u,f)}function ap(s){const t=Rt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>wm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Nh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>fo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>fo(r))).join(",")),t.Te=n}return t.Te}function op(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!GI(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!f0(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!rE(s.startAt,t.startAt)&&rE(s.endAt,t.endAt)}function Rm(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,n=null,r=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eC(s,t,n,r,o,u,f,m){return new Oh(s,t,n,r,o,u,f,m)}function lp(s){return new Oh(s)}function oE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function nC(s){return s.collectionGroup!==null}function zl(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ve(Ye.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new mh(u,r))})),n.has(Ye.keyField().canonicalString())||t.Ie.push(new mh(Ye.keyField(),r))}return t.Ie}function xi(s){const t=Rt(s);return t.Ee||(t.Ee=iC(t,zl(s))),t.Ee}function iC(s,t){if(s.limitType==="F")return aE(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new mh(o.field,u)}));const n=s.endAt?new dh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new dh(s.startAt.position,s.startAt.inclusive):null;return aE(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Im(s,t,n){return new Oh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function xh(s,t){return op(xi(s),xi(t))&&s.limitType===t.limitType}function p0(s){return`${ap(xi(s))}|lt:${s.limitType}`}function Wa(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>d0(o))).join(", ")}]`),Nh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>fo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>fo(o))).join(",")),`Target(${r})`})(xi(s))}; limitType=${s.limitType})`}function Mh(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):mt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of zl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,m,g){const y=sE(f,m,g);return f.inclusive?y<=0:y<0})(r.startAt,zl(r),o)||r.endAt&&!(function(f,m,g){const y=sE(f,m,g);return f.inclusive?y>=0:y>0})(r.endAt,zl(r),o))})(s,t)}function sC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function g0(s){return(t,n)=>{let r=!1;for(const o of zl(s)){const u=rC(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function rC(s,t,n){const r=s.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?ho(g,y):Et(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){gr(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return t0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new ce(mt.comparator);function ms(){return aC}const y0=new ce(mt.comparator);function Ml(...s){let t=y0;for(const n of s)t=t.insert(n.key,n);return t}function _0(s){let t=y0;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function $r(){return jl()}function v0(){return jl()}function jl(){return new oa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const oC=new ce(mt.comparator),lC=new Ve(mt.comparator);function Pt(...s){let t=lC;for(const n of s)t=t.add(n);return t}const uC=new Ve(Ut);function cC(){return uC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(t)?"-0":t}}function E0(s){return{integerValue:""+s}}function hC(s,t){return UI(t)?E0(t):up(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function fC(s,t,n){return s instanceof ph?(function(o,u){const f={fields:{[i0]:{stringValue:n0},[r0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&sp(u)&&(u=Dh(u)),u&&(f.fields[s0]=u),{mapValue:f}})(n,t):s instanceof Xl?S0(s,t):s instanceof $l?A0(s,t):(function(o,u){const f=T0(o,u),m=lE(f)+lE(o.Ae);return bm(f)&&bm(o.Ae)?E0(m):up(o.serializer,m)})(s,t)}function dC(s,t,n){return s instanceof Xl?S0(s,t):s instanceof $l?A0(s,t):n}function T0(s,t){return s instanceof gh?(function(r){return bm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class ph extends Vh{}class Xl extends Vh{constructor(t){super(),this.elements=t}}function S0(s,t){const n=b0(t);for(const r of s.elements)n.some((o=>Ui(o,r)))||n.push(r);return{arrayValue:{values:n}}}class $l extends Vh{constructor(t){super(),this.elements=t}}function A0(s,t){let n=b0(t);for(const r of s.elements)n=n.filter((o=>!Ui(o,r)));return{arrayValue:{values:n}}}class gh extends Vh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function lE(s){return ye(s.integerValue||s.doubleValue)}function b0(s){return rp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function mC(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof Xl&&o instanceof Xl||r instanceof $l&&o instanceof $l?co(r.elements,o.elements,Ui):r instanceof gh&&o instanceof gh?Ui(r.Ae,o.Ae):r instanceof ph&&o instanceof ph})(s.transform,t.transform)}class pC{constructor(t,n){this.version=t,this.transformResults=n}}class ri{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ri}static exists(t){return new ri(void 0,t)}static updateTime(t){return new ri(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class kh{}function w0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new cp(s.key,ri.none()):new iu(s.key,s.data,ri.none());{const n=s.data,r=pn.empty();let o=new Ve(Ye.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new yr(s.key,r,new Rn(o.toArray()),ri.none())}}function gC(s,t,n){s instanceof iu?(function(o,u,f){const m=o.value.clone(),g=cE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,t,n):s instanceof yr?(function(o,u,f){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=cE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(R0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Bl(s,t,n,r){return s instanceof iu?(function(u,f,m,g){if(!Wc(u.precondition,f))return m;const y=u.value.clone(),E=hE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,t,n,r):s instanceof yr?(function(u,f,m,g){if(!Wc(u.precondition,f))return m;const y=hE(u.fieldTransforms,g,f),E=f.data;return E.setAll(R0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,t,n,r):(function(u,f,m){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,t,n)}function yC(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=T0(r.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(r.field,u))}return n||null}function uE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&co(r,o,((u,f)=>mC(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class iu extends kh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yr extends kh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function R0(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function cE(s,t,n){const r=new Map;Kt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=t.data.field(u.field);r.set(u.field,dC(f,m,n[o]))}return r}function hE(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,fC(u,f,t))}return r}class cp extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _C extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&gC(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Bl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Bl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=v0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=w0(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&co(this.mutations,t.mutations,((n,r)=>uE(n,r)))&&co(this.baseMutations,t.baseMutations,((n,r)=>uE(n,r)))}}class hp{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return oC})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new hp(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,jt;function SC(s){switch(s){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:s})}}function I0(s){if(s===void 0)return ds("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ie.OK:return J.OK;case Ie.CANCELLED:return J.CANCELLED;case Ie.UNKNOWN:return J.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return J.INTERNAL;case Ie.UNAVAILABLE:return J.UNAVAILABLE;case Ie.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ie.NOT_FOUND:return J.NOT_FOUND;case Ie.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ie.ABORTED:return J.ABORTED;case Ie.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ie.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:s})}}(jt=Ie||(Ie={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new rr([4294967295,4294967295],0);function fE(s){const t=AC().encode(s),n=new qT;return n.update(t),new Uint8Array(n.digest())}function dE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new rr([n,r],0),new rr([o,u],0)]}class fp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(r<0)throw new Vl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=rr.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(rr.fromNumber(r)));return o.compare(bC)===1&&(o=new rr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=fE(t),[r,o]=dE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new fp(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=fE(t),[r,o]=dE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,su.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Lh(At.min(),o,new ce(Ut),ms(),Pt())}}class su{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new su(r,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class C0{constructor(t,n){this.targetId=t,this.Ce=n}}class N0{constructor(t,n,r=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class mE{constructor(){this.ve=0,this.Fe=pE(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),n=Pt(),r=Pt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Et(38017,{changeType:u})}})),new su(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=pE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ms(),this.Je=Bc(),this.He=Bc(),this.Ye=new ce(Ut)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Rm(u))if(r===0){const f=new mt(u.path);this.et(n,f,We.newNoDocument(f,At.min()))}else Kt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=cr(r).toUint8Array()}catch(g){if(g instanceof e0)return uo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new fp(f,o,u)}catch(g){return uo(g instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Rm(m.target)){const g=new mt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,We.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Pt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Lh(t,n,this.Ye,this.je,r);return this.je=ms(),this.Je=Bc(),this.He=Bc(),this.Ye=new ce(Ut),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new mE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ve(Ut),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ve(Ut),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new mE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Bc(){return new ce(mt.comparator)}function pE(){return new ce(mt.comparator)}const RC={asc:"ASCENDING",desc:"DESCENDING"},IC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CC={and:"AND",or:"OR"};class NC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Cm(s,t){return s.useProto3Json||Nh(t)?t:{value:t}}function yh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function D0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function DC(s,t){return yh(s,t.toTimestamp())}function Mi(s){return Kt(!!s,49232),At.fromTimestamp((function(n){const r=ur(n);return new oe(r.seconds,r.nanos)})(s))}function dp(s,t){return Nm(s,t).canonicalString()}function Nm(s,t){const n=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function O0(s){const t=ae.fromString(s);return Kt(L0(t),10190,{key:t.toString()}),t}function Dm(s,t){return dp(s.databaseId,t.path)}function om(s,t){const n=O0(t);if(n.get(1)!==s.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new mt(M0(n))}function x0(s,t){return dp(s.databaseId,t)}function OC(s){const t=O0(s);return t.length===4?ae.emptyPath():M0(t)}function Om(s){return new ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function M0(s){return Kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function gE(s,t,n){return{name:Dm(s,t),fields:n.value.mapValue.fields}}function xC(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Kt(E===void 0||typeof E=="string",58123),Xe.fromBase64String(E||"")):(Kt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xe.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:I0(y.code);return new ct(E,y.message||"")})(f);n=new N0(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=om(s,r.document.name),u=Mi(r.document.updateTime),f=r.document.createTime?Mi(r.document.createTime):At.min(),m=new pn({mapValue:{fields:r.document.fields}}),g=We.newFoundDocument(o,u,f,m),y=r.targetIds||[],E=r.removedTargetIds||[];n=new th(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=om(s,r.document),u=r.readTime?Mi(r.readTime):At.min(),f=We.newNoDocument(o,u),m=r.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=om(s,r.document),u=r.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new TC(o,u),m=r.targetId;n=new C0(m,f)}}return n}function MC(s,t){let n;if(t instanceof iu)n={update:gE(s,t.key,t.value)};else if(t instanceof cp)n={delete:Dm(s,t.key)};else if(t instanceof yr)n={update:gE(s,t.key,t.data),updateMask:HC(t.fieldMask)};else{if(!(t instanceof _C))return Et(16599,{Vt:t.type});n={verify:Dm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof ph)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Et(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:DC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(s,t.precondition)),n}function VC(s,t){return s&&s.length>0?(Kt(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Mi(o.updateTime):Mi(u);return f.isEqual(At.min())&&(f=Mi(u)),new pC(f,o.transformResults||[])})(n,t)))):[]}function kC(s,t){return{documents:[x0(s,t.path)]}}function LC(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=x0(s,o);const u=(function(y){if(y.length!==0)return k0(Pi.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:to(w.field),direction:zC(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Cm(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function UC(s){let t=OC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const w=V0(A);return w instanceof Pi&&h0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((w=>(function(X){return new mh(eo(X.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let w;return w=typeof A=="object"?A.value:A,Nh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(A){const w=!!A.before,j=A.values||[];return new dh(j,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const w=!A.before,j=A.values||[];return new dh(j,w)})(n.endAt)),eC(t,o,f,u,m,"F",g,y)}function PC(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function V0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=eo(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return Me.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return Me.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Me.create(eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Pi.create(n.compositeFilter.filters.map((r=>V0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(s):Et(30097,{filter:s})}function zC(s){return RC[s]}function jC(s){return IC[s]}function BC(s){return CC[s]}function to(s){return{fieldPath:s.canonicalString()}}function eo(s){return Ye.fromServerFormat(s.fieldPath)}function k0(s){return s instanceof Me?(function(n){if(n.op==="=="){if(iE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(nE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(nE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:jC(n.op),value:n.value}}})(s):s instanceof Pi?(function(n){const r=n.getFilters().map((o=>k0(o)));return r.length===1?r[0]:{compositeFilter:{op:BC(n.op),filters:r}}})(s):Et(54877,{filter:s})}function HC(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function L0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,n,r,o,u=At.min(),f=At.min(),m=Xe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t){this.yt=t}}function FC(s){const t=UC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Im(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.Cn=new KC}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(lr.min())}updateCollectionGroup(t,n,r){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class KC{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Ve(ae.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ve(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U0=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(U0,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="LruGarbageCollector",QC=1048576;function vE([s,t],[n,r]){const o=Ut(s,n);return o===0?Ut(t,r):o}class YC{constructor(t){this.Ir=t,this.buffer=new Ve(vE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XC{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(_E,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?at(_E,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Vr(3e5)}))}}class $C{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Ch.ce);const r=new YC(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(yE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(r=A,m=Date.now(),this.removeTargets(t,r,n)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(y=Date.now(),Ja()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function ZC(s,t){return new $C(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.changes=new oa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&Bl(r.mutation,o,Rn.empty(),oe.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Pt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Pt()){const o=$r();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=Ml();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=$r();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Pt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,r,o){let u=ms();const f=jl(),m=(function(){return jl()})();return n.forEach(((g,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof yr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Bl(E.mutation,y,E.mutation.getFieldMask(),oe.now())):f.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new WC(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=jl();let o=new ce(((f,m)=>f-m)),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=r.get(g)||Rn.empty();E=m.applyToLocalView(y,E),r.set(g,E);const A=(o.get(m.batchId)||Pt()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,A=v0();E.forEach((w=>{if(!u.has(w)){const j=w0(n.get(w),r.get(w));j!==null&&A.set(w,j),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):nC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):$.resolve($r());let m=Gl,g=u;return f.next((y=>$.forEach(y,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Pt()))).next((E=>({batchId:m,changes:_0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((r=>{let o=Ml();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=Ml();return this.indexManager.getCollectionParents(t,u).next((m=>$.forEach(m,(g=>{const y=(function(A,w){return new Oh(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((E=>{E.forEach(((A,w)=>{f=f.insert(A,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,We.newInvalidDocument(E)))}));let m=Ml();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Bl(E.mutation,y,Rn.empty(),oe.now()),Mh(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:FC(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.overlays=new ce(mt.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const r=$r();return $.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,n,r){const o=$r(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new ce(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=u.get(y.largestBatchId);E===null&&(E=$r(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=$r(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return $.resolve(m)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new EC(n,r));let u=this.qr.get(n);u===void 0&&(u=Pt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Pe(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Pe(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new mt(new ae([])),r=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new mt(new ae([])),r=new Pe(n,t),o=new Pe(n,t+1);let u=Pt();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Pe(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return mt.comparator(t.key,n.key)||Ut(t.Yr,n.Yr)}static Kr(t,n){return Ut(t.Yr,n.Yr)||mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new vC(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ip:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ve(Ut);return n.forEach((o=>{const u=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{r=r.add(m.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;mt.isDocumentKey(u)||(u=u.child(""));const f=new Pe(new mt(u),0);let m=new Ve(Ut);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),$.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,(o=>{const u=new Pe(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Pe(n,0),o=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t){this.ri=t,this.docs=(function(){return new ce(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let r=ms();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))})),$.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=ms();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||MI(xI(E),r)<=0||(o.has(E.key)||Mh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,r,o){Et(9500)}ii(t,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new a2(this)}getSize(t){return $.resolve(this.size)}}class a2 extends JC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t){this.persistence=t,this.si=new oa((n=>ap(n)),op),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new mp,this.targetCount=0,this.ai=mo.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new mo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),$.waitFor(u).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t,n){this.ui={},this.overlays={},this.ci=new Ch(0),this.li=!1,this.li=!0,this.hi=new i2,this.referenceDelegate=t(this),this.Pi=new o2(this),this.indexManager=new GC,this.remoteDocumentCache=(function(o){return new r2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new qC(n),this.Ii=new e2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new n2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new s2(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){at("MemoryPersistence","Starting transaction:",t);const o=new l2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class l2 extends kI{constructor(t){super(),this.currentSequenceNumber=t}}class pp{constructor(t){this.persistence=t,this.Ri=new mp,this.Vi=null}static mi(t){return new pp(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const o=mt.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class _h{constructor(t,n){this.persistence=t,this.pi=new oa((r=>PI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=ZC(this,n)}static mi(t,n){return new _h(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return $.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?$.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(r++,u.removeEntry(f,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Zc(t.data.value)),n}br(t,n,r){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return $.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gp(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jb()?8:LI(tn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new u2;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(Ja()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ja()<=Lt.DEBUG&&at("QueryEngine","Query:",Wa(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ja()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):$.resolve())}ys(t,n){if(oE(n))return $.resolve(null);let r=xi(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Im(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=Pt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,r).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,Im(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,r,o){return oE(n)||o.isEqual(At.min())?$.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?$.resolve(null):(Ja()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.vs(t,f,n,OI(o,Gl)).next((m=>m)))}))}Ds(t,n){let r=new Ve(g0(t));return n.forEach(((o,u)=>{Mh(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return Ja()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ps.getDocumentsMatchingQuery(t,n,lr.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="LocalStore",h2=3e8;class f2{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ce(Ut),this.xs=new oa((u=>ap(u)),op),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new t2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function d2(s,t,n,r){return new f2(s,t,n,r)}async function z0(s,t){const n=Rt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let g=Pt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function m2(s,t){const n=Rt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const A=y.batch,w=A.keys();let j=$.resolve();return w.forEach((X=>{j=j.next((()=>E.getEntry(g,X))).next((tt=>{const Z=y.docVersions.get(X);Kt(Z!==null,48541),tt.version.compareTo(Z)<0&&(A.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),E.addEntry(tt)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Pt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function j0(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function p2(s,t){const n=Rt(s),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,A)=>{const w=o.get(A);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A))));let j=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?j=j.withResumeToken(Xe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,r)),o=o.insert(A,j),(function(tt,Z,ot){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=h2?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(w,j,E)&&m.push(n.Pi.updateTargetData(u,j))}));let g=ms(),y=Pt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(g2(u,f,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!r.isEqual(At.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return $.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function g2(s,t,n){let r=Pt(),o=Pt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=ms();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(At.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):at(yp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function y2(s,t){const n=Rt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ip),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function _2(s,t){const n=Rt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,$.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new er(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function xm(s,t,n){const r=Rt(s),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eo(f))throw f;at(yp,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function EE(s,t,n){const r=Rt(s);let o=At.min(),u=Pt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const A=Rt(g),w=A.xs.get(E);return w!==void 0?$.resolve(A.Ms.get(w)):A.Pi.getTargetData(y,E)})(r,f,xi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:Pt()))).next((m=>(v2(r,sC(t),m),{documents:m,Qs:u})))))}function v2(s,t,n){let r=s.Os.get(t)||At.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class TE{constructor(){this.activeTargetIds=cC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class E2{constructor(){this.Mo=new TE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new TE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="ConnectivityMonitor";class AE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(SE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(SE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function Mm(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="RestConnection",S2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===hh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const f=Mm(),m=this.zo(t,n.toUriEncodedString());at(lm,`Sending RPC '${t}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=mr(y);return this.Jo(t,m,g,r,E).then((A=>(at(lm,`Received RPC '${t}' ${f}: `,A),A)),(A=>{throw uo(lm,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",r),A}))}Ho(t,n,r,o,u,f){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=S2[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class w2 extends A2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const f=Mm();return new Promise(((m,g)=>{const y=new FT;y.setWithCredentials(!0),y.listenOnce(GT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case $c.NO_ERROR:const A=y.getResponseJson();at(Ze,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case $c.TIMEOUT:at(Ze,`RPC '${t}' ${f} timed out`),g(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const w=y.getStatus();if(at(Ze,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j?.error;if(X&&X.status&&X.message){const tt=(function(ot){const pt=ot.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(pt)>=0?pt:J.UNKNOWN})(X.status);g(new ct(tt,X.message))}else g(new ct(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ct(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Ze,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);at(Ze,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(t,n,r){const o=Mm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=YT(),m=QT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const E=u.join("");at(Ze,`Creating RPC '${t}' stream ${o}: ${E}`,g);const A=f.createWebChannel(E,g);this.I_(A);let w=!1,j=!1;const X=new b2({Yo:Z=>{j?at(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(w||(at(Ze,`Opening RPC '${t}' stream ${o} transport.`),A.open(),w=!0),at(Ze,`RPC '${t}' stream ${o} sending:`,Z),A.send(Z))},Zo:()=>A.close()}),tt=(Z,ot,pt)=>{Z.listen(ot,(ut=>{try{pt(ut)}catch(St){setTimeout((()=>{throw St}),0)}}))};return tt(A,xl.EventType.OPEN,(()=>{j||(at(Ze,`RPC '${t}' stream ${o} transport opened.`),X.o_())})),tt(A,xl.EventType.CLOSE,(()=>{j||(j=!0,at(Ze,`RPC '${t}' stream ${o} transport closed`),X.a_(),this.E_(A))})),tt(A,xl.EventType.ERROR,(Z=>{j||(j=!0,uo(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),X.a_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),tt(A,xl.EventType.MESSAGE,(Z=>{if(!j){const ot=Z.data[0];Kt(!!ot,16349);const pt=ot,ut=pt?.error||pt[0]?.error;if(ut){at(Ze,`RPC '${t}' stream ${o} received error:`,ut);const St=ut.status;let Bt=(function(b){const N=Ie[b];if(N!==void 0)return I0(N)})(St),Dt=ut.message;Bt===void 0&&(Bt=J.INTERNAL,Dt="Unknown error status: "+St+" with message "+ut.message),j=!0,X.a_(new ct(Bt,Dt)),A.close()}else at(Ze,`RPC '${t}' stream ${o} received:`,ot),X.u_(ot)}})),tt(m,KT.STAT_EVENT,(Z=>{Z.stat===Tm.PROXY?at(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===Tm.NOPROXY&&at(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(s){return new NC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="PersistentStream";class H0{constructor(t,n,r,o,u,f,m,g){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new ct(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(bE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(at(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R2 extends H0{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=xC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?Mi(f.readTime):At.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Om(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Rm(g)?{documents:kC(u,g)}:{query:LC(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=D0(u,f.resumeToken);const y=Cm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const y=Cm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const r=PC(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Om(this.serializer),n.removeTarget=t,this.q_(n)}}class I2 extends H0{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=VC(t.writeResults,t.commitTime),r=Mi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Om(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>MC(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{}class N2 extends C2{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Nm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(J.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Nm(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class D2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class O2{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{la(this)&&(at(ia,"Restarting streams for network reachability change."),await(async function(g){const y=Rt(g);y.Ea.add(4),await ru(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ph(y)})(this))}))})),this.Ra=new D2(r,o)}}async function Ph(s){if(la(s))for(const t of s.da)await t(!0)}async function ru(s){for(const t of s.da)await t(!1)}function q0(s,t){const n=Rt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Tp(n)?Ep(n):To(n).O_()&&vp(n,t))}function _p(s,t){const n=Rt(s),r=To(n);n.Ia.delete(t),r.O_()&&F0(n,t),n.Ia.size===0&&(r.O_()?r.L_():la(n)&&n.Ra.set("Unknown"))}function vp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}To(s).Y_(t)}function F0(s,t){s.Va.Ue(t),To(s).Z_(t)}function Ep(s){s.Va=new wC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),To(s).start(),s.Ra.ua()}function Tp(s){return la(s)&&!To(s).x_()&&s.Ia.size>0}function la(s){return Rt(s).Ea.size===0}function G0(s){s.Va=void 0}async function x2(s){s.Ra.set("Online")}async function M2(s){s.Ia.forEach(((t,n)=>{vp(s,t)}))}async function V2(s,t){G0(s),Tp(s)?(s.Ra.ha(t),Ep(s)):s.Ra.set("Unknown")}async function k2(s,t,n){if(s.Ra.set("Online"),t instanceof N0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(s,t)}catch(r){at(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await vh(s,r)}else if(t instanceof th?s.Va.Ze(t):t instanceof C0?s.Va.st(t):s.Va.tt(t),!n.isEqual(At.min()))try{const r=await j0(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xe.EMPTY_BYTE_STRING,E.snapshotVersion)),F0(u,g);const A=new er(E.target,g,y,E.sequenceNumber);vp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){at(ia,"Failed to raise snapshot:",r),await vh(s,r)}}async function vh(s,t,n){if(!Eo(t))throw t;s.Ea.add(1),await ru(s),s.Ra.set("Offline"),n||(n=()=>j0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(ia,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Ph(s)}))}function K0(s,t){return t().catch((n=>vh(s,n,t)))}async function zh(s){const t=Rt(s),n=fr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ip;for(;L2(t);)try{const o=await y2(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,U2(t,o)}catch(o){await vh(t,o)}Q0(t)&&Y0(t)}function L2(s){return la(s)&&s.Ta.length<10}function U2(s,t){s.Ta.push(t);const n=fr(s);n.O_()&&n.X_&&n.ea(t.mutations)}function Q0(s){return la(s)&&!fr(s).x_()&&s.Ta.length>0}function Y0(s){fr(s).start()}async function P2(s){fr(s).ra()}async function z2(s){const t=fr(s);for(const n of s.Ta)t.ea(n.mutations)}async function j2(s,t,n){const r=s.Ta.shift(),o=hp.from(r,t,n);await K0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await zh(s)}async function B2(s,t){t&&fr(s).X_&&await(async function(r,o){if((function(f){return SC(f)&&f!==J.ABORTED})(o.code)){const u=r.Ta.shift();fr(r).B_(),await K0(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await zh(r)}})(s,t),Q0(s)&&Y0(s)}async function wE(s,t){const n=Rt(s);n.asyncQueue.verifyOperationInProgress(),at(ia,"RemoteStore received new credentials");const r=la(n);n.Ea.add(3),await ru(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ph(n)}async function H2(s,t){const n=Rt(s);t?(n.Ea.delete(2),await Ph(n)):t||(n.Ea.add(2),await ru(n),n.Ra.set("Unknown"))}function To(s){return s.ma||(s.ma=(function(n,r,o){const u=Rt(n);return u.sa(),new R2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:x2.bind(null,s),t_:M2.bind(null,s),r_:V2.bind(null,s),H_:k2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Tp(s)?Ep(s):s.Ra.set("Unknown")):(await s.ma.stop(),G0(s))}))),s.ma}function fr(s){return s.fa||(s.fa=(function(n,r,o){const u=Rt(n);return u.sa(),new I2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:P2.bind(null,s),r_:B2.bind(null,s),ta:z2.bind(null,s),na:j2.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,m=new Sp(t,n,f,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(s,t){if(ds("AsyncQueue",`${t}: ${s}`),Eo(s))return new ct(J.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||mt.comparator(n.key,r.key):(n,r)=>mt.comparator(n.key,r.key),this.keyedMap=Ml(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.ga=new ce(mt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class po{constructor(t,n,r,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new po(t,n,ao.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class F2{constructor(){this.queries=IE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Rt(n),u=o.queries;o.queries=IE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function IE(){return new oa((s=>p0(s)),xh)}async function X0(s,t){const n=Rt(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new q2,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Ap(f,`Initialization of query '${Wa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&bp(n)}async function $0(s,t){const n=Rt(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function G2(s,t){const n=Rt(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(r=!0);f.wa=o}}r&&bp(n)}function K2(s,t,n){const r=Rt(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function bp(s){s.Ca.forEach((t=>{t.next()}))}var Vm,CE;(CE=Vm||(Vm={})).Ma="default",CE.Cache="cache";class Z0{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new po(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=po.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t){this.key=t}}class W0{constructor(t){this.key=t}}class Q2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=g0(t),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new RE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,A)=>{const w=o.get(E),j=Mh(this.query,A)?A:null,X=!!w&&this.mutatedKeys.has(w.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;w&&j?w.data.isEqual(j.data)?X!==tt&&(r.track({type:3,doc:j}),Z=!0):this.su(w,j)||(r.track({type:2,doc:j}),Z=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(m=!0)):!w&&j?(r.track({type:0,doc:j}),Z=!0):w&&!j&&(r.track({type:1,doc:w}),Z=!0,(g||y)&&(m=!0)),Z&&(j?(f=f.add(j),u=tt?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,A)=>(function(j,X){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:Z})}};return tt(j)-tt(X)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new po(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new W0(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new J0(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Pt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wp="SyncEngine";class Y2{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class X2{constructor(t){this.key=t,this.hu=!1}}class $2{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new oa((m=>p0(m)),xh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(mt.comparator),this.Au=new Map,this.Ru=new mp,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z2(s,t,n=!0){const r=rS(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await tS(r,t,n,!0),o}async function J2(s,t){const n=rS(s);await tS(n,t,!0,!1)}async function tS(s,t,n,r){const o=await _2(s.localStore,xi(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await W2(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&q0(s.remoteStore,o),m}async function W2(s,t,n,r,o){s.pu=(A,w,j)=>(async function(tt,Z,ot,pt){let ut=Z.view.ru(ot);ut.Cs&&(ut=await EE(tt.localStore,Z.query,!1).then((({documents:D})=>Z.view.ru(D,ut))));const St=pt&&pt.targetChanges.get(Z.targetId),Bt=pt&&pt.targetMismatches.get(Z.targetId)!=null,Dt=Z.view.applyChanges(ut,tt.isPrimaryClient,St,Bt);return DE(tt,Z.targetId,Dt.au),Dt.snapshot})(s,A,w,j);const u=await EE(s.localStore,t,!0),f=new Q2(t,u.Qs),m=f.ru(u.documents),g=su.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,g);DE(s,n,y.au);const E=new Y2(t,n,f);return s.Tu.set(t,E),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),y.snapshot}async function tN(s,t,n){const r=Rt(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!xh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await xm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&_p(r.remoteStore,o.targetId),km(r,o.targetId)})).catch(vo)):(km(r,o.targetId),await xm(r.localStore,o.targetId,!0))}async function eN(s,t){const n=Rt(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_p(n.remoteStore,r.targetId))}async function nN(s,t,n){const r=uN(s);try{const o=await(function(f,m){const g=Rt(f),y=oe.now(),E=m.reduce(((j,X)=>j.add(X.key)),Pt());let A,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let X=ms(),tt=Pt();return g.Ns.getEntries(j,E).next((Z=>{X=Z,X.forEach(((ot,pt)=>{pt.isValidDocument()||(tt=tt.add(ot))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,X))).next((Z=>{A=Z;const ot=[];for(const pt of m){const ut=yC(pt,A.get(pt.key).overlayedDocument);ut!=null&&ot.push(new yr(pt.key,ut,l0(ut.value.mapValue),ri.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,ot,m)})).next((Z=>{w=Z;const ot=Z.applyToLocalDocumentSet(A,tt);return g.documentOverlayCache.saveOverlays(j,Z.batchId,ot)}))})).then((()=>({batchId:w.batchId,changes:_0(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ce(Ut)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,n),await au(r,o.changes),await zh(r.remoteStore)}catch(o){const u=Ap(o,"Failed to persist write");n.reject(u)}}async function eS(s,t){const n=Rt(s);try{const r=await p2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Kt(f.hu,14607):o.removedDocuments.size>0&&(Kt(f.hu,42227),f.hu=!1))})),await au(n,r,t)}catch(r){await vo(r)}}function NE(s,t,n){const r=Rt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Rt(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,A)=>{for(const w of A.Sa)w.va(m)&&(y=!0)})),y&&bp(g)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function iN(s,t,n){const r=Rt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new ce(mt.comparator);f=f.insert(u,We.newNoDocument(u,At.min()));const m=Pt().add(u),g=new Lh(At.min(),new Map,new ce(Ut),f,m);await eS(r,g),r.du=r.du.remove(u),r.Au.delete(t),Rp(r)}else await xm(r.localStore,t,!1).then((()=>km(r,t,n))).catch(vo)}async function sN(s,t){const n=Rt(s),r=t.batch.batchId;try{const o=await m2(n.localStore,t);iS(n,r,null),nS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await au(n,o)}catch(o){await vo(o)}}async function rN(s,t,n){const r=Rt(s);try{const o=await(function(f,m){const g=Rt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((A=>(Kt(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(r.localStore,t);iS(r,t,n),nS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await au(r,o)}catch(o){await vo(o)}}function nS(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function iS(s,t,n){const r=Rt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function km(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||sS(s,r)}))}function sS(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(_p(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Rp(s))}function DE(s,t,n){for(const r of n)r instanceof J0?(s.Ru.addReference(r.key,t),aN(s,r)):r instanceof W0?(at(wp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||sS(s,r.key)):Et(19791,{wu:r})}function aN(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(at(wp,"New document in limbo: "+n),s.Eu.add(r),Rp(s))}function Rp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new mt(ae.fromString(t)),r=s.fu.next();s.Au.set(r,new X2(n)),s.du=s.du.insert(n,r),q0(s.remoteStore,new er(xi(lp(n.path)),r,"TargetPurposeLimboResolution",Ch.ce))}}async function au(s,t,n){const r=Rt(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{f.push(r.pu(g,t,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=gp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(g,y){const E=Rt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(w=>$.forEach(w.Es,(j=>E.persistence.referenceDelegate.addReference(A,w.targetId,j))).next((()=>$.forEach(w.ds,(j=>E.persistence.referenceDelegate.removeReference(A,w.targetId,j)))))))))}catch(A){if(!Eo(A))throw A;at(yp,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const j=E.Ms.get(w),X=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion(X);E.Ms=E.Ms.insert(w,tt)}}})(r.localStore,u))}async function oN(s,t){const n=Rt(s);if(!n.currentUser.isEqual(t)){at(wp,"User change. New user:",t.toKey());const r=await z0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ct(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await au(n,r.Ls)}}function lN(s,t){const n=Rt(s),r=n.Au.get(t);if(r&&r.hu)return Pt().add(r.key);{let o=Pt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function rS(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=eS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iN.bind(null,t),t.Pu.H_=G2.bind(null,t.eventManager),t.Pu.yu=K2.bind(null,t.eventManager),t}function uN(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rN.bind(null,t),t}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return d2(this.persistence,new c2,t.initialUser,this.serializer)}Cu(t){return new P0(pp.mi,this.serializer)}Du(t){return new E2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class cN extends Eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof _h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XC(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new P0((r=>_h.mi(r,n)),this.serializer)}}class Lm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oN.bind(null,this.syncEngine),await H2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new F2})()}createDatastore(t){const n=Uh(t.databaseInfo.databaseId),r=(function(u){return new w2(u)})(t.databaseInfo);return(function(u,f,m,g){return new N2(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,m){return new O2(r,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>NE(this.syncEngine,n,0)),(function(){return AE.v()?new AE:new T2})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const A=new $2(o,u,f,m,g,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Rt(n);at(ia,"RemoteStore shutting down."),r.Ea.add(5),await ru(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lm.provider={build:()=>new Lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="FirestoreClient";class hN{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{at(dr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(at(dr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ap(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function cm(s,t){s.asyncQueue.verifyOperationInProgress(),at(dr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await z0(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function OE(s,t){s.asyncQueue.verifyOperationInProgress();const n=await fN(s);at(dr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>wE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>wE(t.remoteStore,o))),s._onlineComponents=t}async function fN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(dr,"Using user provided OfflineComponentProvider");try{await cm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await cm(s,new Eh)}}else at(dr,"Using default OfflineComponentProvider"),await cm(s,new cN(void 0));return s._offlineComponents}async function oS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(dr,"Using user provided OnlineComponentProvider"),await OE(s,s._uninitializedComponentsProvider._online)):(at(dr,"Using default OnlineComponentProvider"),await OE(s,new Lm))),s._onlineComponents}function dN(s){return oS(s).then((t=>t.syncEngine))}async function lS(s){const t=await oS(s),n=t.eventManager;return n.onListen=Z2.bind(null,t.syncEngine),n.onUnlisten=tN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=J2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eN.bind(null,t.syncEngine),n}function mN(s,t,n={}){const r=new cs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new aS({next:w=>{E.Nu(),f.enqueueAndForget((()=>$0(u,A)));const j=w.docs.has(m);!j&&w.fromCache?y.reject(new ct(J.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&w.fromCache&&g&&g.source==="server"?y.reject(new ct(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new Z0(lp(m.path),E,{includeMetadataChanges:!0,qa:!0});return X0(u,A)})(await lS(s),s.asyncQueue,t,n,r))),r.promise}function pN(s,t,n={}){const r=new cs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new aS({next:w=>{E.Nu(),f.enqueueAndForget((()=>$0(u,A))),w.fromCache&&g.source==="server"?y.reject(new ct(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new Z0(m,E,{includeMetadataChanges:!0,qa:!0});return X0(u,A)})(await lS(s),s.asyncQueue,t,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="firestore.googleapis.com",ME=!0;class VE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cS,this.ssl=ME}else this.host=t.host,this.ssl=t.ssl??ME;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=U0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QC)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jh{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new EI;switch(r.type){case"firstParty":return new bI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=xE.get(n);r&&(at("ComponentProvider","Removing Datastore"),xE.delete(n),r.terminate())})(this),Promise.resolve()}}function gN(s,t,n,r={}){s=Li(s,jh);const o=mr(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${t}:${n}`;o&&(Bm(`https://${m}`),Hm("Firestore",!0)),u.host!==cS&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:r};if(!Wr(g,f)&&(s._setSettings(g),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=Je.MOCK_USER;else{y=sT(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Je(A)}s._authCredentials=new TI(new $T(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Bh(this.firestore,t,this._query)}}class Ne{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(nu(n,Ne._jsonSchema))return new Ne(t,r||null,new mt(ae.fromString(n.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Ce("string",Ne._jsonSchemaVersion),referencePath:Ce("string")};class ar extends Bh{constructor(t,n,r){super(t,n,lp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new mt(t))}withConverter(t){return new ar(this.firestore,t,this._path)}}function Hh(s,t,...n){if(s=De(s),ZT("collection","path",t),s instanceof jh){const r=ae.fromString(t,...n);return Yv(r),new ar(s,null,r)}{if(!(s instanceof Ne||s instanceof ar))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(t,...n));return Yv(r),new ar(s.firestore,null,r)}}function Xr(s,t,...n){if(s=De(s),arguments.length===1&&(t=ep.newId()),ZT("doc","path",t),s instanceof jh){const r=ae.fromString(t,...n);return Qv(r),new Ne(s,null,new mt(r))}{if(!(s instanceof Ne||s instanceof ar))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(t,...n));return Qv(r),new Ne(s.firestore,s instanceof ar?s.converter:null,new mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class LE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B0(this,"async_queue_retry"),this._c=()=>{const r=um();r&&at(kE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Eo(t))throw t;at(kE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",UE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Sp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:UE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function UE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class So extends jh{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new LE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new LE(t),this._firestoreClient=void 0,await t}}}function yN(s,t){const n=typeof s=="object"?s:Gm(),r=typeof s=="string"?s:hh,o=Ah(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=eT("firestore");u&&gN(o,...u)}return o}function Ip(s){if(s._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||_N(s),s._firestoreClient}function _N(s){const t=s._freezeSettings(),n=(function(o,u,f,m){return new BI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,uS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new hN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Xe.fromBase64String(t))}catch(n){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(nu(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ce("string",qn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(nu(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Ce("string",Vi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(nu(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ki(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Ce("string",ki._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^__.*__$/;class EN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new yr(t,this.data,this.fieldMask,n,this.fieldTransforms):new iu(t,this.data,n,this.fieldTransforms)}}class hS{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new yr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function fS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:s})}}class Np{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Np({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Th(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(fS(this.Ac)&&vN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class TN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(t)}Cc(t,n,r,o=!1){return new Np({Ac:t,methodName:n,Dc:r,path:Ye.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dS(s){const t=s._freezeSettings(),n=Uh(s._databaseId);return new TN(s._databaseId,!!t.ignoreUndefinedProperties,n)}function SN(s,t,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,t,n,o);Dp("Data must be an object, but it was:",f,r);const m=mS(r,f);let g,y;if(u.merge)g=new Rn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const w=Um(t,A,n);if(!f.contains(w))throw new ct(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);gS(E,w)||E.push(w)}g=new Rn(E),y=f.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=f.fieldTransforms;return new EN(new pn(m),g,y)}class Fh extends Cp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fh}}function AN(s,t,n,r){const o=s.Cc(1,t,n);Dp("Data must be an object, but it was:",o,r);const u=[],f=pn.empty();gr(r,((g,y)=>{const E=Op(t,g,n);y=De(y);const A=o.yc(E);if(y instanceof Fh)u.push(E);else{const w=Gh(y,A);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Rn(u);return new hS(f,m,o.fieldTransforms)}function bN(s,t,n,r,o,u){const f=s.Cc(1,t,n),m=[Um(t,r,n)],g=[o];if(u.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Um(t,u[w])),g.push(u[w+1]);const y=[],E=pn.empty();for(let w=m.length-1;w>=0;--w)if(!gS(y,m[w])){const j=m[w];let X=g[w];X=De(X);const tt=f.yc(j);if(X instanceof Fh)y.push(j);else{const Z=Gh(X,tt);Z!=null&&(y.push(j),E.set(j,Z))}}const A=new Rn(y);return new hS(E,A,f.fieldTransforms)}function Gh(s,t){if(pS(s=De(s)))return Dp("Unsupported field value:",t,s),mS(s,t);if(s instanceof Cp)return(function(r,o){if(!fS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let g=Gh(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=De(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=oe.fromDate(r);return{timestampValue:yh(o.serializer,u)}}if(r instanceof oe){const u=new oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:D0(o.serializer,r._byteString)};if(r instanceof Ne){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return(function(f,m){return{mapValue:{fields:{[a0]:{stringValue:o0},[fh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return up(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${np(r)}`)})(s,t)}function mS(s,t){const n={};return t0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gr(s,((r,o)=>{const u=Gh(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function pS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof oe||s instanceof Vi||s instanceof qn||s instanceof Ne||s instanceof Cp||s instanceof ki)}function Dp(s,t,n){if(!pS(n)||!JT(n)){const r=np(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Um(s,t,n){if((t=De(t))instanceof qh)return t._internalPath;if(typeof t=="string")return Op(s,t);throw Th("Field path arguments must be of type string or ",s,!1,void 0,n)}const wN=new RegExp("[~\\*/\\[\\]]");function Op(s,t,n){if(t.search(wN)>=0)throw Th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new qh(...t.split("."))._internalPath}catch{throw Th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Th(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new ct(J.INVALID_ARGUMENT,m+s+g)}function gS(s,t){return s.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(_S("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RN extends yS{data(){return super.data()}}function _S(s,t){return typeof t=="string"?Op(s,t):t instanceof qh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CN{convertValue(t,n="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return gr(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[fh].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new ki(n)}convertGeoPoint(t){return new Vi(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Dh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kl(t));default:return null}}convertTimestamp(t){const n=ur(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ae.fromString(t);Kt(L0(r),9688,{name:t});const o=new Ql(r.get(1),r.get(3)),u=new mt(r.popFirst(5));return o.isEqual(n)||ds(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class kl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zr extends yS{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(_S("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Zr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:Ce("string",Zr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class eh extends Zr{data(t={}){return super.data(t)}}class oo{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new eh(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:DN(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=oo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(s){s=Li(s,Ne);const t=Li(s.firestore,So);return mN(Ip(t),s._key).then((n=>xN(t,s,n)))}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:Ce("string",oo._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class vS extends CN{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,n)}}function Kh(s){s=Li(s,Bh);const t=Li(s.firestore,So),n=Ip(t),r=new vS(t);return IN(s._query),pN(n,s._query).then((o=>new oo(t,r,s,o)))}function zE(s,t,n){s=Li(s,Ne);const r=Li(s.firestore,So),o=NN(s.converter,t);return xp(r,[SN(dS(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,ri.none())])}function Pm(s,t,n,...r){s=Li(s,Ne);const o=Li(s.firestore,So),u=dS(o);let f;return f=typeof(t=De(t))=="string"||t instanceof qh?bN(u,"updateDoc",s._key,t,n,r):AN(u,"updateDoc",s._key,t),xp(o,[f.toMutation(s._key,ri.exists(!0))])}function ON(s){return xp(Li(s.firestore,So),[new cp(s._key,ri.none())])}function xp(s,t){return(function(r,o){const u=new cs;return r.asyncQueue.enqueueAndForget((async()=>nN(await dN(r),o,u))),u.promise})(Ip(s),t)}function xN(s,t,n){const r=n.docs.get(t._key),o=new vS(s);return new Zr(s,o,t._key,r,new kl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){_o=o})(ra),ta(new or("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new So(new SI(r.getProvider("auth-internal")),new wI(f,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ni(qv,Fv,t),Ni(qv,Fv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firebasestorage.googleapis.com",TS="storageBucket",MN=120*1e3,VN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je extends zi{constructor(t,n,r=0){super(hm(t),`Firebase Storage: ${n} (${hm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,je.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return hm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function hm(s){return"storage/"+s}function SS(){const s="An unknown error occurred, please check the error payload for server response.";return new je(ze.UNKNOWN,s)}function kN(s){return new je(ze.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function LN(s){return new je(ze.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UN(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new je(ze.UNAUTHENTICATED,s)}function PN(){return new je(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zN(s){return new je(ze.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function jN(){return new je(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BN(){return new je(ze.CANCELED,"User canceled the upload/download.")}function HN(s){return new je(ze.INVALID_URL,"Invalid URL '"+s+"'.")}function qN(s){return new je(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function FN(){return new je(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+TS+"' property when initializing the app?")}function GN(){return new je(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zm(s){return new je(ze.INVALID_ARGUMENT,s)}function AS(){return new je(ze.APP_DELETED,"The Firebase app was deleted.")}function KN(s){return new je(ze.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cl(s){throw new je(ze.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=In.makeFromUrl(t,n)}catch{return new In(t,"")}if(r.path==="")return r;throw qN(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(St){St.path.charAt(St.path.length-1)==="/"&&(St.path_=St.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(St){St.path_=decodeURIComponent(St.path)}const E="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",j=new RegExp(`^https?://${A}/${E}/b/${o}/o${w}`,"i"),X={bucket:1,path:3},tt=n===ES?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Z="([^?#]*)",ot=new RegExp(`^https?://${tt}/${o}/${Z}`,"i"),ut=[{regex:m,indices:g,postModify:u},{regex:j,indices:X,postModify:y},{regex:ot,indices:{bucket:1,path:2},postModify:y}];for(let St=0;St<ut.length;St++){const Bt=ut[St],Dt=Bt.regex.exec(t);if(Dt){const D=Dt[Bt.indices.bucket];let b=Dt[Bt.indices.path];b||(b=""),r=new In(D,b),Bt.postModify(r);break}}if(r==null)throw HN(t);return r}}class QN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(s,t,n){let r=1,o=null,u=null,f=!1,m=0;function g(){return m===2}let y=!1;function E(...Z){y||(y=!0,t.apply(null,Z))}function A(Z){o=setTimeout(()=>{o=null,s(j,g())},Z)}function w(){u&&clearTimeout(u)}function j(Z,...ot){if(y){w();return}if(Z){w(),E.call(null,Z,...ot);return}if(g()||f){w(),E.call(null,Z,...ot);return}r<64&&(r*=2);let ut;m===1?(m=2,ut=0):ut=(r+Math.random())*1e3,A(ut)}let X=!1;function tt(Z){X||(X=!0,w(),!y&&(o!==null?(Z||(m=2),clearTimeout(o),A(0)):Z||(m=1)))}return A(0),u=setTimeout(()=>{f=!0,tt(!0)},n),tt}function XN(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(s){return s!==void 0}function ZN(s){return typeof s=="object"&&!Array.isArray(s)}function bS(s){return typeof s=="string"||s instanceof String}function jE(s,t,n,r){if(r<t)throw zm(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw zm(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(s,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${s}`}function RS(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=t(r)+"="+t(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Jr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Jr||(Jr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(s,t){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t,n,r,o,u,f,m,g,y,E,A,w=!0,j=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=A,this.retry=w,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((X,tt)=>{this.resolve_=X,this.reject_=tt,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new qc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Jr.NO_ERROR,g=u.getStatus();if(!m||JN(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Jr.ABORT;r(!1,new qc(!1,null,E));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new qc(y,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());$N(g)?u(g):u()}catch(g){f(g)}else if(m!==null){const g=SS();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(o.canceled){const g=this.appDelete_?AS():BN();f(g)}else{const g=jN();f(g)}};this.canceled_?n(!1,new qc(!1,null,!0)):this.backoffId_=YN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&XN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function tD(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function eD(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function nD(s,t){t&&(s["X-Firebase-GMPID"]=t)}function iD(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function sD(s,t,n,r,o,u,f=!0,m=!1){const g=RS(s.urlParams),y=s.url+g,E=Object.assign({},s.headers);return nD(E,t),tD(E,n),eD(E,u),iD(E,r),new WN(y,s.method,E,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(s){let t;try{t=JSON.parse(s)}catch{return null}return ZN(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function aD(s,t){const n=t.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function CS(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(s,t){return t}class rn{constructor(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||oD}}let Fc=null;function lD(s){return!bS(s)||s.length<2?s:CS(s)}function uD(){if(Fc)return Fc;const s=[];s.push(new rn("bucket")),s.push(new rn("generation")),s.push(new rn("metageneration")),s.push(new rn("name","fullPath",!0));function t(u,f){return lD(f)}const n=new rn("name");n.xform=t,s.push(n);function r(u,f){return f!==void 0?Number(f):f}const o=new rn("size");return o.xform=r,s.push(o),s.push(new rn("timeCreated")),s.push(new rn("updated")),s.push(new rn("md5Hash",null,!0)),s.push(new rn("cacheControl",null,!0)),s.push(new rn("contentDisposition",null,!0)),s.push(new rn("contentEncoding",null,!0)),s.push(new rn("contentLanguage",null,!0)),s.push(new rn("contentType",null,!0)),s.push(new rn("metadata","customMetadata",!0)),Fc=s,Fc}function cD(s,t){function n(){const r=s.bucket,o=s.fullPath,u=new In(r,o);return t._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function hD(s,t,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];r[f.local]=f.xform(r,t[f.server])}return cD(r,s),r}function fD(s,t,n){const r=IS(t);return r===null?null:hD(s,r,n)}function dD(s,t,n,r){const o=IS(t);if(o===null||!bS(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(y=>{const E=s.bucket,A=s.fullPath,w="/b/"+f(E)+"/o/"+f(A),j=wS(w,n,r),X=RS({alt:"media",token:y});return j+X})[0]}class mD{constructor(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(s){if(!s)throw SS()}function gD(s,t){function n(r,o){const u=fD(s,o,t);return pD(u!==null),dD(u,o,s.host,s._protocol)}return n}function yD(s){function t(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=PN():o=UN():n.getStatus()===402?o=LN(s.bucket):n.getStatus()===403?o=zN(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return t}function _D(s){const t=yD(s);function n(r,o){let u=t(r,o);return r.getStatus()===404&&(u=kN(s.path)),u.serverResponse=o.serverResponse,u}return n}function vD(s,t,n){const r=t.fullServerUrl(),o=wS(r,s.host,s._protocol),u="GET",f=s.maxOperationRetryTime,m=new mD(o,u,gD(s,n),f);return m.errorHandler=_D(t),m}class ED{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,o,u){if(this.sent_)throw Cl("cannot .send() more than once");if(mr(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class TD extends ED{initXhr(){this.xhr_.responseType="text"}}function SD(){return new TD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n){this._service=t,n instanceof In?this._location=n:this._location=In.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new sa(t,n)}get root(){const t=new In(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CS(this._location.path)}get storage(){return this._service}get parent(){const t=rD(this._location.path);if(t===null)return null;const n=new In(this._location.bucket,t);return new sa(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw KN(t)}}function AD(s){s._throwIfRoot("getDownloadURL");const t=vD(s.storage,s._location,uD());return s.storage.makeRequestWithTokens(t,SD).then(n=>{if(n===null)throw GN();return n})}function bD(s,t){const n=aD(s._location.path,t),r=new In(s._location.bucket,n);return new sa(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(s){return/^[A-Za-z]+:\/\//.test(s)}function RD(s,t){return new sa(s,t)}function NS(s,t){if(s instanceof Mp){const n=s;if(n._bucket==null)throw FN();const r=new sa(n,n._bucket);return t!=null?NS(r,t):r}else return t!==void 0?bD(s,t):s}function ID(s,t){if(t&&wD(t)){if(s instanceof Mp)return RD(s,t);throw zm("To use ref(service, url), the first argument must be a Storage instance.")}else return NS(s,t)}function BE(s,t){const n=t?.[TS];return n==null?null:In.makeFromBucketSpec(n,s)}function CD(s,t,n,r={}){s.host=`${t}:${n}`;const o=mr(t);o&&(Bm(`https://${s.host}/b`),Hm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:sT(u,s.app.options.projectId))}class Mp{constructor(t,n,r,o,u,f=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=ES,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MN,this._maxUploadRetryTime=VN,this._requests=new Set,o!=null?this._bucket=In.makeFromBucketSpec(o,this._host):this._bucket=BE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=In.makeFromBucketSpec(this._url,t):this._bucket=BE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){jE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){jE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new sa(this,t)}_makeRequest(t,n,r,o,u=!0){if(this._deleted)return new QN(AS());{const f=sD(t,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const HE="@firebase/storage",qE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="storage";function ND(s){return s=De(s),AD(s)}function DD(s,t){return s=De(s),ID(s,t)}function OD(s=Gm(),t){s=De(s);const r=Ah(s,DS).getImmediate({identifier:t}),o=eT("storage");return o&&xD(r,...o),r}function xD(s,t,n,r={}){CD(s,t,n,r)}function MD(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new Mp(n,r,o,t,ra)}function VD(){ta(new or(DS,MD,"PUBLIC").setMultipleInstances(!0)),Ni(HE,qE,""),Ni(HE,qE,"esm2020")}VD();const kD={apiKey:"AIzaSyAsRvsb-_QY_JAVz2GaRWifR95aCRiddLA",authDomain:"footballsanci.firebaseapp.com",databaseURL:"https://footballsanci-default-rtdb.europe-west1.firebasedatabase.app",projectId:"footballsanci",storageBucket:"footballsanci.firebasestorage.app",messagingSenderId:"108108129157",appId:"1:108108129157:web:c881c7b4d787677c43daec",measurementId:"G-VESXDYD12H"},Vp=oT(kD),fm=gI(Vp),ii=yN(Vp),LD=OD(Vp),OS=st.createContext(),Qh=()=>{const s=st.useContext(OS);if(!s)throw new Error("useAuth must be used within AuthProvider");return s};function UD({children:s}){const[t,n]=st.useState(null),[r,o]=st.useState(!0);st.useEffect(()=>sR(fm,g=>{n(g),o(!1)}),[]);const u=async(m,g)=>await eR(fm,m.trim(),g),f=async()=>{try{await rR(fm)}catch(m){console.error("Logout error:",m)}};return R.jsx(OS.Provider,{value:{currentUser:t,authLoading:r,login:u,logout:f},children:s})}const xS=st.createContext();function PD({children:s}){const[t,n]=st.useState([]),[r,o]=st.useState(""),[u,f]=st.useState(!0);return st.useEffect(()=>{(async()=>{try{const y=(await Kh(Hh(ii,"seasons"))).docs.map(E=>E.id).sort();n(y),y.length>0&&o(y[y.length-1])}catch(g){console.error("Error loading seasons:",g)}finally{f(!1)}})()},[]),R.jsx(xS.Provider,{value:{seasons:t,selectedSeason:r,setSelectedSeason:o,loadingSeasons:u},children:s})}function ou(){return st.useContext(xS)}function zD(){const{seasons:s,selectedSeason:t,setSelectedSeason:n,loadingSeasons:r}=ou(),[o,u]=st.useState("ranking"),f=["ranking","draw","history"],m=E=>{const A=document.getElementById(E);if(!A)return;const j=A.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:j,behavior:"smooth"}),u(E)};st.useEffect(()=>{const E=()=>{const A=window.scrollY+80;for(let w=f.length-1;w>=0;w--){const j=document.getElementById(f[w]);if(j&&A>=j.offsetTop){u(f[w]);break}}};return window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)},[]);const g=E=>{const A=E?.match(/\d+/);return A?`Season ${A[0]}`:E||"Season"},y=!r&&!!t&&s.length>0;return R.jsxs("header",{style:$s.header,children:[R.jsx("div",{style:$s.left,children:y?R.jsx("select",{style:$s.select,value:t,onChange:E=>n(E.target.value),children:s.map(E=>R.jsx("option",{value:E,style:$s.option,children:g(E)},E))}):R.jsx("div",{style:$s.seasonPlaceholder,children:"Season"})}),R.jsx("nav",{style:$s.right,children:f.map(E=>R.jsx("button",{style:{...$s.navBtn,...o===E?$s.navBtnActive:{}},onClick:()=>m(E),children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]})}const $s={header:{position:"fixed",top:0,left:0,right:0,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",color:"#fff",background:"rgba(8, 8, 10, 0.5)",backdropFilter:"blur(12px)",borderBottom:"1px solid rgba(255,255,255,0.08)",zIndex:1e3},left:{display:"flex",alignItems:"center",paddingLeft:"10px"},right:{display:"flex",alignItems:"center",gap:"0.6rem",paddingRight:"0.6rem"},select:{flex:"0 0 auto",width:"auto",color:"#fff",background:"transparent",border:"none",outline:"none",fontSize:"var(--font-normal)",fontWeight:500,lineHeight:1.2,cursor:"pointer",padding:"8px 22px 8px 6px",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 6" fill="white"><path d="M0 0l5 6 5-6H0z"/></svg>')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 6px center",backgroundSize:"10px 6px"},option:{color:"#000",backgroundColor:"#fff",fontSize:"var(--font-normal)"},seasonPlaceholder:{flex:"0 0 auto",padding:"8px 22px 8px 6px",fontSize:"var(--font-normal)",fontWeight:500,lineHeight:1.2,color:"#fff",whiteSpace:"nowrap"},navBtn:{background:"transparent",border:"none",color:"#fff",cursor:"pointer",opacity:.8,letterSpacing:"0.5px",fontSize:"var(--font-normal)",fontWeight:500,padding:"4px 6px",whiteSpace:"nowrap",transition:"opacity 0.2s ease, color 0.2s ease"},navBtnActive:{color:"#10B981",opacity:1,fontWeight:600}};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BD=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),FE=s=>{const t=BD(s);return t.charAt(0).toUpperCase()+t.slice(1)},MS=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),HD=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=st.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...m},g)=>st.createElement("svg",{ref:g,...qD,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:MS("lucide",o),...!u&&!HD(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,E])=>st.createElement(y,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=(s,t)=>{const n=st.forwardRef(({className:r,...o},u)=>st.createElement(FD,{ref:u,iconNode:t,className:MS(`lucide-${jD(FE(s))}`,`lucide-${s}`,r),...o}));return n.displayName=FE(s),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],KD=VS("arrow-up",GD);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],YD=VS("log-out",QD);function XD({visible:s,onClose:t}){const{login:n}=Qh(),[r,o]=st.useState(""),[u,f]=st.useState(""),[m,g]=st.useState(!1),[y,E]=st.useState("");if(!s)return null;const A=async()=>{E(""),g(!0);try{await n(r,u),t(),o(""),f("")}catch(X){E(X.message||"Login failed")}finally{g(!1)}},w=X=>{X.key==="Enter"&&r&&u&&!m&&A()},j=()=>{t(),o(""),f(""),E("")};return R.jsx("div",{style:an.overlay,onClick:j,children:R.jsxs("div",{style:an.modal,onClick:X=>X.stopPropagation(),children:[R.jsx("button",{style:an.closeButton,onClick:j,children:""}),R.jsx("div",{style:an.modalHeader,children:R.jsx("h2",{style:an.title,children:"Login"})}),R.jsxs("div",{style:an.formContainer,children:[R.jsxs("div",{style:an.inputGroup,children:[R.jsx("label",{style:an.label,htmlFor:"email",children:"Email"}),R.jsx("input",{id:"email",type:"email",value:r,onChange:X=>o(X.target.value),onKeyPress:w,style:an.input,placeholder:"you@example.com"})]}),R.jsxs("div",{style:an.inputGroup,children:[R.jsx("label",{style:an.label,htmlFor:"password",children:"Password"}),R.jsx("input",{id:"password",type:"password",value:u,onChange:X=>f(X.target.value),onKeyPress:w,style:an.input,placeholder:""})]}),y&&R.jsx("div",{style:an.error,children:y}),R.jsx("button",{onClick:A,disabled:m||!r||!u,style:{...an.submitButton,...m||!r||!u?an.submitButtonDisabled:{}},children:m?"Logging in...":"Log in"})]})]})})}const an={overlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},modal:{background:"rgba(10,10,10,0.95)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"32px",width:"92%",maxWidth:"420px",boxShadow:"0 0 40px rgba(16,185,129,0.25)",position:"relative"},closeButton:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",color:"rgba(255,255,255,0.6)",fontSize:"22px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},modalHeader:{marginBottom:"26px",textAlign:"center"},title:{fontSize:"var(--font-large)",fontWeight:700,color:"#fff",margin:0,textTransform:"uppercase",letterSpacing:"1px"},formContainer:{display:"flex",flexDirection:"column",gap:"18px"},inputGroup:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"var(--font-small)",color:"rgba(16,185,129,1)",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},input:{background:"rgba(6,78,59,0.15)",border:"1px solid rgba(16,185,129,0.3)",borderRadius:"8px",padding:"12px 16px",fontSize:"var(--font-normal)",color:"#fff",outline:"none"},error:{background:"rgba(239,68,68,0.15)",border:"1px solid rgba(239,68,68,0.4)",borderRadius:"8px",padding:"12px 16px",color:"rgba(239,68,68,1)",fontSize:"var(--font-small)",textAlign:"center"},submitButton:{marginTop:"6px",padding:"14px 24px",background:"linear-gradient(135deg, rgba(16,185,129,0.3), rgba(6,78,59,0.4))",border:"2px solid rgba(16,185,129,0.5)",borderRadius:"8px",color:"#fff",fontSize:"var(--font-normal)",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 4px 15px rgba(16,185,129,0.2)"},submitButtonDisabled:{opacity:.5,cursor:"not-allowed"}};function $D(){const{currentUser:s,logout:t}=Qh(),[n,r]=st.useState(!1);return R.jsxs(R.Fragment,{children:[R.jsxs("footer",{style:$a.footer,children:[R.jsxs("p",{style:$a.footerText,children:[s?R.jsx("span",{onClick:t,style:$a.logoutIcon,children:R.jsx(YD,{color:"red",size:20})}):R.jsx("span",{onClick:()=>r(!0),style:$a.loginTrigger,children:""})," ",new Date().getFullYear()," FootballSanci. All rights reserved."]}),R.jsxs("p",{style:$a.creditLine,children:["Made with  by Claudiu "," ",R.jsx("a",{href:"https://github.com/ImTheCloud/footballsanci-react",target:"_blank",rel:"noopener noreferrer",style:$a.link,children:"GitHub"})]})]}),R.jsx(XD,{visible:n,onClose:()=>r(!1)})]})}const $a={footer:{textAlign:"center",padding:"22px 0",background:"rgba(8,8,10,0.5)",backdropFilter:"blur(12px)",borderTop:"1px solid rgba(255,255,255,0.08)",color:"#fff",marginTop:"40px",position:"relative",zIndex:1e3},footerText:{fontSize:"var(--font-small)",margin:0,opacity:.85},creditLine:{fontSize:"var(--font-very-small)",marginTop:"6px",opacity:.85},link:{color:"#10B981",fontWeight:600,textDecoration:"none"},loginTrigger:{cursor:"pointer",fontWeight:600,fontSize:"var(--font-normal)"},logoutIcon:{cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",top:"4px"}};function ZD(){const[s,t]=st.useState(!1);st.useEffect(()=>{const r=()=>{t(window.scrollY>300)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return R.jsx("button",{onClick:n,style:{position:"fixed",bottom:"24px",right:"24px",width:"46px",height:"46px",borderRadius:"50%",border:"1px solid rgba(16, 185, 129, 0.5)",background:"rgba(8,8,10,0.6)",backdropFilter:"blur(10px)",color:"#10B981",display:s?"flex":"none",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:2e3,transition:"opacity 0.3s ease"},children:R.jsx(KD,{size:22})})}function JD(){const{selectedSeason:s}=ou(),[t,n]=st.useState(null),[r,o]=st.useState(0),u=window.innerWidth<600;st.useEffect(()=>{const m=()=>window.innerWidth<600;return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),st.useEffect(()=>{(async()=>{try{const m=await ND(DD(LD,`seasons/${s}.jpg`));n(m)}catch{n(null)}})()},[s]),st.useEffect(()=>{const m=()=>o(window.scrollY/4);return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const f=u?"140px":"220px";return R.jsxs(R.Fragment,{children:[R.jsx("style",{children:`
                @keyframes fadeOnly {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                `}),R.jsxs("div",{style:{...Qr.container,height:f},children:[t&&R.jsx("img",{src:t,alt:"",style:{...Qr.image,height:u?"150%":"130%",transform:`translateY(${r}px)`}}),!t&&R.jsxs("div",{style:Qr.fallbackBox,children:[R.jsx("div",{style:Qr.icon,children:""}),R.jsx("div",{style:Qr.fallbackText,children:"No picture for this season"})]}),R.jsx("div",{style:{...Qr.fadeTop,height:u?"28%":"40%"}}),R.jsx("div",{style:{...Qr.fadeBottom,height:u?"20%":"25%"}})]})]})}const Qr={container:{position:"relative",width:"100%",overflow:"hidden"},image:{width:"100%",objectFit:"cover",opacity:0,animation:"fadeIn 0.7s forwards"},fallbackBox:{position:"absolute",bottom:"19px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"row",alignItems:"center",gap:"14px",padding:"10px 32px",minWidth:"max-content",borderRadius:"22px",backdropFilter:"blur(6px)",background:"rgba(0,0,0,0.35)",border:"1px solid rgba(255,255,255,0.22)",animation:"fadeOnly 0.9s ease-out"},icon:{fontSize:"var(--font-large)",color:"white",filter:"drop-shadow(0 0 6px rgba(255,255,255,0.5))"},fallbackText:{color:"white",fontSize:"var(--font-large)",fontWeight:800,letterSpacing:"0.04rem",textShadow:"0 4px 15px rgba(0,0,0,0.55)"},fadeTop:{position:"absolute",top:0,left:0,right:0,background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},fadeBottom:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.5), transparent)"}},kS=(s=0,t=0,n=0,r=0)=>{const o=s+t+n,u=o>0?(s/o*100).toFixed(1):0,f=s*3+t+r,m=o>0?10*(.9*((3*s+t)/(3*o))+.1*Math.min(r/o,1)):0,g=Number(m.toFixed(2));return{matches:o,winrate:parseFloat(u),points:f,value:g}},WD=({onIncrement:s,onDecrement:t})=>R.jsxs("div",{className:"stat-controls",onClick:n=>n.stopPropagation(),children:[R.jsx("button",{className:"stat-btn stat-btn-minus",onClick:t,children:""}),R.jsx("button",{className:"stat-btn stat-btn-plus",onClick:s,children:"+"})]}),tO=({label:s,value:t,editable:n,currentUser:r,onUpdate:o,format:u})=>R.jsxs("div",{className:"stat-item",children:[R.jsx("span",{className:"stat-label",children:s}),R.jsxs("div",{className:"stat-value-row",children:[R.jsx("span",{className:"stat-value",children:u?u(t):t}),r&&n&&R.jsx(WD,{onIncrement:()=>o(1),onDecrement:()=>o(-1)})]})]}),eO=({player:s,currentUser:t,onUpdateField:n,statsConfig:r})=>R.jsx("div",{className:"ranking-item-details",children:R.jsx("div",{className:"stats-grid",children:r.map(({label:o,field:u,editable:f,format:m})=>R.jsx(tO,{label:o,value:u==="value"?Number(s.value||0).toFixed(2):s[u]||0,editable:f,currentUser:t,onUpdate:g=>n(s.id,u,g),format:m},u))})}),nO=({rank:s})=>R.jsx("div",{className:"rank-badge",children:R.jsx("span",{className:"rank-number",children:s})}),iO=({name:s})=>R.jsx("div",{className:"player-info",children:R.jsx("h3",{className:"player-name",children:s})}),sO=({playerId:s,fame:t,currentUser:n,onUpdate:r})=>{const o=st.useRef(null),u=st.useRef(null),[f,m]=st.useState(!1);return st.useEffect(()=>{const g=()=>{if(o.current&&u.current){const y=u.current.scrollWidth>o.current.offsetWidth;m(y),y&&u.current.style.setProperty("--container-width",`${o.current.offsetWidth}px`)}};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[t]),R.jsx("div",{className:"player-fame-container",ref:o,children:n?R.jsx("input",{type:"text",className:"player-fame fame-input",value:t||"",onChange:g=>r(s,g.target.value),onClick:g=>g.stopPropagation(),placeholder:"Enter fame..."}):t&&R.jsx("p",{ref:u,className:`player-fame ${f?"scrolling":""}`,children:t})})},rO=({points:s,value:t,rankColor:n})=>R.jsxs("div",{className:"player-points",children:[R.jsxs("div",{className:"points-group",children:[R.jsx("span",{className:`points-value ${n}`,children:Math.round(s||0)}),R.jsx("span",{className:"points-label",children:"Points"})]}),R.jsxs("div",{className:"value-group",children:[R.jsx("span",{className:`points-value ${n}`,children:Number(t||0).toFixed(2)}),R.jsx("span",{className:"points-label",children:"Value"})]})]}),aO=({player:s,rank:t,rankColor:n,isExpanded:r,onToggle:o,currentUser:u,onUpdateField:f,onUpdateFame:m,statsConfig:g})=>{const y=E=>{!E.target.closest(".stat-controls")&&!E.target.closest(".fame-input")&&o(s.id)};return R.jsxs("div",{className:`ranking-item ${n} ${r?"expanded":""}`,onClick:y,children:[R.jsxs("div",{className:"ranking-item-main",children:[R.jsx(nO,{rank:t}),R.jsx(iO,{name:s.name}),R.jsx(sO,{playerId:s.id,fame:s.fame,currentUser:u,onUpdate:m}),R.jsx(rO,{points:s.points,value:s.value,rankColor:n})]}),r&&R.jsx(eO,{player:s,currentUser:u,onUpdateField:f,statsConfig:g})]})},GE={1:"rank-gold",2:"rank-silver",3:"rank-bronze",default:"rank-default"},oO=[{label:"Winrate",field:"winrate",editable:!1,format:s=>`${s}%`},{label:"Matches",field:"matches",editable:!1},{label:"Wins",field:"wins",editable:!0},{label:"Losses",field:"losses",editable:!0},{label:"Draws",field:"draws",editable:!0},{label:"Bonus 5 Goal",field:"bonus5goal",editable:!0}],KE=(s,t)=>{const n=s.matches||0,r=t.matches||0,o=s.points||0,u=t.points||0,f=s.value||0,m=t.value||0;return n===0&&r>0?1:r===0&&n>0?-1:u!==o?u-o:n!==r?n-r:m-f},lO=s=>{const t=[];let n=1,r=0;s.forEach((m,g)=>{g>0&&s[g-1].matches>0&&m.points===s[g-1].points&&m.matches===s[g-1].matches&&m.value===s[g-1].value?t.push(n):m.matches>0?(n=r+1,t.push(n),r++):t.push(null)});const o=t.filter(m=>m!==null),f=(o.length>0?Math.max(...o):0)+1;return t.map(m=>m===null?f:m)},uO=s=>GE[s]||GE.default,cO=()=>R.jsx("div",{className:"ranking-container",children:R.jsxs("div",{className:"loading-state",children:[R.jsx("div",{className:"loading-spinner"}),R.jsx("p",{children:"Loading rankings..."})]})}),hO=()=>R.jsx("div",{className:"ranking-container",children:R.jsx("div",{className:"empty-state",children:R.jsx("p",{children:"No players found for this season."})})});function fO(){const{selectedSeason:s}=ou(),{currentUser:t}=Qh(),[n,r]=st.useState([]),[o,u]=st.useState(!0),[f,m]=st.useState(null);st.useEffect(()=>{if(!s)return;(async()=>{u(!0);try{const X=(await Kh(Hh(ii,`seasons/${s}/players`))).docs.map(tt=>({id:tt.id,...tt.data()})).sort(KE);r(X),m(null)}catch(j){console.error("Error loading players:",j)}u(!1)})()},[s]);const g=st.useCallback(async(w,j,X)=>{const tt=n.find(ut=>ut.id===w);if(!tt)return;const Z=Math.max(0,(tt[j]||0)+X),ot={...tt,[j]:Z},pt=kS(ot.wins,ot.draws,ot.losses,ot.bonus5goal);r(ut=>ut.map(St=>St.id===w?{...St,[j]:Z,...pt}:St).sort(KE));try{await Pm(Xr(ii,`seasons/${s}/players/${w}`),{[j]:Z,...pt,value:Number(pt.value)})}catch(ut){console.error("Error updating player:",ut)}},[n,s]),y=st.useCallback(async(w,j)=>{r(X=>X.map(tt=>tt.id===w?{...tt,fame:j}:tt));try{await Pm(Xr(ii,`seasons/${s}/players/${w}`),{fame:j})}catch(X){console.error("Error updating fame:",X)}},[s]),E=st.useCallback(w=>{m(j=>j===w?null:w)},[]);if(o)return R.jsx(cO,{});if(n.length===0)return R.jsx(hO,{});const A=lO(n);return R.jsxs("div",{className:"ranking-container",children:[R.jsx("h1",{className:"section-title",children:"FootballSanci"}),R.jsx("div",{className:"ranking-list",children:n.map((w,j)=>{const X=A[j],tt=uO(X);return R.jsx(aO,{player:w,rank:X,rankColor:tt,isExpanded:f===w.id,onToggle:E,currentUser:t,onUpdateField:g,onUpdateFame:y,statsConfig:oO},w.id)})})]})}const dO=["Fit Five","Halle"],QE=.1,mO=0,YE=s=>String(s).padStart(2,"0"),LS=s=>`${s.getFullYear()}-${YE(s.getMonth()+1)}-${YE(s.getDate())}`,pO=()=>LS(new Date),gO=()=>{const s=new Date,t=(6-s.getDay())%7||7,n=new Date(s);return n.setDate(s.getDate()+t),LS(n)},Nl=({label:s,icon:t,children:n})=>R.jsxs("div",{className:"match-row",children:[t&&R.jsx("span",{className:"match-row-icon",children:t}),R.jsxs("label",{children:[s,":"]}),n]}),yO=({value:s,onChange:t})=>R.jsxs("div",{className:"gapLimit-control",children:[R.jsx("button",{type:"button","aria-label":"Decrease gapLimit",onClick:()=>{const n=Number(s)||0;t(Math.max(mO,+(n-QE).toFixed(2)))},children:""}),R.jsx("span",{children:Number(s).toFixed(2)}),R.jsx("button",{type:"button","aria-label":"Increase gapLimit",onClick:()=>{const n=Number(s)||0;t(+(n+QE).toFixed(2))},children:"+"})]}),_O=({title:s,children:t})=>R.jsxs("div",{className:"match-box",children:[s&&R.jsx("h3",{className:"section-title section-title--compact",children:s}),R.jsx("div",{className:"match-section",children:t})]}),vO=({matchDetails:s,onChange:t,selectedCount:n=0,totalCount:r=0,onGenerate:o=()=>{},disabled:u=!1})=>{const f=st.useMemo(gO,[]),m=st.useMemo(pO,[]),g=st.useRef(!1);return st.useEffect(()=>{if(g.current)return;const y=s?.date;(!y||y===m)&&t("date",f),g.current=!0},[s,m,f,t]),R.jsxs(_O,{title:"Next Match",children:[R.jsx(Nl,{label:"Date",icon:"",children:R.jsx("input",{type:"date",value:s.date||f,onChange:y=>t("date",y.target.value)})}),R.jsx(Nl,{label:"Start",icon:"",children:R.jsx("input",{type:"time",value:s.startTime,onChange:y=>t("startTime",y.target.value)})}),R.jsx(Nl,{label:"End",icon:"",children:R.jsx("input",{type:"time",value:s.endTime,onChange:y=>t("endTime",y.target.value)})}),R.jsx(Nl,{label:"Location",icon:"",children:R.jsx("select",{value:s.location,onChange:y=>t("location",y.target.value),children:dO.map(y=>R.jsx("option",{value:y,children:y},y))})}),R.jsx(Nl,{label:"Gap limit",icon:"",children:R.jsx(yO,{value:s.gapLimit,onChange:y=>t("gapLimit",y)})}),R.jsxs("div",{className:"generate-section",children:[R.jsxs("div",{className:"selected-counter",children:[R.jsx("span",{className:"selected-counter-number",children:n})," ","/ ",r," selected players"]}),R.jsx("button",{className:"generate-button",onClick:o,disabled:u,children:"Generate Teams"})]})]})},EO=({player:s,isSelected:t,onToggle:n})=>R.jsxs("button",{className:`player-card ${t?"selected":""}`,onClick:n,"aria-pressed":t,children:[R.jsx("h4",{className:"player-card-name",children:s.name}),R.jsx("span",{className:"player-card-value",children:Number(s.value||0).toFixed(2)})]}),TO=({onAdd:s})=>{const[t,n]=st.useState(""),[r,o]=st.useState(""),[u,f]=st.useState(!1),m=st.useRef(null);st.useEffect(()=>{u&&m.current&&setTimeout(()=>{m.current.scrollIntoView({behavior:"smooth",block:"center"})},300)},[u]);const g=()=>{const E=r.replace(",","."),A=parseFloat(E);if(t.trim()&&!isNaN(A)&&A>=0){const w=Number(A.toFixed(2));s({id:`temp-${Date.now()}`,name:t.trim(),value:w,isTemporary:!0}),n(""),o(""),f(!1)}},y=(E,A)=>{E.key==="Enter"&&(A==="name"&&t.trim()?document.getElementById("temp-value-input")?.focus():A==="value"&&g())};return u?R.jsxs("div",{ref:m,className:"player-card temp-player-card-form",children:[R.jsx("input",{type:"text",className:"temp-player-input temp-player-name",placeholder:"Name",value:t,onChange:E=>n(E.target.value),onKeyPress:E=>y(E,"name"),autoFocus:!0}),R.jsx("input",{id:"temp-value-input",type:"text",inputMode:"decimal",className:"temp-player-input temp-player-value",placeholder:"Value",value:r,onChange:E=>{const A=E.target.value.replace(/[^0-9.,]/g,"");o(A)},onKeyDown:E=>{!/[0-9.,]/.test(E.key)&&E.key!=="Backspace"&&E.key!=="Delete"&&E.key!=="ArrowLeft"&&E.key!=="ArrowRight"&&E.key!=="Tab"&&E.preventDefault()},onKeyPress:E=>y(E,"value"),step:"0.1",min:"0"}),R.jsx("div",{className:"temp-player-actions",children:R.jsx("button",{className:"temp-player-btn temp-player-add",onClick:g,disabled:!t.trim()||!r||isNaN(parseFloat(r)),children:""})})]}):R.jsxs("button",{className:"player-card temp-player-card-trigger",onClick:()=>f(!0),children:[R.jsx("h4",{className:"player-card-name",children:"Temp Player"}),R.jsx("span",{className:"player-card-value",children:"+"})]})},SO=({players:s,selectedPlayers:t,onToggle:n,onAddTemp:r})=>R.jsxs("div",{className:"players-grid",children:[s.map(o=>R.jsx(EO,{player:o,isSelected:t.some(u=>u.id===o.id),onToggle:()=>n(o)},o.id)),R.jsx(TO,{onAdd:r})]}),AO=s=>s.reduce((t,n)=>t+(Number(n.value)||0),0),XE=(s,t)=>{if(!s||!t)return null;const[n,r,o]=(s||"").split("-").map(Number),[u,f]=(t||"").split(":").map(Number);return[n,r,o,u,f].every(m=>Number.isFinite(m))?new Date(o,r-1,n,u,f,0,0):null},Za=s=>String(s).padStart(2,"0"),$E=s=>{s<0&&(s=0);const t=Math.floor(s/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),o=Math.floor(t%3600/60),u=t%60;return n>0?`${n}d ${Za(r)}:${Za(o)}:${Za(u)}`:`${Za(r)}:${Za(o)}:${Za(u)}`},bO=s=>{const t=XE(s?.date,s?.startTime),n=XE(s?.date,s?.endTime),[r,o]=st.useState(()=>Date.now());return st.useEffect(()=>{const u=setInterval(()=>o(Date.now()),1e3);return()=>clearInterval(u)},[s?.date,s?.startTime,s?.endTime]),!t||!n?{phase:"invalid",text:""}:r<t.getTime()?{phase:"before",text:`${$E(t.getTime()-r)}`}:r>=t.getTime()&&r<n.getTime()?{phase:"during",text:`${$E(n.getTime()-r)}`}:{phase:"after",text:"finished"}},wO=({matchData:s,Timer:t})=>{if(!s)return R.jsx("div",{className:"match-details-card",children:R.jsx("div",{className:"match-details-empty",children:"No match info available."})});const{phase:n,text:r}=t,o=s.startTime&&s.endTime?`${s.startTime} - ${s.endTime}`:s.startTime||"",u=s.valueDifference!==void 0?Number(s.valueDifference).toFixed(2):"";return R.jsxs("div",{className:"match-details-card",children:[R.jsx("h3",{className:"section-title section-title--compact",children:"Live Draw"}),R.jsxs("div",{className:"match-details-grid",children:[R.jsxs("div",{className:`match-details-item Timer-${n}`,children:[R.jsx("span",{className:"match-details-icon",children:""}),R.jsxs("div",{className:"match-details-text",children:[R.jsx("span",{className:"match-details-label",children:"Timer"}),R.jsx("span",{className:"match-details-value match-details-value--Timer",children:r})]})]}),R.jsxs("div",{className:"match-details-item",children:[R.jsx("span",{className:"match-details-icon",children:""}),R.jsxs("div",{className:"match-details-text",children:[R.jsx("span",{className:"match-details-label",children:"Location"}),R.jsx("span",{className:"match-details-value",children:s.location})]})]}),R.jsxs("div",{className:"match-details-item",children:[R.jsx("span",{className:"match-details-icon",children:""}),R.jsxs("div",{className:"match-details-text",children:[R.jsx("span",{className:"match-details-label",children:"Gap limit"}),R.jsx("span",{className:"match-details-value",children:s.gapLimit})]})]}),R.jsxs("div",{className:"match-details-item",children:[R.jsx("span",{className:"match-details-icon",children:""}),R.jsxs("div",{className:"match-details-text",children:[R.jsx("span",{className:"match-details-label",children:"Value diff"}),R.jsx("span",{className:"match-details-value",children:u})]})]}),R.jsxs("div",{className:"match-details-item",children:[R.jsx("span",{className:"match-details-icon",children:""}),R.jsxs("div",{className:"match-details-text",children:[R.jsx("span",{className:"match-details-label",children:"Date"}),R.jsx("span",{className:"match-details-value",children:s.date})]})]}),R.jsxs("div",{className:"match-details-item",children:[R.jsx("span",{className:"match-details-icon",children:""}),R.jsxs("div",{className:"match-details-text",children:[R.jsx("span",{className:"match-details-label",children:"Time"}),R.jsx("span",{className:"match-details-value",children:o})]})]})]})]})},RO=({team:s,index:t})=>{const n=st.useMemo(()=>AO(s),[s]);return R.jsxs("div",{className:`team-card team-${t+1}`,children:[R.jsxs("div",{className:"team-header",children:[R.jsxs("h3",{className:"team-title",children:["Team ",t+1]}),R.jsx("div",{className:"team-total",children:n.toFixed(2)})]}),R.jsx("ul",{className:"team-players",children:s.map(r=>R.jsxs("li",{className:"team-player-item",children:[R.jsx("span",{className:"team-player-name",children:r.name}),R.jsx("span",{className:"team-player-value",children:Number(r.value).toFixed(2)})]},r.name))})]})},IO=({scoreTeam1:s,scoreTeam2:t,onChange:n})=>R.jsxs("div",{className:"score-input-wrapper",children:[R.jsx("input",{type:"number",min:"0",value:s,onChange:r=>n("scoreTeam1",r.target.value),className:"score-input score-input-team1"}),R.jsx("span",{className:"score-separator",children:"-"}),R.jsx("input",{type:"number",min:"0",value:t,onChange:r=>n("scoreTeam2",r.target.value),className:"score-input score-input-team2"})]}),CO=({scoreTeam1:s,scoreTeam2:t,onScoreChange:n,onSave:r,disabled:o})=>R.jsxs("div",{className:"save-match-section",children:[R.jsx(IO,{scoreTeam1:s,scoreTeam2:t,onChange:n}),R.jsx("button",{className:"generate-button",onClick:r,disabled:o,children:"Save Match"})]}),NO=({teams:s,matchData:t,scoreTeam1:n,scoreTeam2:r,onScoreChange:o,onSaveMatch:u,currentUser:f})=>{const m=bO(t||{});return R.jsxs("div",{className:"teams-wrapper",children:[R.jsx(wO,{matchData:t,Timer:m}),R.jsx("div",{className:"teams-container",children:s.map((g,y)=>R.jsx(RO,{team:g,index:y},y))}),f&&R.jsx(CO,{scoreTeam1:n,scoreTeam2:r,onScoreChange:o,onSave:u,disabled:!1})]})},DO={date:new Date().toISOString().split("T")[0],startTime:"21:00",endTime:"22:00",location:"Fit Five",gapLimit:1},OO=s=>{const t=new Date(s),n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getFullYear());return`${n}-${r}-${o}`},Gc=s=>s.reduce((t,n)=>t+(Number(n.value)||0),0);function xO(){const{selectedSeason:s}=ou(),{currentUser:t}=Qh(),[n,r]=st.useState([]),[o,u]=st.useState([]),[f,m]=st.useState([]),[g,y]=st.useState(!0),[E,A]=st.useState(DO),[w,j]=st.useState(null),[X,tt]=st.useState(0),[Z,ot]=st.useState(0),pt=st.useRef(null),ut=st.useRef(!1),St=st.useCallback(async()=>{if(s){y(!0);try{if(t){const rt=(await Kh(Hh(ii,`seasons/${s}/players`))).docs.map(Tt=>({id:Tt.id,...Tt.data()}));r(rt)}const bt=Xr(ii,`seasons/${s}/matches/Live`),B=await PE(bt);if(B.exists()){const W=B.data();W.gapLimit===void 0&&W.gap!==void 0&&(W.gapLimit=W.gap),m([W.team1,W.team2]),j(W),tt(W.scoreTeam1||0),ot(W.scoreTeam2||0)}else m([]),j(null),tt(0),ot(0)}catch(bt){console.error("Error loading:",bt)}y(!1)}},[s,t]);st.useEffect(()=>{St()},[St]),st.useEffect(()=>{ut.current&&f.length===2&&(setTimeout(()=>{pt.current&&pt.current.scrollIntoView({behavior:"smooth"})},120),ut.current=!1)},[f]);const Bt=st.useCallback(bt=>{r(B=>[...B,bt]),u(B=>[...B,bt])},[]),Dt=st.useCallback(bt=>{u(B=>B.some(W=>W.id===bt.id)?B.filter(W=>W.id!==bt.id):[...B,bt])},[]),D=st.useCallback(bt=>{const B=bt.map(G=>({...G,value:Number(G.value)||0})),W=Number(E.gapLimit)||0;let rt=[],Tt=[],Ot=1/0;const O=B.length<=10?1e3:500;for(let G=0;G<O;G++){const et=[...B].sort(()=>Math.random()-.5),it=[],ft=[];et.forEach((Qt,Cn)=>{(Cn%2===0?it:ft).push(Qt)});const gt=Gc(it),_t=Gc(ft),Zt=Math.abs(gt-_t);if(Zt<=W)return[it,ft];Zt<Ot&&(Ot=Zt,rt=it,Tt=ft)}if(rt.length===0||Tt.length===0){const G=Math.ceil(B.length/2);return[B.slice(0,G),B.slice(G)]}return[rt,Tt]},[E.gapLimit]),b=st.useCallback(async()=>{if(o.length<2){console.warn("Not enough players to generate teams");return}const bt=[...o],[B,W]=D(bt),rt=Gc(B),Tt=Gc(W),Ot=Math.abs(rt-Tt);m([B,W]),tt(0),ot(0);try{const O=OO(E.date),G=Xr(ii,`seasons/${s}/matches/Live`),et={team1:B.map(it=>({name:it.name,value:Number(it.value||0).toFixed(2)})),team2:W.map(it=>({name:it.name,value:Number(it.value||0).toFixed(2)})),date:O,startTime:E.startTime,endTime:E.endTime,location:E.location,gapLimit:Number(E.gapLimit).toFixed(2),valueDifference:Number(Ot.toFixed(2)),scoreTeam1:0,scoreTeam2:0};await zE(G,et),j(et)}catch(O){console.error("Error writing live match:",O)}},[o,E,s,D]),N=st.useCallback(()=>{o.length<2||(ut.current=!0,b())},[o,b]),V=st.useCallback((bt,B)=>{const W=Number(B)||0;bt==="scoreTeam1"?tt(W):ot(W)},[]),M=st.useCallback(async()=>{if(w)try{const bt=w.date,B=Xr(ii,`seasons/${s}/matches/${bt}`),W={...w,scoreTeam1:X,scoreTeam2:Z};await zE(B,W);const rt=Number(X),Tt=Number(Z),Ot=w.team1||[],O=w.team2||[];let G="draw";rt>Tt&&(G="team1"),Tt>rt&&(G="team2");const et=Math.abs(rt-Tt),it=G==="draw"?0:Math.floor(et/5),ft=async(_t,Zt)=>{const Qt=Xr(ii,`seasons/${s}/players/${_t}`),Cn=await PE(Qt);if(!Cn.exists())return;const Fn=Cn.data(),ji=(Fn.wins||0)+(Zt.winDelta||0),Bi=(Fn.draws||0)+(Zt.drawDelta||0),gn=(Fn.losses||0)+(Zt.lossDelta||0),ps=(Fn.bonus5goal||0)+(Zt.bonusDelta||0),Hi=kS(ji,Bi,gn,ps);await Pm(Qt,{wins:ji,draws:Bi,losses:gn,bonus5goal:ps,...Hi,lastMatchDate:bt})},gt=[];G==="draw"?(Ot.forEach(_t=>gt.push(ft(_t.name,{drawDelta:1}))),O.forEach(_t=>gt.push(ft(_t.name,{drawDelta:1})))):G==="team1"?(Ot.forEach(_t=>gt.push(ft(_t.name,{winDelta:1,bonusDelta:it}))),O.forEach(_t=>gt.push(ft(_t.name,{lossDelta:1})))):(O.forEach(_t=>gt.push(ft(_t.name,{winDelta:1,bonusDelta:it}))),Ot.forEach(_t=>gt.push(ft(_t.name,{lossDelta:1})))),await Promise.all(gt),await ON(Xr(ii,`seasons/${s}/matches/Live`)),m([]),j(null),u([]),tt(0),ot(0)}catch(bt){console.error("Error saving match:",bt)}},[w,X,Z,s]),L=st.useCallback((bt,B)=>{A(W=>{let rt=B;if(bt==="gapLimit"){const Tt=(B??"").toString();rt=(parseFloat(Tt.replace(",","."))||0).toFixed(2)}return{...W,[bt]:rt}})},[]);if(g)return R.jsx("div",{className:"draw-container",children:R.jsxs("div",{className:"loading-state",children:[R.jsx("div",{className:"loading-spinner"}),R.jsx("p",{children:"Loading..."})]})});const I=f.length===2,ie=o.length>=2;return R.jsxs("div",{className:"draw-container",children:[t&&R.jsxs(R.Fragment,{children:[R.jsx("h2",{className:"section-title",children:"Live Draw"}),n.length>0&&R.jsx(SO,{players:n,selectedPlayers:o,onToggle:Dt,onAddTemp:Bt}),R.jsx(vO,{matchDetails:E,onChange:L,selectedCount:o.length,totalCount:n.length,onGenerate:N,disabled:!ie})]}),I&&R.jsx("div",{ref:pt,children:R.jsx(NO,{teams:f,matchData:w,scoreTeam1:X,scoreTeam2:Z,onScoreChange:V,onSaveMatch:M,currentUser:t})}),!t&&!I&&R.jsxs("div",{className:"empty-state",children:[R.jsx("div",{className:"empty-state-icon",children:""}),R.jsx("p",{children:"No live match available. Check back soon!"})]})]})}function MO(){const{selectedSeason:s}=ou(),[t,n]=st.useState([]),[r,o]=st.useState(!0);return st.useEffect(()=>{if(!s)return;(async()=>{o(!0);try{const m=(await Kh(Hh(ii,`seasons/${s}/matches`))).docs.map(g=>({id:g.id,...g.data()}));m.sort((g,y)=>(y.date||"").localeCompare(g.date||"")),n(m)}catch(f){console.error("Erreur chargement matchs:",f)}o(!1)})()},[s]),r?R.jsx("p",{children:"Loading"}):t.length===0?R.jsx("p",{children:"No matches found."}):R.jsxs("div",{style:{padding:"1rem"},children:[R.jsx("h2",{children:"Match History"}),R.jsx("ul",{style:{listStyle:"none",padding:0},children:t.map(u=>R.jsxs("li",{style:{padding:"10px",marginBottom:"8px",border:"1px solid #444",borderRadius:"6px"},children:[R.jsx("strong",{children:"Date:"})," ",u.date," ",R.jsx("br",{}),R.jsx("strong",{children:"Start:"})," ",u.startTime," ",R.jsx("br",{}),R.jsx("strong",{children:"End:"})," ",u.endTime," ",R.jsx("br",{}),R.jsx("strong",{children:"Location:"})," ",u.location," ",R.jsx("br",{}),R.jsx("strong",{children:"Team A:"})," ",u.teamA?.join(", ")," ",R.jsx("br",{}),R.jsx("strong",{children:"Team B:"})," ",u.teamB?.join(", ")]},u.id))})]})}function VO(){return R.jsx(UD,{children:R.jsxs(PD,{children:[R.jsx(zD,{}),R.jsx(JD,{}),R.jsxs("main",{style:{position:"relative",zIndex:1},children:[R.jsx("section",{id:"ranking",children:R.jsx(fO,{})}),R.jsx("section",{id:"draw",children:R.jsx(xO,{})}),R.jsx("section",{id:"history",children:R.jsx(MO,{})})]}),R.jsx($D,{}),R.jsx(ZD,{})]})})}Sb.createRoot(document.getElementById("root")).render(R.jsx(st.StrictMode,{children:R.jsx(VO,{})}));
