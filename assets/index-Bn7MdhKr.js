(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Qd={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function wA(){if(ov)return Cl;ov=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=e,Cl.jsx=n,Cl.jsxs=n,Cl}var lv;function RA(){return lv||(lv=1,Qd.exports=wA()),Qd.exports}var A=RA(),Xd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function IA(){if(uv)return Re;uv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),R=Symbol.iterator;function k(x){return x===null||typeof x!="object"?null:(x=R&&x[R]||x["@@iterator"],typeof x=="function"?x:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,G={};function re(x,Y,ie){this.props=x,this.context=Y,this.refs=G,this.updater=ie||K}re.prototype.isReactComponent={},re.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},re.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function he(){}he.prototype=re.prototype;function fe(x,Y,ie){this.props=x,this.context=Y,this.refs=G,this.updater=ie||K}var be=fe.prototype=new he;be.constructor=fe,X(be,re.prototype),be.isPureReactComponent=!0;var Be=Array.isArray;function xe(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(x,Y,ie){var te=ie.ref;return{$$typeof:s,type:x,key:Y,ref:te!==void 0?te:null,props:ie}}function V(x,Y){return N(x.type,Y,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function P(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ie){return Y[ie]})}var I=/\/+/g;function it(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?P(""+x.key):Y.toString(36)}function we(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(xe,xe):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function B(x,Y,ie,te,oe){var le=typeof x;(le==="undefined"||le==="boolean")&&(x=null);var pe=!1;if(x===null)pe=!0;else switch(le){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(x.$$typeof){case s:case e:pe=!0;break;case E:return pe=x._init,B(pe(x._payload),Y,ie,te,oe)}}if(pe)return oe=oe(x),pe=te===""?"."+it(x,0):te,Be(oe)?(ie="",pe!=null&&(ie=pe.replace(I,"$&/")+"/"),B(oe,Y,ie,"",function(ln){return ln})):oe!=null&&(M(oe)&&(oe=V(oe,ie+(oe.key==null||x&&x.key===oe.key?"":(""+oe.key).replace(I,"$&/")+"/")+pe)),Y.push(oe)),1;pe=0;var Qe=te===""?".":te+":";if(Be(x))for(var Ke=0;Ke<x.length;Ke++)te=x[Ke],le=Qe+it(te,Ke),pe+=B(te,Y,ie,le,oe);else if(Ke=k(x),typeof Ke=="function")for(x=Ke.call(x),Ke=0;!(te=x.next()).done;)te=te.value,le=Qe+it(te,Ke++),pe+=B(te,Y,ie,le,oe);else if(le==="object"){if(typeof x.then=="function")return B(we(x),Y,ie,te,oe);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return pe}function J(x,Y,ie){if(x==null)return x;var te=[],oe=0;return B(x,te,"","",function(le){return Y.call(ie,le,oe++)}),te}function ae(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(ie){(x._status===0||x._status===-1)&&(x._status=1,x._result=ie)},function(ie){(x._status===0||x._status===-1)&&(x._status=2,x._result=ie)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var ve=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ee={map:J,forEach:function(x,Y,ie){J(x,function(){Y.apply(this,arguments)},ie)},count:function(x){var Y=0;return J(x,function(){Y++}),Y},toArray:function(x){return J(x,function(Y){return Y})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Re.Activity=b,Re.Children=Ee,Re.Component=re,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=fe,Re.StrictMode=r,Re.Suspense=y,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(x,Y,ie){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var te=X({},x.props),oe=x.key;if(Y!=null)for(le in Y.key!==void 0&&(oe=""+Y.key),Y)!w.call(Y,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&Y.ref===void 0||(te[le]=Y[le]);var le=arguments.length-2;if(le===1)te.children=ie;else if(1<le){for(var pe=Array(le),Qe=0;Qe<le;Qe++)pe[Qe]=arguments[Qe+2];te.children=pe}return N(x.type,oe,te)},Re.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,Y,ie){var te,oe={},le=null;if(Y!=null)for(te in Y.key!==void 0&&(le=""+Y.key),Y)w.call(Y,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(oe[te]=Y[te]);var pe=arguments.length-2;if(pe===1)oe.children=ie;else if(1<pe){for(var Qe=Array(pe),Ke=0;Ke<pe;Ke++)Qe[Ke]=arguments[Ke+2];oe.children=Qe}if(x&&x.defaultProps)for(te in pe=x.defaultProps,pe)oe[te]===void 0&&(oe[te]=pe[te]);return N(x,le,oe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=M,Re.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ae}},Re.memo=function(x,Y){return{$$typeof:g,type:x,compare:Y===void 0?null:Y}},Re.startTransition=function(x){var Y=D.T,ie={};D.T=ie;try{var te=x(),oe=D.S;oe!==null&&oe(ie,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(xe,ve)}catch(le){ve(le)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),D.T=Y}},Re.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Re.use=function(x){return D.H.use(x)},Re.useActionState=function(x,Y,ie){return D.H.useActionState(x,Y,ie)},Re.useCallback=function(x,Y){return D.H.useCallback(x,Y)},Re.useContext=function(x){return D.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,Y){return D.H.useDeferredValue(x,Y)},Re.useEffect=function(x,Y){return D.H.useEffect(x,Y)},Re.useEffectEvent=function(x){return D.H.useEffectEvent(x)},Re.useId=function(){return D.H.useId()},Re.useImperativeHandle=function(x,Y,ie){return D.H.useImperativeHandle(x,Y,ie)},Re.useInsertionEffect=function(x,Y){return D.H.useInsertionEffect(x,Y)},Re.useLayoutEffect=function(x,Y){return D.H.useLayoutEffect(x,Y)},Re.useMemo=function(x,Y){return D.H.useMemo(x,Y)},Re.useOptimistic=function(x,Y){return D.H.useOptimistic(x,Y)},Re.useReducer=function(x,Y,ie){return D.H.useReducer(x,Y,ie)},Re.useRef=function(x){return D.H.useRef(x)},Re.useState=function(x){return D.H.useState(x)},Re.useSyncExternalStore=function(x,Y,ie){return D.H.useSyncExternalStore(x,Y,ie)},Re.useTransition=function(){return D.H.useTransition()},Re.version="19.2.0",Re}var cv;function Fm(){return cv||(cv=1,Xd.exports=IA()),Xd.exports}var ne=Fm(),$d={exports:{}},Nl={},Zd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function CA(){return hv||(hv=1,(function(s){function e(B,J){var ae=B.length;B.push(J);e:for(;0<ae;){var ve=ae-1>>>1,Ee=B[ve];if(0<o(Ee,J))B[ve]=J,B[ae]=Ee,ae=ve;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var J=B[0],ae=B.pop();if(ae!==J){B[0]=ae;e:for(var ve=0,Ee=B.length,x=Ee>>>1;ve<x;){var Y=2*(ve+1)-1,ie=B[Y],te=Y+1,oe=B[te];if(0>o(ie,ae))te<Ee&&0>o(oe,ie)?(B[ve]=oe,B[te]=ae,ve=te):(B[ve]=ie,B[Y]=ae,ve=Y);else if(te<Ee&&0>o(oe,ae))B[ve]=oe,B[te]=ae,ve=te;else break e}}return J}function o(B,J){var ae=B.sortIndex-J.sortIndex;return ae!==0?ae:B.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var y=[],g=[],E=1,b=null,R=3,k=!1,K=!1,X=!1,G=!1,re=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function be(B){for(var J=n(g);J!==null;){if(J.callback===null)r(g);else if(J.startTime<=B)r(g),J.sortIndex=J.expirationTime,e(y,J);else break;J=n(g)}}function Be(B){if(X=!1,be(B),!K)if(n(y)!==null)K=!0,xe||(xe=!0,P());else{var J=n(g);J!==null&&we(Be,J.startTime-B)}}var xe=!1,D=-1,w=5,N=-1;function V(){return G?!0:!(s.unstable_now()-N<w)}function M(){if(G=!1,xe){var B=s.unstable_now();N=B;var J=!0;try{e:{K=!1,X&&(X=!1,he(D),D=-1),k=!0;var ae=R;try{t:{for(be(B),b=n(y);b!==null&&!(b.expirationTime>B&&V());){var ve=b.callback;if(typeof ve=="function"){b.callback=null,R=b.priorityLevel;var Ee=ve(b.expirationTime<=B);if(B=s.unstable_now(),typeof Ee=="function"){b.callback=Ee,be(B),J=!0;break t}b===n(y)&&r(y),be(B)}else r(y);b=n(y)}if(b!==null)J=!0;else{var x=n(g);x!==null&&we(Be,x.startTime-B),J=!1}}break e}finally{b=null,R=ae,k=!1}J=void 0}}finally{J?P():xe=!1}}}var P;if(typeof fe=="function")P=function(){fe(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,it=I.port2;I.port1.onmessage=M,P=function(){it.postMessage(null)}}else P=function(){re(M,0)};function we(B,J){D=re(function(){B(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(B){switch(R){case 1:case 2:case 3:var J=3;break;default:J=R}var ae=R;R=J;try{return B()}finally{R=ae}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ae=R;R=B;try{return J()}finally{R=ae}},s.unstable_scheduleCallback=function(B,J,ae){var ve=s.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ve+ae:ve):ae=ve,B){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ae+Ee,B={id:E++,callback:J,priorityLevel:B,startTime:ae,expirationTime:Ee,sortIndex:-1},ae>ve?(B.sortIndex=ae,e(g,B),n(y)===null&&B===n(g)&&(X?(he(D),D=-1):X=!0,we(Be,ae-ve))):(B.sortIndex=Ee,e(y,B),K||k||(K=!0,xe||(xe=!0,P()))),B},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(B){var J=R;return function(){var ae=R;R=J;try{return B.apply(this,arguments)}finally{R=ae}}}})(Jd)),Jd}var fv;function NA(){return fv||(fv=1,Zd.exports=CA()),Zd.exports}var Wd={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function DA(){if(dv)return $t;dv=1;var s=Fm();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:y,containerInfo:g,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,E)},$t.flushSync=function(y){var g=f.T,E=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=g,r.p=E,r.d.f()}},$t.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},$t.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},$t.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:k}):E==="script"&&r.d.X(y,{crossOrigin:b,integrity:R,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},$t.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);r.d.L(y,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},$t.requestFormReset=function(y){r.d.r(y)},$t.unstable_batchedUpdates=function(y,g){return y(g)},$t.useFormState=function(y,g,E){return f.H.useFormState(y,g,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var mv;function xA(){if(mv)return Wd.exports;mv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Wd.exports=DA(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function OA(){if(pv)return Nl;pv=1;var s=NA(),e=Fm(),n=xA();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),t;if(d===l)return y(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,R=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case re:return"Profiler";case G:return"StrictMode";case Be:return"Suspense";case xe:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case fe:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case be:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:it(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return it(t(i))}catch{}}return null}var we=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ve=[],Ee=-1;function x(t){return{current:t}}function Y(t){0>Ee||(t.current=ve[Ee],ve[Ee]=null,Ee--)}function ie(t,i){Ee++,ve[Ee]=t.current,t.current=i}var te=x(null),oe=x(null),le=x(null),pe=x(null);function Qe(t,i){switch(ie(le,i),ie(oe,t),ie(te,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?D_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=D_(i),t=x_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(te),ie(te,t)}function Ke(){Y(te),Y(oe),Y(le)}function ln(t){t.memoizedState!==null&&ie(pe,t);var i=te.current,a=x_(i,t.type);i!==a&&(ie(oe,t),ie(te,a))}function Kn(t){oe.current===t&&(Y(te),Y(oe)),pe.current===t&&(Y(pe),Al._currentValue=ae)}var Bi,Hi;function _n(t){if(Bi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Bi=i&&i[1]||"",Hi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bi+t+Hi}var gs=!1;function qi(t,i){if(!t||gs)return"";gs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var H=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){H=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){H=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{gs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?_n(a):""}function wo(t,i){switch(t.tag){case 26:case 27:case 5:return _n(t.type);case 16:return _n("Lazy");case 13:return t.child!==i&&i!==null?_n("Suspense Fallback"):_n("Suspense");case 19:return _n("SuspenseList");case 0:case 15:return qi(t.type,!1);case 11:return qi(t.type.render,!1);case 1:return qi(t.type,!0);case 31:return _n("Activity");default:return""}}function Ro(t){try{var i="",a=null;do i+=wo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,xt=s.unstable_scheduleCallback,ys=s.unstable_cancelCallback,Xh=s.unstable_shouldYield,cu=s.unstable_requestPaint,tn=s.unstable_now,Er=s.unstable_getCurrentPriorityLevel,Io=s.unstable_ImmediatePriority,Co=s.unstable_UserBlockingPriority,_s=s.unstable_NormalPriority,$h=s.unstable_LowPriority,hu=s.unstable_IdlePriority,fu=s.log,du=s.unstable_setDisableYieldValue,Yn=null,Bt=null;function Nn(t){if(typeof fu=="function"&&du(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Yn,t)}catch{}}var dt=Math.clz32?Math.clz32:pu,mu=Math.log,ca=Math.LN2;function pu(t){return t>>>=0,t===0?32:31-(mu(t)/ca|0)|0}var li=256,Tr=262144,Et=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ui(l):(_&=T,_!==0?h=ui(_):a||(a=T&~t,a!==0&&(h=ui(a))))):(T=l&~d,T!==0?h=ui(T):_!==0?h=ui(_):a||(a=l&~t,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Zh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Sr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jh(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-dt(a),Z=1<<Q;T[Q]=0,C[Q]=-1;var H=z[Q];if(H!==null)for(z[Q]=null,Q=0;Q<H.length;Q++){var F=H[Q];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&br(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function br(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function No(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Do(t,i){var a=i&-i;return a=(a&42)!==0?1:Ar(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:ev(t.type))}function Xn(t,i){var a=J.p;try{return J.p=t,i()}finally{J.p=a}}var $n=Math.random().toString(36).slice(2),Tt="__reactFiber$"+$n,kt="__reactProps$"+$n,fi="__reactContainer$"+$n,ha="__reactEvents$"+$n,Wh="__reactListeners$"+$n,_u="__reactHandles$"+$n,vu="__reactResources$"+$n,di="__reactMarker$"+$n;function fa(t){delete t[Tt],delete t[kt],delete t[ha],delete t[Wh],delete t[_u]}function mi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=U_(t);t!==null;){if(a=t[Tt])return a;t=U_(t)}return i}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[Tt]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function pi(t){var i=t[vu];return i||(i=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[di]=!0}var xo=new Set,Oo={};function gi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Oo[t]=i,t=0;t<i.length;t++)xo.add(i[t])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},ko={};function Eu(t){return vt.call(ko,t)?!0:vt.call(Vo,t)?!1:Mo.test(t)?ko[t]=!0:(Vo[t]=!0,!1)}function da(t,i,a){if(Eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function En(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=vs(t)?"checked":"value";t._valueTracker=Lo(t,i,""+t[i])}}function wr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function un(t){return t.replace(Rr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ma(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Po(t,_,Lt(i)):a!=null?Po(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function Tu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Po(t,i,a){i==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Es(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Su(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Ts(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(we(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||bu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function jo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Uo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Uo(t,d,i[d])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return Ss.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var zo=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bs=null,vi=null;function Ir(t){var i=Dn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(r(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&wr(l)}break e;case"textarea":Su(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Es(t,!!a.multiple,i,!1)}}}var ya=!1;function As(t,i,a){if(ya)return t(i,a);ya=!0;try{var l=t(i);return l}finally{if(ya=!1,(bs!==null||vi!==null)&&(yc(),bs&&(i=bs,t=vi,vi=bs=null,Ir(i),t)))for(i=0;i<t.length;i++)Ir(t[i])}}function Jn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(On)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Cr=!1}var Ei=null,Bo=null,Nr=null;function Ho(){if(Nr)return Nr;var t,i=Bo,a=i.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Nr=h.slice(t,1<l?1-l:void 0)}function Dr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function Wn(){return!1}function Ht(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:Wn,this.isPropagationStopped=Wn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),i}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Ht(Ki),ws=b({},Ki,{view:0,detail:0}),qo=Ht(ws),Rs,_a,Si,va=b({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Rs=t.screenX-Si.screenX,_a=t.screenY-Si.screenY):_a=Rs=0,Si=t),Rs)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Fo=Ht(va),xr=b({},va,{dataTransfer:0}),wu=Ht(xr),Ru=b({},ws,{relatedTarget:0}),Or=Ht(Ru),Go=b({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Ht(Go),Ea=b({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=Ht(Ea),Nu=b({},Ki,{data:0}),bi=Ht(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ou[t])?!!i[t]:!1}function Is(){return Mu}var nn=b({},ws,{key:function(t){if(t.key){var i=Du[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(t){return t.type==="keypress"?Dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vu=Ht(nn),ku=b({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Ht(ku),c=b({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),p=Ht(c),v=b({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(v),U=b({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ht(U),se=b({},Ki,{newState:0,oldState:0}),Ce=Ht(se),mt=[9,13,27,32],Fe=On&&"CompositionEvent"in window,lt=null;On&&"documentMode"in document&&(lt=document.documentMode);var Mn=On&&"TextEvent"in window&&!lt,Ai=On&&(!Fe||lt&&8<lt&&11>=lt),ei=" ",ti=!1;function Mr(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function XS(t,i){switch(t){case"compositionend":return Ta(i);case"keypress":return i.which!==32?null:(ti=!0,ei);case"textInput":return t=i.data,t===ei&&ti?null:t;default:return null}}function $S(t,i){if(Sa)return t==="compositionend"||!Fe&&Mr(t,i)?(t=Ho(),Nr=Bo=Ei=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ZS[t.type]:i==="textarea"}function Hp(t,i,a,l){bs?vi?vi.push(l):vi=[l]:bs=l,i=Ac(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ko=null,Yo=null;function JS(t){A_(t,0)}function Lu(t){var i=vn(t);if(wr(i))return t}function qp(t,i){if(t==="change")return i}var Fp=!1;if(On){var ef;if(On){var tf="oninput"in document;if(!tf){var Gp=document.createElement("div");Gp.setAttribute("oninput","return;"),tf=typeof Gp.oninput=="function"}ef=tf}else ef=!1;Fp=ef&&(!document.documentMode||9<document.documentMode)}function Kp(){Ko&&(Ko.detachEvent("onpropertychange",Yp),Yo=Ko=null)}function Yp(t){if(t.propertyName==="value"&&Lu(Yo)){var i=[];Hp(i,Yo,t,xn(t)),As(JS,i)}}function WS(t,i,a){t==="focusin"?(Kp(),Ko=i,Yo=a,Ko.attachEvent("onpropertychange",Yp)):t==="focusout"&&Kp()}function eb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Yo)}function tb(t,i){if(t==="click")return Lu(i)}function nb(t,i){if(t==="input"||t==="change")return Lu(i)}function ib(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tn=typeof Object.is=="function"?Object.is:ib;function Qo(t,i){if(Tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(i,h)||!Tn(t[h],i[h]))return!1}return!0}function Qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xp(t,i){var a=Qp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qp(a)}}function $p(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?$p(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_i(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=_i(t.document)}return i}function nf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var sb=On&&"documentMode"in document&&11>=document.documentMode,ba=null,sf=null,Xo=null,rf=!1;function Jp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rf||ba==null||ba!==_i(l)||(l=ba,"selectionStart"in l&&nf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Qo(Xo,l)||(Xo=l,l=Ac(sf,"onSelect"),0<l.length&&(i=new Ti("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ba)))}function Vr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Aa={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},af={},Wp={};On&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function kr(t){if(af[t])return af[t];if(!Aa[t])return t;var i=Aa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Wp)return af[t]=i[a];return t}var eg=kr("animationend"),tg=kr("animationiteration"),ng=kr("animationstart"),rb=kr("transitionrun"),ab=kr("transitionstart"),ob=kr("transitioncancel"),ig=kr("transitionend"),sg=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function ni(t,i){sg.set(t,i),gi(i,[t])}var Pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],wa=0,lf=0;function Uu(){for(var t=wa,i=lf=wa=0;i<t;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&rg(a,h,d)}}function ju(t,i,a,l){Vn[wa++]=t,Vn[wa++]=i,Vn[wa++]=a,Vn[wa++]=l,lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function uf(t,i,a,l){return ju(t,i,a,l),zu(t)}function Lr(t,i){return ju(t,null,null,i),zu(t)}function rg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function zu(t){if(50<yl)throw yl=0,_d=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ra={};function lb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,i,a,l){return new lb(t,i,a,l)}function cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,i){var a=t.alternate;return a===null?(a=Sn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ag(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Bu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")cf(t)&&(_=1);else if(typeof t=="string")_=dA(t,a,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Sn(31,a,i,h),t.elementType=N,t.lanes=d,t;case X:return Pr(a.children,h,d,i);case G:_=8,h|=24;break;case re:return t=Sn(12,a,i,h|2),t.elementType=re,t.lanes=d,t;case Be:return t=Sn(13,a,i,h),t.elementType=Be,t.lanes=d,t;case xe:return t=Sn(19,a,i,h),t.elementType=xe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:_=10;break e;case he:_=9;break e;case be:_=11;break e;case D:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Sn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Pr(t,i,a,l){return t=Sn(7,t,l,i),t.lanes=a,t}function hf(t,i,a){return t=Sn(6,t,null,i),t.lanes=a,t}function og(t){var i=Sn(18,null,null,0);return i.stateNode=t,i}function ff(t,i,a){return i=Sn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var lg=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=lg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ro(i)},lg.set(t,i),i)}return{value:t,source:i,stack:Ro(i)}}var Ia=[],Ca=0,Hu=null,$o=0,Ln=[],Pn=0,Cs=null,wi=1,Ri="";function Xi(t,i){Ia[Ca++]=$o,Ia[Ca++]=Hu,Hu=t,$o=i}function ug(t,i,a){Ln[Pn++]=wi,Ln[Pn++]=Ri,Ln[Pn++]=Cs,Cs=t;var l=wi;t=Ri;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-dt(i)+h|a<<h|l,Ri=d+t}else wi=1<<d|a<<h|l,Ri=t}function df(t){t.return!==null&&(Xi(t,1),ug(t,1,0))}function mf(t){for(;t===Hu;)Hu=Ia[--Ca],Ia[Ca]=null,$o=Ia[--Ca],Ia[Ca]=null;for(;t===Cs;)Cs=Ln[--Pn],Ln[Pn]=null,Ri=Ln[--Pn],Ln[Pn]=null,wi=Ln[--Pn],Ln[Pn]=null}function cg(t,i){Ln[Pn++]=wi,Ln[Pn++]=Ri,Ln[Pn++]=Cs,wi=i.id,Ri=i.overflow,Cs=t}var qt=null,st=null,je=!1,Ns=null,Un=!1,pf=Error(r(519));function Ds(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(kn(i,t)),pf}function hg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[kt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<vl.length;a++)Me(vl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Tu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Ts(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||C_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||Ds(t,!0)}function fg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:qt=qt.return}}function Na(t){if(t!==qt)return!1;if(!je)return fg(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Md(t.type,t.memoizedProps)),a=!a),a&&st&&Ds(t),fg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=P_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=P_(t)}else i===27?(i=st,Fs(t.type)?(t=Ud,Ud=null,st=t):st=i):st=qt?zn(t.stateNode.nextSibling):null;return!0}function Ur(){st=qt=null,je=!1}function gf(){var t=Ns;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Ns=null),t}function Zo(t){Ns===null?Ns=[t]:Ns.push(t)}var yf=x(null),jr=null,$i=null;function xs(t,i,a){ie(yf,i._currentValue),i._currentValue=a}function Zi(t){t._currentValue=yf.current,Y(yf)}function _f(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function vf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),_f(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),_f(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Da(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;Tn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===pe.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&vf(i,t,a,l),i.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){jr=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return dg(jr,t)}function Fu(t,i){return jr===null&&zr(t),dg(t,i)}function dg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(t===null)throw Error(r(308));$i=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else $i=$i.next=i;return a}var ub=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},cb=s.unstable_scheduleCallback,hb=s.unstable_NormalPriority,At={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new ub,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&cb(hb,function(){t.controller.abort()})}var Wo=null,Tf=0,xa=0,Oa=null;function fb(t,i){if(Wo===null){var a=Wo=[];Tf=0,xa=Ad(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Tf++,i.then(mg,mg),i}function mg(){if(--Tf===0&&Wo!==null){Oa!==null&&(Oa.status="fulfilled");var t=Wo;Wo=null,xa=0,Oa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function db(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var pg=B.S;B.S=function(t,i){Jy=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&fb(t,i),pg!==null&&pg(t,i)};var Br=x(null);function Sf(){var t=Br.current;return t!==null?t:nt.pooledCache}function Gu(t,i){i===null?ie(Br,Br.current):ie(Br,i.pool)}function gg(){var t=Sf();return t===null?null:{parent:At._currentValue,pool:t}}var Ma=Error(r(460)),bf=Error(r(474)),Ku=Error(r(542)),Yu={then:function(){}};function yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _g(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Zn,Zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Eg(t),t;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Eg(t),t}throw qr=i,Ma}}function Hr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qr=a,Ma):a}}var qr=null;function vg(){if(qr===null)throw Error(r(459));var t=qr;return qr=null,t}function Eg(t){if(t===Ma||t===Ku)throw Error(r(483))}var Va=null,el=0;function Qu(t){var i=el;return el+=1,Va===null&&(Va=[]),_g(Va,t,i)}function tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Xu(t,i){throw i.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Tg(t){function i(L,O){if(t){var j=L.deletions;j===null?(L.deletions=[O],L.flags|=16):j.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Qi(L,O),L.index=0,L.sibling=null,L}function d(L,O,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<O?(L.flags|=67108866,O):j):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,j,$){return O===null||O.tag!==6?(O=hf(j,L.mode,$),O.return=L,O):(O=h(O,j),O.return=L,O)}function C(L,O,j,$){var ge=j.type;return ge===X?Q(L,O,j.props.children,$,j.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Hr(ge)===O.type)?(O=h(O,j.props),tl(O,j),O.return=L,O):(O=Bu(j.type,j.key,j.props,null,L.mode,$),tl(O,j),O.return=L,O)}function z(L,O,j,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=ff(j,L.mode,$),O.return=L,O):(O=h(O,j.children||[]),O.return=L,O)}function Q(L,O,j,$,ge){return O===null||O.tag!==7?(O=Pr(j,L.mode,$,ge),O.return=L,O):(O=h(O,j),O.return=L,O)}function Z(L,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=hf(""+O,L.mode,j),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return j=Bu(O.type,O.key,O.props,null,L.mode,j),tl(j,O),j.return=L,j;case K:return O=ff(O,L.mode,j),O.return=L,O;case w:return O=Hr(O),Z(L,O,j)}if(we(O)||P(O))return O=Pr(O,L.mode,j,null),O.return=L,O;if(typeof O.then=="function")return Z(L,Qu(O),j);if(O.$$typeof===fe)return Z(L,Fu(L,O),j);Xu(L,O)}return null}function H(L,O,j,$){var ge=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ge!==null?null:T(L,O,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case k:return j.key===ge?C(L,O,j,$):null;case K:return j.key===ge?z(L,O,j,$):null;case w:return j=Hr(j),H(L,O,j,$)}if(we(j)||P(j))return ge!==null?null:Q(L,O,j,$,null);if(typeof j.then=="function")return H(L,O,Qu(j),$);if(j.$$typeof===fe)return H(L,O,Fu(L,j),$);Xu(L,j)}return null}function F(L,O,j,$,ge){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(j)||null,T(O,L,""+$,ge);if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return L=L.get($.key===null?j:$.key)||null,C(O,L,$,ge);case K:return L=L.get($.key===null?j:$.key)||null,z(O,L,$,ge);case w:return $=Hr($),F(L,O,j,$,ge)}if(we($)||P($))return L=L.get(j)||null,Q(O,L,$,ge,null);if(typeof $.then=="function")return F(L,O,j,Qu($),ge);if($.$$typeof===fe)return F(L,O,j,Fu(O,$),ge);Xu(O,$)}return null}function ce(L,O,j,$){for(var ge=null,He=null,me=O,De=O=0,ke=null;me!==null&&De<j.length;De++){me.index>De?(ke=me,me=null):ke=me.sibling;var qe=H(L,me,j[De],$);if(qe===null){me===null&&(me=ke);break}t&&me&&qe.alternate===null&&i(L,me),O=d(qe,O,De),He===null?ge=qe:He.sibling=qe,He=qe,me=ke}if(De===j.length)return a(L,me),je&&Xi(L,De),ge;if(me===null){for(;De<j.length;De++)me=Z(L,j[De],$),me!==null&&(O=d(me,O,De),He===null?ge=me:He.sibling=me,He=me);return je&&Xi(L,De),ge}for(me=l(me);De<j.length;De++)ke=F(me,L,De,j[De],$),ke!==null&&(t&&ke.alternate!==null&&me.delete(ke.key===null?De:ke.key),O=d(ke,O,De),He===null?ge=ke:He.sibling=ke,He=ke);return t&&me.forEach(function(Xs){return i(L,Xs)}),je&&Xi(L,De),ge}function _e(L,O,j,$){if(j==null)throw Error(r(151));for(var ge=null,He=null,me=O,De=O=0,ke=null,qe=j.next();me!==null&&!qe.done;De++,qe=j.next()){me.index>De?(ke=me,me=null):ke=me.sibling;var Xs=H(L,me,qe.value,$);if(Xs===null){me===null&&(me=ke);break}t&&me&&Xs.alternate===null&&i(L,me),O=d(Xs,O,De),He===null?ge=Xs:He.sibling=Xs,He=Xs,me=ke}if(qe.done)return a(L,me),je&&Xi(L,De),ge;if(me===null){for(;!qe.done;De++,qe=j.next())qe=Z(L,qe.value,$),qe!==null&&(O=d(qe,O,De),He===null?ge=qe:He.sibling=qe,He=qe);return je&&Xi(L,De),ge}for(me=l(me);!qe.done;De++,qe=j.next())qe=F(me,L,De,qe.value,$),qe!==null&&(t&&qe.alternate!==null&&me.delete(qe.key===null?De:qe.key),O=d(qe,O,De),He===null?ge=qe:He.sibling=qe,He=qe);return t&&me.forEach(function(AA){return i(L,AA)}),je&&Xi(L,De),ge}function tt(L,O,j,$){if(typeof j=="object"&&j!==null&&j.type===X&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case k:e:{for(var ge=j.key;O!==null;){if(O.key===ge){if(ge=j.type,ge===X){if(O.tag===7){a(L,O.sibling),$=h(O,j.props.children),$.return=L,L=$;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Hr(ge)===O.type){a(L,O.sibling),$=h(O,j.props),tl($,j),$.return=L,L=$;break e}a(L,O);break}else i(L,O);O=O.sibling}j.type===X?($=Pr(j.props.children,L.mode,$,j.key),$.return=L,L=$):($=Bu(j.type,j.key,j.props,null,L.mode,$),tl($,j),$.return=L,L=$)}return _(L);case K:e:{for(ge=j.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(L,O.sibling),$=h(O,j.children||[]),$.return=L,L=$;break e}else{a(L,O);break}else i(L,O);O=O.sibling}$=ff(j,L.mode,$),$.return=L,L=$}return _(L);case w:return j=Hr(j),tt(L,O,j,$)}if(we(j))return ce(L,O,j,$);if(P(j)){if(ge=P(j),typeof ge!="function")throw Error(r(150));return j=ge.call(j),_e(L,O,j,$)}if(typeof j.then=="function")return tt(L,O,Qu(j),$);if(j.$$typeof===fe)return tt(L,O,Fu(L,j),$);Xu(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(L,O.sibling),$=h(O,j),$.return=L,L=$):(a(L,O),$=hf(j,L.mode,$),$.return=L,L=$),_(L)):a(L,O)}return function(L,O,j,$){try{el=0;var ge=tt(L,O,j,$);return Va=null,ge}catch(me){if(me===Ma||me===Ku)throw me;var He=Sn(29,me,null,L.mode);return He.lanes=$,He.return=L,He}finally{}}}var Fr=Tg(!0),Sg=Tg(!1),Os=!1;function Af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=zu(t),rg(t,null,a),i}return ju(t,l,i,a),zu(t)}function nl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,No(t,a)}}function Rf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var If=!1;function il(){if(If){var t=Oa;if(t!==null)throw t}}function sl(t,i,a,l){If=!1;var h=t.updateQueue;Os=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,_===null?d=z:_.next=z,_=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;_=0,Q=z=C=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Ve&H)===H:(l&H)===H){H!==0&&H===xa&&(If=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,_e=T;H=i;var tt=a;switch(_e.tag){case 1:if(ce=_e.payload,typeof ce=="function"){Z=ce.call(tt,Z,H);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=_e.payload,H=typeof ce=="function"?ce.call(tt,Z,H):ce,H==null)break e;Z=b({},Z,H);break e;case 2:Os=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=F,C=Z):Q=Q.next=F,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),js|=_,t.lanes=_,t.memoizedState=Z}}function bg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Ag(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bg(a[t],i)}var ka=x(null),$u=x(0);function wg(t,i){t=as,ie($u,t),ie(ka,i),as=t|i.baseLanes}function Cf(){ie($u,as),ie(ka,ka.current)}function Nf(){as=$u.current,Y(ka),Y($u)}var bn=x(null),jn=null;function ks(t){var i=t.alternate;ie(pt,pt.current&1),ie(bn,t),jn===null&&(i===null||ka.current!==null||i.memoizedState!==null)&&(jn=t)}function Df(t){ie(pt,pt.current),ie(bn,t),jn===null&&(jn=t)}function Rg(t){t.tag===22?(ie(pt,pt.current),ie(bn,t),jn===null&&(jn=t)):Ls()}function Ls(){ie(pt,pt.current),ie(bn,bn.current)}function An(t){Y(bn),jn===t&&(jn=null),Y(pt)}var pt=x(0);function Zu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ld(a)||Pd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ji=0,Ne=null,We=null,wt=null,Ju=!1,La=!1,Gr=!1,Wu=0,rl=0,Pa=null,mb=0;function ht(){throw Error(r(321))}function xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Tn(t[a],i[a]))return!1;return!0}function Of(t,i,a,l,h,d){return Ji=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=t===null||t.memoizedState===null?uy:Yf,Gr=!1,d=a(l,h),Gr=!1,La&&(d=Cg(i,a,l,h)),Ig(t),d}function Ig(t){B.H=ll;var i=We!==null&&We.next!==null;if(Ji=0,wt=We=Ne=null,Ju=!1,rl=0,Pa=null,i)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&qu(t)&&(Rt=!0))}function Cg(t,i,a,l){Ne=t;var h=0;do{if(La&&(Pa=null),rl=0,La=!1,25<=h)throw Error(r(301));if(h+=1,wt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=cy,d=i(a,l)}while(La);return d}function pb(){var t=B.H,i=t.useState()[0];return i=typeof i.then=="function"?al(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Mf(){var t=Wu!==0;return Wu=0,t}function Vf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function kf(t){if(Ju){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ju=!1}Ji=0,wt=We=Ne=null,La=!1,rl=Wu=0,Pa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ne.memoizedState=wt=t:wt=wt.next=t,wt}function gt(){if(We===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=wt===null?Ne.memoizedState:wt.next;if(i!==null)wt=i,We=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Ne.memoizedState=wt=t:wt=wt.next=t}return wt}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var i=rl;return rl+=1,Pa===null&&(Pa=[]),t=_g(Pa,t,i),i=Ne,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?uy:Yf),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===fe)return Ft(t)}throw Error(r(438,String(t)))}function Lf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ec(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Wi(t,i){return typeof i=="function"?i(t):i}function nc(t){var i=gt();return Pf(i,We,t)}function Pf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,C=null,z=i,Q=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Ve&Z)===Z:(Ji&Z)===Z){var H=z.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===xa&&(Q=!0);else if((Ji&H)===H){z=z.next,H===xa&&(Q=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=Z,_=d):C=C.next=Z,Ne.lanes|=H,js|=H;Z=z.action,Gr&&a(d,Z),d=z.hasEagerState?z.eagerState:a(d,Z)}else H={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=H,_=d):C=C.next=H,Ne.lanes|=Z,js|=Z;z=z.next}while(z!==null&&z!==i);if(C===null?_=d:C.next=T,!Tn(d,t.memoizedState)&&(Rt=!0,Q&&(a=Oa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Uf(t){var i=gt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Tn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ng(t,i,a){var l=Ne,h=gt(),d=je;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Tn((We||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,Bf(Og.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},xg.bind(null,l,h,a,i),null),nt===null)throw Error(r(349));d||(Ji&127)!==0||Dg(l,i,a)}return a}function Dg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=ec(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function xg(t,i,a,l){i.value=a,i.getSnapshot=l,Mg(i)&&Vg(t)}function Og(t,i,a){return a(function(){Mg(i)&&Vg(t)})}function Mg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Tn(t,a)}catch{return!0}}function Vg(t){var i=Lr(t,2);i!==null&&pn(i,t,2)}function jf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Gr){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},i}function kg(t,i,a,l){return t.baseState=a,Pf(t,We,typeof l=="function"?l:Wi)}function gb(t,i,a,l,h){if(rc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};B.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Lg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Lg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=B.T,_={};B.T=_;try{var T=a(h,l),C=B.S;C!==null&&C(_,T),Pg(t,i,T)}catch(z){zf(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),B.T=d}}else try{d=a(h,l),Pg(t,i,d)}catch(z){zf(t,i,z)}}function Pg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ug(t,i,l)},function(l){return zf(t,i,l)}):Ug(t,i,a)}function Ug(t,i,a){i.status="fulfilled",i.value=a,jg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Lg(t,a)))}function zf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,jg(i),i=i.next;while(i!==l)}t.action=null}function jg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function zg(t,i){return i}function Bg(t,i){if(je){var a=nt.formState;if(a!==null){e:{var l=Ne;if(je){if(st){t:{for(var h=st,d=Un;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){st=zn(h.nextSibling),l=h.data==="F!";break e}}Ds(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:i},a.queue=l,a=ay.bind(null,Ne,l),l.dispatch=a,l=jf(!1),d=Kf.bind(null,Ne,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=gb.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Hg(t){var i=gt();return qg(i,We,t)}function qg(t,i,a){if(i=Pf(t,i,zg)[0],t=nc(Wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=al(i)}catch(_){throw _===Ma?Ku:_}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,Ua(9,{destroy:void 0},yb.bind(null,h,a),null)),[l,d,t]}function yb(t,i){t.action=i}function Fg(t){var i=gt(),a=We;if(a!==null)return qg(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ua(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=ec(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Gg(){return gt().memoizedState}function ic(t,i,a,l){var h=sn();Ne.flags|=t,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function sc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&xf(l,We.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(Ne.flags|=t,h.memoizedState=Ua(1|i,d,a,l))}function Kg(t,i){ic(8390656,8,t,i)}function Bf(t,i){sc(2048,8,t,i)}function _b(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=ec(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Yg(t){var i=gt().memoizedState;return _b({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Qg(t,i){return sc(4,2,t,i)}function Xg(t,i){return sc(4,4,t,i)}function $g(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Zg(t,i,a){a=a!=null?a.concat([t]):null,sc(4,4,$g.bind(null,i,t),a)}function Hf(){}function Jg(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&xf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Wg(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&xf(i,l[1]))return l[0];if(l=t(),Gr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function qf(t,i,a){return a===void 0||(Ji&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=e_(),Ne.lanes|=t,js|=t,a)}function ey(t,i,a,l){return Tn(a,i)?a:ka.current!==null?(t=qf(t,a,l),Tn(t,i)||(Rt=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(Ve&261930)===0?(Rt=!0,t.memoizedState=a):(t=e_(),Ne.lanes|=t,js|=t,i)}function ty(t,i,a,l,h){var d=J.p;J.p=d!==0&&8>d?d:8;var _=B.T,T={};B.T=T,Kf(t,!1,i,a);try{var C=h(),z=B.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=db(C,l);ol(t,i,Q,In(t))}else ol(t,i,l,In(t))}catch(Z){ol(t,i,{then:function(){},status:"rejected",reason:Z},In())}finally{J.p=d,_!==null&&T.types!==null&&(_.types=T.types),B.T=_}}function vb(){}function Ff(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=ny(t).queue;ty(t,h,i,ae,a===null?vb:function(){return iy(t),a(l)})}function ny(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ae},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function iy(t){var i=ny(t);i.next===null&&(i=t.alternate.memoizedState),ol(t,i.next.queue,{},In())}function Gf(){return Ft(Al)}function sy(){return gt().memoizedState}function ry(){return gt().memoizedState}function Eb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();t=Ms(a);var l=Vs(i,t,a);l!==null&&(pn(l,i,a),nl(l,i,a)),i={cache:Ef()},t.payload=i;return}i=i.return}}function Tb(t,i,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?oy(i,a):(a=uf(t,i,a,l),a!==null&&(pn(a,t,l),ly(a,i,l)))}function ay(t,i,a){var l=In();ol(t,i,a,l)}function ol(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))oy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,Tn(T,_))return ju(t,i,h,0),nt===null&&Uu(),!1}catch{}finally{}if(a=uf(t,i,h,l),a!==null)return pn(a,t,l),ly(a,i,l),!0}return!1}function Kf(t,i,a,l){if(l={lane:2,revertLane:Ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(i)throw Error(r(479))}else i=uf(t,a,l,2),i!==null&&pn(i,t,2)}function rc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function oy(t,i){La=Ju=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ly(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,No(t,a)}}var ll={readContext:Ft,use:tc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};ll.useEffectEvent=ht;var uy={readContext:Ft,use:tc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Kg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ic(4194308,4,$g.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ic(4194308,4,t,i)},useInsertionEffect:function(t,i){ic(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Gr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Gr){Nn(!0);try{a(i)}finally{Nn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Tb.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=jf(t);var i=t.queue,a=ay.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(t,i){var a=sn();return qf(a,t,i)},useTransition:function(){var t=jf(!1);return t=ty.bind(null,Ne,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=sn();if(je){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),nt===null)throw Error(r(349));(Ve&127)!==0||Dg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Kg(Og.bind(null,l,d,t),[t]),l.flags|=2048,Ua(9,{destroy:void 0},xg.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=nt.identifierPrefix;if(je){var a=Ri,l=wi;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=mb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Gf,useFormState:Bg,useActionState:Bg,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Lf,useCacheRefresh:function(){return sn().memoizedState=Eb.bind(null,Ne)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Yf={readContext:Ft,use:tc,useCallback:Jg,useContext:Ft,useEffect:Bf,useImperativeHandle:Zg,useInsertionEffect:Qg,useLayoutEffect:Xg,useMemo:Wg,useReducer:nc,useRef:Gg,useState:function(){return nc(Wi)},useDebugValue:Hf,useDeferredValue:function(t,i){var a=gt();return ey(a,We.memoizedState,t,i)},useTransition:function(){var t=nc(Wi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:al(t),i]},useSyncExternalStore:Ng,useId:sy,useHostTransitionStatus:Gf,useFormState:Hg,useActionState:Hg,useOptimistic:function(t,i){var a=gt();return kg(a,We,t,i)},useMemoCache:Lf,useCacheRefresh:ry};Yf.useEffectEvent=Yg;var cy={readContext:Ft,use:tc,useCallback:Jg,useContext:Ft,useEffect:Bf,useImperativeHandle:Zg,useInsertionEffect:Qg,useLayoutEffect:Xg,useMemo:Wg,useReducer:Uf,useRef:Gg,useState:function(){return Uf(Wi)},useDebugValue:Hf,useDeferredValue:function(t,i){var a=gt();return We===null?qf(a,t,i):ey(a,We.memoizedState,t,i)},useTransition:function(){var t=Uf(Wi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:al(t),i]},useSyncExternalStore:Ng,useId:sy,useHostTransitionStatus:Gf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,i){var a=gt();return We!==null?kg(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:ry};cy.useEffectEvent=Yg;function Qf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=In(),h=Ms(l);h.payload=i,a!=null&&(h.callback=a),i=Vs(t,h,l),i!==null&&(pn(i,t,l),nl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=In(),h=Ms(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vs(t,h,l),i!==null&&(pn(i,t,l),nl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=In(),l=Ms(a);l.tag=2,i!=null&&(l.callback=i),i=Vs(t,l,a),i!==null&&(pn(i,t,a),nl(i,t,a))}};function hy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function fy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Xf.enqueueReplaceState(i,i.state,null)}function Kr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function dy(t){Pu(t)}function my(t){console.error(t)}function py(t){Pu(t)}function ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function gy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(t,i,a){return a=Ms(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(t,i)},a}function yy(t){return t=Ms(t),t.tag=3,t}function _y(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){gy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){gy(i,a,l),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Sb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Da(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?_c():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Td(t,l,h)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Td(t,l,h)),!1}throw Error(r(435,a.tag))}return Td(t,l,h),_c(),!1}if(je)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==pf&&(t=Error(r(422),{cause:l}),Zo(kn(t,a)))):(l!==pf&&(i=Error(r(423),{cause:l}),Zo(kn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,a),h=$f(t.stateNode,l,h),Rf(t,h),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:l});if(d=kn(d,a),gl===null?gl=[d]:gl.push(d),ft!==4&&(ft=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=$f(a.stateNode,l,t),Rf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zs===null||!zs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=yy(h),_y(h,t,a,l),Rf(a,h),!1}a=a.return}while(a!==null);return!1}var Zf=Error(r(461)),Rt=!1;function Gt(t,i,a,l){i.child=t===null?Sg(i,null,a,l):Fr(i,t.child,a,l)}function vy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return zr(i),l=Of(t,i,a,_,d,h),T=Mf(),t!==null&&!Rt?(Vf(t,i,h),es(t,i,h)):(je&&T&&df(i),i.flags|=1,Gt(t,i,l,h),i.child)}function Ey(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ty(t,i,d,l,h)):(t=Bu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!rd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(_,l)&&t.ref===i.ref)return es(t,i,h)}return i.flags|=1,t=Qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ty(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,rd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,es(t,i,h)}return Jf(t,i,a,l,h)}function Sy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return by(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(i,d!==null?d.cachePool:null),d!==null?wg(i,d):Cf(),Rg(i);else return l=i.lanes=536870912,by(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Gu(i,d.cachePool),wg(i,d),Ls(),i.memoizedState=null):(t!==null&&Gu(i,null),Cf(),Ls());return Gt(t,i,h,a),i.child}function ul(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function by(t,i,a,l,h){var d=Sf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Gu(i,null),Cf(),Rg(i),t!==null&&Da(t,i,l,!0),i.childLanes=h,null}function oc(t,i){return i=uc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ay(t,i,a){return Fr(i,t.child,null,a),t=oc(i,i.pendingProps),t.flags|=2,An(i),i.memoizedState=null,t}function bb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=oc(i,l),i.lanes=536870912,ul(null,t);if(Df(i),(t=st)?(t=L_(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=og(t),a.return=i,i.child=a,qt=i,st=null)):t=null,t===null)throw Ds(i);return i.lanes=536870912,null}return oc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Df(i),h)if(i.flags&256)i.flags&=-257,i=Ay(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Rt||Da(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=nt,l!==null&&(_=Do(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Lr(t,_),pn(l,t,_),Zf;_c(),i=Ay(t,i,a)}else t=d.treeContext,st=zn(_.nextSibling),qt=i,je=!0,Ns=null,Un=!1,t!==null&&cg(i,t),i=oc(i,l),i.flags|=4096;return i}return t=Qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function lc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Jf(t,i,a,l,h){return zr(i),a=Of(t,i,a,l,void 0,h),l=Mf(),t!==null&&!Rt?(Vf(t,i,h),es(t,i,h)):(je&&l&&df(i),i.flags|=1,Gt(t,i,a,h),i.child)}function wy(t,i,a,l,h,d){return zr(i),i.updateQueue=null,a=Cg(i,l,a,h),Ig(t),l=Mf(),t!==null&&!Rt?(Vf(t,i,d),es(t,i,d)):(je&&l&&df(i),i.flags|=1,Gt(t,i,a,d),i.child)}function Ry(t,i,a,l,h){if(zr(i),i.stateNode===null){var d=Ra,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Af(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Ra,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Xf.enqueueReplaceState(d,d.state,null),sl(i,l,d,h),il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=Kr(a,T);d.props=C;var z=d.context,Q=a.contextType;_=Ra,typeof Q=="object"&&Q!==null&&(_=Ft(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&fy(i,d,l,_),Os=!1;var H=i.memoizedState;d.state=H,sl(i,l,d,h),il(),z=i.memoizedState,T||H!==z||Os?(typeof Z=="function"&&(Qf(i,a,Z,l),z=i.memoizedState),(C=Os||hy(i,a,C,l,H,z,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,wf(t,i),_=i.memoizedProps,Q=Kr(a,_),d.props=Q,Z=i.pendingProps,H=d.context,z=a.contextType,C=Ra,typeof z=="object"&&z!==null&&(C=Ft(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||H!==C)&&fy(i,d,l,C),Os=!1,H=i.memoizedState,d.state=H,sl(i,l,d,h),il();var F=i.memoizedState;_!==Z||H!==F||Os||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof T=="function"&&(Qf(i,a,T,l),F=i.memoizedState),(Q=Os||hy(i,a,Q,l,H,F,C)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,lc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fr(i,t.child,null,h),i.child=Fr(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=es(t,i,h),t}function Iy(t,i,a,l){return Ur(),i.flags|=256,Gt(t,i,a,l),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(t){return{baseLanes:t,cachePool:gg()}}function td(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Rn),t}function Cy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(h?ks(i):Ls(),(t=st)?(t=L_(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=og(t),a.return=i,i.child=a,qt=i,st=null)):t=null,t===null)throw Ds(i);return Pd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ls(),h=i.mode,T=uc({mode:"hidden",children:T},h),l=Pr(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=ed(a),l.childLanes=td(t,_,a),i.memoizedState=Wf,ul(null,l)):(ks(i),nd(i,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(ks(i),i.flags&=-257,i=id(t,i,a)):i.memoizedState!==null?(Ls(),i.child=t.child,i.flags|=128,i=null):(Ls(),T=l.fallback,h=i.mode,l=uc({mode:"visible",children:l.children},h),T=Pr(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Fr(i,t.child,null,a),l=i.child,l.memoizedState=ed(a),l.childLanes=td(t,_,a),i.memoizedState=Wf,i=ul(null,l));else if(ks(i),Pd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,Zo({value:l,source:null,stack:null}),i=id(t,i,a)}else if(Rt||Da(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=nt,_!==null&&(l=Do(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Lr(t,l),pn(_,t,l),Zf;Ld(T)||_c(),i=id(t,i,a)}else Ld(T)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,st=zn(T.nextSibling),qt=i,je=!0,Ns=null,Un=!1,t!==null&&cg(i,t),i=nd(i,l.children),i.flags|=4096);return i}return h?(Ls(),T=l.fallback,h=i.mode,C=t.child,z=C.sibling,l=Qi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=Qi(z,T):(T=Pr(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ul(null,l),l=i.child,T=t.child.memoizedState,T===null?T=ed(a):(h=T.cachePool,h!==null?(C=At._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=gg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=td(t,_,a),i.memoizedState=Wf,ul(t.child,l)):(ks(i),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function nd(t,i){return i=uc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function uc(t,i){return t=Sn(22,t,null,i),t.lanes=0,t}function id(t,i,a){return Fr(i,t.child,null,a),t=nd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ny(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),_f(t.return,i,a)}function sd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Dy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ie(pt,_),Gt(t,i,l,a),l=je?$o:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,a,i);else if(t.tag===19)Ny(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),sd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}sd(i,!0,a,null,d,l);break;case"together":sd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function es(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),js|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Da(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function rd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function Ab(t,i,a){switch(i.tag){case 3:Qe(i,i.stateNode.containerInfo),xs(i,At,t.memoizedState.cache),Ur();break;case 27:case 5:ln(i);break;case 4:Qe(i,i.stateNode.containerInfo);break;case 10:xs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Df(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ks(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Cy(t,i,a):(ks(i),t=es(t,i,a),t!==null?t.sibling:null);ks(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Da(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Dy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(pt,pt.current),l)break;return null;case 22:return i.lanes=0,Sy(t,i,a,i.pendingProps);case 24:xs(i,At,t.memoizedState.cache)}return es(t,i,a)}function xy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!rd(t,a)&&(i.flags&128)===0)return Rt=!1,Ab(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,je&&(i.flags&1048576)!==0&&ug(i,$o,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Hr(i.elementType),i.type=t,typeof t=="function")cf(t)?(l=Kr(t,l),i.tag=1,i=Ry(null,i,t,l,a)):(i.tag=0,i=Jf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===be){i.tag=11,i=vy(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=Ey(null,i,t,l,a);break e}}throw i=it(t)||t,Error(r(306,i,""))}}return i;case 0:return Jf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Kr(l,i.pendingProps),Ry(t,i,l,h,a);case 3:e:{if(Qe(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,wf(t,i),sl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,xs(i,At,l),l!==d.cache&&vf(i,[At],a,!0),il(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Iy(t,i,l,a);break e}else if(l!==h){h=kn(Error(r(424)),i),Zo(h),i=Iy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=zn(t.firstChild),qt=i,je=!0,Ns=null,Un=!0,a=Sg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ur(),l===h){i=es(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return lc(t,i),t===null?(a=H_(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=wc(le.current).createElement(a),l[Tt]=i,l[kt]=t,Kt(l,a,t),St(l),i.stateNode=l):i.memoizedState=H_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ln(i),t===null&&je&&(l=i.stateNode=j_(i.type,i.pendingProps,le.current),qt=i,Un=!0,h=st,Fs(i.type)?(Ud=h,st=zn(l.firstChild)):st=h),Gt(t,i,i.pendingProps.children,a),lc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((h=l=st)&&(l=eA(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,qt=i,st=zn(l.firstChild),Un=!1,h=!0):h=!1),h||Ds(i)),ln(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Md(h,d)?l=null:_!==null&&Md(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Of(t,i,pb,null,null,a),Al._currentValue=h),lc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=st)&&(a=tA(a,i.pendingProps,Un),a!==null?(i.stateNode=a,qt=i,st=null,t=!0):t=!1),t||Ds(i)),null;case 13:return Cy(t,i,a);case 4:return Qe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fr(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return vy(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xs(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zr(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return Ey(t,i,i.type,i.pendingProps,a);case 15:return Ty(t,i,i.type,i.pendingProps,a);case 19:return Dy(t,i,a);case 31:return bb(t,i,a);case 22:return Sy(t,i,a,i.pendingProps);case 24:return zr(i),l=Ft(At),t===null?(h=Sf(),h===null&&(h=nt,d=Ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Af(i),xs(i,At,h)):((t.lanes&a)!==0&&(wf(t,i),sl(i,null,null,a),il()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),xs(i,At,l)):(l=d.cache,xs(i,At,l),l!==h.cache&&vf(i,[At],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ts(t){t.flags|=4}function ad(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(s_())t.flags|=8192;else throw qr=Yu,bf}else t.flags&=-16777217}function Oy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Y_(i))if(s_())t.flags|=8192;else throw qr=Yu,bf}function cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?gu():536870912,t.lanes|=i,Ha|=i)}function cl(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function wb(t,i,a){var l=i.pendingProps;switch(mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Zi(At),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(i)?ts(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gf())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(ts(i),d!==null?(rt(i),Oy(i,d)):(rt(i),ad(i,h,null,l,a))):d?d!==t.memoizedState?(ts(i),rt(i),Oy(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ts(i),rt(i),ad(i,h,t,l,a)),null;case 27:if(Kn(i),a=le.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ts(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return rt(i),null}t=te.current,Na(i)?hg(i):(t=j_(h,l,a),i.stateNode=t,ts(i))}return rt(i),null;case 5:if(Kn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ts(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return rt(i),null}if(d=te.current,Na(i))hg(i);else{var _=wc(le.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ts(i)}}return rt(i),ad(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ts(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=le.current,Na(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||C_(t.nodeValue,a)),t||Ds(i,!0)}else t=wc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Na(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(r(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Tt]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),rt(i),null);case 4:return Ke(),t===null&&Cd(i.stateNode.containerInfo),rt(i),null;case 10:return Zi(i.type),rt(i),null;case 19:if(Y(pt),l=i.memoizedState,l===null)return rt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)cl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Zu(t),d!==null){for(i.flags|=128,cl(l,!1),t=d.updateQueue,i.updateQueue=t,cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ag(a,t),a=a.sibling;return ie(pt,pt.current&1|2),je&&Xi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>pc&&(i.flags|=128,h=!0,cl(l,!1),i.lanes=4194304)}else{if(!h)if(t=Zu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,cc(i,t),cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!je)return rt(i),null}else 2*tn()-l.renderingStartTime>pc&&a!==536870912&&(i.flags|=128,h=!0,cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=pt.current,ie(pt,h?a&1|2:a&1),je&&Xi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return An(i),Nf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Y(Br),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zi(At),rt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Rb(t,i){switch(mf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Zi(At),Ke(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Kn(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(r(340));Ur()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(An(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ur()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(pt),null;case 4:return Ke(),null;case 10:return Zi(i.type),null;case 22:case 23:return An(i),Nf(),t!==null&&Y(Br),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Zi(At),null;case 25:return null;default:return null}}function My(t,i){switch(mf(i),i.tag){case 3:Zi(At),Ke();break;case 26:case 27:case 5:Kn(i);break;case 4:Ke();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:Y(pt);break;case 10:Zi(i.type);break;case 22:case 23:An(i),Nf(),t!==null&&Y(Br);break;case 24:Zi(At)}}function hl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function Ps(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,z=T;try{z()}catch(Q){Ze(h,C,Q)}}}l=l.next}while(l!==d)}}catch(Q){Ze(i,i.return,Q)}}function Vy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ag(i,a)}catch(l){Ze(t,t.return,l)}}}function ky(t,i,a){a.props=Kr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function fl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function Ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function Ly(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function od(t,i,a){try{var l=t.stateNode;Qb(l,t.type,a,i),l[kt]=i}catch(h){Ze(t,t.return,h)}}function Py(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fs(t.type)||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zn));else if(l!==4&&(l===27&&Fs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ud(t,i,a),t=t.sibling;t!==null;)ud(t,i,a),t=t.sibling}function hc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hc(t,i,a),t=t.sibling;t!==null;)hc(t,i,a),t=t.sibling}function Uy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[Tt]=t,i[kt]=a}catch(d){Ze(t,t.return,d)}}var ns=!1,It=!1,cd=!1,jy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Ib(t,i){if(t=t.containerInfo,xd=Oc,t=Zp(t),nf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,z=0,Q=0,Z=t,H=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(T=_+h),Z!==d||l!==0&&Z.nodeType!==3||(C=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(F=Z.firstChild)!==null;)H=Z,Z=F;for(;;){if(Z===t)break t;if(H===a&&++z===h&&(T=_),H===d&&++Q===l&&(C=_),(F=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:t,selectionRange:a},Oc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Kr(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function zy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ss(t,a),l&4&&hl(5,a);break;case 1:if(ss(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var h=Kr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}l&64&&Vy(a),l&512&&fl(a,a.return);break;case 3:if(ss(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ag(t,i)}catch(_){Ze(a,a.return,_)}}break;case 27:i===null&&l&4&&Uy(a);case 26:case 5:ss(t,a),i===null&&l&4&&Ly(a),l&512&&fl(a,a.return);break;case 12:ss(t,a);break;case 31:ss(t,a),l&4&&qy(t,a);break;case 13:ss(t,a),l&4&&Fy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Lb.bind(null,a),nA(t,a))));break;case 22:if(l=a.memoizedState!==null||ns,!l){i=i!==null&&i.memoizedState!==null||It,h=ns;var d=It;ns=l,(It=i)&&!d?rs(t,a,(a.subtreeFlags&8772)!==0):ss(t,a),ns=h,It=d}break;case 30:break;default:ss(t,a)}}function By(t){var i=t.alternate;i!==null&&(t.alternate=null,By(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&fa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,hn=!1;function is(t,i,a){for(a=a.child;a!==null;)Hy(t,i,a),a=a.sibling}function Hy(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:It||Ii(a,i),is(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ii(a,i);var l=ut,h=hn;Fs(a.type)&&(ut=a.stateNode,hn=!1),is(t,i,a),Tl(a.stateNode),ut=l,hn=h;break;case 5:It||Ii(a,i);case 6:if(l=ut,h=hn,ut=null,is(t,i,a),ut=l,hn=h,ut!==null)if(hn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:ut!==null&&(hn?(t=ut,V_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),$a(t)):V_(ut,a.stateNode));break;case 4:l=ut,h=hn,ut=a.stateNode.containerInfo,hn=!0,is(t,i,a),ut=l,hn=h;break;case 0:case 11:case 14:case 15:Ps(2,a,i),It||Ps(4,a,i),is(t,i,a);break;case 1:It||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ky(a,i,l)),is(t,i,a);break;case 21:is(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,is(t,i,a),It=l;break;default:is(t,i,a)}}function qy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$a(t)}catch(a){Ze(i,i.return,a)}}}function Fy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$a(t)}catch(a){Ze(i,i.return,a)}}function Cb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new jy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new jy),i;default:throw Error(r(435,t.tag))}}function fc(t,i){var a=Cb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Pb.bind(null,t,l);l.then(h,h)}})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Fs(T.type)){ut=T.stateNode,hn=!1;break e}break;case 5:ut=T.stateNode,hn=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(ut===null)throw Error(r(160));Hy(d,_,h),ut=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Gy(i,t),i=i.sibling}var ii=null;function Gy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(Ps(3,t,t.return),hl(3,t),Ps(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(It||a===null||Ii(a,a.return)),l&64&&ns&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(fn(i,t),dn(t),l&512&&(It||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[Tt]=t,St(d),l=d;break e;case"link":var _=G_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=G_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else K_(h,t.type,t.stateNode);else t.stateNode=F_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?K_(h,t.type,t.stateNode):F_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&od(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(It||a===null||Ii(a,a.return)),a!==null&&l&4&&od(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(It||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(ce){Ze(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,od(t,h,a!==null?a.memoizedProps:h)),l&1024&&(cd=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ze(t,t.return,ce)}}break;case 3:if(Cc=null,h=ii,ii=Rc(i.containerInfo),fn(i,t),ii=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(i.containerInfo)}catch(ce){Ze(t,t.return,ce)}cd&&(cd=!1,Ky(t));break;case 4:l=ii,ii=Rc(t.stateNode.containerInfo),fn(i,t),dn(t),ii=l;break;case 12:fn(i,t),dn(t);break;case 31:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fc(t,l)));break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fc(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ns,Q=It;if(ns=z||h,It=Q||C,fn(i,t),It=Q,ns=z,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||ns||It||Yr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var Z=C.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){Ze(C,C.return,ce)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){Ze(C,C.return,ce)}}}else if(i.tag===18){if(a===null){C=i;try{var F=C.stateNode;h?k_(F,!0):k_(C.stateNode,!1)}catch(ce){Ze(C,C.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fc(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fc(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Py(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=ld(t);hc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var T=ld(t);hc(t,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=ld(t);ud(t,z,C);break;default:throw Error(r(161))}}catch(Q){Ze(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ky(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ss(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zy(t,i.alternate,i),i=i.sibling}function Yr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ps(4,i,i.return),Yr(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ky(i,i.return,a),Yr(i);break;case 27:Tl(i.stateNode);case 26:case 5:Ii(i,i.return),Yr(i);break;case 22:i.memoizedState===null&&Yr(i);break;case 30:Yr(i);break;default:Yr(i)}t=t.sibling}}function rs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:rs(h,d,a),hl(4,d);break;case 1:if(rs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ze(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)bg(C[h],T)}catch(z){Ze(l,l.return,z)}}a&&_&64&&Vy(d),fl(d,d.return);break;case 27:Uy(d);case 26:case 5:rs(h,d,a),a&&l===null&&_&4&&Ly(d),fl(d,d.return);break;case 12:rs(h,d,a);break;case 31:rs(h,d,a),a&&_&4&&qy(h,d);break;case 13:rs(h,d,a),a&&_&4&&Fy(h,d);break;case 22:d.memoizedState===null&&rs(h,d,a),fl(d,d.return);break;case 30:break;default:rs(h,d,a)}i=i.sibling}}function hd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jo(a))}function fd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t))}function si(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yy(t,i,a,l),i=i.sibling}function Yy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(t,i,a,l),h&2048&&hl(9,i);break;case 1:si(t,i,a,l);break;case 3:si(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){si(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(i,i.return,C)}}else si(t,i,a,l);break;case 31:si(t,i,a,l);break;case 13:si(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?si(t,i,a,l):dl(t,i):d._visibility&2?si(t,i,a,l):(d._visibility|=2,ja(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&hd(_,i);break;case 24:si(t,i,a,l),h&2048&&fd(i.alternate,i);break;default:si(t,i,a,l)}}function ja(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,C=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:ja(d,_,T,C,h),hl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?ja(d,_,T,C,h):dl(d,_):(Q._visibility|=2,ja(d,_,T,C,h)),h&&z&2048&&hd(_.alternate,_);break;case 24:ja(d,_,T,C,h),h&&z&2048&&fd(_.alternate,_);break;default:ja(d,_,T,C,h)}i=i.sibling}}function dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&hd(l.alternate,l);break;case 24:dl(a,l),h&2048&&fd(l.alternate,l);break;default:dl(a,l)}i=i.sibling}}var ml=8192;function za(t,i,a){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Qy(t,i,a),t=t.sibling}function Qy(t,i,a){switch(t.tag){case 26:za(t,i,a),t.flags&ml&&t.memoizedState!==null&&mA(a,ii,t.memoizedState,t.memoizedProps);break;case 5:za(t,i,a);break;case 3:case 4:var l=ii;ii=Rc(t.stateNode.containerInfo),za(t,i,a),ii=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ml,ml=16777216,za(t,i,a),ml=l):za(t,i,a));break;default:za(t,i,a)}}function Xy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Zy(l,t)}Xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$y(t),t=t.sibling}function $y(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,dc(t)):pl(t);break;default:pl(t)}}function dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Zy(l,t)}Xy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ps(8,i,i.return),dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,dc(i));break;default:dc(i)}t=t.sibling}}function Zy(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Ps(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(By(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var Nb={getCacheForType:function(t){var i=Ft(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(At).controller.signal}},Db=typeof WeakMap=="function"?WeakMap:Map,Ge=0,nt=null,Oe=null,Ve=0,$e=0,wn=null,Us=!1,Ba=!1,dd=!1,as=0,ft=0,js=0,Qr=0,md=0,Rn=0,Ha=0,gl=null,mn=null,pd=!1,mc=0,Jy=0,pc=1/0,gc=null,zs=null,Ot=0,Bs=null,qa=null,os=0,gd=0,yd=null,Wy=null,yl=0,_d=null;function In(){return(Ge&2)!==0&&Ve!==0?Ve&-Ve:B.T!==null?Ad():yu()}function e_(){if(Rn===0)if((Ve&536870912)===0||je){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Rn=t}else Rn=536870912;return t=bn.current,t!==null&&(t.flags|=32),Rn}function pn(t,i,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Hs(t,Ve,Rn,!1)),Sr(t,a),((Ge&2)===0||t!==nt)&&(t===nt&&((Ge&2)===0&&(Qr|=a),ft===4&&Hs(t,Ve,Rn,!1)),Ci(t))}function t_(t,i,a){if((Ge&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Qn(t,i),h=l?Mb(t,i):Ed(t,i,!0),d=l;do{if(h===0){Ba&&!l&&Hs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!xb(a)){h=Ed(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=gl;var C=T.current.memoizedState.isDehydrated;if(C&&(Fa(T,_).flags|=256),_=Ed(T,_,!1),_!==2){if(dd&&!C){T.errorRecoveryDisabledLanes|=d,Qr|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),Hs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Hs(l,i,Rn,!Us);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=mc+300-tn(),10<h)){if(Hs(l,i,Rn,!Us),ci(l,0,!0)!==0)break e;os=i,l.timeoutHandle=O_(n_.bind(null,l,a,mn,gc,pd,i,Rn,Qr,Ha,Us,d,"Throttled",-0,0),h);break e}n_(l,a,mn,gc,pd,i,Rn,Qr,Ha,Us,d,null,-0,0)}}break}while(!0);Ci(t)}function n_(t,i,a,l,h,d,_,T,C,z,Q,Z,H,F){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Qy(i,d,Z);var ce=(d&62914560)===d?mc-tn():(d&4194048)===d?Jy-tn():0;if(ce=pA(Z,ce),ce!==null){os=d,t.cancelPendingCommit=ce(c_.bind(null,t,i,d,a,l,h,_,T,C,Q,Z,null,H,F)),Hs(t,d,_,!z);return}}c_(t,i,d,a,l,h,_,T,C)}function xb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hs(t,i,a,l){i&=~md,i&=~Qr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&br(t,a,i)}function yc(){return(Ge&6)===0?(_l(0),!1):!0}function vd(){if(Oe!==null){if($e===0)var t=Oe.return;else t=Oe,$i=jr=null,kf(t),Va=null,el=0,t=Oe;for(;t!==null;)My(t.alternate,t),t=t.return;Oe=null}}function Fa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Zb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),os=0,vd(),nt=t,Oe=a=Qi(t.current,null),Ve=i,$e=0,wn=null,Us=!1,Ba=Qn(t,i),dd=!1,Ha=Rn=md=Qr=js=ft=0,mn=gl=null,pd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return as=i,Uu(),a}function i_(t,i){Ne=null,B.H=ll,i===Ma||i===Ku?(i=vg(),$e=3):i===bf?(i=vg(),$e=4):$e=i===Zf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,Oe===null&&(ft=1,ac(t,kn(i,t.current)))}function s_(){var t=bn.current;return t===null?!0:(Ve&4194048)===Ve?jn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===jn:!1}function r_(){var t=B.H;return B.H=ll,t===null?ll:t}function a_(){var t=B.A;return B.A=Nb,t}function _c(){ft=4,Us||(Ve&4194048)!==Ve&&bn.current!==null||(Ba=!0),(js&134217727)===0&&(Qr&134217727)===0||nt===null||Hs(nt,Ve,Rn,!1)}function Ed(t,i,a){var l=Ge;Ge|=2;var h=r_(),d=a_();(nt!==t||Ve!==i)&&(gc=null,Fa(t,i)),i=!1;var _=ft;e:do try{if($e!==0&&Oe!==null){var T=Oe,C=wn;switch($e){case 8:vd(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var z=$e;if($e=0,wn=null,Ga(t,T,C,z),a&&Ba){_=0;break e}break;default:z=$e,$e=0,wn=null,Ga(t,T,C,z)}}Ob(),_=ft;break}catch(Q){i_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,$i=jr=null,Ge=l,B.H=h,B.A=d,Oe===null&&(nt=null,Ve=0,Uu()),_}function Ob(){for(;Oe!==null;)o_(Oe)}function Mb(t,i){var a=Ge;Ge|=2;var l=r_(),h=a_();nt!==t||Ve!==i?(gc=null,pc=tn()+500,Fa(t,i)):Ba=Qn(t,i);e:do try{if($e!==0&&Oe!==null){i=Oe;var d=wn;t:switch($e){case 1:$e=0,wn=null,Ga(t,i,d,1);break;case 2:case 9:if(yg(d)){$e=0,wn=null,l_(i);break}i=function(){$e!==2&&$e!==9||nt!==t||($e=7),Ci(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:yg(d)?($e=0,wn=null,l_(i)):($e=0,wn=null,Ga(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var T=Oe;if(_?Y_(_):T.stateNode.complete){$e=0,wn=null;var C=T.sibling;if(C!==null)Oe=C;else{var z=T.return;z!==null?(Oe=z,vc(z)):Oe=null}break t}}$e=0,wn=null,Ga(t,i,d,5);break;case 6:$e=0,wn=null,Ga(t,i,d,6);break;case 8:vd(),ft=6;break e;default:throw Error(r(462))}}Vb();break}catch(Q){i_(t,Q)}while(!0);return $i=jr=null,B.H=l,B.A=h,Ge=a,Oe!==null?0:(nt=null,Ve=0,Uu(),ft)}function Vb(){for(;Oe!==null&&!Xh();)o_(Oe)}function o_(t){var i=xy(t.alternate,t,as);t.memoizedProps=t.pendingProps,i===null?vc(t):Oe=i}function l_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=wy(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=wy(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:kf(i);default:My(a,i),i=Oe=ag(i,as),i=xy(a,i,as)}t.memoizedProps=t.pendingProps,i===null?vc(t):Oe=i}function Ga(t,i,a,l){$i=jr=null,kf(i),Va=null,el=0;var h=i.return;try{if(Sb(t,h,i,a,Ve)){ft=1,ac(t,kn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ft=1,ac(t,kn(a,t.current)),Oe=null;return}i.flags&32768?(je||l===1?t=!0:Ba||(Ve&536870912)!==0?t=!1:(Us=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),u_(i,t)):vc(i)}function vc(t){var i=t;do{if((i.flags&32768)!==0){u_(i,Us);return}t=i.return;var a=wb(i.alternate,i,as);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ft===0&&(ft=5)}function u_(t,i){do{var a=Rb(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ft=6,Oe=null}function c_(t,i,a,l,h,d,_,T,C){t.cancelPendingCommit=null;do Ec();while(Ot!==0);if((Ge&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=lf,Jh(t,a,d,_,T,C),t===nt&&(Oe=nt=null,Ve=0),qa=i,Bs=t,os=a,gd=d,yd=h,Wy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ub(_s,function(){return p_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=J.p,J.p=2,_=Ge,Ge|=4;try{Ib(t,i,a)}finally{Ge=_,J.p=h,B.T=l}}Ot=1,h_(),f_(),d_()}}function h_(){if(Ot===1){Ot=0;var t=Bs,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=J.p;J.p=2;var h=Ge;Ge|=4;try{Gy(i,t);var d=Od,_=Zp(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&$p(T.ownerDocument.documentElement,T)){if(C!==null&&nf(T)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var F=H.getSelection(),ce=T.textContent.length,_e=Math.min(C.start,ce),tt=C.end===void 0?_e:Math.min(C.end,ce);!F.extend&&_e>tt&&(_=tt,tt=_e,_e=_);var L=Xp(T,_e),O=Xp(T,tt);if(L&&O&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var j=Z.createRange();j.setStart(L.node,L.offset),F.removeAllRanges(),_e>tt?(F.addRange(j),F.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),F.addRange(j))}}}}for(Z=[],F=T;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var $=Z[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Oc=!!xd,Od=xd=null}finally{Ge=h,J.p=l,B.T=a}}t.current=i,Ot=2}}function f_(){if(Ot===2){Ot=0;var t=Bs,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=J.p;J.p=2;var h=Ge;Ge|=4;try{zy(t,i.alternate,i)}finally{Ge=h,J.p=l,B.T=a}}Ot=3}}function d_(){if(Ot===4||Ot===3){Ot=0,cu();var t=Bs,i=qa,a=os,l=Wy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ot=5:(Ot=0,qa=Bs=null,m_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zs=null),Fi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=B.T,h=J.p,J.p=2,B.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{B.T=i,J.p=h}}(os&3)!==0&&Ec(),Ci(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===_d?yl++:(yl=0,_d=t):yl=0,_l(0)}}function m_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Jo(i)))}function Ec(){return h_(),f_(),d_(),p_()}function p_(){if(Ot!==5)return!1;var t=Bs,i=gd;gd=0;var a=Fi(os),l=B.T,h=J.p;try{J.p=32>a?32:a,B.T=null,a=yd,yd=null;var d=Bs,_=os;if(Ot=0,qa=Bs=null,os=0,(Ge&6)!==0)throw Error(r(331));var T=Ge;if(Ge|=4,$y(d.current),Yy(d,d.current,_,a),Ge=T,_l(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{J.p=h,B.T=l,m_(t,i)}}function g_(t,i,a){i=kn(a,i),i=$f(t.stateNode,i,2),t=Vs(t,i,2),t!==null&&(Sr(t,2),Ci(t))}function Ze(t,i,a){if(t.tag===3)g_(t,t,a);else for(;i!==null;){if(i.tag===3){g_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zs===null||!zs.has(l))){t=kn(a,t),a=yy(2),l=Vs(i,a,2),l!==null&&(_y(a,l,i,t),Sr(l,2),Ci(l));break}}i=i.return}}function Td(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Db;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(dd=!0,h.add(a),t=kb.bind(null,t,i,a),i.then(t,t))}function kb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ve&a)===a&&(ft===4||ft===3&&(Ve&62914560)===Ve&&300>tn()-mc?(Ge&2)===0&&Fa(t,0):md|=a,Ha===Ve&&(Ha=0)),Ci(t)}function y_(t,i){i===0&&(i=gu()),t=Lr(t,i),t!==null&&(Sr(t,i),Ci(t))}function Lb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),y_(t,a)}function Pb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),y_(t,a)}function Ub(t,i){return xt(t,i)}var Tc=null,Ka=null,Sd=!1,Sc=!1,bd=!1,qs=0;function Ci(t){t!==Ka&&t.next===null&&(Ka===null?Tc=Ka=t:Ka=Ka.next=t),Sc=!0,Sd||(Sd=!0,zb())}function _l(t,i){if(!bd&&Sc){bd=!0;do for(var a=!1,l=Tc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,T_(l,d))}else d=Ve,d=ci(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,T_(l,d));l=l.next}while(a);bd=!1}}function jb(){__()}function __(){Sc=Sd=!1;var t=0;qs!==0&&$b()&&(t=qs);for(var i=tn(),a=null,l=Tc;l!==null;){var h=l.next,d=v_(l,i);d===0?(l.next=null,a===null?Tc=h:a.next=h,h===null&&(Ka=a)):(a=l,(t!==0||(d&3)!==0)&&(Sc=!0)),l=h}Ot!==0&&Ot!==5||_l(t),qs!==0&&(qs=0)}function v_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Zh(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=nt,a=Ve,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ys(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ys(l),Fi(a)){case 2:case 8:a=Co;break;case 32:a=_s;break;case 268435456:a=hu;break;default:a=_s}return l=E_.bind(null,t),a=xt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ys(l),t.callbackPriority=2,t.callbackNode=null,2}function E_(t,i){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ec()&&t.callbackNode!==a)return null;var l=Ve;return l=ci(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(t_(t,l,i),v_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?E_.bind(null,t):null)}function T_(t,i){if(Ec())return null;t_(t,i,!0)}function zb(){Jb(function(){(Ge&6)!==0?xt(Io,jb):__()})}function Ad(){if(qs===0){var t=xa;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),qs=t}return qs}function S_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function b_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Bb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=S_((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?S_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ti("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var C=_?b_(h,_):new FormData(h);Ff(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?b_(h,_):new FormData(h),Ff(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var wd=0;wd<of.length;wd++){var Rd=of[wd],Hb=Rd.toLowerCase(),qb=Rd[0].toUpperCase()+Rd.slice(1);ni(Hb,"on"+qb)}ni(eg,"onAnimationEnd"),ni(tg,"onAnimationIteration"),ni(ng,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(rb,"onTransitionRun"),ni(ab,"onTransitionStart"),ni(ob,"onTransitionCancel"),ni(ig,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function A_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Q){Pu(Q)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,z=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Q){Pu(Q)}h.currentTarget=null,d=C}}}}function Me(t,i){var a=i[ha];a===void 0&&(a=i[ha]=new Set);var l=t+"__bubble";a.has(l)||(w_(i,t,2,!1),a.add(l))}function Id(t,i,a){var l=0;i&&(l|=4),w_(a,t,l,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[bc]){t[bc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(Fb.has(a)||Id(a,!1,t),Id(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[bc]||(i[bc]=!0,Id("selectionchange",!1,i))}}function w_(t,i,a,l){switch(ev(i)){case 2:var h=_A;break;case 8:h=vA;break;default:h=qd}a=h.bind(null,i,a,t),h=void 0,!Cr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Nd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=mi(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}T=T.parentNode}}l=l.return}As(function(){var z=d,Q=xn(a),Z=[];e:{var H=sg.get(t);if(H!==void 0){var F=Ti,ce=t;switch(t){case"keypress":if(Dr(a)===0)break e;case"keydown":case"keyup":F=Vu;break;case"focusin":ce="focus",F=Or;break;case"focusout":ce="blur",F=Or;break;case"beforeblur":case"afterblur":F=Or;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case eg:case tg:case ng:F=Iu;break;case ig:F=S;break;case"scroll":case"scrollend":F=qo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Yi;break;case"toggle":case"beforetoggle":F=Ce}var _e=(i&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),L=_e?H!==null?H+"Capture":null:H;_e=[];for(var O=z,j;O!==null;){var $=O;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||L===null||($=Jn(O,L),$!=null&&_e.push(El(O,$,j))),tt)break;O=O.return}0<_e.length&&(H=new F(H,ce,null,a,Q),Z.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==zo&&(ce=a.relatedTarget||a.fromElement)&&(mi(ce)||ce[fi]))break e;if((F||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,F?(ce=a.relatedTarget||a.toElement,F=z,ce=ce?mi(ce):null,ce!==null&&(tt=u(ce),_e=ce.tag,ce!==tt||_e!==5&&_e!==27&&_e!==6)&&(ce=null)):(F=null,ce=z),F!==ce)){if(_e=Fo,$="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Yi,$="onPointerLeave",L="onPointerEnter",O="pointer"),tt=F==null?H:vn(F),j=ce==null?H:vn(ce),H=new _e($,O+"leave",F,a,Q),H.target=tt,H.relatedTarget=j,$=null,mi(Q)===z&&(_e=new _e(L,O+"enter",ce,a,Q),_e.target=j,_e.relatedTarget=tt,$=_e),tt=$,F&&ce)t:{for(_e=Gb,L=F,O=ce,j=0,$=L;$;$=_e($))j++;$=0;for(var ge=O;ge;ge=_e(ge))$++;for(;0<j-$;)L=_e(L),j--;for(;0<$-j;)O=_e(O),$--;for(;j--;){if(L===O||O!==null&&L===O.alternate){_e=L;break t}L=_e(L),O=_e(O)}_e=null}else _e=null;F!==null&&R_(Z,H,F,_e,!1),ce!==null&&tt!==null&&R_(Z,tt,ce,_e,!0)}}e:{if(H=z?vn(z):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var He=qp;else if(Bp(H))if(Fp)He=nb;else{He=eb;var me=WS}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&pa(z.elementType)&&(He=qp):He=tb;if(He&&(He=He(t,z))){Hp(Z,He,a,Q);break e}me&&me(t,H,z),t==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&Po(H,"number",H.value)}switch(me=z?vn(z):window,t){case"focusin":(Bp(me)||me.contentEditable==="true")&&(ba=me,sf=z,Xo=null);break;case"focusout":Xo=sf=ba=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,Jp(Z,a,Q);break;case"selectionchange":if(sb)break;case"keydown":case"keyup":Jp(Z,a,Q)}var De;if(Fe)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Sa?Mr(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ai&&a.locale!=="ko"&&(Sa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Sa&&(De=Ho()):(Ei=Q,Bo="value"in Ei?Ei.value:Ei.textContent,Sa=!0)),me=Ac(z,ke),0<me.length&&(ke=new bi(ke,t,null,a,Q),Z.push({event:ke,listeners:me}),De?ke.data=De:(De=Ta(a),De!==null&&(ke.data=De)))),(De=Mn?XS(t,a):$S(t,a))&&(ke=Ac(z,"onBeforeInput"),0<ke.length&&(me=new bi("onBeforeInput","beforeinput",null,a,Q),Z.push({event:me,listeners:ke}),me.data=De)),Bb(Z,t,z,a,Q)}A_(Z,i)})}function El(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ac(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Jn(t,a),h!=null&&l.unshift(El(t,h,d)),h=Jn(t,i),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Gb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function R_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=Jn(a,d),z!=null&&_.unshift(El(a,z,C))):h||(z=Jn(a,d),z!=null&&_.push(El(a,z,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Kb=/\r\n?/g,Yb=/\u0000|\uFFFD/g;function I_(t){return(typeof t=="string"?t:""+t).replace(Kb,`
`).replace(Yb,"")}function C_(t,i){return i=I_(i),I_(t)===i}function et(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":jo(t,l,d);break;case"data":if(i!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),da(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,da(t,a,l))}}function Dd(t,i,a,l,h,d){switch(a){case"style":jo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):da(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:et(t,i,d,_,a,null)}}h&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=_=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:et(t,i,l,Q,a,null)}}Tu(t,d,T,C,z,_,h,!1);return;case"select":Me("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:et(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Es(t,!!l,i,!1):a!=null&&Es(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:et(t,i,_,T,a,null)}Ts(t,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,i,C,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Me(vl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:et(t,i,z,l,a,null)}return;default:if(pa(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Dd(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(t,i,T,l,a,null))}function Qb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,z=null,Q=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(F)||et(t,i,F,null,l,Z)}}for(var H in l){var F=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(F!=null||Z!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:F!==Z&&et(t,i,H,F,l,Z)}}ma(t,_,T,C,z,Q,d,h);return;case"select":F=_=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||et(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&et(t,i,h,d,l,C)}i=T,a=_,l=F,H!=null?Es(t,!!a,H,!1):!!l!=!!a&&(i!=null?Es(t,!!a,i,!0):Es(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&et(t,i,_,h,l,d)}Su(t,H,F);return;case"option":for(var ce in a)if(H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:et(t,i,ce,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:et(t,i,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&et(t,i,_e,null,l,H);for(z in l)if(H=l[z],F=a[z],l.hasOwnProperty(z)&&H!==F&&(H!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:et(t,i,z,H,l,F)}return;default:if(pa(i)){for(var tt in a)H=a[tt],a.hasOwnProperty(tt)&&H!==void 0&&!l.hasOwnProperty(tt)&&Dd(t,i,tt,void 0,l,H);for(Q in l)H=l[Q],F=a[Q],!l.hasOwnProperty(Q)||H===F||H===void 0&&F===void 0||Dd(t,i,Q,H,l,F);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&et(t,i,L,null,l,H);for(Z in l)H=l[Z],F=a[Z],!l.hasOwnProperty(Z)||H===F||H==null&&F==null||et(t,i,Z,H,l,F)}function N_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&N_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>T)break;var Q=C.transferSize,Z=C.initiatorType;Q&&N_(Z)&&(C=C.responseEnd,_+=Q*(C<T?1:(T-z)/(C-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xd=null,Od=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function D_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Md(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vd=null;function $b(){var t=window.event;return t&&t.type==="popstate"?t===Vd?!1:(Vd=t,!0):(Vd=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,Zb=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,Jb=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(t){return M_.resolve(null).then(t).catch(Wb)}:O_;function Wb(t){setTimeout(function(){throw t})}function Fs(t){return t==="head"}function V_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),$a(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Tl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Tl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Tl(t.ownerDocument.body);a=h}while(a);$a(i)}function k_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function eA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function tA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function L_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function Ld(t){return t.data==="$?"||t.data==="$~"}function Pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function nA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Ud=null;function P_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function U_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function j_(t,i,a){switch(i=wc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Tl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fa(t)}var Bn=new Map,z_=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ls=J.d;J.d={f:iA,r:sA,D:rA,C:aA,L:oA,m:lA,X:cA,S:uA,M:hA};function iA(){var t=ls.f(),i=yc();return t||i}function sA(t){var i=Dn(t);i!==null&&i.tag===5&&i.type==="form"?iy(i):ls.r(t)}var Ya=typeof document>"u"?null:document;function B_(t,i,a){var l=Ya;if(l&&typeof i=="string"&&i){var h=un(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),z_.has(h)||(z_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),St(i),l.head.appendChild(i)))}}function rA(t){ls.D(t),B_("dns-prefetch",t,null)}function aA(t,i){ls.C(t,i),B_("preconnect",t,i)}function oA(t,i,a){ls.L(t,i,a);var l=Ya;if(l&&t&&i){var h='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=Xa(t)}Bn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),Kt(i,"link",t),St(i),l.head.appendChild(i)))}}function lA(t,i){ls.m(t,i);var a=Ya;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(t)}if(!Bn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),Kt(l,"link",t),St(l),a.head.appendChild(l)}}}function uA(t,i,a){ls.S(t,i,a);var l=Ya;if(l&&t){var h=pi(l).hoistableStyles,d=Qa(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Sl(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&jd(t,a);var C=_=l.createElement("link");St(C),Kt(C,"link",t),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ic(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function cA(t,i){ls.X(t,i);var a=Ya;if(a&&t){var l=pi(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=b({src:t,async:!0},i),(i=Bn.get(h))&&zd(t,i),d=a.createElement("script"),St(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function hA(t,i){ls.M(t,i);var a=Ya;if(a&&t){var l=pi(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&zd(t,i),d=a.createElement("script"),St(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function H_(t,i,a,l){var h=(h=le.current)?Rc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=pi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=pi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Sl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||fA(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xa(a),a=pi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Qa(t){return'href="'+un(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function q_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function fA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),St(i),t.head.appendChild(i))}function Xa(t){return'[src="'+un(t)+'"]'}function bl(t){return"script[async]"+t}function F_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Kt(l,"style",h),Ic(l,a.precedence,t),i.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=q_(a),(h=Bn.get(h))&&jd(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Kt(d,"link",l),i.state.loading|=4,Ic(d,a.precedence,t),i.instance=d;case"script":return d=Xa(a.src),(h=t.querySelector(bl(d)))?(i.instance=h,St(h),h):(l=a,(h=Bn.get(d))&&(l=b({},a),zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ic(l,a.precedence,t));return i.instance}function Ic(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Cc=null;function G_(t,i,a){if(Cc===null){var l=new Map,h=Cc=new Map;h.set(a,l)}else h=Cc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[di]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function K_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function dA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Qa(l.href),d=i.querySelector(Sl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Nc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=q_(l),(h=Bn.get(h))&&jd(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Bd=0;function pA(t,i){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Bd===0&&(Bd=62500*Xb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Bd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function xc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,i.forEach(gA,t),Dc=null,Nc.call(t))}function gA(t,i){if(!(i.state.loading&4)){var a=Dc.get(t);if(a)var l=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Al={$$typeof:fe,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function yA(t,i,a,l,h,d,_,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Q_(t,i,a,l,h,d,_,T,C,z,Q,Z){return t=new yA(t,i,a,_,C,z,Q,Z,T),i=1,d===!0&&(i|=24),d=Sn(3,null,null,i),t.current=d,d.stateNode=t,i=Ef(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Af(d),t}function X_(t){return t?(t=Ra,t):Ra}function $_(t,i,a,l,h,d){h=X_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ms(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vs(t,l,i),a!==null&&(pn(a,t,i),nl(a,t,i))}function Z_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Hd(t,i){Z_(t,i),(t=t.alternate)&&Z_(t,i)}function J_(t){if(t.tag===13||t.tag===31){var i=Lr(t,67108864);i!==null&&pn(i,t,67108864),Hd(t,67108864)}}function W_(t){if(t.tag===13||t.tag===31){var i=In();i=Ar(i);var a=Lr(t,i);a!==null&&pn(a,t,i),Hd(t,i)}}var Oc=!0;function _A(t,i,a,l){var h=B.T;B.T=null;var d=J.p;try{J.p=2,qd(t,i,a,l)}finally{J.p=d,B.T=h}}function vA(t,i,a,l){var h=B.T;B.T=null;var d=J.p;try{J.p=8,qd(t,i,a,l)}finally{J.p=d,B.T=h}}function qd(t,i,a,l){if(Oc){var h=Fd(l);if(h===null)Nd(t,i,l,Mc,a),tv(t,l);else if(TA(h,t,i,a,l))l.stopPropagation();else if(tv(t,l),i&4&&-1<EA.indexOf(t)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-dt(_);T.entanglements[1]|=C,_&=~C}Ci(d),(Ge&6)===0&&(pc=tn()+500,_l(0))}}break;case 31:case 13:T=Lr(d,2),T!==null&&pn(T,d,2),yc(),Hd(d,2)}if(d=Fd(l),d===null&&Nd(t,i,l,Mc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Nd(t,i,l,null,a)}}function Fd(t){return t=xn(t),Gd(t)}var Mc=null;function Gd(t){if(Mc=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Mc=t,null}function ev(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case Io:return 2;case Co:return 8;case _s:case $h:return 32;case hu:return 268435456;default:return 32}default:return 32}}var Kd=!1,Gs=null,Ks=null,Ys=null,wl=new Map,Rl=new Map,Qs=[],EA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tv(t,i){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(i.pointerId)}}function Il(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Dn(i),i!==null&&J_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function TA(t,i,a,l,h){switch(i){case"focusin":return Gs=Il(Gs,t,i,a,l,h),!0;case"dragenter":return Ks=Il(Ks,t,i,a,l,h),!0;case"mouseover":return Ys=Il(Ys,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return wl.set(d,Il(wl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Il(Rl.get(d)||null,t,i,a,l,h)),!0}return!1}function nv(t){var i=mi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){W_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){W_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Fd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);zo=l,a.target.dispatchEvent(l),zo=null}else return i=Dn(a),i!==null&&J_(i),t.blockedOn=a,!1;i.shift()}return!0}function iv(t,i,a){Vc(t)&&a.delete(i)}function SA(){Kd=!1,Gs!==null&&Vc(Gs)&&(Gs=null),Ks!==null&&Vc(Ks)&&(Ks=null),Ys!==null&&Vc(Ys)&&(Ys=null),wl.forEach(iv),Rl.forEach(iv)}function kc(t,i){t.blockedOn===i&&(t.blockedOn=null,Kd||(Kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,SA)))}var Lc=null;function sv(t){Lc!==t&&(Lc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Gd(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(i,3),i-=3,Ff(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function $a(t){function i(C){return kc(C,t)}Gs!==null&&kc(Gs,t),Ks!==null&&kc(Ks,t),Ys!==null&&kc(Ys,t),wl.forEach(i),Rl.forEach(i);for(var a=0;a<Qs.length;a++){var l=Qs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qs.length&&(a=Qs[0],a.blockedOn===null);)nv(a),a.blockedOn===null&&Qs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||sv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)T=_.formAction;else if(Gd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),sv(a)}}}function rv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Yd(t){this._internalRoot=t}Pc.prototype.render=Yd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=In();$_(a,l,t,i,null,null)},Pc.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;$_(t.current,2,null,t,null,null),yc(),i[fi]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var i=yu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Qs.length&&i!==0&&i<Qs[a].priority;a++);Qs.splice(a,0,t),a===0&&nv(t)}};var av=e.version;if(av!=="19.2.0")throw Error(r(527,av,"19.2.0"));J.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var bA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Yn=Uc.inject(bA),Bt=Uc}catch{}}return Nl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=dy,d=my,_=py;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Q_(t,1,!1,null,null,a,l,null,h,d,_,rv),t[fi]=i.current,Cd(t),new Yd(i)},Nl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=dy,_=my,T=py,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Q_(t,1,!0,i,a??null,l,h,C,d,_,T,rv),i.context=X_(null),a=i.current,l=In(),l=Ar(l),h=Ms(l),h.callback=null,Vs(a,h,l),a=l,i.current.lanes=a,Sr(i,a),Ci(i),t[fi]=i.current,Cd(t),new Pc(i)},Nl.version="19.2.0",Nl}var gv;function MA(){if(gv)return $d.exports;gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$d.exports=OA(),$d.exports}var VA=MA();const kA=()=>{};var yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},LA=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,y=o+2<s.length,g=y?s[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,k=g&63;y||(k=64,f||(R=64)),r.push(n[E],n[b],n[R],n[k])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(oT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):LA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const g=o<s.length?n[s.charAt(o)]:64;++o;const b=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new PA;const R=u<<2|m>>4;if(r.push(R),g!==64){const k=m<<4&240|g>>2;if(r.push(k),b!==64){const K=g<<6&192|b;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class PA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UA=function(s){const e=oT(s);return lT.encodeByteArray(e,!0)},ih=function(s){return UA(s).replace(/\./g,"")},uT=function(s){try{return lT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=()=>jA().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof yv>"u")return;const s=yv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},HA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&uT(s[1]);return e&&JSON.parse(e)},bh=()=>{try{return kA()||zA()||BA()||HA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},cT=s=>bh()?.emulatorHosts?.[s],hT=s=>{const e=cT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fT=()=>bh()?.config,dT=s=>bh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gm(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ih(JSON.stringify(n)),ih(JSON.stringify(f)),""].join(".")}const Ul={};function FA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?s.emulator.push(e):s.prod.push(e);return s}function GA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let _v=!1;function Km(s,e){if(typeof window>"u"||typeof document>"u"||!gr(window.location.host)||Ul[s]===e||Ul[s]||_v)return;Ul[s]=e;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=FA().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,k){R.setAttribute("width","24"),R.setAttribute("id",k),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{_v=!0,f()},R}function E(R,k){R.setAttribute("id",k),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=GA(r),k=n("text"),K=document.getElementById(k)||document.createElement("span"),X=n("learnmore"),G=document.getElementById(X)||document.createElement("a"),re=n("preprendIcon"),he=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const fe=R.element;m(fe),E(G,X);const be=g();y(he,re),fe.append(he,K,G,be),document.body.appendChild(fe)}u?(K.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function YA(){const s=bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function $A(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZA(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function JA(){return!YA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function e1(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=t1,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?n1(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new zi(o,m,r)}}function n1(s,e){return s.replace(i1,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const i1=/\{\$([^}]+)}/g;function s1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ea(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(vv(u)&&vv(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function vv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ol(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ml(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function r1(s,e){const n=new a1(s,e);return n.subscribe.bind(n)}class a1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");o1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o1(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(s){return s&&s._delegate?s._delegate:s}class ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c1(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u1(s){return s===$r?void 0:s}function c1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const f1={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},d1=Le.INFO,m1={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},p1=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=m1[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=d1,this._logHandler=p1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const g1=(s,e)=>e.some(n=>s instanceof n);let Ev,Tv;function y1(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _1(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,mm=new WeakMap,gT=new WeakMap,tm=new WeakMap,Qm=new WeakMap;function v1(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(sr(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&pT.set(n,s)}).catch(()=>{}),Qm.set(e,s),e}function E1(s){if(mm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});mm.set(s,e)}let pm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return mm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||gT.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function T1(s){pm=s(pm)}function S1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(nm(this),e,...n);return gT.set(r,e.sort?e.sort():[e]),sr(r)}:_1().includes(s)?function(...e){return s.apply(nm(this),e),sr(pT.get(this))}:function(...e){return sr(s.apply(nm(this),e))}}function b1(s){return typeof s=="function"?S1(s):(s instanceof IDBTransaction&&E1(s),g1(s,y1())?new Proxy(s,pm):s)}function sr(s){if(s instanceof IDBRequest)return v1(s);if(tm.has(s))return tm.get(s);const e=b1(s);return e!==s&&(tm.set(s,e),Qm.set(e,s)),e}const nm=s=>Qm.get(s);function A1(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),m=sr(f);return r&&f.addEventListener("upgradeneeded",y=>{r(sr(f.result),y.oldVersion,y.newVersion,sr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const w1=["get","getKey","getAll","getAllKeys","count"],R1=["put","add","delete","clear"],im=new Map;function Sv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=R1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||w1.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return im.set(e,u),u}T1(s=>({...s,get:(e,n,r)=>Sv(e,n)||s.get(e,n,r),has:(e,n)=>!!Sv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C1(s){return s.getComponent()?.type==="VERSION"}const gm="@firebase/app",bv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Ym("@firebase/app"),N1="@firebase/app-compat",D1="@firebase/analytics-compat",x1="@firebase/analytics",O1="@firebase/app-check-compat",M1="@firebase/app-check",V1="@firebase/auth",k1="@firebase/auth-compat",L1="@firebase/database",P1="@firebase/data-connect",U1="@firebase/database-compat",j1="@firebase/functions",z1="@firebase/functions-compat",B1="@firebase/installations",H1="@firebase/installations-compat",q1="@firebase/messaging",F1="@firebase/messaging-compat",G1="@firebase/performance",K1="@firebase/performance-compat",Y1="@firebase/remote-config",Q1="@firebase/remote-config-compat",X1="@firebase/storage",$1="@firebase/storage-compat",Z1="@firebase/firestore",J1="@firebase/ai",W1="@firebase/firestore-compat",ew="firebase",tw="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",nw={[gm]:"fire-core",[N1]:"fire-core-compat",[x1]:"fire-analytics",[D1]:"fire-analytics-compat",[M1]:"fire-app-check",[O1]:"fire-app-check-compat",[V1]:"fire-auth",[k1]:"fire-auth-compat",[L1]:"fire-rtdb",[P1]:"fire-data-connect",[U1]:"fire-rtdb-compat",[j1]:"fire-fn",[z1]:"fire-fn-compat",[B1]:"fire-iid",[H1]:"fire-iid-compat",[q1]:"fire-fcm",[F1]:"fire-fcm-compat",[G1]:"fire-perf",[K1]:"fire-perf-compat",[Y1]:"fire-rc",[Q1]:"fire-rc-compat",[X1]:"fire-gcs",[$1]:"fire-gcs-compat",[Z1]:"fire-fst",[W1]:"fire-fst-compat",[J1]:"fire-vertex","fire-js":"fire-js",[ew]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map,iw=new Map,_m=new Map;function Av(s,e){try{s.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ta(s){const e=s.name;if(_m.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,s);for(const n of sh.values())Av(n,s);for(const n of iw.values())Av(n,s);return!0}function Ah(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Fn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new Wl("app","Firebase",sw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=tw;function yT(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:ym,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw rr.create("bad-app-name",{appName:String(o)});if(n||(n=fT()),!n)throw rr.create("no-options");const u=sh.get(o);if(u){if(ea(n,u.options)&&ea(r,u.config))return u;throw rr.create("duplicate-app",{appName:o})}const f=new h1(o);for(const y of _m.values())f.addComponent(y);const m=new rw(n,r,f);return sh.set(o,m),m}function Xm(s=ym){const e=sh.get(s);if(!e&&s===ym&&fT())return yT();if(!e)throw rr.create("no-app",{appName:s});return e}function Di(s,e,n){let r=nw[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(f.join(" "));return}ta(new ur(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebase-heartbeat-database",ow=1,Fl="firebase-heartbeat-store";let sm=null;function _T(){return sm||(sm=A1(aw,ow,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(s=>{throw rr.create("idb-open",{originalErrorMessage:s.message})})),sm}async function lw(s){try{const n=(await _T()).transaction(Fl),r=await n.objectStore(Fl).get(vT(s));return await n.done,r}catch(e){if(e instanceof zi)fs.warn(e.message);else{const n=rr.create("idb-get",{originalErrorMessage:e?.message});fs.warn(n.message)}}}async function wv(s,e){try{const r=(await _T()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,vT(s)),await r.done}catch(n){if(n instanceof zi)fs.warn(n.message);else{const r=rr.create("idb-set",{originalErrorMessage:n?.message});fs.warn(r.message)}}}function vT(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=1024,cw=30;class hw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>cw){const o=mw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rv(),{heartbeatsToSend:n,unsentEntries:r}=fw(this._heartbeatsCache.heartbeats),o=ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fs.warn(e),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function fw(s,e=uw){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Iv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Iv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?e1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Iv(s){return ih(JSON.stringify({version:2,heartbeats:s})).length}function mw(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(s){ta(new ur("platform-logger",e=>new I1(e),"PRIVATE")),ta(new ur("heartbeat",e=>new hw(e),"PRIVATE")),Di(gm,bv,s),Di(gm,bv,"esm2020"),Di("fire-js","")}pw("");function ET(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gw=ET,TT=new Wl("auth","Firebase",ET());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Ym("@firebase/auth");function yw(s,...e){rh.logLevel<=Le.WARN&&rh.warn(`Auth (${aa}): ${s}`,...e)}function Yc(s,...e){rh.logLevel<=Le.ERROR&&rh.error(`Auth (${aa}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(s,...e){throw $m(s,...e)}function xi(s,...e){return $m(s,...e)}function ST(s,e,n){const r={...gw(),[e]:n};return new Wl("auth","Firebase",r).create(e,{appName:s.name})}function ar(s){return ST(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $m(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return TT.create(s,...e)}function Te(s,e,...n){if(!s)throw $m(e,...n)}function us(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Yc(e),new Error(e)}function ds(s,e){s||us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){return typeof self<"u"&&self.location?.href||""}function _w(){return Cv()==="http:"||Cv()==="https:"}function Cv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_w()||XA()||"connection"in navigator)?navigator.onLine:!0}function Ew(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=KA()||$A()}get(){return vw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(s,e){ds(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bw=new tu(3e4,6e4);function oa(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function yr(s,e,n,r,o={}){return AT(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=eu({key:s.config.apiKey,...f}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:y,...u};return QA()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&gr(s.emulatorConfig.host)&&(g.credentials="include"),bT.fetch()(await wT(s,s.config.apiHost,n,m),g)})}async function AT(s,e,n){s._canInitEmulator=!1;const r={...Tw,...e};try{const o=new ww(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw jc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(s,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw jc(s,"email-already-in-use",f);if(y==="USER_DISABLED")throw jc(s,"user-disabled",f);const E=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ST(s,E,g);oi(s,E)}}catch(o){if(o instanceof zi)throw o;oi(s,"network-request-failed",{message:String(o)})}}async function wh(s,e,n,r,o={}){const u=await yr(s,e,n,r,o);return"mfaPendingCredential"in u&&oi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function wT(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?Zm(s.config,o):`${s.config.apiScheme}://${o}`;return Sw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Aw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ww{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),bw.get())})}}function jc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=xi(s,e,r);return o.customData._tokenResponse=n,o}function Nv(s){return s!==void 0&&s.enterprise!==void 0}class Rw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Aw(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Iw(s,e){return yr(s,"GET","/v2/recaptchaConfig",oa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(s,e){return yr(s,"POST","/v1/accounts:delete",e)}async function ah(s,e){return yr(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nw(s,e=!1){const n=_t(s),r=await n.getIdToken(e),o=Jm(r);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:jl(rm(o.auth_time)),issuedAtTime:jl(rm(o.iat)),expirationTime:jl(rm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Jm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const o=uT(n);return o?JSON.parse(o):(Yc("Failed to decode base64 JWT payload"),null)}catch(o){return Yc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Dv(s){const e=Jm(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zi&&Dw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Dw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(s){const e=s.auth,n=await s.getIdToken(),r=await Gl(s,ah(e,{idToken:n}));Te(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?RT(o.providerUserInfo):[],f=Mw(s.providerData,u),m=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!f?.length,g=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,E)}async function Ow(s){const e=_t(s);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mw(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function RT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(s,e){const n=await AT(s,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await wT(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:r};return s.emulatorConfig&&gr(s.emulatorConfig.host)&&(y.credentials="include"),bT.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kw(s,e){return yr(s,"POST","/v2/accounts:revokeToken",oa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Dv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await Vw(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new ro;return r&&(Te(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new xw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Nw(this,e)}reload(){return Ow(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await Gl(this,Cw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:R,isAnonymous:k,providerData:K,stsTokenManager:X}=n;Te(b&&X,e,"internal-error");const G=ro.fromJSON(this.name,X);Te(typeof b=="string",e,"internal-error"),$s(r,e.name),$s(o,e.name),Te(typeof R=="boolean",e,"internal-error"),Te(typeof k=="boolean",e,"internal-error"),$s(u,e.name),$s(f,e.name),$s(m,e.name),$s(y,e.name),$s(g,e.name),$s(E,e.name);const re=new ri({uid:b,auth:e,email:o,emailVerified:R,displayName:r,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:g,lastLoginAt:E});return K&&Array.isArray(K)&&(re.providerData=K.map(he=>({...he}))),y&&(re._redirectEventId=y),re}static async _fromIdTokenResponse(e,n,r=!1){const o=new ro;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await oh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?RT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ro;m.updateFromIdToken(r);const y=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=new Map;function cs(s){ds(s instanceof Function,"Expected a class definition");let e=xv.get(s);return e?(ds(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,xv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IT.type="NONE";const Ov=IT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(s,e,n){return`firebase:${s}:${e}:${n}`}class ao{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Qc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ah(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ao(cs(Ov),e,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cs(Ov);const f=Qc(r,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const R=await ah(e,{idToken:E}).catch(()=>{});if(!R)break;b=await ri._fromGetAccountInfoResponse(e,R,E)}else b=ri._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new ao(u,e,r):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ao(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MT(e))return"Blackberry";if(VT(e))return"Webos";if(NT(e))return"Safari";if((e.includes("chrome/")||DT(e))&&!e.includes("edge/"))return"Chrome";if(OT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function CT(s=en()){return/firefox\//i.test(s)}function NT(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DT(s=en()){return/crios\//i.test(s)}function xT(s=en()){return/iemobile/i.test(s)}function OT(s=en()){return/android/i.test(s)}function MT(s=en()){return/blackberry/i.test(s)}function VT(s=en()){return/webos/i.test(s)}function Wm(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Lw(s=en()){return Wm(s)&&!!window.navigator?.standalone}function Pw(){return ZA()&&document.documentMode===10}function kT(s=en()){return Wm(s)||OT(s)||VT(s)||MT(s)||/windows phone/i.test(s)||xT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(s,e=[]){let n;switch(s){case"Browser":n=Mv(en());break;case"Worker":n=`${Mv(en())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(s,e={}){return yr(s,"GET","/v2/passwordPolicy",oa(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=6;class Bw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vv(this),this.idTokenSubscription=new Vv(this),this.beforeStateQueue=new Uw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ah(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ew()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(ar(this));const n=e?_t(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jw(this),n=new Bw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cs(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _o(s){return _t(s)}class Vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=r1(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qw(s){Rh=s}function PT(s){return Rh.loadJS(s)}function Fw(){return Rh.recaptchaEnterpriseScript}function Gw(){return Rh.gapiScript}function Kw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Yw{constructor(){this.enterprise=new Qw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Qw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xw="recaptcha-enterprise",UT="NO_RECAPTCHA";class $w{constructor(e){this.type=Xw,this.auth=_o(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Iw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Rw(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(y=>{m(y)})})}function o(u,f,m){const y=window.grecaptcha;Nv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(UT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!n&&Nv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Fw();y.length!==0&&(y+=m),PT(y).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function kv(s,e,n,r=!1,o=!1){const u=new $w(s);let f;if(o)f=UT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Lv(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await kv(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await kv(s,e,n,n==="getOobCode");return r(s,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(s,e){const n=Ah(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;oi(o,"already-initialized")}return n.initialize({options:e})}function Jw(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(cs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ww(s,e,n){const r=_o(s);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=jT(e),{host:f,port:m}=eR(e),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(ea(g,r.config.emulator)&&ea(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,gr(f)?(Gm(`${u}//${f}${y}`),Km("Auth",!0)):tR()}function jT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function eR(s){const e=jT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Pv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Pv(f)}}}function Pv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function tR(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,n){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}async function nR(s,e){return yr(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(s,e){return wh(s,"POST","/v1/accounts:signInWithPassword",oa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(s,e){return wh(s,"POST","/v1/accounts:signInWithEmailLink",oa(s,e))}async function rR(s,e){return wh(s,"POST","/v1/accounts:signInWithEmailLink",oa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends ep{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lv(e,n,"signInWithPassword",iR);case"emailLink":return sR(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lv(e,r,"signUpPassword",nR);case"emailLink":return rR(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(s,e){return wh(s,"POST","/v1/accounts:signInWithIdp",oa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="http://localhost";class na extends ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new na(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:aR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lR(s){const e=Ol(Ml(s)).link,n=e?Ol(Ml(e)).deep_link_id:null,r=Ol(Ml(s)).deep_link_id;return(r?Ol(Ml(r)).link:null)||r||n||e||s}class tp{constructor(e){const n=Ol(Ml(e)),r=n.apiKey??null,o=n.oobCode??null,u=oR(n.mode??null);Te(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=lR(e);try{return new tp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,n){return Kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=tp.parseLink(n);return Te(r,"argument-error"),Kl._fromEmailAndCode(e,r.code,r.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends zT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends nu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends nu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends nu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await ri._fromIdTokenResponse(e,r,o),f=Uv(r);return new co({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Uv(r);return new co({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Uv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends zi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new lh(e,n,r,o)}}function BT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(s,u,e,r):u})}async function uR(s,e,n=!1){const r=await Gl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return co._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(s,e,n=!1){const{auth:r}=s;if(Fn(r.app))return Promise.reject(ar(r));const o="reauthenticate";try{const u=await Gl(s,BT(r,o,e,s),n);Te(u.idToken,r,"internal-error");const f=Jm(u.idToken);Te(f,r,"internal-error");const{sub:m}=f;return Te(s.uid===m,r,"user-mismatch"),co._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&oi(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(s,e,n=!1){if(Fn(s.app))return Promise.reject(ar(s));const r="signIn",o=await BT(s,r,e),u=await co._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function hR(s,e){return HT(_o(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(s){const e=_o(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function dR(s,e,n){return Fn(s.app)?Promise.reject(ar(s)):hR(_t(s),vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fR(s),r})}function mR(s,e,n,r){return _t(s).onIdTokenChanged(e,n,r)}function pR(s,e,n){return _t(s).beforeAuthStateChanged(e,n)}function gR(s,e,n,r){return _t(s).onAuthStateChanged(e,n,r)}function yR(s){return _t(s).signOut()}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=1e3,vR=10;class FT extends qT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);Pw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FT.type="LOCAL";const ER=FT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends qT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GT.type="SESSION";const KT=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await TR(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=np("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function bR(s){Oi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function AR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wR(){return navigator?.serviceWorker?.controller||null}function RR(){return YT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebaseLocalStorageDb",IR=1,ch="firebaseLocalStorage",XT="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(s,e){return s.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function CR(){const s=indexedDB.deleteDatabase(QT);return new iu(s).toPromise()}function Tm(){const s=indexedDB.open(QT,IR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ch,{keyPath:XT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ch)?e(r):(r.close(),await CR(),e(await Tm()))})})}async function jv(s,e,n){const r=Ch(s,!0).put({[XT]:e,value:n});return new iu(r).toPromise()}async function NR(s,e){const n=Ch(s,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function zv(s,e){const n=Ch(s,!0).delete(e);return new iu(n).toPromise()}const DR=800,xR=3;class $T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(RR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AR(),!this.activeServiceWorker)return;this.sender=new SR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await jv(e,uh,"1"),await zv(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ch(o,!1).getAll();return new iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$T.type="LOCAL";const OR=$T;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(s,e){return e?cs(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VR(s){return HT(s.auth,new ip(s),s.bypassAuthState)}function kR(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),cR(n,new ip(s),s.bypassAuthState)}async function LR(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),uR(n,new ip(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VR;case"linkViaPopup":case"linkViaRedirect":return LR;case"reauthViaPopup":case"reauthViaRedirect":return kR;default:oi(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new tu(2e3,1e4);class so extends ZT{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PR.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="pendingRedirect",Xc=new Map;class jR extends ZT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const r=await zR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zR(s,e){const n=qR(e),r=HR(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function BR(s,e){Xc.set(s._key(),e)}function HR(s){return cs(s._redirectPersistence)}function qR(s){return Qc(UR,s.config.apiKey,s.name)}async function FR(s,e,n=!1){if(Fn(s.app))return Promise.reject(ar(s));const r=_o(s),o=MR(r,e),f=await new jR(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=600*1e3;class KR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!JT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(xi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function JT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function YR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(s,e={}){return yr(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$R=/^https?/;async function ZR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await QR(s);for(const n of e)try{if(JR(n))return}catch{}oi(s,"unauthorized-domain")}function JR(s){const e=vm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!$R.test(n))return!1;if(XR.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new tu(3e4,6e4);function Hv(){const s=Oi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function eI(s){return new Promise((e,n)=>{function r(){Hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hv(),n(xi(s,"network-request-failed"))},timeout:WR.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)r();else{const o=Kw("iframefcb");return Oi()[o]=()=>{gapi.load?r():n(xi(s,"network-request-failed"))},PT(`${Gw()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw $c=null,e})}let $c=null;function tI(s){return $c=$c||eI(s),$c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new tu(5e3,15e3),iI="__/auth/iframe",sI="emulator/auth/iframe",rI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oI(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Zm(e,sI):`https://${s.config.authDomain}/${iI}`,r={apiKey:e.apiKey,appName:s.name,v:aa},o=aI.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${eu(r).slice(1)}`}async function lI(s){const e=await tI(s),n=Oi().gapi;return Te(n,s,"internal-error"),e.open({where:document.body,url:oI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=xi(s,"network-request-failed"),m=Oi().setTimeout(()=>{u(f)},nI.get());function y(){Oi().clearTimeout(m),o(r)}r.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cI=500,hI=600,fI="_blank",dI="http://localhost";class qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mI(s,e,n,r=cI,o=hI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y={...uI,width:r.toString(),height:o.toString(),top:u,left:f},g=en().toLowerCase();n&&(m=DT(g)?fI:n),CT(g)&&(e=e||dI,y.scrollbars="yes");const E=Object.entries(y).reduce((R,[k,K])=>`${R}${k}=${K},`,"");if(Lw(g)&&m!=="_self")return pI(e||"",m),new qv(null);const b=window.open(e||"",m,E);Te(b,s,"popup-blocked");try{b.focus()}catch{}return new qv(b)}function pI(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="__/auth/handler",yI="emulator/auth/handler",_I=encodeURIComponent("fac");async function Fv(s,e,n,r,o,u){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:aa,eventId:o};if(e instanceof zT){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",s1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof nu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await s._getAppCheckToken(),g=y?`#${_I}=${encodeURIComponent(y)}`:"";return`${vI(s)}?${eu(m).slice(1)}${g}`}function vI({config:s}){return s.emulator?Zm(s,yI):`https://${s.authDomain}/${gI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class EI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KT,this._completeRedirectFn=FR,this._overrideRedirectResult=BR}async _openPopup(e,n,r,o){ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Fv(e,n,r,vm(),o);return mI(e,u,np())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await Fv(e,n,r,vm(),o);return bR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ds(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lI(e),r=new KR(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},o=>{const u=o?.[0]?.[am];u!==void 0&&n(!!u),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kT()||NT()||Wm()}}const TI=EI;var Gv="@firebase/auth",Kv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AI(s){ta(new ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LT(s)},g=new Hw(r,o,u,y);return Jw(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ta(new ur("auth-internal",e=>{const n=_o(e.getProvider("auth").getImmediate());return(r=>new SI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(Gv,Kv,bI(s)),Di(Gv,Kv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=300,RI=dT("authIdTokenMaxAge")||wI;let Yv=null;const II=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RI)return;const o=n?.token;Yv!==o&&(Yv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CI(s=Xm()){const e=Ah(s,"auth");if(e.isInitialized())return e.getImmediate();const n=Zw(s,{popupRedirectResolver:TI,persistence:[OR,ER,KT]}),r=dT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=II(u.toString());pR(n,f,()=>f(n.currentUser)),mR(n,m=>f(m))}}const o=cT("auth");return o&&Ww(n,`http://${o}`),n}function NI(){return document.getElementsByTagName("head")?.[0]??document}qw({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=xi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",NI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AI("Browser");var DI="firebase",xI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(DI,xI,"app");var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var or,WT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function N(){}N.prototype=w.prototype,D.F=w.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(V,M,P){for(var I=Array(arguments.length-2),it=2;it<arguments.length;it++)I[it-2]=arguments[it];return w.prototype[M].apply(V,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,N){N||(N=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(M=0;M<16;++M)V[M]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=D.g[0],N=D.g[1],M=D.g[2];let P=D.g[3],I;I=w+(P^N&(M^P))+V[0]+3614090360&4294967295,w=N+(I<<7&4294967295|I>>>25),I=P+(M^w&(N^M))+V[1]+3905402710&4294967295,P=w+(I<<12&4294967295|I>>>20),I=M+(N^P&(w^N))+V[2]+606105819&4294967295,M=P+(I<<17&4294967295|I>>>15),I=N+(w^M&(P^w))+V[3]+3250441966&4294967295,N=M+(I<<22&4294967295|I>>>10),I=w+(P^N&(M^P))+V[4]+4118548399&4294967295,w=N+(I<<7&4294967295|I>>>25),I=P+(M^w&(N^M))+V[5]+1200080426&4294967295,P=w+(I<<12&4294967295|I>>>20),I=M+(N^P&(w^N))+V[6]+2821735955&4294967295,M=P+(I<<17&4294967295|I>>>15),I=N+(w^M&(P^w))+V[7]+4249261313&4294967295,N=M+(I<<22&4294967295|I>>>10),I=w+(P^N&(M^P))+V[8]+1770035416&4294967295,w=N+(I<<7&4294967295|I>>>25),I=P+(M^w&(N^M))+V[9]+2336552879&4294967295,P=w+(I<<12&4294967295|I>>>20),I=M+(N^P&(w^N))+V[10]+4294925233&4294967295,M=P+(I<<17&4294967295|I>>>15),I=N+(w^M&(P^w))+V[11]+2304563134&4294967295,N=M+(I<<22&4294967295|I>>>10),I=w+(P^N&(M^P))+V[12]+1804603682&4294967295,w=N+(I<<7&4294967295|I>>>25),I=P+(M^w&(N^M))+V[13]+4254626195&4294967295,P=w+(I<<12&4294967295|I>>>20),I=M+(N^P&(w^N))+V[14]+2792965006&4294967295,M=P+(I<<17&4294967295|I>>>15),I=N+(w^M&(P^w))+V[15]+1236535329&4294967295,N=M+(I<<22&4294967295|I>>>10),I=w+(M^P&(N^M))+V[1]+4129170786&4294967295,w=N+(I<<5&4294967295|I>>>27),I=P+(N^M&(w^N))+V[6]+3225465664&4294967295,P=w+(I<<9&4294967295|I>>>23),I=M+(w^N&(P^w))+V[11]+643717713&4294967295,M=P+(I<<14&4294967295|I>>>18),I=N+(P^w&(M^P))+V[0]+3921069994&4294967295,N=M+(I<<20&4294967295|I>>>12),I=w+(M^P&(N^M))+V[5]+3593408605&4294967295,w=N+(I<<5&4294967295|I>>>27),I=P+(N^M&(w^N))+V[10]+38016083&4294967295,P=w+(I<<9&4294967295|I>>>23),I=M+(w^N&(P^w))+V[15]+3634488961&4294967295,M=P+(I<<14&4294967295|I>>>18),I=N+(P^w&(M^P))+V[4]+3889429448&4294967295,N=M+(I<<20&4294967295|I>>>12),I=w+(M^P&(N^M))+V[9]+568446438&4294967295,w=N+(I<<5&4294967295|I>>>27),I=P+(N^M&(w^N))+V[14]+3275163606&4294967295,P=w+(I<<9&4294967295|I>>>23),I=M+(w^N&(P^w))+V[3]+4107603335&4294967295,M=P+(I<<14&4294967295|I>>>18),I=N+(P^w&(M^P))+V[8]+1163531501&4294967295,N=M+(I<<20&4294967295|I>>>12),I=w+(M^P&(N^M))+V[13]+2850285829&4294967295,w=N+(I<<5&4294967295|I>>>27),I=P+(N^M&(w^N))+V[2]+4243563512&4294967295,P=w+(I<<9&4294967295|I>>>23),I=M+(w^N&(P^w))+V[7]+1735328473&4294967295,M=P+(I<<14&4294967295|I>>>18),I=N+(P^w&(M^P))+V[12]+2368359562&4294967295,N=M+(I<<20&4294967295|I>>>12),I=w+(N^M^P)+V[5]+4294588738&4294967295,w=N+(I<<4&4294967295|I>>>28),I=P+(w^N^M)+V[8]+2272392833&4294967295,P=w+(I<<11&4294967295|I>>>21),I=M+(P^w^N)+V[11]+1839030562&4294967295,M=P+(I<<16&4294967295|I>>>16),I=N+(M^P^w)+V[14]+4259657740&4294967295,N=M+(I<<23&4294967295|I>>>9),I=w+(N^M^P)+V[1]+2763975236&4294967295,w=N+(I<<4&4294967295|I>>>28),I=P+(w^N^M)+V[4]+1272893353&4294967295,P=w+(I<<11&4294967295|I>>>21),I=M+(P^w^N)+V[7]+4139469664&4294967295,M=P+(I<<16&4294967295|I>>>16),I=N+(M^P^w)+V[10]+3200236656&4294967295,N=M+(I<<23&4294967295|I>>>9),I=w+(N^M^P)+V[13]+681279174&4294967295,w=N+(I<<4&4294967295|I>>>28),I=P+(w^N^M)+V[0]+3936430074&4294967295,P=w+(I<<11&4294967295|I>>>21),I=M+(P^w^N)+V[3]+3572445317&4294967295,M=P+(I<<16&4294967295|I>>>16),I=N+(M^P^w)+V[6]+76029189&4294967295,N=M+(I<<23&4294967295|I>>>9),I=w+(N^M^P)+V[9]+3654602809&4294967295,w=N+(I<<4&4294967295|I>>>28),I=P+(w^N^M)+V[12]+3873151461&4294967295,P=w+(I<<11&4294967295|I>>>21),I=M+(P^w^N)+V[15]+530742520&4294967295,M=P+(I<<16&4294967295|I>>>16),I=N+(M^P^w)+V[2]+3299628645&4294967295,N=M+(I<<23&4294967295|I>>>9),I=w+(M^(N|~P))+V[0]+4096336452&4294967295,w=N+(I<<6&4294967295|I>>>26),I=P+(N^(w|~M))+V[7]+1126891415&4294967295,P=w+(I<<10&4294967295|I>>>22),I=M+(w^(P|~N))+V[14]+2878612391&4294967295,M=P+(I<<15&4294967295|I>>>17),I=N+(P^(M|~w))+V[5]+4237533241&4294967295,N=M+(I<<21&4294967295|I>>>11),I=w+(M^(N|~P))+V[12]+1700485571&4294967295,w=N+(I<<6&4294967295|I>>>26),I=P+(N^(w|~M))+V[3]+2399980690&4294967295,P=w+(I<<10&4294967295|I>>>22),I=M+(w^(P|~N))+V[10]+4293915773&4294967295,M=P+(I<<15&4294967295|I>>>17),I=N+(P^(M|~w))+V[1]+2240044497&4294967295,N=M+(I<<21&4294967295|I>>>11),I=w+(M^(N|~P))+V[8]+1873313359&4294967295,w=N+(I<<6&4294967295|I>>>26),I=P+(N^(w|~M))+V[15]+4264355552&4294967295,P=w+(I<<10&4294967295|I>>>22),I=M+(w^(P|~N))+V[6]+2734768916&4294967295,M=P+(I<<15&4294967295|I>>>17),I=N+(P^(M|~w))+V[13]+1309151649&4294967295,N=M+(I<<21&4294967295|I>>>11),I=w+(M^(N|~P))+V[4]+4149444226&4294967295,w=N+(I<<6&4294967295|I>>>26),I=P+(N^(w|~M))+V[11]+3174756917&4294967295,P=w+(I<<10&4294967295|I>>>22),I=M+(w^(P|~N))+V[2]+718787259&4294967295,M=P+(I<<15&4294967295|I>>>17),I=N+(P^(M|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+P&4294967295}r.prototype.v=function(D,w){w===void 0&&(w=D.length);const N=w-this.blockSize,V=this.C;let M=this.h,P=0;for(;P<w;){if(M==0)for(;P<=N;)o(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<w;)if(V[M++]=D.charCodeAt(P++),M==this.blockSize){o(this,V),M=0;break}}else for(;P<w;)if(V[M++]=D[P++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)D[w++]=this.g[N]>>>V&255;return D};function u(D,w){var N=m;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=w(D)}function f(D,w){this.h=w;const N=[];let V=!0;for(let M=D.length-1;M>=0;M--){const P=D[M]|0;V&&P==w||(N[M]=P,V=!1)}this.g=N}var m={};function y(D){return-128<=D&&D<128?u(D,function(w){return new f([w|0],w<0?-1:0)}):new f([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return G(g(-D));const w=[];let N=1;for(let V=0;D>=N;V++)w[V]=D/N|0,N*=4294967296;return new f(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return G(E(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(w,8));let V=b;for(let P=0;P<D.length;P+=8){var M=Math.min(8,D.length-P);const I=parseInt(D.substring(P,P+M),w);M<8?(M=g(Math.pow(w,M)),V=V.j(M).add(g(I))):(V=V.j(N),V=V.add(g(I)))}return V}var b=y(0),R=y(1),k=y(16777216);s=f.prototype,s.m=function(){if(X(this))return-G(this).m();let D=0,w=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);D+=(V>=0?V:4294967296+V)*w,w*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(K(this))return"0";if(X(this))return"-"+G(this).toString(D);const w=g(Math.pow(D,6));var N=this;let V="";for(;;){const M=be(N,w).g;N=re(N,M.j(w));let P=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=M,K(N))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function K(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function X(D){return D.h==-1}s.l=function(D){return D=re(this,D),X(D)?-1:K(D)?0:1};function G(D){const w=D.g.length,N=[];for(let V=0;V<w;V++)N[V]=~D.g[V];return new f(N,~D.h).add(R)}s.abs=function(){return X(this)?G(this):this},s.add=function(D){const w=Math.max(this.g.length,D.g.length),N=[];let V=0;for(let M=0;M<=w;M++){let P=V+(this.i(M)&65535)+(D.i(M)&65535),I=(P>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);V=I>>>16,P&=65535,I&=65535,N[M]=I<<16|P}return new f(N,N[N.length-1]&-2147483648?-1:0)};function re(D,w){return D.add(G(w))}s.j=function(D){if(K(this)||K(D))return b;if(X(this))return X(D)?G(this).j(G(D)):G(G(this).j(D));if(X(D))return G(this.j(G(D)));if(this.l(k)<0&&D.l(k)<0)return g(this.m()*D.m());const w=this.g.length+D.g.length,N=[];for(var V=0;V<2*w;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<D.g.length;M++){const P=this.i(V)>>>16,I=this.i(V)&65535,it=D.i(M)>>>16,we=D.i(M)&65535;N[2*V+2*M]+=I*we,he(N,2*V+2*M),N[2*V+2*M+1]+=P*we,he(N,2*V+2*M+1),N[2*V+2*M+1]+=I*it,he(N,2*V+2*M+1),N[2*V+2*M+2]+=P*it,he(N,2*V+2*M+2)}for(D=0;D<w;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=w;D<2*w;D++)N[D]=0;return new f(N,0)};function he(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function fe(D,w){this.g=D,this.h=w}function be(D,w){if(K(w))throw Error("division by zero");if(K(D))return new fe(b,b);if(X(D))return w=be(G(D),w),new fe(G(w.g),G(w.h));if(X(w))return w=be(D,G(w)),new fe(G(w.g),w.h);if(D.g.length>30){if(X(D)||X(w))throw Error("slowDivide_ only works with positive integers.");for(var N=R,V=w;V.l(D)<=0;)N=Be(N),V=Be(V);var M=xe(N,1),P=xe(V,1);for(V=xe(V,2),N=xe(N,2);!K(V);){var I=P.add(V);I.l(D)<=0&&(M=M.add(N),P=I),V=xe(V,1),N=xe(N,1)}return w=re(D,M.j(w)),new fe(M,w)}for(M=b;D.l(w)>=0;){for(N=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=g(N),I=P.j(w);X(I)||I.l(D)>0;)N-=V,P=g(N),I=P.j(w);K(P)&&(P=R),M=M.add(P),D=re(D,I)}return new fe(M,D)}s.B=function(D){return be(this,D).h},s.and=function(D){const w=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)&D.i(V);return new f(N,this.h&D.h)},s.or=function(D){const w=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)|D.i(V);return new f(N,this.h|D.h)},s.xor=function(D){const w=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)^D.i(V);return new f(N,this.h^D.h)};function Be(D){const w=D.g.length+1,N=[];for(let V=0;V<w;V++)N[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(N,D.h)}function xe(D,w){const N=w>>5;w%=32;const V=D.g.length-N,M=[];for(let P=0;P<V;P++)M[P]=w>0?D.i(P+N)>>>w|D.i(P+N+1)<<32-w:D.i(P+N);return new f(M,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,WT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,or=f}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e0,Vl,t0,Zc,Sm,n0,i0,s0;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,p){if(p)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break e;v=v[U]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,v){return c.call.apply(c.bind,arguments)}function g(c,p,v){return g=y,g.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,U,q){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return p.prototype[U].apply(S,se)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const p=c.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function K(c,p){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let se=0;se<q;se++)c[v+se]=U[se]}else c.push(U)}}class X{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function G(c){f.setTimeout(()=>{throw c},0)}function re(){var c=D;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class he{constructor(){this.h=this.g=null}add(p,v){const S=fe.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var fe=new X(()=>new be,c=>c.reset());class be{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,xe=!1,D=new he,w=()=>{const c=Promise.resolve(void 0);Be=()=>{c.then(N)}};function N(){for(var c;c=re();){try{c.h.call(c.g)}catch(v){G(v)}var p=fe;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}xe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function it(c,p){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}b(it,M),it.prototype.init=function(c,p){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),B=0;function J(c,p,v,S,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=U,this.key=++B,this.da=this.fa=!1}function ae(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ve(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function Ee(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function x(c){const p={};for(const v in c)p[v]=c[v];return p}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,p){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function te(c){this.src=c,this.g={},this.h=0}te.prototype.add=function(c,p,v,S,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const se=le(c,p,S,U);return se>-1?(p=c[se],v||(p.fa=!1)):(p=new J(p,this.src,q,!!S,U),p.fa=v,c.push(p)),p};function oe(c,p){const v=p.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,p,void 0),q;(q=U>=0)&&Array.prototype.splice.call(S,U,1),q&&(ae(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function le(c,p,v,S){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==p&&q.capture==!!v&&q.ha==S)return U}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Qe={};function Ke(c,p,v,S,U){if(Array.isArray(p)){for(let q=0;q<p.length;q++)Ke(c,p[q],v,S,U);return null}return v=Ro(v),c&&c[we]?c.J(p,v,m(S)?!!S.capture:!1,U):ln(c,p,v,!1,S,U)}function ln(c,p,v,S,U,q){if(!p)throw Error("Invalid event type");const se=m(U)?!!U.capture:!!U;let Ce=qi(c);if(Ce||(c[pe]=Ce=new te(c)),v=Ce.add(p,v,S,se,q),v.proxy)return v;if(S=Kn(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)P||(U=se),U===void 0&&(U=!1),c.addEventListener(p.toString(),S,U);else if(c.attachEvent)c.attachEvent(_n(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kn(){function c(v){return p.call(c.src,c.listener,v)}const p=gs;return c}function Bi(c,p,v,S,U){if(Array.isArray(p))for(var q=0;q<p.length;q++)Bi(c,p[q],v,S,U);else S=m(S)?!!S.capture:!!S,v=Ro(v),c&&c[we]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],v=le(p,v,S,U),v>-1&&(ae(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=qi(c))&&(p=c.g[p.toString()],c=-1,p&&(c=le(p,v,S,U)),(v=c>-1?p[c]:null)&&Hi(v))}function Hi(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[we])oe(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(_n(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=qi(p))?(oe(v,c),v.h==0&&(v.src=null,p[pe]=null)):ae(c)}}}function _n(c){return c in Qe?Qe[c]:Qe[c]="on"+c}function gs(c,p){if(c.da)c=!0;else{p=new it(p,this);const v=c.listener,S=c.ha||c.src;c.fa&&Hi(c),c=v.call(S,p)}return c}function qi(c){return c=c[pe],c instanceof te?c:null}var wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ro(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(p){return c.handleEvent(p)}),c[wo])}function vt(){V.call(this),this.i=new te(this),this.M=this,this.G=null}b(vt,V),vt.prototype[we]=!0,vt.prototype.removeEventListener=function(c,p,v,S){Bi(this,c,p,v,S)};function xt(c,p){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new M(p,c);else if(p instanceof M)p.target=p.target||c;else{var U=p;p=new M(S,c),ie(p,U)}U=!0;let q,se;if(v)for(se=v.length-1;se>=0;se--)q=p.g=v[se],U=ys(q,S,!0,p)&&U;if(q=p.g=c,U=ys(q,S,!0,p)&&U,U=ys(q,S,!1,p)&&U,v)for(se=0;se<v.length;se++)q=p.g=v[se],U=ys(q,S,!1,p)&&U}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let S=0;S<v.length;S++)ae(v[S]);delete c.g[p],c.h--}}this.G=null},vt.prototype.J=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},vt.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function ys(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let q=0;q<p.length;++q){const se=p[q];if(se&&!se.da&&se.capture==v){const Ce=se.listener,mt=se.ha||se.src;se.fa&&oe(c.i,se),U=Ce.call(mt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Xh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function cu(c){c.g=Xh(()=>{c.g=null,c.i&&(c.i=!1,cu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class tn extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(c){V.call(this),this.h=c,this.g={}}b(Er,V);var Io=[];function Co(c){ve(c.g,function(p,v){this.g.hasOwnProperty(v)&&Hi(p)},c),c.g={}}Er.prototype.N=function(){Er.Z.N.call(this),Co(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=f.JSON.stringify,$h=f.JSON.parse,hu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function fu(){}function du(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){M.call(this,"d")}b(Bt,M);function Nn(){M.call(this,"c")}b(Nn,M);var dt={},mu=null;function ca(){return mu=mu||new vt}dt.Ia="serverreachability";function pu(c){M.call(this,dt.Ia,c)}b(pu,M);function li(c){const p=ca();xt(p,new pu(p))}dt.STAT_EVENT="statevent";function Tr(c,p){M.call(this,dt.STAT_EVENT,c),this.stat=p}b(Tr,M);function Et(c){const p=ca();xt(p,new Tr(p,c))}dt.Ja="timingevent";function ui(c,p){M.call(this,dt.Ja,c),this.size=p}b(ui,M);function ci(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Zh(c,p,v,S,U,q){c.info(function(){if(c.g)if(q){var se="",Ce=q.split("&");for(let Fe=0;Fe<Ce.length;Fe++){var mt=Ce[Fe].split("=");if(mt.length>1){const lt=mt[0];mt=mt[1];const Mn=lt.split("_");se=Mn.length>=2&&Mn[1]=="type"?se+(lt+"="+mt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+p+`
`+v+`
`+se})}function gu(c,p,v,S,U,q,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+p+`
`+v+`
`+q+" "+se})}function hi(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Jh(c,v)+(S?" "+S:"")})}function Sr(c,p){c.info(function(){return"TIMEOUT: "+p})}Qn.prototype.info=function(){};function Jh(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return _s(q)}catch{return p}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function Ar(){}b(Ar,fu),Ar.prototype.g=function(){return new XMLHttpRequest},Do=new Ar;function Fi(c){return encodeURIComponent(String(c))}function yu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Xn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.S=S||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Tt={},kt={};function fi(c,p,v){c.M=1,c.A=wr(bt(p)),c.u=v,c.R=!0,ha(c,null)}function ha(c,p){c.F=Date.now(),di(c),c.B=bt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),pa(v.i,"t",S),c.C=0,v=c.j.L,c.h=new $n,c.g=Ou(c.j,v?p:null,!c.u),c.P>0&&(c.O=new tn(g(c.Y,c,c.g),c.P)),p=c.V,v=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Io[0]=U.toString()),U=Io);for(let q=0;q<U.length;q++){const se=Ke(v,U[q],S||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),li(),Zh(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Wn(c)==3?p.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Wn(this.g),mt=this.g.ya(),Fe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ce!=4||mt==7||(mt==8||Fe<=0?li(3):li(2)),mi(this);var p=this.g.ca();this.X=p;var v=Wh(this);if(this.o=p==200,gu(this.i,this.v,this.B,this.l,this.S,Ce,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var q=S;break t}}q=null}if(c=q)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,Et(12),vn(this),Dn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=vu(this,v),lt==kt){Ce==4&&(this.m=4,Et(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,Et(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,lt,null),pi(this,lt);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(se),se.P=!0,Et(11))}}else hi(this.i,this.l,v,null),pi(this,v);Ce==4&&vn(this),this.o&&!this.K&&(Ce==4?Cu(this.j,this):(this.o=!1,di(this)))}else Ki(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),vn(this),Dn(this)}}}catch{}finally{}};function Wh(c){if(!_u(c))return c.g.la();const p=Ht(c.g);if(p==="")return"";let v="";const S=p.length,U=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),Dn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(p[q],{stream:!(U&&q==S-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function _u(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function vu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?kt:(v=Number(p.substring(v,S)),isNaN(v)?Tt:(S+=1,S+v>p.length?kt:(p=p.slice(S,S+v),c.C=S+v,p)))}Xn.prototype.cancel=function(){this.K=!0,vn(this)};function di(c){c.T=Date.now()+c.H,fa(c,c.H)}function fa(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(g(c.aa,c),p)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(li(),Et(17)),vn(this),this.m=2,Dn(this)):fa(this,this.T-c)};function Dn(c){c.j.I==0||c.K||Cu(c.j,c)}function vn(c){mi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Co(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function pi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ea(v),Rs(v);else break e;Or(v),Et(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(g(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&Ea(v),!I(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let Fe=U[p];const lt=Fe[0];if(!(lt<=v.K))if(v.K=lt,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Mn=Fe[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const Ai=Fe[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const ei=Fe[5];ei!=null&&typeof ei=="number"&&ei>0&&(S=1.5*ei,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ti=c.g;if(ti){const Mr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var q=S.h;q.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Mo(q,q.h),q.h=null))}if(S.G){const Ta=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(S.wa=Ta,Xe(S.J,S.G,Ta))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=c;if(S.na=xu(S,S.L?S.ba:null,S.W),se.L){Vo(S.h,se);var Ce=se,mt=S.O;mt&&(Ce.H=mt),Ce.D&&(mi(Ce),di(Ce)),S.g=se}else Ru(S);v.i.length>0&&Si(v)}else Fe[0]!="stop"&&Fe[0]!="close"||bi(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?bi(v,7):qo(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}li(4)}catch{}}var St=class{constructor(c,p){this.g=c,this.map=p}};function xo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Mo(c,p){c.g?c.g.add(p):c.h=p}function Vo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}xo.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return k(c.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let U,q=null;S>=0?(U=c[v].substring(0,S),q=c[v].substring(S+1)):U=c[v],p(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof En?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,vs(this,c.u),this.h=c.h,Lo(this,Au(c.i)),this.m=c.m):c&&(p=String(c).match(Eu))?(this.l=!1,Lt(this,p[1]||"",!0),this.o=_i(p[2]||""),this.g=_i(p[3]||"",!0),vs(this,p[4]),this.h=_i(p[5]||"",!0),Lo(this,p[6]||"",!0),this.m=_i(p[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}En.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Rr(p,ma,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Rr(p,ma,!0),"@"),c.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rr(v,v.charAt(0)=="/"?Po:Tu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rr(v,Su)),c.join("")},En.prototype.resolve=function(c){const p=bt(this);let v=!!c.j;v?Lt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var S=c.h;if(v)vs(p,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=p.h.lastIndexOf("/");U!=-1&&(S=p.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let se=0;se<U.length;){const Ce=U[se++];Ce=="."?S&&se==U.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&se==U.length&&q.push("")):(q.push(Ce),S=!0)}S=q.join("/")}else S=U}return v?p.h=S:v=c.i.toString()!=="",v?Lo(p,Au(c.i)):v=!!c.m,v&&(p.m=c.m),p};function bt(c){return new En(c)}function Lt(c,p,v){c.j=v?_i(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function vs(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Lo(c,p,v){p instanceof Ts?(c.i=p,ga(c.i,c.l)):(v||(p=Rr(p,Es)),c.i=new Ts(p,c.l))}function Xe(c,p,v){c.i.set(p,v)}function wr(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rr(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ma=/[#\/\?@]/g,Tu=/[#\?:]/g,Po=/[#\?]/g,Es=/[#\?@]/g,Su=/#/g;function Ts(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=Ts.prototype,s.add=function(c,p){cn(this),this.i=null,c=Ss(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function bu(c,p){cn(c),p=Ss(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Uo(c,p){return cn(c),p=Ss(c,p),c.g.has(p)}s.forEach=function(c,p){cn(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(p,U,S,this)},this)},this)};function jo(c,p){cn(c);let v=[];if(typeof p=="string")Uo(c,p)&&(v=v.concat(c.g.get(Ss(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}s.set=function(c,p){return cn(this),this.i=null,c=Ss(this,c),Uo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},s.get=function(c,p){return c?(c=jo(this,c),c.length>0?String(c[0]):p):p};function pa(c,p,v){bu(c,p),v.length>0&&(c.i=null,c.g.set(Ss(c,p),k(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const U=Fi(v);v=jo(this,v);for(let q=0;q<v.length;q++){let se=U;v[q]!==""&&(se+="="+Fi(v[q])),c.push(se)}}return this.i=c.join("&")};function Au(c){const p=new Ts;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Ss(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ga(c,p){p&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(bu(this,S),pa(this,U,v))},c)),c.j=p}function Zn(c,p){const v=new Qn;if(f.Image){const S=new Image;S.onload=E(xn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=E(xn,v,"TestLoadImage: error",!1,p,S),S.onabort=E(xn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(xn,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function zo(c,p){const v=new Qn,S=new AbortController,U=setTimeout(()=>{S.abort(),xn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?xn(v,"TestPingServer: ok",!0,p):xn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),xn(v,"TestPingServer: error",!1,p)})}function xn(c,p,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function bs(){this.g=new hu}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(vi,fu),vi.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(c,p){vt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ir,vt),s=Ir.prototype,s.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Jn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?As(this):Jn(this),this.readyState==3&&ya(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,As(this))},s.Na=function(c){this.g&&(this.response=c,As(this))},s.ga=function(){this.g&&As(this)};function As(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Jn(c)}s.setRequestHeader=function(c,p){this.A.append(c,p)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let p="";return ve(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Cr(c,p,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=On(v),typeof c=="string"?v!=null&&Fi(v):Xe(c,p,v))}function Je(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Je,vt);var Ei=/^https?$/i,Bo=["POST","PUT"];s=Je.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){Nr(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Bo,p,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of v)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Nr(this,q)}};function Nr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Ho(c),Gi(c)}function Ho(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xt(this,"complete"),xt(this,"abort"),Gi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(xt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var S;if(S=q===0){let se=String(c.D).match(Eu)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),S=!Ei.test(se?se.toLowerCase():"")}v=S}if(v)xt(c,"complete"),xt(c,"success");else{c.o=6;try{var U=Wn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Ho(c)}}finally{Gi(c)}}}}function Gi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||xt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),$h(p)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(c){const p={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=yu(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=p[U]||[];p[U]=q,q.push(v)}Ee(p,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function ws(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(c&&c.concurrentRequestLimit),this.Ba=new bs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ws.prototype,s.ka=8,s.I=1,s.connect=function(c,p,v,S){Et(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=xu(this,null,this.W),Si(this)};function qo(c){if(_a(c),c.I==3){var p=c.V++,v=bt(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",p),Xe(v,"TYPE","terminate"),xr(c,v),p=new Xn(c,c.j,p),p.M=2,p.A=wr(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Ou(p.j,null),p.g.ea(p.A)),p.F=Date.now(),di(p)}Du(c)}function Rs(c){c.g&&(Go(c),c.g.cancel(),c.g=null)}function _a(c){Rs(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ea(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!Oo(c.h)&&!c.m){c.m=!0;var p=c.Ea;Be||w(),xe||(Be(),xe=!0),D.add(p,c),c.D=0}}function va(c,p){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(g(c.Ea,c,p),Nu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Xn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=x(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=wu(this,U,p),v=bt(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),xr(this,v),q&&(this.R?p="headers="+Fi(On(q))+"&"+p:this.u&&Cr(v,this.u,q)),Mo(this.h,U),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",p),Xe(v,"SID","null"),U.U=!0,fi(U,v,null)):fi(U,v,p),this.I=2}}else this.I==3&&(c?Fo(this,c):this.i.length==0||Oo(this.h)||Fo(this))};function Fo(c,p){var v;p?v=p.l:v=c.V++;const S=bt(c.J);Xe(S,"SID",c.M),Xe(S,"RID",v),Xe(S,"AID",c.K),xr(c,S),c.u&&c.o&&Cr(S,c.u,c.o),v=new Xn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=wu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Mo(c.h,v),fi(v,S,p)}function xr(c,p){c.H&&ve(c.H,function(v,S){Xe(p,S,v)}),c.l&&ve({},function(v,S){Xe(p,S,v)})}function wu(c,p,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var U=c.i;let Ce=-1;for(;;){const mt=["count="+v];Ce==-1?v>0?(Ce=U[0].g,mt.push("ofs="+Ce)):Ce=0:mt.push("ofs="+Ce);let Fe=!0;for(let lt=0;lt<v;lt++){var q=U[lt].g;const Mn=U[lt].map;if(q-=Ce,q<0)Ce=Math.max(0,U[lt].g-100),Fe=!1;else try{q="req"+q+"_"||"";try{var se=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ai,ei]of se){let ti=ei;m(ei)&&(ti=_s(ei)),mt.push(q+Ai+"="+encodeURIComponent(ti))}}catch(Ai){throw mt.push(q+"type="+encodeURIComponent("_badmap")),Ai}}catch{S&&S(Mn)}}if(Fe){se=mt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),p.G=c,se}function Ru(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Be||w(),xe||(Be(),xe=!0),D.add(p,c),c.A=0}}function Or(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(g(c.Da,c),Nu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Rs(this),Iu(this))};function Go(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Iu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=bt(c.na);Xe(p,"RID","rpc"),Xe(p,"SID",c.M),Xe(p,"AID",c.K),Xe(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(p,"TO",c.ia),Xe(p,"TYPE","xmlhttp"),xr(c,p),c.u&&c.o&&Cr(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=wr(bt(p)),v.u=null,v.R=!0,ha(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Rs(this),Or(this),Et(19))};function Ea(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Cu(c,p){var v=null;if(c.g==p){Ea(c),Go(c),c.g=null;var S=2}else if(yi(c.h,p))v=p.G,Vo(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;S=ca(),xt(S,new ui(S,v)),Si(c)}else Ru(c);else if(U=p.m,U==3||U==0&&p.X>0||!(S==1&&va(c,p)||S==2&&Or(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),U){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Nu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function bi(c,p){if(c.j.info("Error code "+p),p==2){var v=g(c.bb,c),S=c.Ua;const U=!S;S=new En(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(S,"https"),wr(S),U?Zn(S.toString(),v):zo(S.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(p),Du(c),_a(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Du(c){if(c.I=0,c.ja=[],c.l){const p=ko(c.h);(p.length!=0||c.i.length!=0)&&(K(c.ja,p),K(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function xu(c,p,v){var S=v instanceof En?bt(v):new En(v);if(S.g!="")p&&(S.g=p+"."+S.g),vs(S,S.u);else{var U=f.location;S=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const q=new En(null);S&&Lt(q,S),p&&(q.g=p),U&&vs(q,U),v&&(q.h=v),S=q}return v=c.G,p=c.wa,v&&p&&Xe(S,v,p),Xe(S,"VER",c.ka),xr(c,S),S}function Ou(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Je(new vi({ab:v})):new Je(c.ma),p.Fa(c.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}s=Mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Is(){}Is.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){vt.call(this),this.g=new ws(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!I(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Yi(this)}b(nn,vt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){qo(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_s(c),c=v);p.i.push(new St(p.Ya++,c)),p.I==3&&Si(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,nn.Z.N.call(this)};function Vu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}b(Vu,Bt);function ku(){Nn.call(this),this.status=1}b(ku,Nn);function Yi(c){this.g=c}b(Yi,Mu),Yi.prototype.ra=function(){xt(this.g,"a")},Yi.prototype.qa=function(c){xt(this.g,new Vu(c))},Yi.prototype.pa=function(c){xt(this.g,new ku)},Yi.prototype.oa=function(){xt(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,s0=function(){return new Is},i0=function(){return ca()},n0=dt,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Zc=br,No.COMPLETE="complete",t0=No,du.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Vl=du,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,e0=Je}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const Xv="@firebase/firestore",$v="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new Ym("@firebase/firestore");function eo(){return ia.logLevel}function ue(s,...e){if(ia.logLevel<=Le.DEBUG){const n=e.map(sp);ia.debug(`Firestore (${Eo}): ${s}`,...n)}}function ms(s,...e){if(ia.logLevel<=Le.ERROR){const n=e.map(sp);ia.error(`Firestore (${Eo}): ${s}`,...n)}}function ho(s,...e){if(ia.logLevel<=Le.WARN){const n=e.map(sp);ia.warn(`Firestore (${Eo}): ${s}`,...n)}}function sp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,r0(s,r,n)}function r0(s,e,n){let r=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ms(r),new Error(r)}function Ye(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||r0(e,o,r)}function Ie(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class MI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VI{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new a0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class kI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=UI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Pe(s,e){return s<e?-1:s>e?1:0}function bm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return om(o)===om(u)?Pe(o,u):om(o)?1:-1}return Pe(s.length,e.length)}const jI=55296,zI=57343;function om(s){const e=s.charCodeAt(0);return e>=jI&&e<=zI}function fo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="__name__";class Ni{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const r=Ni.isNumericId(e),o=Ni.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class at extends Ni{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const BI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ni{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return BI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jv}static keyField(){return new Qt([Jv])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(s,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function HI(s,e,n,r){if(e===!0&&r===!0)throw new de(ee.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Wv(s){if(!ye.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function eE(s){if(ye.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function l0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ap(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function Pi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ap(s);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(s,e){const n={typeString:s};return e&&(n.value=e),n}function su(s,e){if(!l0(s))throw new de(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new de(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=-62135596800,nE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*nE);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tE)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Nt("string",ot._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ot(0,0))}static max(){return new Ae(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function qI(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new cr(o,ye.empty(),e)}function FI(s){return new cr(s.readTime,s.key,Yl)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(Ae.min(),ye.empty(),Yl)}static max(){return new cr(Ae.max(),ye.empty(),Yl)}}function GI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(s.documentKey,e.documentKey),n!==0?n:Pe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==KI)throw s;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,r)=>{n(e)}))}static reject(e){return new W(((n,r)=>{r(e)}))}static waitFor(e){return new W(((n,r)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>r(y)))})),f=!0,u===o&&n()}))}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next((o=>o?W.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new W(((r,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next((E=>{f[g]=E,++m,m===u&&r(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new W(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function QI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=-1;function Dh(s){return s==null}function hh(s){return s===0&&1/s==-1/0}function XI(s){return typeof s=="number"&&Number.isInteger(s)&&!hh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="";function $I(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=iE(e)),e=ZI(s.get(n),e);return iE(e)}function ZI(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case u0:n+="";break;default:n+=u}}return n}function iE(s){return s+u0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function _r(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function c0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Yt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rE(this.data.getIterator())}getIteratorFrom(e){return new rE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class rE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Vt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new h0("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const JI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(Ye(!!s,39018),typeof s=="string"){let e=0;const n=JI.exec(s);if(Ye(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="server_timestamp",d0="__type__",m0="__previous_value__",p0="__local_write_time__";function lp(s){return(s?.mapValue?.fields||{})[d0]?.stringValue===f0}function xh(s){const e=s.mapValue.fields[m0];return lp(e)?xh(e):e}function Ql(s){const e=hr(s.mapValue.fields[p0].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,r,o,u,f,m,y,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const fh="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||fh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="__type__",eC="__max__",Hc={mapValue:{}},y0="__vector__",dh="value";function dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?lp(s)?4:nC(s)?9007199254740991:tC(s)?10:11:Se(28295,{value:s})}function Ui(s,e){if(s===e)return!0;const n=dr(s);if(n!==dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ql(s).isEqual(Ql(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=hr(o.timestampValue),m=hr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return fr(o.bytesValue).isEqual(fr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?hh(f)===hh(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return fo(s.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(sE(f)!==sE(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Ui(f[y],m[y])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function $l(s,e){return(s.values||[]).find((n=>Ui(n,e)))!==void 0}function mo(s,e){if(s===e)return 0;const n=dr(s),r=dr(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),y=yt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(s,e);case 3:return aE(s.timestampValue,e.timestampValue);case 4:return aE(Ql(s),Ql(e));case 5:return bm(s.stringValue,e.stringValue);case 6:return(function(u,f){const m=fr(u),y=fr(f);return m.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=Pe(m[g],y[g]);if(E!==0)return E}return Pe(m.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Pe(yt(u.latitude),yt(f.latitude));return m!==0?m:Pe(yt(u.longitude),yt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return oE(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},g=m[dh]?.arrayValue,E=y[dh]?.arrayValue,b=Pe(g?.values?.length||0,E?.values?.length||0);return b!==0?b:oE(g,E)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Hc.mapValue&&f===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(f===Hc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let b=0;b<y.length&&b<E.length;++b){const R=bm(y[b],E[b]);if(R!==0)return R;const k=mo(m[y[b]],g[E[b]]);if(k!==0)return k}return Pe(y.length,E.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function aE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const n=hr(s),r=hr(e),o=Pe(n.seconds,r.seconds);return o!==0?o:Pe(n.nanos,r.nanos)}function oE(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=mo(n[o],r[o]);if(u)return u}return Pe(n.length,r.length)}function po(s){return Am(s)}function Am(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=hr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return fr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ye.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Am(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Am(n.fields[f])}`;return o+"}"})(s.mapValue):Se(61005,{value:s})}function Jc(s){switch(dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(s);return e?16+Jc(e):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Jc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return _r(r.fields,((u,f)=>{o+=u.length+Jc(f)})),o})(s.mapValue);default:throw Se(13486,{value:s})}}function wm(s){return!!s&&"integerValue"in s}function up(s){return!!s&&"arrayValue"in s}function lE(s){return!!s&&"nullValue"in s}function uE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Wc(s){return!!s&&"mapValue"in s}function tC(s){return(s?.mapValue?.fields||{})[g0]?.stringValue===y0}function zl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return _r(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(s.arrayValue.values[n]);return e}return{...s}}function nC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===eC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=Qt.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=zl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){_r(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new yn(zl(this.value))}}function _0(s){const e=[];return _r(s.fields,((n,r)=>{const o=new Qt([n]);if(Wc(r)){const u=_0(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,o,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),yn.empty(),0)}static newFoundDocument(e,n,r,o){return new Wt(e,1,n,Ae.min(),r,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.position=e,this.inclusive=n}}function cE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=ye.comparator(ye.fromName(f.referenceValue),n.key):r=mo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function hE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ui(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function iC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{}class Mt extends v0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rC(e,n,r):n==="array-contains"?new lC(e,r):n==="in"?new uC(e,r):n==="not-in"?new cC(e,r):n==="array-contains-any"?new hC(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aC(e,r):new oC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends v0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ji(e,n)}matches(e){return E0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function E0(s){return s.op==="and"}function T0(s){return sC(s)&&E0(s)}function sC(s){for(const e of s.filters)if(e instanceof ji)return!1;return!0}function Rm(s){if(s instanceof Mt)return s.field.canonicalString()+s.op.toString()+po(s.value);if(T0(s))return s.filters.map((e=>Rm(e))).join(",");{const e=s.filters.map((n=>Rm(n))).join(",");return`${s.op}(${e})`}}function S0(s,e){return s instanceof Mt?(function(r,o){return o instanceof Mt&&r.op===o.op&&r.field.isEqual(o.field)&&Ui(r.value,o.value)})(s,e):s instanceof ji?(function(r,o){return o instanceof ji&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&S0(f,o.filters[m])),!0):!1})(s,e):void Se(19439)}function b0(s){return s instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(s):s instanceof ji?(function(n){return n.op.toString()+" {"+n.getFilters().map(b0).join(" ,")+"}"})(s):"Filter"}class rC extends Mt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class aC extends Mt{constructor(e,n){super(e,"in",n),this.keys=A0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oC extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=A0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function A0(s,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class lC extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return up(n)&&$l(n.arrayValue,this.value)}}class uC extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class cC extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$l(this.value.arrayValue,n)}}class hC extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>$l(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n=null,r=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function fE(s,e=null,n=[],r=[],o=null,u=null,f=null){return new fC(s,e,n,r,o,u,f)}function cp(s){const e=Ie(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Rm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>po(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>po(r))).join(",")),e.Te=n}return e.Te}function hp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!iC(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!S0(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!hE(s.startAt,e.startAt)&&hE(s.endAt,e.endAt)}function Im(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n=null,r=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dC(s,e,n,r,o,u,f,m){return new Oh(s,e,n,r,o,u,f,m)}function fp(s){return new Oh(s)}function dE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function mC(s){return s.collectionGroup!==null}function Bl(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Qt.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ph(u,r))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new ph(Qt.keyField(),r))}return e.Ie}function Mi(s){const e=Ie(s);return e.Ee||(e.Ee=pC(e,Bl(s))),e.Ee}function pC(s,e){if(s.limitType==="F")return fE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ph(o.field,u)}));const n=s.endAt?new mh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new mh(s.startAt.position,s.startAt.inclusive):null;return fE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Cm(s,e,n){return new Oh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Mh(s,e){return hp(Mi(s),Mi(e))&&s.limitType===e.limitType}function w0(s){return`${cp(Mi(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>b0(o))).join(", ")}]`),Dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${r})`})(Mi(s))}; limitType=${s.limitType})`}function Vh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ye.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Bl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,y){const g=cE(f,m,y);return f.inclusive?g<=0:g<0})(r.startAt,Bl(r),o)||r.endAt&&!(function(f,m,y){const g=cE(f,m,y);return f.inclusive?g>=0:g>0})(r.endAt,Bl(r),o))})(s,e)}function gC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function R0(s){return(e,n)=>{let r=!1;for(const o of Bl(s)){const u=yC(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function yC(s,e,n){const r=s.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?mo(y,g):Se(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return c0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new ct(ye.comparator);function ps(){return _C}const I0=new ct(ye.comparator);function kl(...s){let e=I0;for(const n of s)e=e.insert(n.key,n);return e}function C0(s){let e=I0;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Zr(){return Hl()}function N0(){return Hl()}function Hl(){return new la((s=>s.toString()),((s,e)=>s.isEqual(e)))}const vC=new ct(ye.comparator),EC=new Vt(ye.comparator);function Ue(...s){let e=EC;for(const n of s)e=e.add(n);return e}const TC=new Vt(Pe);function SC(){return TC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function D0(s){return{integerValue:""+s}}function bC(s,e){return XI(e)?D0(e):dp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function AC(s,e,n){return s instanceof gh?(function(o,u){const f={fields:{[d0]:{stringValue:f0},[p0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lp(u)&&(u=xh(u)),u&&(f.fields[m0]=u),{mapValue:f}})(n,e):s instanceof Zl?O0(s,e):s instanceof Jl?M0(s,e):(function(o,u){const f=x0(o,u),m=mE(f)+mE(o.Ae);return wm(f)&&wm(o.Ae)?D0(m):dp(o.serializer,m)})(s,e)}function wC(s,e,n){return s instanceof Zl?O0(s,e):s instanceof Jl?M0(s,e):n}function x0(s,e){return s instanceof yh?(function(r){return wm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class gh extends kh{}class Zl extends kh{constructor(e){super(),this.elements=e}}function O0(s,e){const n=V0(e);for(const r of s.elements)n.some((o=>Ui(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Jl extends kh{constructor(e){super(),this.elements=e}}function M0(s,e){let n=V0(e);for(const r of s.elements)n=n.filter((o=>!Ui(o,r)));return{arrayValue:{values:n}}}class yh extends kh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function mE(s){return yt(s.integerValue||s.doubleValue)}function V0(s){return up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function RC(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Zl&&o instanceof Zl||r instanceof Jl&&o instanceof Jl?fo(r.elements,o.elements,Ui):r instanceof yh&&o instanceof yh?Ui(r.Ae,o.Ae):r instanceof gh&&o instanceof gh})(s.transform,e.transform)}class IC{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Lh{}function k0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new mp(s.key,ai.none()):new ru(s.key,s.data,ai.none());{const n=s.data,r=yn.empty();let o=new Vt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new vr(s.key,r,new Cn(o.toArray()),ai.none())}}function CC(s,e,n){s instanceof ru?(function(o,u,f){const m=o.value.clone(),y=gE(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof vr?(function(o,u,f){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=gE(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(L0(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function ql(s,e,n,r){return s instanceof ru?(function(u,f,m,y){if(!eh(u.precondition,f))return m;const g=u.value.clone(),E=yE(u.fieldTransforms,y,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(s,e,n,r):s instanceof vr?(function(u,f,m,y){if(!eh(u.precondition,f))return m;const g=yE(u.fieldTransforms,y,f),E=f.data;return E.setAll(L0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(s,e,n,r):(function(u,f,m){return eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function NC(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=x0(r.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(r.field,u))}return n||null}function pE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&fo(r,o,((u,f)=>RC(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ru extends Lh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vr extends Lh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function L0(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function gE(s,e,n){const r=new Map;Ye(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=e.data.field(u.field);r.set(u.field,wC(f,m,n[o]))}return r}function yE(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,AC(u,f,e))}return r}class mp extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DC extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&CC(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=N0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=k0(f,m);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,((n,r)=>pE(n,r)))&&fo(this.baseMutations,e.baseMutations,((n,r)=>pE(n,r)))}}class pp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return vC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new pp(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,ze;function VC(s){switch(s){case ee.OK:return Se(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function P0(s){if(s===void 0)return ms("GRPC error has no .code"),ee.UNKNOWN;switch(s){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return Se(39323,{code:s})}}(ze=Ct||(Ct={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new or([4294967295,4294967295],0);function _E(s){const e=kC().encode(s),n=new WT;return n.update(e),new Uint8Array(n.digest())}function vE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new or([n,r],0),new or([o,u],0)]}class gp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=or.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(or.fromNumber(r)));return o.compare(LC)===1&&(o=new or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_E(e),[r,o]=vE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new gp(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=_E(e),[r,o]=vE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(Ae.min(),o,new ct(Pe),ps(),Ue())}}class au{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new au(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class U0{constructor(e,n){this.targetId=e,this.Ce=n}}class j0{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class EE{constructor(){this.ve=0,this.Fe=TE(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Se(38017,{changeType:u})}})),new au(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=TE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.Je=qc(),this.He=qc(),this.Ye=new ct(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Im(u))if(r===0){const f=new ye(u.path);this.et(n,f,Wt.newNoDocument(f,Ae.min()))}else Ye(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=fr(r).toUint8Array()}catch(y){if(y instanceof h0)return ho("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new gp(f,o,u)}catch(y){return ho(y instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Im(m.target)){const y=new ye(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Wt.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Ue();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Ph(e,n,this.Ye,this.je,r);return this.je=ps(),this.Je=qc(),this.He=qc(),this.Ye=new ct(Pe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new EE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new EE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qc(){return new ct(ye.comparator)}function TE(){return new ct(ye.comparator)}const UC={asc:"ASCENDING",desc:"DESCENDING"},jC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zC={and:"AND",or:"OR"};class BC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nm(s,e){return s.useProto3Json||Dh(e)?e:{value:e}}function _h(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function HC(s,e){return _h(s,e.toTimestamp())}function Vi(s){return Ye(!!s,49232),Ae.fromTimestamp((function(n){const r=hr(n);return new ot(r.seconds,r.nanos)})(s))}function yp(s,e){return Dm(s,e).canonicalString()}function Dm(s,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function B0(s){const e=at.fromString(s);return Ye(K0(e),10190,{key:e.toString()}),e}function xm(s,e){return yp(s.databaseId,e.path)}function lm(s,e){const n=B0(e);if(n.get(1)!==s.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ye(q0(n))}function H0(s,e){return yp(s.databaseId,e)}function qC(s){const e=B0(s);return e.length===4?at.emptyPath():q0(e)}function Om(s){return new at(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function q0(s){return Ye(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function SE(s,e,n){return{name:xm(s,e),fields:n.value.mapValue.fields}}function FC(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ye(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ee.UNKNOWN:P0(g.code);return new de(E,g.message||"")})(f);n=new j0(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=lm(s,r.document.name),u=Vi(r.document.updateTime),f=r.document.createTime?Vi(r.document.createTime):Ae.min(),m=new yn({mapValue:{fields:r.document.fields}}),y=Wt.newFoundDocument(o,u,f,m),g=r.targetIds||[],E=r.removedTargetIds||[];n=new th(g,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=lm(s,r.document),u=r.readTime?Vi(r.readTime):Ae.min(),f=Wt.newNoDocument(o,u),m=r.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=lm(s,r.document),u=r.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new MC(o,u),m=r.targetId;n=new U0(m,f)}}return n}function GC(s,e){let n;if(e instanceof ru)n={update:SE(s,e.key,e.value)};else if(e instanceof mp)n={delete:xm(s,e.key)};else if(e instanceof vr)n={update:SE(s,e.key,e.data),updateMask:e2(e.fieldMask)};else{if(!(e instanceof DC))return Se(16599,{Vt:e.type});n={verify:xm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:HC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(s,e.precondition)),n}function KC(s,e){return s&&s.length>0?(Ye(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Vi(o.updateTime):Vi(u);return f.isEqual(Ae.min())&&(f=Vi(u)),new IC(f,o.transformResults||[])})(n,e)))):[]}function YC(s,e){return{documents:[H0(s,e.path)]}}function QC(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=H0(s,o);const u=(function(g){if(g.length!==0)return G0(ji.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:no(R.field),direction:ZC(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Nm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function XC(s){let e=qC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ye(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const R=F0(b);return R instanceof ji&&T0(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((R=>(function(K){return new ph(io(K.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let R;return R=typeof b=="object"?b.value:b,Dh(R)?null:R})(n.limit));let y=null;n.startAt&&(y=(function(b){const R=!!b.before,k=b.values||[];return new mh(k,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const R=!b.before,k=b.values||[];return new mh(k,R)})(n.endAt)),dC(e,o,f,u,m,"F",y,g)}function $C(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function F0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return Mt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Mt.create(io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ji.create(n.compositeFilter.filters.map((r=>F0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(s):Se(30097,{filter:s})}function ZC(s){return UC[s]}function JC(s){return jC[s]}function WC(s){return zC[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return Qt.fromServerFormat(s.fieldPath)}function G0(s){return s instanceof Mt?(function(n){if(n.op==="=="){if(uE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(lE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(lE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:JC(n.op),value:n.value}}})(s):s instanceof ji?(function(n){const r=n.getFilters().map((o=>G0(o)));return r.length===1?r[0]:{compositeFilter:{op:WC(n.op),filters:r}}})(s):Se(54877,{filter:s})}function e2(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function K0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,r,o,u=Ae.min(),f=Ae.min(),m=Xt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.yt=e}}function n2(s){const e=XC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Cm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.Cn=new s2}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(cr.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class s2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Vt(at.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y0=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(Y0,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="LruGarbageCollector",r2=1048576;function wE([s,e],[n,r]){const o=Pe(s,n);return o===0?Pe(e,r):o}class a2{constructor(e){this.Ir=e,this.buffer=new Vt(wE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class o2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(AE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?ue(AE,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.Vr(3e5)}))}}class l2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Nh.ce);const r=new a2(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(bE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,f,m,y,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(e,r,n)))).next((b=>(u=b,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(g=Date.now(),eo()<=Le.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${b} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function u2(s,e){return new l2(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&ql(r.mutation,o,Cn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const o=Zr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=kl();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Zr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let u=ps();const f=Hl(),m=(function(){return Hl()})();return n.forEach(((y,g)=>{const E=r.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof vr)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),ql(E.mutation,g,E.mutation.getFieldMask(),ot.now())):f.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new h2(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Hl();let o=new ct(((f,m)=>f-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let E=r.get(y)||Cn.empty();E=m.applyToLocalView(g,E),r.set(y,E);const b=(o.get(m.batchId)||Ue()).add(y);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,b=N0();E.forEach((R=>{if(!u.has(R)){const k=k0(n.get(R),r.get(R));k!==null&&b.set(R,k),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return W.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):W.resolve(Zr());let m=Yl,y=u;return f.next((g=>W.forEach(g,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{y=y.insert(E,R)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,y,g,Ue()))).next((E=>({batchId:m,changes:C0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let o=kl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next((m=>W.forEach(m,(y=>{const g=(function(b,R){return new Oh(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((E=>{E.forEach(((b,R)=>{f=f.insert(b,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((y,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let m=kl();return f.forEach(((y,g)=>{const E=u.get(y);E!==void 0&&ql(E.mutation,g,Cn.empty(),ot.now()),Vh(n,g)&&(m=m.insert(y,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:n2(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.overlays=new ct(ye.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zr();return W.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const o=Zr(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ct(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let E=u.get(g.largestBatchId);E===null&&(E=Zr(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Zr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return W.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new OC(n,r));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this.Qr=new Vt(Ut.$r),this.Ur=new Vt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ye(new at([])),r=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new at([])),r=new Ut(n,e),o=new Ut(n,e+1);let u=Ue();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Ut.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new xC(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?op:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Pe);return n.forEach((o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{r=r.add(m.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;ye.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new ye(u),0);let m=new Vt(Pe);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Yr)),!0)}),f),W.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,(o=>{const u=new Ut(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ut(n,0),o=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.ri=e,this.docs=(function(){return new ct(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=ps();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=ps();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||GI(FI(E),r)<=0||(o.has(E.key)||Vh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Se(9500)}ii(e,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new _2(this)}getSize(e){return W.resolve(this.size)}}class _2 extends c2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.persistence=e,this.si=new la((n=>cp(n)),hp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new _p,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Nh(0),this.li=!1,this.li=!0,this.hi=new p2,this.referenceDelegate=e(this),this.Pi=new v2(this),this.indexManager=new i2,this.remoteDocumentCache=(function(o){return new y2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new t2(n),this.Ii=new d2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new m2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new g2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const o=new E2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class E2 extends YI{constructor(e){super(),this.currentSequenceNumber=e}}class vp{constructor(e){this.persistence=e,this.Ri=new _p,this.Vi=null}static mi(e){return new vp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const o=ye.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.pi=new la((r=>$I(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=u2(this,n)}static mi(e,n){return new vh(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return W.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?W.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(r++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ep(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JA()?8:QI(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new T2;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(eo()<=Le.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(eo()<=Le.DEBUG&&ue("QueryEngine","Query:",to(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(eo()<=Le.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):W.resolve())}ys(e,n){if(dE(n))return W.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Cm(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Ue(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((y=>{const g=this.Ds(n,m);return this.Cs(n,g,f,y.readTime)?this.ys(e,Cm(n,null,"F")):this.vs(e,g,n,y)}))))})))))}ws(e,n,r,o){return dE(n)||o.isEqual(Ae.min())?W.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?W.resolve(null):(eo()<=Le.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.vs(e,f,n,qI(o,Yl)).next((m=>m)))}))}Ds(e,n){let r=new Vt(R0(e));return n.forEach(((o,u)=>{Vh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return eo()<=Le.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",to(n)),this.ps.getDocumentsMatchingQuery(e,n,cr.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="LocalStore",b2=3e8;class A2{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Pe),this.xs=new la((u=>cp(u)),hp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function w2(s,e,n,r){return new A2(s,e,n,r)}async function X0(s,e){const n=Ie(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let y=Ue();for(const g of o){f.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(r,y).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function R2(s,e){const n=Ie(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,E){const b=g.batch,R=b.keys();let k=W.resolve();return R.forEach((K=>{k=k.next((()=>E.getEntry(y,K))).next((X=>{const G=g.docVersions.get(K);Ye(G!==null,48541),X.version.compareTo(G)<0&&(b.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(y,b)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function $0(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function I2(s,e){const n=Ie(s),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,b)=>{const R=o.get(b);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let k=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Xt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,r)),o=o.insert(b,k),(function(X,G,re){return X.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=b2?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(R,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let y=ps(),g=Ue();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(C2(u,f,e.documentUpdates).next((E=>{y=E.ks,g=E.qs}))),!r.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function C2(s,e,n){let r=Ue(),o=Ue();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=ps();return n.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Ae.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):ue(Tp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function N2(s,e){const n=Ie(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=op),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function D2(s,e){const n=Ie(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new ir(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Mm(s,e,n){const r=Ie(s),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!So(f))throw f;ue(Tp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function RE(s,e,n){const r=Ie(s);let o=Ae.min(),u=Ue();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,g,E){const b=Ie(y),R=b.xs.get(E);return R!==void 0?W.resolve(b.Ms.get(R)):b.Pi.getTargetData(g,E)})(r,f,Mi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Ue()))).next((m=>(x2(r,gC(e),m),{documents:m,Qs:u})))))}function x2(s,e,n){let r=s.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class IE{constructor(){this.activeTargetIds=SC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O2{constructor(){this.Mo=new IE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new IE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="ConnectivityMonitor";class NE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(CE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(CE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function Vm(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",V2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===fh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const f=Vm(),m=this.zo(e,n.toUriEncodedString());ue(um,`Sending RPC '${e}' ${f}:`,m,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(m),E=gr(g);return this.Jo(e,m,y,r,E).then((b=>(ue(um,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw ho(um,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",r),b}))}Ho(e,n,r,o,u,f){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=V2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class P2 extends k2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const f=Vm();return new Promise(((m,y)=>{const g=new e0;g.setWithCredentials(!0),g.listenOnce(t0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Zc.NO_ERROR:const b=g.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case Zc.TIMEOUT:ue(Zt,`RPC '${e}' ${f} timed out`),y(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const R=g.getStatus();if(ue(Zt,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const K=k?.error;if(K&&K.status&&K.message){const X=(function(re){const he=re.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(he)>=0?he:ee.UNKNOWN})(K.status);y(new de(X,K.message))}else y(new de(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(Zt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue(Zt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=Vm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=s0(),m=i0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const E=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,y);const b=f.createWebChannel(E,y);this.I_(b);let R=!1,k=!1;const K=new L2({Yo:G=>{k?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(R||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,G),b.send(G))},Zo:()=>b.close()}),X=(G,re,he)=>{G.listen(re,(fe=>{try{he(fe)}catch(be){setTimeout((()=>{throw be}),0)}}))};return X(b,Vl.EventType.OPEN,(()=>{k||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),X(b,Vl.EventType.CLOSE,(()=>{k||(k=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(b))})),X(b,Vl.EventType.ERROR,(G=>{k||(k=!0,ho(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),K.a_(new de(ee.UNAVAILABLE,"The operation could not be completed")))})),X(b,Vl.EventType.MESSAGE,(G=>{if(!k){const re=G.data[0];Ye(!!re,16349);const he=re,fe=he?.error||he[0]?.error;if(fe){ue(Zt,`RPC '${e}' stream ${o} received error:`,fe);const be=fe.status;let Be=(function(w){const N=Ct[w];if(N!==void 0)return P0(N)})(be),xe=fe.message;Be===void 0&&(Be=ee.INTERNAL,xe="Unknown error status: "+be+" with message "+fe.message),k=!0,K.a_(new de(Be,xe)),b.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,re),K.u_(re)}})),X(m,n0.STAT_EVENT,(G=>{G.stat===Sm.PROXY?ue(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Sm.NOPROXY&&ue(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(s){return new BC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="PersistentStream";class J0{constructor(e,n,r,o,u,f,m,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(ms(n.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new de(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(DE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(DE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class U2 extends J0{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Vi(f.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Om(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=Im(y)?{documents:YC(u,y)}:{query:QC(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=z0(u,f.resumeToken);const g=Nm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=_h(u,f.snapshotVersion.toTimestamp());const g=Nm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const r=$C(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Om(this.serializer),n.removeTarget=e,this.q_(n)}}class j2 extends J0{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KC(e.writeResults,e.commitTime),r=Vi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Om(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>GC(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{}class B2 extends z2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Dm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ee.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Dm(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class H2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class q2{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ua(this)&&(ue(sa,"Restarting streams for network reachability change."),await(async function(y){const g=Ie(y);g.Ea.add(4),await ou(g),g.Ra.set("Unknown"),g.Ea.delete(4),await jh(g)})(this))}))})),this.Ra=new H2(r,o)}}async function jh(s){if(ua(s))for(const e of s.da)await e(!0)}async function ou(s){for(const e of s.da)await e(!1)}function W0(s,e){const n=Ie(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wp(n)?Ap(n):bo(n).O_()&&bp(n,e))}function Sp(s,e){const n=Ie(s),r=bo(n);n.Ia.delete(e),r.O_()&&eS(n,e),n.Ia.size===0&&(r.O_()?r.L_():ua(n)&&n.Ra.set("Unknown"))}function bp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(s).Y_(e)}function eS(s,e){s.Va.Ue(e),bo(s).Z_(e)}function Ap(s){s.Va=new PC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),bo(s).start(),s.Ra.ua()}function wp(s){return ua(s)&&!bo(s).x_()&&s.Ia.size>0}function ua(s){return Ie(s).Ea.size===0}function tS(s){s.Va=void 0}async function F2(s){s.Ra.set("Online")}async function G2(s){s.Ia.forEach(((e,n)=>{bp(s,e)}))}async function K2(s,e){tS(s),wp(s)?(s.Ra.ha(e),Ap(s)):s.Ra.set("Unknown")}async function Y2(s,e,n){if(s.Ra.set("Online"),e instanceof j0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(s,e)}catch(r){ue(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eh(s,r)}else if(e instanceof th?s.Va.Ze(e):e instanceof U0?s.Va.st(e):s.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await $0(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,g)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),eS(u,y);const b=new ir(E.target,y,g,E.sequenceNumber);bp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){ue(sa,"Failed to raise snapshot:",r),await Eh(s,r)}}async function Eh(s,e,n){if(!So(e))throw e;s.Ea.add(1),await ou(s),s.Ra.set("Offline"),n||(n=()=>$0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(sa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await jh(s)}))}function nS(s,e){return e().catch((n=>Eh(s,n,e)))}async function zh(s){const e=Ie(s),n=mr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:op;for(;Q2(e);)try{const o=await N2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,X2(e,o)}catch(o){await Eh(e,o)}iS(e)&&sS(e)}function Q2(s){return ua(s)&&s.Ta.length<10}function X2(s,e){s.Ta.push(e);const n=mr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function iS(s){return ua(s)&&!mr(s).x_()&&s.Ta.length>0}function sS(s){mr(s).start()}async function $2(s){mr(s).ra()}async function Z2(s){const e=mr(s);for(const n of s.Ta)e.ea(n.mutations)}async function J2(s,e,n){const r=s.Ta.shift(),o=pp.from(r,e,n);await nS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await zh(s)}async function W2(s,e){e&&mr(s).X_&&await(async function(r,o){if((function(f){return VC(f)&&f!==ee.ABORTED})(o.code)){const u=r.Ta.shift();mr(r).B_(),await nS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await zh(r)}})(s,e),iS(s)&&sS(s)}async function xE(s,e){const n=Ie(s);n.asyncQueue.verifyOperationInProgress(),ue(sa,"RemoteStore received new credentials");const r=ua(n);n.Ea.add(3),await ou(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jh(n)}async function eN(s,e){const n=Ie(s);e?(n.Ea.delete(2),await jh(n)):e||(n.Ea.add(2),await ou(n),n.Ra.set("Unknown"))}function bo(s){return s.ma||(s.ma=(function(n,r,o){const u=Ie(n);return u.sa(),new U2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:F2.bind(null,s),t_:G2.bind(null,s),r_:K2.bind(null,s),H_:Y2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),wp(s)?Ap(s):s.Ra.set("Unknown")):(await s.ma.stop(),tS(s))}))),s.ma}function mr(s){return s.fa||(s.fa=(function(n,r,o){const u=Ie(n);return u.sa(),new j2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:$2.bind(null,s),r_:W2.bind(null,s),ta:Z2.bind(null,s),na:J2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(sa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,m=new Rp(e,n,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(s,e){if(ms("AsyncQueue",`${e}: ${s}`),So(s))return new de(ee.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=kl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.ga=new ct(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class yo{constructor(e,n,r,o,u,f,m,y,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new yo(e,n,lo.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nN{constructor(){this.queries=ME(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ie(n),u=o.queries;o.queries=ME(),u.forEach(((f,m)=>{for(const y of m.Sa)y.onError(r)}))})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function ME(){return new la((s=>w0(s)),Mh)}async function rS(s,e){const n=Ie(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new tN,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Ip(f,`Initialization of query '${to(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Cp(n)}async function aS(s,e){const n=Ie(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iN(s,e){const n=Ie(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(r=!0);f.wa=o}}r&&Cp(n)}function sN(s,e,n){const r=Ie(s),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function Cp(s){s.Ca.forEach((e=>{e.next()}))}var km,VE;(VE=km||(km={})).Ma="default",VE.Cache="cache";class oS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.key=e}}class uS{constructor(e){this.key=e}}class rN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=R0(e),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new OE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const R=o.get(E),k=Vh(this.query,b)?b:null,K=!!R&&this.mutatedKeys.has(R.key),X=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let G=!1;R&&k?R.data.isEqual(k.data)?K!==X&&(r.track({type:3,doc:k}),G=!0):this.su(R,k)||(r.track({type:2,doc:k}),G=!0,(y&&this.eu(k,y)>0||g&&this.eu(k,g)<0)&&(m=!0)):!R&&k?(r.track({type:0,doc:k}),G=!0):R&&!k&&(r.track({type:1,doc:R}),G=!0,(y||g)&&(m=!0)),G&&(k?(f=f.add(k),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(k,K){const X=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:G})}};return X(k)-X(K)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,f.length!==0||g?{snapshot:new yo(this.query,e.tu,u,f,e.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new uS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new lS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Np="SyncEngine";class aN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oN{constructor(e){this.key=e,this.hu=!1}}class lN{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new la((m=>w0(m)),Mh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ye.comparator),this.Au=new Map,this.Ru=new _p,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uN(s,e,n=!0){const r=pS(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await cS(r,e,n,!0),o}async function cN(s,e){const n=pS(s);await cS(n,e,!0,!1)}async function cS(s,e,n,r){const o=await D2(s.localStore,Mi(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await hN(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&W0(s.remoteStore,o),m}async function hN(s,e,n,r,o){s.pu=(b,R,k)=>(async function(X,G,re,he){let fe=G.view.ru(re);fe.Cs&&(fe=await RE(X.localStore,G.query,!1).then((({documents:D})=>G.view.ru(D,fe))));const be=he&&he.targetChanges.get(G.targetId),Be=he&&he.targetMismatches.get(G.targetId)!=null,xe=G.view.applyChanges(fe,X.isPrimaryClient,be,Be);return LE(X,G.targetId,xe.au),xe.snapshot})(s,b,R,k);const u=await RE(s.localStore,e,!0),f=new rN(e,u.Qs),m=f.ru(u.documents),y=au.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),g=f.applyChanges(m,s.isPrimaryClient,y);LE(s,n,g.au);const E=new aN(e,n,f);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),g.snapshot}async function fN(s,e,n){const r=Ie(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Mh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Mm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Sp(r.remoteStore,o.targetId),Lm(r,o.targetId)})).catch(To)):(Lm(r,o.targetId),await Mm(r.localStore,o.targetId,!0))}async function dN(s,e){const n=Ie(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sp(n.remoteStore,r.targetId))}async function mN(s,e,n){const r=TN(s);try{const o=await(function(f,m){const y=Ie(f),g=ot.now(),E=m.reduce(((k,K)=>k.add(K.key)),Ue());let b,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let K=ps(),X=Ue();return y.Ns.getEntries(k,E).next((G=>{K=G,K.forEach(((re,he)=>{he.isValidDocument()||(X=X.add(re))}))})).next((()=>y.localDocuments.getOverlayedDocuments(k,K))).next((G=>{b=G;const re=[];for(const he of m){const fe=NC(he,b.get(he.key).overlayedDocument);fe!=null&&re.push(new vr(he.key,fe,_0(fe.value.mapValue),ai.exists(!0)))}return y.mutationQueue.addMutationBatch(k,g,re,m)})).next((G=>{R=G;const re=G.applyToLocalDocumentSet(b,X);return y.documentOverlayCache.saveOverlays(k,G.batchId,re)}))})).then((()=>({batchId:R.batchId,changes:C0(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let g=f.Vu[f.currentUser.toKey()];g||(g=new ct(Pe)),g=g.insert(m,y),f.Vu[f.currentUser.toKey()]=g})(r,o.batchId,n),await lu(r,o.changes),await zh(r.remoteStore)}catch(o){const u=Ip(o,"Failed to persist write");n.reject(u)}}async function hS(s,e){const n=Ie(s);try{const r=await I2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ye(f.hu,14607):o.removedDocuments.size>0&&(Ye(f.hu,42227),f.hu=!1))})),await lu(n,r,e)}catch(r){await To(r)}}function kE(s,e,n){const r=Ie(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=Ie(f);y.onlineState=m;let g=!1;y.queries.forEach(((E,b)=>{for(const R of b.Sa)R.va(m)&&(g=!0)})),g&&Cp(y)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pN(s,e,n){const r=Ie(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new ct(ye.comparator);f=f.insert(u,Wt.newNoDocument(u,Ae.min()));const m=Ue().add(u),y=new Ph(Ae.min(),new Map,new ct(Pe),f,m);await hS(r,y),r.du=r.du.remove(u),r.Au.delete(e),Dp(r)}else await Mm(r.localStore,e,!1).then((()=>Lm(r,e,n))).catch(To)}async function gN(s,e){const n=Ie(s),r=e.batch.batchId;try{const o=await R2(n.localStore,e);dS(n,r,null),fS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lu(n,o)}catch(o){await To(o)}}async function yN(s,e,n){const r=Ie(s);try{const o=await(function(f,m){const y=Ie(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next((b=>(Ye(b!==null,37113),E=b.keys(),y.mutationQueue.removeMutationBatch(g,b)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>y.localDocuments.getDocuments(g,E)))}))})(r.localStore,e);dS(r,e,n),fS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lu(r,o)}catch(o){await To(o)}}function fS(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function dS(s,e,n){const r=Ie(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Lm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||mS(s,r)}))}function mS(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Sp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Dp(s))}function LE(s,e,n){for(const r of n)r instanceof lS?(s.Ru.addReference(r.key,e),_N(s,r)):r instanceof uS?(ue(Np,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||mS(s,r.key)):Se(19791,{wu:r})}function _N(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(ue(Np,"New document in limbo: "+n),s.Eu.add(r),Dp(s))}function Dp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ye(at.fromString(e)),r=s.fu.next();s.Au.set(r,new oN(n)),s.du=s.du.insert(n,r),W0(s.remoteStore,new ir(Mi(fp(n.path)),r,"TargetPurposeLimboResolution",Nh.ce))}}async function lu(s,e,n){const r=Ie(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{f.push(r.pu(y,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Ep.As(y.targetId,g);u.push(E)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(y,g){const E=Ie(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>W.forEach(g,(R=>W.forEach(R.Es,(k=>E.persistence.referenceDelegate.addReference(b,R.targetId,k))).next((()=>W.forEach(R.ds,(k=>E.persistence.referenceDelegate.removeReference(b,R.targetId,k)))))))))}catch(b){if(!So(b))throw b;ue(Tp,"Failed to update sequence numbers: "+b)}for(const b of g){const R=b.targetId;if(!b.fromCache){const k=E.Ms.get(R),K=k.snapshotVersion,X=k.withLastLimboFreeSnapshotVersion(K);E.Ms=E.Ms.insert(R,X)}}})(r.localStore,u))}async function vN(s,e){const n=Ie(s);if(!n.currentUser.isEqual(e)){ue(Np,"User change. New user:",e.toKey());const r=await X0(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new de(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lu(n,r.Ls)}}function EN(s,e){const n=Ie(s),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function pS(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=hS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pN.bind(null,e),e.Pu.H_=iN.bind(null,e.eventManager),e.Pu.yu=sN.bind(null,e.eventManager),e}function TN(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yN.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return w2(this.persistence,new S2,e.initialUser,this.serializer)}Cu(e){return new Q0(vp.mi,this.serializer)}Du(e){return new O2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class SN extends Th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new o2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Q0((r=>vh.mi(r,n)),this.serializer)}}class Pm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vN.bind(null,this.syncEngine),await eN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nN})()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),r=(function(u){return new P2(u)})(e.databaseInfo);return(function(u,f,m,y){return new B2(u,f,m,y)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,m){return new q2(r,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>kE(this.syncEngine,n,0)),(function(){return NE.v()?new NE:new M2})())}createSyncEngine(e,n){return(function(o,u,f,m,y,g,E){const b=new lN(o,u,f,m,y,g);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ie(n);ue(sa,"RemoteStore shutting down."),r.Ea.add(5),await ou(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pm.provider={build:()=>new Pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="FirestoreClient";class bN{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ue(pr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ue(pr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ip(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hm(s,e){s.asyncQueue.verifyOperationInProgress(),ue(pr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await X0(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function PE(s,e){s.asyncQueue.verifyOperationInProgress();const n=await AN(s);ue(pr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>xE(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>xE(e.remoteStore,o))),s._onlineComponents=e}async function AN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(pr,"Using user provided OfflineComponentProvider");try{await hm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await hm(s,new Th)}}else ue(pr,"Using default OfflineComponentProvider"),await hm(s,new SN(void 0));return s._offlineComponents}async function yS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(pr,"Using user provided OnlineComponentProvider"),await PE(s,s._uninitializedComponentsProvider._online)):(ue(pr,"Using default OnlineComponentProvider"),await PE(s,new Pm))),s._onlineComponents}function wN(s){return yS(s).then((e=>e.syncEngine))}async function _S(s){const e=await yS(s),n=e.eventManager;return n.onListen=uN.bind(null,e.syncEngine),n.onUnlisten=fN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dN.bind(null,e.syncEngine),n}function RN(s,e,n={}){const r=new hs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const E=new gS({next:R=>{E.Nu(),f.enqueueAndForget((()=>aS(u,b)));const k=R.docs.has(m);!k&&R.fromCache?g.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&R.fromCache&&y&&y.source==="server"?g.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),b=new oS(fp(m.path),E,{includeMetadataChanges:!0,qa:!0});return rS(u,b)})(await _S(s),s.asyncQueue,e,n,r))),r.promise}function IN(s,e,n={}){const r=new hs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const E=new gS({next:R=>{E.Nu(),f.enqueueAndForget((()=>aS(u,b))),R.fromCache&&y.source==="server"?g.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),b=new oS(m,E,{includeMetadataChanges:!0,qa:!0});return rS(u,b)})(await _S(s),s.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firestore.googleapis.com",jE=!0;class zE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ES,this.ssl=jE}else this.host=e.host,this.ssl=e.ssl??jE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Y0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r2)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OI;switch(r.type){case"firstParty":return new LI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=UE.get(n);r&&(ue("ComponentProvider","Removing Datastore"),UE.delete(n),r.terminate())})(this),Promise.resolve()}}function CN(s,e,n,r={}){s=Pi(s,Bh);const o=gr(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(Gm(`https://${m}`),Km("Firestore",!0)),u.host!==ES&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:r};if(!ea(y,f)&&(s._setSettings(y),r.mockUserToken)){let g,E;if(typeof r.mockUserToken=="string")g=r.mockUserToken,E=Jt.MOCK_USER;else{g=mT(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(b)}s._authCredentials=new MI(new a0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hh(this.firestore,e,this._query)}}class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(su(n,Dt._jsonSchema))return new Dt(e,r||null,new ye(at.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Nt("string",Dt._jsonSchemaVersion),referencePath:Nt("string")};class lr extends Hh{constructor(e,n,r){super(e,n,fp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new ye(e))}withConverter(e){return new lr(this.firestore,e,this._path)}}function qh(s,e,...n){if(s=_t(s),o0("collection","path",e),s instanceof Bh){const r=at.fromString(e,...n);return eE(r),new lr(s,null,r)}{if(!(s instanceof Dt||s instanceof lr))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(at.fromString(e,...n));return eE(r),new lr(s.firestore,null,r)}}function nr(s,e,...n){if(s=_t(s),arguments.length===1&&(e=rp.newId()),o0("doc","path",e),s instanceof Bh){const r=at.fromString(e,...n);return Wv(r),new Dt(s,null,new ye(r))}{if(!(s instanceof Dt||s instanceof lr))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(at.fromString(e,...n));return Wv(r),new Dt(s.firestore,s instanceof lr?s.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="AsyncQueue";class HE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z0(this,"async_queue_retry"),this._c=()=>{const r=cm();r&&ue(BE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;ue(BE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",qE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Rp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:qE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Ao extends Bh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new HE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HE(e),this._firestoreClient=void 0,await e}}}function NN(s,e){const n=typeof s=="object"?s:Xm(),r=typeof s=="string"?s:fh,o=Ah(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=hT("firestore");u&&CN(o,...u)}return o}function xp(s){if(s._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||DN(s),s._firestoreClient}function DN(s){const e=s._freezeSettings(),n=(function(o,u,f,m){return new WI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,vS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new bN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Xt.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Nt("string",Gn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(su(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Nt("string",ki._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Li(e.vectorValues);throw new de(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Nt("string",Li._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=/^__.*__$/;class ON{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}}class TS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class Mp{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SS(this.Ac)&&xN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(e)}Cc(e,n,r,o=!1){return new Mp({Ac:e,methodName:n,Dc:r,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bS(s){const e=s._freezeSettings(),n=Uh(s._databaseId);return new MN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function VN(s,e,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,e,n,o);Vp("Data must be an object, but it was:",f,r);const m=AS(r,f);let y,g;if(u.merge)y=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const R=Um(e,b,n);if(!f.contains(R))throw new de(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);RS(E,R)||E.push(R)}y=new Cn(E),g=f.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,g=f.fieldTransforms;return new ON(new yn(m),y,g)}class Gh extends Op{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}function kN(s,e,n,r){const o=s.Cc(1,e,n);Vp("Data must be an object, but it was:",o,r);const u=[],f=yn.empty();_r(r,((y,g)=>{const E=kp(e,y,n);g=_t(g);const b=o.yc(E);if(g instanceof Gh)u.push(E);else{const R=Kh(g,b);R!=null&&(u.push(E),f.set(E,R))}}));const m=new Cn(u);return new TS(f,m,o.fieldTransforms)}function LN(s,e,n,r,o,u){const f=s.Cc(1,e,n),m=[Um(e,r,n)],y=[o];if(u.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Um(e,u[R])),y.push(u[R+1]);const g=[],E=yn.empty();for(let R=m.length-1;R>=0;--R)if(!RS(g,m[R])){const k=m[R];let K=y[R];K=_t(K);const X=f.yc(k);if(K instanceof Gh)g.push(k);else{const G=Kh(K,X);G!=null&&(g.push(k),E.set(k,G))}}const b=new Cn(g);return new TS(E,b,f.fieldTransforms)}function Kh(s,e){if(wS(s=_t(s)))return Vp("Unsupported field value:",e,s),AS(s,e);if(s instanceof Op)return(function(r,o){if(!SS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let y=Kh(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ot.fromDate(r);return{timestampValue:_h(o.serializer,u)}}if(r instanceof ot){const u=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:z0(o.serializer,r._byteString)};if(r instanceof Dt){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Li)return(function(f,m){return{mapValue:{fields:{[g0]:{stringValue:y0},[dh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return dp(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${ap(r)}`)})(s,e)}function AS(s,e){const n={};return c0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(s,((r,o)=>{const u=Kh(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function wS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ot||s instanceof ki||s instanceof Gn||s instanceof Dt||s instanceof Op||s instanceof Li)}function Vp(s,e,n){if(!wS(n)||!l0(n)){const r=ap(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Um(s,e,n){if((e=_t(e))instanceof Fh)return e._internalPath;if(typeof e=="string")return kp(s,e);throw Sh("Field path arguments must be of type string or ",s,!1,void 0,n)}const PN=new RegExp("[~\\*/\\[\\]]");function kp(s,e,n){if(e.search(PN)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Fh(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Sh(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new de(ee.INVALID_ARGUMENT,m+s+y)}function RS(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(CS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UN extends IS{data(){return super.data()}}function CS(s,e){return typeof e=="string"?kp(s,e):e instanceof Fh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zN{convertValue(e,n="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _r(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[dh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Li(n)}convertGeoPoint(e){return new ki(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=hr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Ye(K0(r),9688,{name:e});const o=new Xl(r.get(1),r.get(3)),u=new ye(r.popFirst(5));return o.isEqual(n)||ms(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jr extends IS{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(CS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:Nt("string",Jr._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class nh extends Jr{data(e={}){return super.data(e)}}class uo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:HN(m.type),doc:y,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(s){s=Pi(s,Dt);const e=Pi(s.firestore,Ao);return RN(xp(e),s._key).then((n=>FN(e,s,n)))}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Nt("string",uo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class NS extends zN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function Yh(s){s=Pi(s,Hh);const e=Pi(s.firestore,Ao),n=xp(e),r=new NS(e);return jN(s._query),IN(n,s._query).then((o=>new uo(e,r,s,o)))}function FE(s,e,n){s=Pi(s,Dt);const r=Pi(s.firestore,Ao),o=BN(s.converter,e);return Lp(r,[VN(bS(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,ai.none())])}function zm(s,e,n,...r){s=Pi(s,Dt);const o=Pi(s.firestore,Ao),u=bS(o);let f;return f=typeof(e=_t(e))=="string"||e instanceof Fh?LN(u,"updateDoc",s._key,e,n,r):kN(u,"updateDoc",s._key,e),Lp(o,[f.toMutation(s._key,ai.exists(!0))])}function qN(s){return Lp(Pi(s.firestore,Ao),[new mp(s._key,ai.none())])}function Lp(s,e){return(function(r,o){const u=new hs;return r.asyncQueue.enqueueAndForget((async()=>mN(await wN(r),o,u))),u.promise})(xp(s),e)}function FN(s,e,n){const r=n.docs.get(e._key),o=new NS(s);return new Jr(s,o,e._key,r,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Eo=o})(aa),ta(new ur("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new Ao(new VI(r.getProvider("auth-internal")),new PI(f,r.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Di(Xv,$v,e),Di(Xv,$v,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebasestorage.googleapis.com",xS="storageBucket",GN=120*1e3,KN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt extends zi{constructor(e,n,r=0){super(fm(e),`Firebase Storage: ${n} (${fm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jt||(jt={}));function fm(s){return"storage/"+s}function OS(){const s="An unknown error occurred, please check the error payload for server response.";return new zt(jt.UNKNOWN,s)}function YN(s){return new zt(jt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function QN(s){return new zt(jt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XN(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zt(jt.UNAUTHENTICATED,s)}function $N(){return new zt(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZN(s){return new zt(jt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function JN(){return new zt(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WN(){return new zt(jt.CANCELED,"User canceled the upload/download.")}function eD(s){return new zt(jt.INVALID_URL,"Invalid URL '"+s+"'.")}function tD(s){return new zt(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function nD(){return new zt(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xS+"' property when initializing the app?")}function iD(){return new zt(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Bm(s){return new zt(jt.INVALID_ARGUMENT,s)}function MS(){return new zt(jt.APP_DELETED,"The Firebase app was deleted.")}function sD(s){return new zt(jt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dl(s){throw new zt(jt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=on.makeFromUrl(e,n)}catch{return new on(e,"")}if(r.path==="")return r;throw tD(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(be){be.path.charAt(be.path.length-1)==="/"&&(be.path_=be.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function g(be){be.path_=decodeURIComponent(be.path)}const E="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",k=new RegExp(`^https?://${b}/${E}/b/${o}/o${R}`,"i"),K={bucket:1,path:3},X=n===DS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,G="([^?#]*)",re=new RegExp(`^https?://${X}/${o}/${G}`,"i"),fe=[{regex:m,indices:y,postModify:u},{regex:k,indices:K,postModify:g},{regex:re,indices:{bucket:1,path:2},postModify:g}];for(let be=0;be<fe.length;be++){const Be=fe[be],xe=Be.regex.exec(e);if(xe){const D=xe[Be.indices.bucket];let w=xe[Be.indices.path];w||(w=""),r=new on(D,w),Be.postModify(r);break}}if(r==null)throw eD(e);return r}}class rD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(s,e,n){let r=1,o=null,u=null,f=!1,m=0;function y(){return m===2}let g=!1;function E(...G){g||(g=!0,e.apply(null,G))}function b(G){o=setTimeout(()=>{o=null,s(k,y())},G)}function R(){u&&clearTimeout(u)}function k(G,...re){if(g){R();return}if(G){R(),E.call(null,G,...re);return}if(y()||f){R(),E.call(null,G,...re);return}r<64&&(r*=2);let fe;m===1?(m=2,fe=0):fe=(r+Math.random())*1e3,b(fe)}let K=!1;function X(G){K||(K=!0,R(),!g&&(o!==null?(G||(m=2),clearTimeout(o),b(0)):G||(m=1)))}return b(0),u=setTimeout(()=>{f=!0,X(!0)},n),X}function oD(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(s){return s!==void 0}function uD(s){return typeof s=="object"&&!Array.isArray(s)}function VS(s){return typeof s=="string"||s instanceof String}function Hm(s,e,n,r){if(r<e)throw Bm(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw Bm(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(s,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${s}`}function kS(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Wr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Wr||(Wr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,r,o,u,f,m,y,g,E,b,R=!0,k=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=y,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=b,this.retry=R,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,X)=>{this.resolve_=K,this.reject_=X,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Gc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const y=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Wr.NO_ERROR,y=u.getStatus();if(!m||cD(y,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Wr.ABORT;r(!1,new Gc(!1,null,E));return}const g=this.successCodes_.indexOf(y)!==-1;r(!0,new Gc(g,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());lD(y)?u(y):u()}catch(y){f(y)}else if(m!==null){const y=OS();y.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,y)):f(y)}else if(o.canceled){const y=this.appDelete_?MS():WN();f(y)}else{const y=JN();f(y)}};this.canceled_?n(!1,new Gc(!1,null,!0)):this.backoffId_=aD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fD(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function dD(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mD(s,e){e&&(s["X-Firebase-GMPID"]=e)}function pD(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function gD(s,e,n,r,o,u,f=!0,m=!1){const y=kS(s.urlParams),g=s.url+y,E=Object.assign({},s.headers);return mD(E,e),fD(E,n),dD(E,u),pD(E,r),new hD(g,s.method,E,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(s){let e;try{e=JSON.parse(s)}catch{return null}return uD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function _D(s,e){const n=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function LS(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(s,e){return e}class rn{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||vD}}let Kc=null;function ED(s){return!VS(s)||s.length<2?s:LS(s)}function TD(){if(Kc)return Kc;const s=[];s.push(new rn("bucket")),s.push(new rn("generation")),s.push(new rn("metageneration")),s.push(new rn("name","fullPath",!0));function e(u,f){return ED(f)}const n=new rn("name");n.xform=e,s.push(n);function r(u,f){return f!==void 0?Number(f):f}const o=new rn("size");return o.xform=r,s.push(o),s.push(new rn("timeCreated")),s.push(new rn("updated")),s.push(new rn("md5Hash",null,!0)),s.push(new rn("cacheControl",null,!0)),s.push(new rn("contentDisposition",null,!0)),s.push(new rn("contentEncoding",null,!0)),s.push(new rn("contentLanguage",null,!0)),s.push(new rn("contentType",null,!0)),s.push(new rn("metadata","customMetadata",!0)),Kc=s,Kc}function SD(s,e){function n(){const r=s.bucket,o=s.fullPath,u=new on(r,o);return e._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function bD(s,e,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];r[f.local]=f.xform(r,e[f.server])}return SD(r,s),r}function AD(s,e,n){const r=Up(e);return r===null?null:bD(s,r,n)}function wD(s,e,n,r){const o=Up(e);if(o===null||!VS(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const E=s.bucket,b=s.fullPath,R="/b/"+f(E)+"/o/"+f(b),k=Pp(R,n,r),K=kS({alt:"media",token:g});return k+K})[0]}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="prefixes",KE="items";function RD(s,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[GE])for(const o of n[GE]){const u=o.replace(/\/$/,""),f=s._makeStorageReference(new on(e,u));r.prefixes.push(f)}if(n[KE])for(const o of n[KE]){const u=s._makeStorageReference(new on(e,o.name));r.items.push(u)}return r}function ID(s,e,n){const r=Up(n);return r===null?null:RD(s,e,r)}class PS{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(s){if(!s)throw OS()}function CD(s,e){function n(r,o){const u=ID(s,e,o);return US(u!==null),u}return n}function ND(s,e){function n(r,o){const u=AD(s,o,e);return US(u!==null),wD(u,o,s.host,s._protocol)}return n}function jS(s){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=$N():o=XN():n.getStatus()===402?o=QN(s.bucket):n.getStatus()===403?o=ZN(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function DD(s){const e=jS(s);function n(r,o){let u=e(r,o);return r.getStatus()===404&&(u=YN(s.path)),u.serverResponse=o.serverResponse,u}return n}function xD(s,e,n,r,o){const u={};e.isRoot?u.prefix="":u.prefix=e.path+"/",n.length>0&&(u.delimiter=n),r&&(u.pageToken=r),o&&(u.maxResults=o);const f=e.bucketOnlyServerUrl(),m=Pp(f,s.host,s._protocol),y="GET",g=s.maxOperationRetryTime,E=new PS(m,y,CD(s,e.bucket),g);return E.urlParams=u,E.errorHandler=jS(e),E}function OD(s,e,n){const r=e.fullServerUrl(),o=Pp(r,s.host,s._protocol),u="GET",f=s.maxOperationRetryTime,m=new PS(o,u,ND(s,n),f);return m.errorHandler=DD(e),m}class MD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,u){if(this.sent_)throw Dl("cannot .send() more than once");if(gr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Dl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class VD extends MD{initXhr(){this.xhr_.responseType="text"}}function zS(){return new VD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this._service=e,n instanceof on?this._location=n:this._location=on.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ra(e,n)}get root(){const e=new on(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LS(this._location.path)}get storage(){return this._service}get parent(){const e=yD(this._location.path);if(e===null)return null;const n=new on(this._location.bucket,e);return new ra(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sD(e)}}function kD(s){const e={prefixes:[],items:[]};return BS(s,e).then(()=>e)}async function BS(s,e,n){const o=await LD(s,{pageToken:n});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await BS(s,e,o.nextPageToken)}function LD(s,e){e!=null&&typeof e.maxResults=="number"&&Hm("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=xD(s.storage,s._location,"/",n.pageToken,n.maxResults);return s.storage.makeRequestWithTokens(r,zS)}function PD(s){s._throwIfRoot("getDownloadURL");const e=OD(s.storage,s._location,TD());return s.storage.makeRequestWithTokens(e,zS).then(n=>{if(n===null)throw iD();return n})}function UD(s,e){const n=_D(s._location.path,e),r=new on(s._location.bucket,n);return new ra(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(s){return/^[A-Za-z]+:\/\//.test(s)}function zD(s,e){return new ra(s,e)}function HS(s,e){if(s instanceof jp){const n=s;if(n._bucket==null)throw nD();const r=new ra(n,n._bucket);return e!=null?HS(r,e):r}else return e!==void 0?UD(s,e):s}function BD(s,e){if(e&&jD(e)){if(s instanceof jp)return zD(s,e);throw Bm("To use ref(service, url), the first argument must be a Storage instance.")}else return HS(s,e)}function YE(s,e){const n=e?.[xS];return n==null?null:on.makeFromBucketSpec(n,s)}function HD(s,e,n,r={}){s.host=`${e}:${n}`;const o=gr(e);o&&(Gm(`https://${s.host}/b`),Km("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:mT(u,s.app.options.projectId))}class jp{constructor(e,n,r,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=DS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GN,this._maxUploadRetryTime=KN,this._requests=new Set,o!=null?this._bucket=on.makeFromBucketSpec(o,this._host):this._bucket=YE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=on.makeFromBucketSpec(this._url,e):this._bucket=YE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ra(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new rD(MS());{const f=gD(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const QE="@firebase/storage",XE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="storage";function qD(s){return s=_t(s),kD(s)}function FD(s){return s=_t(s),PD(s)}function $E(s,e){return s=_t(s),BD(s,e)}function GD(s=Xm(),e){s=_t(s);const r=Ah(s,qS).getImmediate({identifier:e}),o=hT("storage");return o&&KD(r,...o),r}function KD(s,e,n,r={}){HD(s,e,n,r)}function YD(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new jp(n,r,o,e,aa)}function QD(){ta(new ur(qS,YD,"PUBLIC").setMultipleInstances(!0)),Di(QE,XE,""),Di(QE,XE,"esm2020")}QD();const XD={apiKey:"AIzaSyAsRvsb-_QY_JAVz2GaRWifR95aCRiddLA",authDomain:"footballsanci.firebaseapp.com",databaseURL:"https://footballsanci-default-rtdb.europe-west1.firebasedatabase.app",projectId:"footballsanci",storageBucket:"footballsanci.firebasestorage.app",messagingSenderId:"108108129157",appId:"1:108108129157:web:c881c7b4d787677c43daec",measurementId:"G-VESXDYD12H"},zp=yT(XD),dm=CI(zp),qn=NN(zp),ZE=GD(zp),FS=ne.createContext(),Qh=()=>{const s=ne.useContext(FS);if(!s)throw new Error("useAuth must be used within AuthProvider");return s};function $D({children:s}){const[e,n]=ne.useState(null),[r,o]=ne.useState(!0);ne.useEffect(()=>gR(dm,y=>{n(y),o(!1)}),[]);const u=async(m,y)=>await dR(dm,m.trim(),y),f=async()=>{try{await yR(dm)}catch(m){console.error("Logout error:",m)}};return A.jsx(FS.Provider,{value:{currentUser:e,authLoading:r,login:u,logout:f},children:s})}const GS=ne.createContext();function ZD({children:s}){const[e,n]=ne.useState([]),[r,o]=ne.useState(""),[u,f]=ne.useState(!0);return ne.useEffect(()=>{(async()=>{try{const g=(await Yh(qh(qn,"seasons"))).docs.map(E=>E.id).sort();n(g),g.length>0&&o(g[g.length-1])}catch(y){console.error("Error loading seasons:",y)}finally{f(!1)}})()},[]),A.jsx(GS.Provider,{value:{seasons:e,selectedSeason:r,setSelectedSeason:o,loadingSeasons:u},children:s})}function uu(){return ne.useContext(GS)}function JD(){const{seasons:s,selectedSeason:e,setSelectedSeason:n,loadingSeasons:r}=uu(),[o,u]=ne.useState("ranking"),[f,m]=ne.useState(!0),y=ne.useRef(0),g=["ranking","draw","history"],E=k=>{const K=document.getElementById(k);if(!K)return;const G=K.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:G,behavior:"smooth"}),u(k)};ne.useEffect(()=>{const k=()=>{const K=window.scrollY||window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;if(Math.abs(K-y.current)<5)return;K>y.current&&K>80?m(!1):m(!0),y.current=K;const X=K+80;for(let G=g.length-1;G>=0;G--){const re=document.getElementById(g[G]);if(re&&X>=re.offsetTop){u(g[G]);break}}};return window.addEventListener("scroll",k,{passive:!0}),()=>window.removeEventListener("scroll",k)},[]);const b=k=>{const K=k?.match(/\d+/);return K?`Season ${K[0]}`:k||"Season"},R=!r&&!!e&&s.length>0;return A.jsxs("header",{style:{...Zs.header,transform:f?"translateY(0)":"translateY(-100%)"},children:[A.jsx("div",{style:Zs.left,children:R?A.jsx("select",{style:Zs.select,value:e,onChange:k=>n(k.target.value),children:s.map(k=>A.jsx("option",{value:k,style:Zs.option,children:b(k)},k))}):A.jsx("div",{style:Zs.seasonPlaceholder,children:"Season 6"})}),A.jsx("nav",{style:Zs.right,children:g.map(k=>A.jsx("button",{style:{...Zs.navBtn,...o===k?Zs.navBtnActive:{}},onClick:()=>E(k),children:k.charAt(0).toUpperCase()+k.slice(1)},k))})]})}const Zs={header:{position:"fixed",top:0,left:0,right:0,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",color:"#fff",background:"rgba(8, 8, 10, 0.5)",backdropFilter:"blur(12px)",borderBottom:"1px solid rgba(255,255,255,0.08)",zIndex:1e3,transform:"translateY(0)",transition:"transform 0.25s ease, background 0.2s ease"},left:{display:"flex",alignItems:"center",paddingLeft:"10px"},right:{display:"flex",alignItems:"center",gap:"0.6rem",paddingRight:"0.6rem"},select:{flex:"0 0 auto",width:"auto",color:"#fff",background:"transparent",border:"none",outline:"none",fontSize:"var(--font-large)",fontWeight:500,lineHeight:1.2,cursor:"pointer",padding:"8px 22px 8px 6px",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 6" fill="white"><path d="M0 0l5 6 5-6H0z"/></svg>')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 6px center",backgroundSize:"10px 6px"},option:{color:"#000",backgroundColor:"#fff",fontSize:"var(--font-large)"},seasonPlaceholder:{flex:"0 0 auto",padding:"8px 22px 8px 6px",fontSize:"var(--font-large)",fontWeight:500,lineHeight:1.2,color:"#fff",whiteSpace:"nowrap"},navBtn:{background:"transparent",border:"none",color:"#fff",cursor:"pointer",opacity:.8,letterSpacing:"0.5px",fontSize:"var(--font-large)",fontWeight:500,padding:"4px 6px",whiteSpace:"nowrap",transition:"opacity 0.2s ease, color 0.2s ease"},navBtnActive:{color:"#10B981",opacity:1,fontWeight:600}};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ex=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),JE=s=>{const e=ex(s);return e.charAt(0).toUpperCase()+e.slice(1)},KS=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),tx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=ne.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...m},y)=>ne.createElement("svg",{ref:y,...nx,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:KS("lucide",o),...!u&&!tx(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>ne.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=(s,e)=>{const n=ne.forwardRef(({className:r,...o},u)=>ne.createElement(ix,{ref:u,iconNode:e,className:KS(`lucide-${WD(JE(s))}`,`lucide-${s}`,r),...o}));return n.displayName=JE(s),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ax=sx("log-out",rx);function ox({visible:s,onClose:e}){const{login:n}=Qh(),[r,o]=ne.useState(""),[u,f]=ne.useState(""),[m,y]=ne.useState(!1),[g,E]=ne.useState("");if(!s)return null;const b=async()=>{E(""),y(!0);try{await n(r,u),e(),o(""),f("")}catch(K){E(K.message||"Login failed")}finally{y(!1)}},R=K=>{K.key==="Enter"&&r&&u&&!m&&b()},k=()=>{e(),o(""),f(""),E("")};return A.jsx("div",{style:an.overlay,onClick:k,children:A.jsxs("div",{style:an.modal,onClick:K=>K.stopPropagation(),children:[A.jsx("button",{style:an.closeButton,onClick:k,children:""}),A.jsx("div",{style:an.modalHeader,children:A.jsx("h2",{style:an.title,children:"Login"})}),A.jsxs("div",{style:an.formContainer,children:[A.jsxs("div",{style:an.inputGroup,children:[A.jsx("label",{style:an.label,htmlFor:"email",children:"Email"}),A.jsx("input",{id:"email",type:"email",value:r,onChange:K=>o(K.target.value),onKeyPress:R,style:an.input,placeholder:"you@example.com"})]}),A.jsxs("div",{style:an.inputGroup,children:[A.jsx("label",{style:an.label,htmlFor:"password",children:"Password"}),A.jsx("input",{id:"password",type:"password",value:u,onChange:K=>f(K.target.value),onKeyPress:R,style:an.input,placeholder:""})]}),g&&A.jsx("div",{style:an.error,children:g}),A.jsx("button",{onClick:b,disabled:m||!r||!u,style:{...an.submitButton,...m||!r||!u?an.submitButtonDisabled:{}},children:m?"Logging in...":"Log in"})]})]})})}const an={overlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},modal:{background:"rgba(10,10,10,0.95)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"32px",width:"92%",maxWidth:"420px",boxShadow:"0 0 40px rgba(16,185,129,0.25)",position:"relative"},closeButton:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",color:"rgba(255,255,255,0.6)",fontSize:"22px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},modalHeader:{marginBottom:"26px",textAlign:"center"},title:{fontSize:"var(--font-large)",fontWeight:700,color:"#fff",margin:0,textTransform:"uppercase",letterSpacing:"1px"},formContainer:{display:"flex",flexDirection:"column",gap:"18px"},inputGroup:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"var(--font-small)",color:"rgba(16,185,129,1)",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},input:{background:"rgba(6,78,59,0.15)",border:"1px solid rgba(16,185,129,0.3)",borderRadius:"8px",padding:"12px 16px",fontSize:"var(--font-normal)",color:"#fff",outline:"none"},error:{background:"rgba(239,68,68,0.15)",border:"1px solid rgba(239,68,68,0.4)",borderRadius:"8px",padding:"12px 16px",color:"rgba(239,68,68,1)",fontSize:"var(--font-small)",textAlign:"center"},submitButton:{marginTop:"6px",padding:"14px 24px",background:"linear-gradient(135deg, rgba(16,185,129,0.3), rgba(6,78,59,0.4))",border:"2px solid rgba(16,185,129,0.5)",borderRadius:"8px",color:"#fff",fontSize:"var(--font-normal)",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 4px 15px rgba(16,185,129,0.2)"},submitButtonDisabled:{opacity:.5,cursor:"not-allowed"}};function lx(){const{currentUser:s,logout:e}=Qh(),[n,r]=ne.useState(!1);return A.jsxs(A.Fragment,{children:[A.jsxs("footer",{style:Za.footer,children:[A.jsxs("p",{style:Za.footerText,children:[s?A.jsx("span",{onClick:e,style:Za.logoutIcon,children:A.jsx(ax,{color:"red",size:20})}):A.jsx("span",{onClick:()=>r(!0),style:Za.loginTrigger,children:""})," ",new Date().getFullYear()," FootballSanci. All rights reserved."]}),A.jsxs("p",{style:Za.creditLine,children:["Made with  by Claudiu "," ",A.jsx("a",{href:"https://github.com/ImTheCloud/footballsanci-react",target:"_blank",rel:"noopener noreferrer",style:Za.link,children:"GitHub"})]})]}),A.jsx(ox,{visible:n,onClose:()=>r(!1)})]})}const Za={footer:{textAlign:"center",padding:"22px 0",background:"rgba(8,8,10,0.5)",backdropFilter:"blur(12px)",borderTop:"1px solid rgba(255,255,255,0.08)",color:"#fff",marginTop:"40px",position:"relative",zIndex:1e3},footerText:{fontSize:"var(--font-small)",margin:0,opacity:.85},creditLine:{fontSize:"var(--font-very-small)",marginTop:"6px",opacity:.85},link:{color:"#10B981",fontWeight:600,textDecoration:"none"},loginTrigger:{cursor:"pointer",fontWeight:600,fontSize:"var(--font-normal)"},logoutIcon:{cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",top:"4px"}};function ux(){const{selectedSeason:s}=uu(),[e,n]=ne.useState(null),[r,o]=ne.useState(0),u=window.innerWidth<600;ne.useEffect(()=>{const m=()=>window.innerWidth<600;return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),ne.useEffect(()=>{(async()=>{try{const m=$E(ZE,"seasons"),y=await qD(m),g=`${s}.jpg`;if(!y.items.some(R=>R.name===g)){n(null);return}const b=await FD($E(ZE,`seasons/${g}`));n(b)}catch(m){console.warn("Unexpected Firebase error:",m),n(null)}})()},[s]),ne.useEffect(()=>{const m=()=>o(window.scrollY/4);return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const f=u?"140px":"220px";return A.jsxs(A.Fragment,{children:[A.jsx("style",{children:`
                @keyframes fadeOnly {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                `}),A.jsxs("div",{style:{...Xr.container,height:f},children:[e&&A.jsx("img",{src:e,alt:"",style:{...Xr.image,height:u?"150%":"130%",transform:`translateY(${r}px)`}}),!e&&A.jsxs("div",{style:Xr.fallbackBox,children:[A.jsx("div",{style:Xr.icon,children:""}),A.jsx("div",{style:Xr.fallbackText,children:"No picture for this season"})]}),A.jsx("div",{style:{...Xr.fadeTop,height:u?"28%":"40%"}}),A.jsx("div",{style:{...Xr.fadeBottom,height:u?"20%":"25%"}})]})]})}const Xr={container:{position:"relative",width:"100%",overflow:"hidden"},image:{width:"100%",objectFit:"cover",opacity:0,animation:"fadeIn 0.7s forwards"},fallbackBox:{position:"absolute",bottom:"19px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"row",alignItems:"center",gap:"14px",padding:"10px 32px",minWidth:"max-content",backdropFilter:"blur(6px)",animation:"fadeOnly 0.9s ease-out"},icon:{fontSize:"var(--font-large)",color:"white",filter:"drop-shadow(0 0 6px rgba(255,255,255,0.5))"},fallbackText:{color:"white",fontSize:"var(--font-large)",fontWeight:800,letterSpacing:"0.04rem",textShadow:"0 4px 15px rgba(0,0,0,0.55)"},fadeTop:{position:"absolute",top:0,left:0,right:0,background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},fadeBottom:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.5), transparent)"}},YS=(s=0,e=0,n=0,r=0)=>{const o=s+e+n,u=o>0?(s/o*100).toFixed(1):0,f=s*3+e+r,m=o>0?10*(.9*((3*s+e)/(3*o))+.1*Math.min(r/o,1)):0,y=Number(m.toFixed(2));return{matches:o,winrate:parseFloat(u),points:f,value:y}},cx=({onIncrement:s,onDecrement:e})=>A.jsxs("div",{className:"stat-controls",onClick:n=>n.stopPropagation(),children:[A.jsx("button",{className:"stat-btn stat-btn-minus",onClick:e,children:""}),A.jsx("button",{className:"stat-btn stat-btn-plus",onClick:s,children:"+"})]}),hx=({label:s,value:e,editable:n,currentUser:r,onUpdate:o,format:u})=>A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-label",children:s}),A.jsxs("div",{className:"stat-value-row",children:[A.jsx("span",{className:"stat-value",children:u?u(e):e}),r&&n&&A.jsx(cx,{onIncrement:()=>o(1),onDecrement:()=>o(-1)})]})]}),fx=({player:s,currentUser:e,onUpdateField:n,statsConfig:r})=>A.jsx("div",{className:"ranking-item-details",children:A.jsx("div",{className:"stats-grid",children:r.map(({label:o,field:u,editable:f,format:m})=>A.jsx(hx,{label:o,value:u==="value"?Number(s.value||0).toFixed(2):s[u]||0,editable:f,currentUser:e,onUpdate:y=>n(s.id,u,y),format:m},u))})}),dx=({rank:s})=>A.jsx("div",{className:"rank-badge",children:A.jsx("span",{className:"rank-number",children:s})}),mx=({name:s})=>A.jsx("div",{className:"player-info",children:A.jsx("h3",{className:"player-name",children:s})}),WE=({playerId:s,fame:e,currentUser:n,onUpdate:r})=>{const o=ne.useRef(null),u=ne.useRef(null),[f,m]=ne.useState(!1);ne.useLayoutEffect(()=>{const g=()=>{if(o.current&&u.current){const E=u.current.scrollWidth>o.current.offsetWidth;m(E),E&&(u.current.style.setProperty("--container-width",`${o.current.offsetWidth}px`),u.current.style.animation="none",requestAnimationFrame(()=>{u.current.style.animation=""}))}};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[e]);const y=()=>e?f?`${e}`:e:"";return A.jsx("div",{className:"player-fame-container",ref:o,children:n?A.jsx("input",{type:"text",className:"player-fame fame-input",value:e||"",onChange:g=>r(s,g.target.value),onClick:g=>g.stopPropagation(),placeholder:"Enter fame..."}):e&&A.jsx("p",{ref:u,className:`player-fame ${f?"scrolling":""}`,children:y()})})},px=({points:s,value:e,rankColor:n})=>A.jsxs("div",{className:"player-points",children:[A.jsxs("div",{className:"points-group",children:[A.jsx("span",{className:`points-value ${n}`,children:Math.round(s||0)}),A.jsx("span",{className:"points-label",children:"Points"})]}),A.jsxs("div",{className:"value-group",children:[A.jsx("span",{className:`points-value ${n}`,children:Number(e||0).toFixed(2)}),A.jsx("span",{className:"points-label",children:"Value"})]})]}),gx=({player:s,rank:e,rankColor:n,isExpanded:r,onToggle:o,currentUser:u,onUpdateField:f,onUpdateFame:m,statsConfig:y})=>{const g=E=>{!E.target.closest(".stat-controls")&&!E.target.closest(".fame-input")&&o(s.id)};return A.jsxs("div",{className:`ranking-item ${n} ${r?"expanded":""}`,onClick:g,children:[A.jsxs("div",{className:"ranking-item-main",children:[A.jsx(dx,{rank:e}),A.jsx(mx,{name:s.name}),!r&&A.jsx(WE,{playerId:s.id,fame:s.fame,currentUser:u,onUpdate:m}),A.jsx(px,{points:s.points,value:s.value,rankColor:n})]}),r&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"ranking-fame-expanded",children:A.jsx(WE,{playerId:s.id,fame:s.fame,currentUser:u,onUpdate:m})}),A.jsx(fx,{player:s,currentUser:u,onUpdateField:f,statsConfig:y})]})]})},eT={1:"rank-gold",2:"rank-silver",3:"rank-bronze",default:"rank-default"},yx=[{label:"Winrate",field:"winrate",editable:!1,format:s=>`${s}%`},{label:"Matches",field:"matches",editable:!1},{label:"Wins",field:"wins",editable:!0},{label:"Losses",field:"losses",editable:!0},{label:"Draws",field:"draws",editable:!0},{label:"Bonus 5 Goal",field:"bonus5goal",editable:!0}],tT=(s,e)=>{const n=s.matches||0,r=e.matches||0,o=s.points||0,u=e.points||0,f=s.value||0,m=e.value||0;return n===0&&r>0?1:r===0&&n>0?-1:u!==o?u-o:n!==r?n-r:m-f},_x=s=>{const e=[];let n=1,r=0;s.forEach((m,y)=>{y>0&&s[y-1].matches>0&&m.points===s[y-1].points&&m.matches===s[y-1].matches&&m.value===s[y-1].value?e.push(n):m.matches>0?(n=r+1,e.push(n),r++):e.push(null)});const o=e.filter(m=>m!==null),f=(o.length>0?Math.max(...o):0)+1;return e.map(m=>m===null?f:m)},vx=s=>eT[s]||eT.default,Ex=()=>A.jsx("div",{className:"ranking-container",children:A.jsxs("div",{className:"loading-state",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("p",{children:"Loading rankings..."})]})}),Tx=()=>A.jsx("div",{className:"ranking-container",children:A.jsx("div",{className:"empty-state",children:A.jsx("p",{children:"No players found for this season."})})});function Sx(){const{selectedSeason:s}=uu(),{currentUser:e}=Qh(),[n,r]=ne.useState([]),[o,u]=ne.useState(!0),[f,m]=ne.useState(null);ne.useEffect(()=>{if(!s)return;(async()=>{u(!0);try{const K=(await Yh(qh(qn,`seasons/${s}/players`))).docs.map(X=>({id:X.id,...X.data()})).sort(tT);r(K),m(null)}catch(k){console.error("Error loading players:",k)}u(!1)})()},[s]);const y=ne.useCallback(async(R,k,K)=>{const X=n.find(fe=>fe.id===R);if(!X)return;const G=Math.max(0,(X[k]||0)+K),re={...X,[k]:G},he=YS(re.wins,re.draws,re.losses,re.bonus5goal);r(fe=>fe.map(be=>be.id===R?{...be,[k]:G,...he}:be).sort(tT));try{await zm(nr(qn,`seasons/${s}/players/${R}`),{[k]:G,...he,value:Number(he.value)})}catch(fe){console.error("Error updating player:",fe)}},[n,s]),g=ne.useCallback(async(R,k)=>{r(K=>K.map(X=>X.id===R?{...X,fame:k}:X));try{await zm(nr(qn,`seasons/${s}/players/${R}`),{fame:k})}catch(K){console.error("Error updating fame:",K)}},[s]),E=ne.useCallback(R=>{m(k=>k===R?null:R)},[]);if(o)return A.jsx(Ex,{});if(n.length===0)return A.jsx(Tx,{});const b=_x(n);return A.jsxs("div",{className:"ranking-container",children:[A.jsx("h1",{className:"section-title",children:"FootballSanci"}),A.jsx("div",{className:"ranking-list",children:n.map((R,k)=>{const K=b[k],X=vx(K);return A.jsx(gx,{player:R,rank:K,rankColor:X,isExpanded:f===R.id,onToggle:E,currentUser:e,onUpdateField:y,onUpdateFame:g,statsConfig:yx},R.id)})})]})}const bx=["Fit Five","Halle","Veeweyde"],nT=.1,Ax=0,iT=s=>String(s).padStart(2,"0"),qm=s=>`${s.getFullYear()}-${iT(s.getMonth()+1)}-${iT(s.getDate())}`,wx=()=>qm(new Date),Rx=()=>{const s=new Date,e=s.getDay();if(e===6)return qm(s);const n=6-e,r=new Date(s);return r.setDate(s.getDate()+n),qm(r)},xl=({label:s,icon:e,children:n})=>A.jsxs("div",{className:"match-row",children:[e&&A.jsx("span",{className:"match-row-icon",children:e}),A.jsxs("label",{children:[s,":"]}),n]}),Ix=({value:s,onChange:e})=>A.jsxs("div",{className:"gapLimit-control",children:[A.jsx("button",{type:"button","aria-label":"Decrease gapLimit",onClick:()=>{const n=Number(s)||0;e(Math.max(Ax,+(n-nT).toFixed(2)))},children:""}),A.jsx("span",{children:Number(s).toFixed(2)}),A.jsx("button",{type:"button","aria-label":"Increase gapLimit",onClick:()=>{const n=Number(s)||0;e(+(n+nT).toFixed(2))},children:"+"})]}),Cx=({title:s,children:e})=>A.jsxs("div",{className:"match-box",children:[s&&A.jsx("h3",{className:"section-title section-title--compact",children:s}),A.jsx("div",{className:"match-section",children:e})]}),Nx=({matchDetails:s,onChange:e,selectedCount:n=0,totalCount:r=0,onGenerate:o=()=>{},disabled:u=!1})=>{const f=ne.useMemo(Rx,[]),m=ne.useMemo(wx,[]),y=ne.useRef(!1);return ne.useEffect(()=>{if(y.current)return;const g=s?.date;(!g||g===m)&&e("date",f),y.current=!0},[s,m,f,e]),A.jsxs(Cx,{title:"Next Match",children:[A.jsx(xl,{label:"Date",icon:"",children:A.jsx("input",{type:"date",value:s.date||f,onChange:g=>e("date",g.target.value)})}),A.jsx(xl,{label:"Start",icon:"",children:A.jsx("input",{type:"time",value:s.startTime,onChange:g=>e("startTime",g.target.value)})}),A.jsx(xl,{label:"End",icon:"",children:A.jsx("input",{type:"time",value:s.endTime,onChange:g=>e("endTime",g.target.value)})}),A.jsx(xl,{label:"Location",icon:"",children:A.jsx("select",{value:s.location,onChange:g=>e("location",g.target.value),children:bx.map(g=>A.jsx("option",{value:g,children:g},g))})}),A.jsx(xl,{label:"Gap limit",icon:"",children:A.jsx(Ix,{value:s.gapLimit,onChange:g=>e("gapLimit",g)})}),A.jsxs("div",{className:"generate-section",children:[A.jsxs("div",{className:"selected-counter",children:[A.jsx("span",{className:"selected-counter-number",children:n})," ","/ ",r," selected players"]}),A.jsx("button",{className:"generate-button",onClick:o,disabled:u,children:"Generate Teams"})]})]})},Dx=({player:s,isSelected:e,onToggle:n})=>A.jsxs("button",{className:`player-card ${e?"selected":""}`,onClick:n,"aria-pressed":e,children:[A.jsx("h4",{className:"player-card-name",children:s.name}),A.jsx("span",{className:"player-card-value",children:Number(s.value||0).toFixed(2)})]}),xx=({onAdd:s})=>{const[e,n]=ne.useState(""),[r,o]=ne.useState(""),[u,f]=ne.useState(!1),m=ne.useRef(null);ne.useEffect(()=>{u&&m.current&&setTimeout(()=>{m.current.scrollIntoView({behavior:"smooth",block:"center"})},300)},[u]);const y=()=>{const E=r.replace(",","."),b=parseFloat(E);if(e.trim()&&!isNaN(b)&&b>=0){const R=Number(b.toFixed(2));s({id:`temp-${Date.now()}`,name:e.trim(),value:R,isTemporary:!0}),n(""),o(""),f(!1)}},g=(E,b)=>{E.key==="Enter"&&(b==="name"&&e.trim()?document.getElementById("temp-value-input")?.focus():b==="value"&&y())};return u?A.jsxs("div",{ref:m,className:"player-card temp-player-card-form",children:[A.jsx("input",{type:"text",className:"temp-player-input temp-player-name",placeholder:"Name",value:e,onChange:E=>n(E.target.value),onKeyPress:E=>g(E,"name"),autoFocus:!0}),A.jsx("input",{id:"temp-value-input",type:"text",inputMode:"decimal",className:"temp-player-input temp-player-value",placeholder:"Value",value:r,onChange:E=>{const b=E.target.value.replace(/[^0-9.,]/g,"");o(b)},onKeyDown:E=>{!/[0-9.,]/.test(E.key)&&E.key!=="Backspace"&&E.key!=="Delete"&&E.key!=="ArrowLeft"&&E.key!=="ArrowRight"&&E.key!=="Tab"&&E.preventDefault()},onKeyPress:E=>g(E,"value"),step:"0.1",min:"0"}),A.jsx("div",{className:"temp-player-actions",children:A.jsx("button",{className:"temp-player-btn temp-player-add",onClick:y,disabled:!e.trim()||!r||isNaN(parseFloat(r)),children:""})})]}):A.jsxs("button",{className:"player-card temp-player-card-trigger",onClick:()=>f(!0),children:[A.jsx("h4",{className:"player-card-name",children:"Temp Player"}),A.jsx("span",{className:"player-card-value",children:"+"})]})},Ox=({players:s,selectedPlayers:e,onToggle:n,onAddTemp:r})=>A.jsxs("div",{className:"players-grid",children:[s.map(o=>A.jsx(Dx,{player:o,isSelected:e.some(u=>u.id===o.id),onToggle:()=>n(o)},o.id)),A.jsx(xx,{onAdd:r})]}),Mx=s=>s.reduce((e,n)=>e+(Number(n.value)||0),0),sT=(s,e)=>{if(!s||!e)return null;const[n,r,o]=(s||"").split("-").map(Number),[u,f]=(e||"").split(":").map(Number);return[n,r,o,u,f].every(m=>Number.isFinite(m))?new Date(o,r-1,n,u,f,0,0):null},Ja=s=>String(s).padStart(2,"0"),rT=s=>{s<0&&(s=0);const e=Math.floor(s/1e3),n=Math.floor(e/86400),r=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),u=e%60;return n>0?`${n}d ${Ja(r)}:${Ja(o)}:${Ja(u)}`:`${Ja(r)}:${Ja(o)}:${Ja(u)}`},Vx=s=>{const e=sT(s?.date,s?.startTime),n=sT(s?.date,s?.endTime),[r,o]=ne.useState(()=>Date.now());return ne.useEffect(()=>{const u=setInterval(()=>o(Date.now()),1e3);return()=>clearInterval(u)},[s?.date,s?.startTime,s?.endTime]),!e||!n?{phase:"invalid",text:""}:r<e.getTime()?{phase:"before",text:`${rT(e.getTime()-r)}`}:r>=e.getTime()&&r<n.getTime()?{phase:"during",text:`${rT(n.getTime()-r)}`}:{phase:"after",text:"Finished"}},kx=({matchData:s,Timer:e,teamTotals:n})=>{if(!s)return A.jsx("div",{className:"match-details-card",children:A.jsx("div",{className:"match-details-empty",children:"No match info available."})});const{phase:r,text:o}=e,u=s.startTime&&s.endTime?`${s.startTime} - ${s.endTime}`:s.startTime||"",f=s.valueDifference!==void 0?Number(s.valueDifference).toFixed(2):"",m=n?.[0],y=n?.[1];return A.jsxs("div",{className:"match-details-card",children:[A.jsx("h3",{className:"section-title section-title--compact",children:"Live Draw"}),A.jsxs("div",{className:"match-details-grid",children:[A.jsxs("div",{className:`match-details-item Timer-${r}`,children:[A.jsx("span",{className:"match-details-icon",children:""}),A.jsxs("div",{className:"match-details-text",children:[A.jsx("span",{className:"match-details-label",children:"Timer"}),A.jsx("span",{className:"match-details-value match-details-value--Timer",children:o})]})]}),A.jsxs("div",{className:"match-details-item",children:[A.jsx("span",{className:"match-details-icon",children:""}),A.jsxs("div",{className:"match-details-text",children:[A.jsx("span",{className:"match-details-label",children:"Location"}),A.jsx("span",{className:"match-details-value",children:s.location})]})]}),A.jsxs("div",{className:"match-details-item",children:[A.jsx("span",{className:"match-details-icon",children:""}),A.jsxs("div",{className:"match-details-text",children:[A.jsx("span",{className:"match-details-label",children:"Date"}),A.jsx("span",{className:"match-details-value",children:s.date})]})]}),A.jsxs("div",{className:"match-details-item",children:[A.jsx("span",{className:"match-details-icon",children:""}),A.jsxs("div",{className:"match-details-text",children:[A.jsx("span",{className:"match-details-label",children:"Time"}),A.jsx("span",{className:"match-details-value",children:u})]})]}),A.jsxs("div",{className:"match-details-item",children:[A.jsx("span",{className:"match-details-icon",children:""}),A.jsxs("div",{className:"match-details-text",children:[A.jsx("span",{className:"match-details-label",children:"Gap limit"}),A.jsx("span",{className:"match-details-value",children:s.gapLimit})]})]}),A.jsxs("div",{className:"match-details-item",children:[A.jsx("span",{className:"match-details-icon",children:""}),A.jsxs("div",{className:"match-details-text",children:[A.jsx("span",{className:"match-details-label",children:"Value diff"}),A.jsx("span",{className:"match-details-value",children:f})]})]}),A.jsxs("div",{className:"match-details-item",children:[A.jsx("span",{className:"match-details-icon",children:""}),A.jsxs("div",{className:"match-details-text",children:[A.jsx("span",{className:"match-details-label",children:"Value T1"}),A.jsx("span",{className:"match-details-value",children:m!=null?m.toFixed(2):""})]})]}),A.jsxs("div",{className:"match-details-item",children:[A.jsx("span",{className:"match-details-icon",children:""}),A.jsxs("div",{className:"match-details-text",children:[A.jsx("span",{className:"match-details-label",children:"Value T2"}),A.jsx("span",{className:"match-details-value",children:y!=null?y.toFixed(2):""})]})]})]})]})},Lx=({team:s,index:e})=>A.jsxs("div",{className:`team-card team-${e+1}`,children:[A.jsx("div",{className:"team-header",children:A.jsxs("h3",{className:"team-title",children:["Team ",e+1]})}),A.jsx("ul",{className:"team-players",children:s.map(n=>A.jsxs("li",{className:"team-player-item",children:[A.jsx("span",{className:"team-player-name",children:n.name}),A.jsx("span",{className:"team-player-value",children:Number(n.value).toFixed(2)})]},n.name))})]}),Px=({scoreTeam1:s,scoreTeam2:e,onChange:n})=>A.jsxs("div",{className:"score-input-wrapper",children:[A.jsx("input",{type:"number",min:"0",value:s,onChange:r=>n("scoreTeam1",r.target.value),className:"score-input score-input-team1"}),A.jsx("span",{className:"score-separator",children:"-"}),A.jsx("input",{type:"number",min:"0",value:e,onChange:r=>n("scoreTeam2",r.target.value),className:"score-input score-input-team2"})]}),Ux=({scoreTeam1:s,scoreTeam2:e,onScoreChange:n,onSave:r,disabled:o})=>A.jsxs("div",{className:"save-match-section",children:[A.jsx(Px,{scoreTeam1:s,scoreTeam2:e,onChange:n}),A.jsx("button",{className:"generate-button",onClick:r,disabled:o,children:"Save Match"})]}),jx=({teams:s,matchData:e,scoreTeam1:n,scoreTeam2:r,onScoreChange:o,onSaveMatch:u,currentUser:f})=>{const m=Vx(e||{}),y=ne.useMemo(()=>s.map(E=>Mx(E)),[s]),g=[e?.team1TotalValue??y[0],e?.team2TotalValue??y[1]];return A.jsxs("div",{className:"teams-wrapper",children:[A.jsx(kx,{matchData:e,Timer:m,teamTotals:g}),A.jsx("div",{className:"teams-container",children:s.map((E,b)=>A.jsx(Lx,{team:E,index:b},b))}),f&&A.jsx(Ux,{scoreTeam1:n,scoreTeam2:r,onScoreChange:o,onSave:u,disabled:!1})]})};function zx(s){const e=s?.match(/\d+/);return e?Number(e[0]):NaN}const Bx={date:new Date().toISOString().split("T")[0],startTime:"21:00",endTime:"22:00",location:"Fit Five",gapLimit:1.5},Hx=s=>{const e=new Date(s),n=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getFullYear());return`${n}-${r}-${o}`},Wa=s=>s.reduce((e,n)=>e+(Number(n.value)||0),0);function qx(){const{selectedSeason:s}=uu(),{currentUser:e}=Qh(),[n,r]=ne.useState([]),[o,u]=ne.useState([]),[f,m]=ne.useState([]),[y,g]=ne.useState(!0),[E,b]=ne.useState(Bx),[R,k]=ne.useState(null),[K,X]=ne.useState(0),[G,re]=ne.useState(0),he=ne.useRef(null),fe=ne.useRef(!1),be=ne.useCallback(async()=>{if(s){g(!0);try{if(e){const J=zx(s),ae=J-1,ve=async te=>!Number.isFinite(te)||te<=0?[]:(await Yh(qh(qn,`seasons/Season ${te}/players`))).docs.map(le=>({id:le.id,...le.data()})),Ee={};(await ve(ae)).forEach(te=>{const oe=Number(te.value||0)||0,le=te.id;Ee[le]?Ee[le]={...Ee[le],...te,valuePrev:oe}:Ee[le]={...te,valuePrev:oe,valueCurr:null}}),(await ve(J)).forEach(te=>{const oe=Number(te.value||0)||0,le=te.id;Ee[le]?Ee[le]={...Ee[le],...te,valueCurr:oe}:Ee[le]={...te,valuePrev:null,valueCurr:oe}});const ie=Object.values(Ee).map(te=>{const oe=te.valuePrev,le=te.valueCurr;let pe;oe!=null&&le!=null?pe=(oe+le)/2:le!=null?pe=le:oe!=null?pe=oe:pe=0;const{valuePrev:Qe,valueCurr:Ke,...ln}=te;return{...ln,value:Number(pe.toFixed(2))}});r(ie)}const we=nr(qn,`seasons/${s}/matches/Live`),B=await jm(we);if(B.exists()){const J=B.data();if(J.gapLimit===void 0&&J.gap!==void 0&&(J.gapLimit=J.gap),J.team1&&J.team2){if(J.team1TotalValue===void 0){const ae=Wa(J.team1);J.team1TotalValue=Number(ae.toFixed(2))}if(J.team2TotalValue===void 0){const ae=Wa(J.team2);J.team2TotalValue=Number(ae.toFixed(2))}}m([J.team1,J.team2]),k(J),X(J.scoreTeam1||0),re(J.scoreTeam2||0)}else m([]),k(null),X(0),re(0)}catch(we){console.error("Error loading:",we)}g(!1)}},[s,e]);ne.useEffect(()=>{be()},[be]),ne.useEffect(()=>{fe.current&&f.length===2&&(setTimeout(()=>{he.current&&he.current.scrollIntoView({behavior:"smooth"})},120),fe.current=!1)},[f]);const Be=ne.useCallback(we=>{r(B=>[...B,we]),u(B=>[...B,we])},[]),xe=ne.useCallback(we=>{u(B=>B.some(J=>J.id===we.id)?B.filter(J=>J.id!==we.id):[...B,we])},[]),D=ne.useCallback(we=>{const B=we.map(Y=>({...Y,value:Number(Y.value)||0})),J=Number(E.gapLimit)||0;let ae=[],ve=[],Ee=1/0;const x=B.length<=10?1e3:500;for(let Y=0;Y<x;Y++){const ie=[...B].sort(()=>Math.random()-.5),te=[],oe=[];ie.forEach((Ke,ln)=>{(ln%2===0?te:oe).push(Ke)});const le=Wa(te),pe=Wa(oe),Qe=Math.abs(le-pe);if(Qe<=J)return[te,oe];Qe<Ee&&(Ee=Qe,ae=te,ve=oe)}if(ae.length===0||ve.length===0){const Y=Math.ceil(B.length/2);return[B.slice(0,Y),B.slice(Y)]}return[ae,ve]},[E.gapLimit]),w=ne.useCallback(async()=>{if(o.length<2){console.warn("Not enough players to generate teams");return}const we=[...o],[B,J]=D(we),ae=Wa(B),ve=Wa(J),Ee=Math.abs(ae-ve);m([B,J]),X(0),re(0);try{const x=Hx(E.date),Y=nr(qn,`seasons/${s}/matches/Live`),ie={team1:B.map(te=>({name:te.name,value:Number(te.value||0).toFixed(2)})),team2:J.map(te=>({name:te.name,value:Number(te.value||0).toFixed(2)})),team1TotalValue:Number(ae.toFixed(2)),team2TotalValue:Number(ve.toFixed(2)),date:x,startTime:E.startTime,endTime:E.endTime,location:E.location,gapLimit:Number(E.gapLimit).toFixed(2),valueDifference:Number(Ee.toFixed(2)),scoreTeam1:0,scoreTeam2:0};await FE(Y,ie),k(ie)}catch(x){console.error("Error writing live match:",x)}},[o,E,s,D]),N=ne.useCallback(()=>{o.length<2||(fe.current=!0,w())},[o,w]),V=ne.useCallback((we,B)=>{const J=Number(B)||0;we==="scoreTeam1"?X(J):re(J)},[]),M=ne.useCallback(async()=>{if(R)try{const we=R.date,B=nr(qn,`seasons/${s}/matches/${we}`),J={...R,scoreTeam1:K,scoreTeam2:G};await FE(B,J);const ae=Number(K),ve=Number(G),Ee=R.team1||[],x=R.team2||[];let Y="draw";ae>ve&&(Y="team1"),ve>ae&&(Y="team2");const ie=Math.abs(ae-ve),te=Y==="draw"?0:Math.floor(ie/5),oe=async(pe,Qe)=>{const Ke=nr(qn,`seasons/${s}/players/${pe}`),ln=await jm(Ke);if(!ln.exists())return;const Kn=ln.data(),Bi=(Kn.wins||0)+(Qe.winDelta||0),Hi=(Kn.draws||0)+(Qe.drawDelta||0),_n=(Kn.losses||0)+(Qe.lossDelta||0),gs=(Kn.bonus5goal||0)+(Qe.bonusDelta||0),qi=YS(Bi,Hi,_n,gs);await zm(Ke,{wins:Bi,draws:Hi,losses:_n,bonus5goal:gs,...qi,lastMatchDate:we})},le=[];Y==="draw"?(Ee.forEach(pe=>le.push(oe(pe.name,{drawDelta:1}))),x.forEach(pe=>le.push(oe(pe.name,{drawDelta:1})))):Y==="team1"?(Ee.forEach(pe=>le.push(oe(pe.name,{winDelta:1,bonusDelta:te}))),x.forEach(pe=>le.push(oe(pe.name,{lossDelta:1})))):(x.forEach(pe=>le.push(oe(pe.name,{winDelta:1,bonusDelta:te}))),Ee.forEach(pe=>le.push(oe(pe.name,{lossDelta:1})))),await Promise.all(le),await qN(nr(qn,`seasons/${s}/matches/Live`)),m([]),k(null),u([]),X(0),re(0)}catch(we){console.error("Error saving match:",we)}},[R,K,G,s]),P=ne.useCallback((we,B)=>{b(J=>{let ae=B;if(we==="gapLimit"){const ve=(B??"").toString();ae=(parseFloat(ve.replace(",","."))||0).toFixed(2)}return{...J,[we]:ae}})},[]);if(y)return A.jsx("div",{className:"draw-container"});const I=f.length===2,it=o.length>=2;return A.jsxs("div",{className:"draw-container",children:[e&&A.jsxs(A.Fragment,{children:[A.jsx("h2",{className:"section-title",children:"Live Draw"}),n.length>0&&A.jsx(Ox,{players:n,selectedPlayers:o,onToggle:xe,onAddTemp:Be}),A.jsx(Nx,{matchDetails:E,onChange:P,selectedCount:o.length,totalCount:n.length,onGenerate:N,disabled:!it})]}),I&&A.jsx("div",{ref:he,children:A.jsx(jx,{teams:f,matchData:R,scoreTeam1:K,scoreTeam2:G,onScoreChange:V,onSaveMatch:M,currentUser:e})}),!e&&!I&&A.jsxs("div",{className:"empty-state",children:[A.jsx("div",{className:"empty-state-icon",children:""}),A.jsx("p",{children:"No live match available. Check back soon!"})]})]})}function Fx(s){if(!s||typeof s!="string")return null;const e=s.split("-");if(e.length!==3)return null;const[n,r,o]=e.map(Number);return!n||!r||!o?null:new Date(o,r-1,n)}function Gx(){const{selectedSeason:s}=uu(),[e,n]=ne.useState([]),[r,o]=ne.useState(!0),[u,f]=ne.useState(3);if(ne.useEffect(()=>{f(3)},[s]),ne.useEffect(()=>{if(!s)return;(async()=>{o(!0);try{const R=[...(await Yh(qh(qn,`seasons/${s}/matches`))).docs.filter(X=>X.id!=="Live").map(X=>{const G=X.data()||{},re=G.date||X.id||"",he=Fx(re);return{id:X.id,parsedDate:he,date:re,startTime:G.startTime||"",endTime:G.endTime||"",location:G.location||"",scoreTeam1:Number(G.scoreTeam1??0),scoreTeam2:Number(G.scoreTeam2??0),valueDifference:G.valueDifference!==void 0?Number(G.valueDifference):null,team1:Array.isArray(G.team1)?G.team1:[],team2:Array.isArray(G.team2)?G.team2:[],team1TotalValue:Number(G.team1TotalValue??0),team2TotalValue:Number(G.team2TotalValue??0)}})].sort((X,G)=>{const re=X.parsedDate,he=G.parsedDate;return re&&he?re-he:re&&!he?-1:!re&&he?1:0});R.forEach((X,G)=>{X.matchNumber=G+1});const K=[...R].sort((X,G)=>{const re=X.parsedDate,he=G.parsedDate;return re&&he?he-re:re&&!he?1:!re&&he?-1:0}).map(({parsedDate:X,...G})=>G);n(K)}catch(E){console.error("Erreur chargement matchs:",E)}o(!1)})()},[s]),r)return A.jsx("div",{className:"history-container",children:A.jsxs("div",{className:"loading-state",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("p",{children:"Loading matches..."})]})});if(e.length===0)return A.jsx("div",{className:"history-container",children:A.jsxs("div",{className:"empty-state",children:[A.jsx("div",{className:"empty-state-icon",children:""}),A.jsx("p",{children:"No matches found for this season."})]})});const m=e.slice(0,u),y=u<e.length;return A.jsxs("div",{className:"history-container",children:[A.jsx("h2",{className:"section-title",children:"Match History"}),A.jsx("div",{className:"history-list",children:m.map(g=>{const E=g.scoreTeam1??0,b=g.scoreTeam2??0;let R="history-card--draw";return E>b&&(R="history-card--team1"),b>E&&(R="history-card--team2"),A.jsxs("article",{className:`history-card ${R}`,children:[A.jsxs("header",{className:"history-card-header",children:[A.jsxs("div",{className:"history-header-main",children:[A.jsxs("div",{className:"history-first-row",children:[A.jsxs("span",{className:"history-match-number",children:["Match #",g.matchNumber]}),A.jsx("span",{className:"history-date",children:g.date})]}),(g.startTime||g.endTime)&&A.jsxs("div",{className:"history-time-row",children:[A.jsx("span",{className:"history-time-icon",children:""}),A.jsxs("span",{className:"history-time-text",children:[g.startTime,g.endTime?` - ${g.endTime}`:""]})]}),g.location&&A.jsxs("div",{className:"history-location-row",children:[A.jsx("span",{className:"history-location-icon",children:""}),A.jsx("span",{className:"history-location-text",children:g.location})]})]}),A.jsxs("div",{className:"history-score-pill",children:[A.jsx("span",{className:"history-score-team",children:E}),A.jsx("span",{className:"history-score-separator",children:"-"}),A.jsx("span",{className:"history-score-team",children:b})]})]}),A.jsxs("div",{className:"history-teams",children:[A.jsxs("div",{className:"history-team-card history-team-card-1",children:[A.jsxs("div",{className:"history-team-header",children:[A.jsx("span",{className:"history-team-label",children:"Team 1"}),A.jsx("span",{className:"history-team-total",children:g.team1TotalValue.toFixed(2)})]}),A.jsx("ul",{className:"history-player-list",children:g.team1.map((k,K)=>A.jsxs("li",{className:"history-player-item",children:[A.jsx("span",{className:"history-player-name",children:k.name}),A.jsx("span",{className:"history-player-value",children:Number(k.value??0).toFixed(2)})]},K))})]}),A.jsxs("div",{className:"history-team-card history-team-card-2",children:[A.jsxs("div",{className:"history-team-header",children:[A.jsx("span",{className:"history-team-label",children:"Team 2"}),A.jsx("span",{className:"history-team-total",children:g.team2TotalValue.toFixed(2)})]}),A.jsx("ul",{className:"history-player-list",children:g.team2.map((k,K)=>A.jsxs("li",{className:"history-player-item",children:[A.jsx("span",{className:"history-player-name",children:k.name}),A.jsx("span",{className:"history-player-value",children:Number(k.value??0).toFixed(2)})]},K))})]})]}),A.jsx("footer",{className:"history-card-footer",children:g.valueDifference!==null&&A.jsxs("span",{className:"history-meta-chip",children:["Value diff:"," ",g.valueDifference.toFixed(2)]})})]},g.id)})}),y&&A.jsx("div",{className:"history-load-more-wrapper",children:A.jsx("button",{className:"history-load-more-btn",onClick:()=>f(g=>Math.min(g+1,e.length)),children:"Load more matches"})})]})}function Kx(){const s=["Play with intensity and purpose so every action lifts the entire team's level.","Scan constantly before receiving so your next decision is faster than pressure.","Attack open spaces early to force defenders into choices they do not control.","Keep your body shape ready so every touch moves you forward with confidence.","Stay compact defensively so the team controls space instead of chasing it.","Use your weaker foot boldly because unpredictability wins tight situations.","Accelerate after passing to create overloads and stretch opponents out wide.","Protect the ball smartly by using angles instead of relying only on strength.","Press with intelligence so you cut passing lanes before the ball even arrives.","Master your first touch because it decides whether you stay marked or escape.","React instantly in transitions since the quickest players shape the outcome.","Lead through effort and discipline so your consistency inspires teammates.","Keep your head active so you anticipate danger before opponents even react.","Play forward whenever possible so your team stays aggressive and unpredictable.","Win midfield duels through positioning first, then through controlled intensity.","Time your movements so runs create spaces instead of colliding with teammates.","Stay patient in possession so you choose the best option, not the fastest one.","Hold your defensive line with discipline to trap opponents facing the wrong way.","Use clean body orientation so you stay open to both the ball and the next action.","Communicate constantly because silent teams lose half a second on every play.","Exploit weak sides by switching play quickly and forcing defenders to rotate.","Recover your position fast after pressing so your structure stays unbroken.","Attack crosses with conviction because hesitation kills goal opportunities.","Protect central areas first so opponents are forced into predictable wide zones.","Keep the ball moving at tempo to unbalance teams that defend in tight blocks.","Stay brave in duels by controlling your approach instead of diving recklessly.","Use double movements to lose markers and create separation before receiving.","Stay focused after mistakes so you recover immediately instead of dwelling on it.","Support teammates early so the ball carrier always has at least two options.","Exploit transition moments instantly because defenses need time to reorganize.","Stay calm under pressure and let technique guide your decisions, not panic.","Close passing lanes with small steps so attackers lose rhythm and creativity."],e=g=>{const E=[...g];for(let b=E.length-1;b>0;b--){const R=Math.floor(Math.random()*(b+1));[E[b],E[R]]=[E[R],E[b]]}return E},[n,r]=ne.useState(e(s)),[o,u]=ne.useState(0),[f,m]=ne.useState(!0);ne.useEffect(()=>{const g=setInterval(()=>{m(!1),setTimeout(()=>{o===n.length-1?(r(e(s)),u(0)):u(o+1),m(!0)},450)},5e3);return()=>clearInterval(g)},[o,n,s]);const y={marginTop:"40px",textAlign:"center",padding:"10px 20px",fontStyle:"italic",color:"white",fontSize:"var(--font-small)",lineHeight:"1.35",maxWidth:"85vw",marginLeft:"auto",marginRight:"auto",height:"2.7em",overflow:"hidden",opacity:f?1:0,transform:f?"translateY(0px)":"translateY(4px)",transition:"opacity 0.45s ease, transform 0.45s ease",textShadow:f?"0 0 8px rgba(16,185,129,0.35), 0 0 12px rgba(16,185,129,0.25)":"none"};return A.jsxs("div",{style:y,children:[" ",n[o]]})}const QS="fs_access_code_ok_v4";async function aT(s){const n=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(u=>u.toString(16).padStart(2,"0")).join("")}function Yx({onUnlock:s}){const[e,n]=ne.useState(""),[r,o]=ne.useState(""),[u,f]=ne.useState(!1),[m,y]=ne.useState(null),[g,E]=ne.useState(!0);ne.useEffect(()=>{(async()=>{try{const K=await jm(nr(qn,"access","hash"));if(K.exists()){const X=K.data();if(X&&X.hash)y(String(X.hash));else if(X&&X.code){const G=await aT(String(X.code));y(G)}}else console.error("Access code document not found in Firestore")}catch(K){console.error("Error fetching access code from Firestore",K)}finally{E(!1)}})()},[]);const b=async()=>{if(o(""),!!e){if(!m){o("Access configuration is not available. Please try again later.");return}f(!0);try{if(await aT(e)===m){try{localStorage.setItem(QS,"true")}catch{}n(""),o(""),s&&s()}else o("Incorrect code. Please contact the manager.")}finally{f(!1)}}},R=k=>{k.key==="Enter"&&e&&!u&&!g&&b()};return A.jsx("div",{style:Hn.page,children:A.jsxs("div",{style:Hn.modal,children:[A.jsxs("div",{style:Hn.modalHeader,children:[A.jsx("h2",{style:Hn.title,children:"Team Access"}),A.jsx("p",{style:Hn.subtitle,children:"Enter the access code to view rankings and matches."})]}),A.jsxs("div",{style:Hn.formContainer,children:[A.jsxs("div",{style:Hn.inputGroup,children:[A.jsx("label",{style:Hn.label,htmlFor:"access-code",children:"Access code"}),A.jsx("input",{id:"access-code",type:"password",inputMode:"numeric",value:e,onChange:k=>n(k.target.value),onKeyPress:R,style:Hn.input,placeholder:""})]}),r&&A.jsx("div",{style:Hn.error,children:r}),A.jsx("button",{onClick:b,disabled:u||!e||g,style:{...Hn.submitButton,...u||!e||g?Hn.submitButtonDisabled:{}},children:g?"Loading access...":u?"Checking...":"Enter"})]})]})})}const Hn={page:{minHeight:"100vh",width:"100%",maxWidth:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#000",padding:"16px",overflowX:"hidden"},modal:{background:"rgba(10,10,10,0.96)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"12px",padding:"32px",width:"92%",maxWidth:"420px",boxShadow:"0 0 40px rgba(16,185,129,0.35)",position:"relative"},modalHeader:{marginBottom:"22px",textAlign:"center"},title:{fontSize:"var(--font-large)",fontWeight:700,color:"#fff",margin:0,textTransform:"uppercase",letterSpacing:"1px"},subtitle:{margin:"8px 0 0",fontSize:"var(--font-small)",color:"rgba(255,255,255,0.7)"},formContainer:{display:"flex",flexDirection:"column",gap:"16px"},inputGroup:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"var(--font-small)",color:"rgba(16,185,129,1)",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},input:{background:"rgba(6,78,59,0.20)",border:"1px solid rgba(16,185,129,0.4)",borderRadius:"8px",padding:"12px 16px",fontSize:"var(--font-normal)",color:"#fff",outline:"none"},error:{background:"rgba(239,68,68,0.15)",border:"1px solid rgba(239,68,68,0.4)",borderRadius:"8px",padding:"10px 14px",color:"rgba(239,68,68,1)",fontSize:"var(--font-small)",textAlign:"center"},submitButton:{marginTop:"4px",padding:"14px 24px",background:"linear-gradient(135deg, rgba(16,185,129,0.4), rgba(6,78,59,0.6))",border:"2px solid rgba(16,185,129,0.7)",borderRadius:"8px",color:"#fff",fontSize:"var(--font-normal)",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 4px 15px rgba(16,185,129,0.3)"},submitButtonDisabled:{opacity:.5,cursor:"not-allowed"}};function Qx(){const[s,e]=ne.useState(!1);return ne.useEffect(()=>{try{localStorage.getItem(QS)==="true"&&e(!0)}catch{}},[]),s?A.jsx($D,{children:A.jsxs(ZD,{children:[A.jsx(JD,{}),A.jsx(ux,{}),A.jsxs("main",{style:{position:"relative",zIndex:1},children:[A.jsx("section",{id:"ranking",children:A.jsx(Sx,{})}),A.jsx("section",{id:"draw",children:A.jsx(qx,{})}),A.jsx("section",{id:"history",children:A.jsx(Gx,{})}),A.jsx("section",{id:"football-tips",children:A.jsx(Kx,{})})]}),A.jsx(lx,{})]})}):A.jsx(Yx,{onUnlock:()=>e(!0)})}VA.createRoot(document.getElementById("root")).render(A.jsx(ne.StrictMode,{children:A.jsx(Qx,{})}));
