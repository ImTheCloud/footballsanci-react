(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Qd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function Ab(){if(sv)return Il;sv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=t,Il.jsx=n,Il.jsxs=n,Il}var rv;function bb(){return rv||(rv=1,Qd.exports=Ab()),Qd.exports}var w=bb(),Yd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function wb(){if(av)return wt;av=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,J={};function ot(O,G,nt){this.props=O,this.context=G,this.refs=J,this.updater=nt||X}ot.prototype.isReactComponent={},ot.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},ot.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function pt(){}pt.prototype=ot.prototype;function ut(O,G,nt){this.props=O,this.context=G,this.refs=J,this.updater=nt||X}var St=ut.prototype=new pt;St.constructor=ut,tt(St,ot.prototype),St.isPureReactComponent=!0;var Bt=Array.isArray;function Ot(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function N(O,G,nt){var et=nt.ref;return{$$typeof:s,type:O,key:G,ref:et!==void 0?et:null,props:nt}}function V(O,G){return N(O.type,G,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return G[nt]})}var I=/\/+/g;function ie(O,G){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):G.toString(36)}function bt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ot,Ot):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,G,nt,et,ft){var gt=typeof O;(gt==="undefined"||gt==="boolean")&&(O=null);var _t=!1;if(O===null)_t=!0;else switch(gt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(O.$$typeof){case s:case t:_t=!0;break;case E:return _t=O._init,B(_t(O._payload),G,nt,et,ft)}}if(_t)return ft=ft(O),_t=et===""?"."+ie(O,0):et,Bt(ft)?(nt="",_t!=null&&(nt=_t.replace(I,"$&/")+"/"),B(ft,G,nt,"",function(Cn){return Cn})):ft!=null&&(M(ft)&&(ft=V(ft,nt+(ft.key==null||O&&O.key===ft.key?"":(""+ft.key).replace(I,"$&/")+"/")+_t)),G.push(ft)),1;_t=0;var Zt=et===""?".":et+":";if(Bt(O))for(var Qt=0;Qt<O.length;Qt++)et=O[Qt],gt=Zt+ie(et,Qt),_t+=B(et,G,nt,gt,ft);else if(Qt=j(O),typeof Qt=="function")for(O=Qt.call(O),Qt=0;!(et=O.next()).done;)et=et.value,gt=Zt+ie(et,Qt++),_t+=B(et,G,nt,gt,ft);else if(gt==="object"){if(typeof O.then=="function")return B(bt(O),G,nt,et,ft);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return _t}function $(O,G,nt){if(O==null)return O;var et=[],ft=0;return B(O,et,"","",function(gt){return G.call(nt,gt,ft++)}),et}function rt(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var vt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},It={map:$,forEach:function(O,G,nt){$(O,function(){G.apply(this,arguments)},nt)},count:function(O){var G=0;return $(O,function(){G++}),G},toArray:function(O){return $(O,function(G){return G})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=A,wt.Children=It,wt.Component=ot,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=ut,wt.StrictMode=r,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,G,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var et=tt({},O.props),ft=O.key;if(G!=null)for(gt in G.key!==void 0&&(ft=""+G.key),G)!b.call(G,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&G.ref===void 0||(et[gt]=G[gt]);var gt=arguments.length-2;if(gt===1)et.children=nt;else if(1<gt){for(var _t=Array(gt),Zt=0;Zt<gt;Zt++)_t[Zt]=arguments[Zt+2];et.children=_t}return N(O.type,ft,et)},wt.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},wt.createElement=function(O,G,nt){var et,ft={},gt=null;if(G!=null)for(et in G.key!==void 0&&(gt=""+G.key),G)b.call(G,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ft[et]=G[et]);var _t=arguments.length-2;if(_t===1)ft.children=nt;else if(1<_t){for(var Zt=Array(_t),Qt=0;Qt<_t;Qt++)Zt[Qt]=arguments[Qt+2];ft.children=Zt}if(O&&O.defaultProps)for(et in _t=O.defaultProps,_t)ft[et]===void 0&&(ft[et]=_t[et]);return N(O,gt,ft)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:m,render:O}},wt.isValidElement=M,wt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:rt}},wt.memo=function(O,G){return{$$typeof:g,type:O,compare:G===void 0?null:G}},wt.startTransition=function(O){var G=D.T,nt={};D.T=nt;try{var et=O(),ft=D.S;ft!==null&&ft(nt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Ot,vt)}catch(gt){vt(gt)}finally{G!==null&&nt.types!==null&&(G.types=nt.types),D.T=G}},wt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},wt.use=function(O){return D.H.use(O)},wt.useActionState=function(O,G,nt){return D.H.useActionState(O,G,nt)},wt.useCallback=function(O,G){return D.H.useCallback(O,G)},wt.useContext=function(O){return D.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,G){return D.H.useDeferredValue(O,G)},wt.useEffect=function(O,G){return D.H.useEffect(O,G)},wt.useEffectEvent=function(O){return D.H.useEffectEvent(O)},wt.useId=function(){return D.H.useId()},wt.useImperativeHandle=function(O,G,nt){return D.H.useImperativeHandle(O,G,nt)},wt.useInsertionEffect=function(O,G){return D.H.useInsertionEffect(O,G)},wt.useLayoutEffect=function(O,G){return D.H.useLayoutEffect(O,G)},wt.useMemo=function(O,G){return D.H.useMemo(O,G)},wt.useOptimistic=function(O,G){return D.H.useOptimistic(O,G)},wt.useReducer=function(O,G,nt){return D.H.useReducer(O,G,nt)},wt.useRef=function(O){return D.H.useRef(O)},wt.useState=function(O){return D.H.useState(O)},wt.useSyncExternalStore=function(O,G,nt){return D.H.useSyncExternalStore(O,G,nt)},wt.useTransition=function(){return D.H.useTransition()},wt.version="19.2.0",wt}var ov;function Bm(){return ov||(ov=1,Yd.exports=wb()),Yd.exports}var st=Bm(),Xd={exports:{}},Cl={},$d={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function Rb(){return lv||(lv=1,(function(s){function t(B,$){var rt=B.length;B.push($);t:for(;0<rt;){var vt=rt-1>>>1,It=B[vt];if(0<o(It,$))B[vt]=$,B[rt]=It,rt=vt;else break t}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var $=B[0],rt=B.pop();if(rt!==$){B[0]=rt;t:for(var vt=0,It=B.length,O=It>>>1;vt<O;){var G=2*(vt+1)-1,nt=B[G],et=G+1,ft=B[et];if(0>o(nt,rt))et<It&&0>o(ft,nt)?(B[vt]=ft,B[et]=rt,vt=et):(B[vt]=nt,B[G]=rt,vt=G);else if(et<It&&0>o(ft,rt))B[vt]=ft,B[et]=rt,vt=et;else break t}}return $}function o(B,$){var rt=B.sortIndex-$.sortIndex;return rt!==0?rt:B.id-$.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var y=[],g=[],E=1,A=null,R=3,j=!1,X=!1,tt=!1,J=!1,ot=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function St(B){for(var $=n(g);$!==null;){if($.callback===null)r(g);else if($.startTime<=B)r(g),$.sortIndex=$.expirationTime,t(y,$);else break;$=n(g)}}function Bt(B){if(tt=!1,St(B),!X)if(n(y)!==null)X=!0,Ot||(Ot=!0,L());else{var $=n(g);$!==null&&bt(Bt,$.startTime-B)}}var Ot=!1,D=-1,b=5,N=-1;function V(){return J?!0:!(s.unstable_now()-N<b)}function M(){if(J=!1,Ot){var B=s.unstable_now();N=B;var $=!0;try{t:{X=!1,tt&&(tt=!1,pt(D),D=-1),j=!0;var rt=R;try{e:{for(St(B),A=n(y);A!==null&&!(A.expirationTime>B&&V());){var vt=A.callback;if(typeof vt=="function"){A.callback=null,R=A.priorityLevel;var It=vt(A.expirationTime<=B);if(B=s.unstable_now(),typeof It=="function"){A.callback=It,St(B),$=!0;break e}A===n(y)&&r(y),St(B)}else r(y);A=n(y)}if(A!==null)$=!0;else{var O=n(g);O!==null&&bt(Bt,O.startTime-B),$=!1}}break t}finally{A=null,R=rt,j=!1}$=void 0}}finally{$?L():Ot=!1}}}var L;if(typeof ut=="function")L=function(){ut(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ie=I.port2;I.port1.onmessage=M,L=function(){ie.postMessage(null)}}else L=function(){ot(M,0)};function bt(B,$){D=ot(function(){B(s.unstable_now())},$)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(B){switch(R){case 1:case 2:case 3:var $=3;break;default:$=R}var rt=R;R=$;try{return B()}finally{R=rt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var rt=R;R=B;try{return $()}finally{R=rt}},s.unstable_scheduleCallback=function(B,$,rt){var vt=s.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?vt+rt:vt):rt=vt,B){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=rt+It,B={id:E++,callback:$,priorityLevel:B,startTime:rt,expirationTime:It,sortIndex:-1},rt>vt?(B.sortIndex=rt,t(g,B),n(y)===null&&B===n(g)&&(tt?(pt(D),D=-1):tt=!0,bt(Bt,rt-vt))):(B.sortIndex=It,t(y,B),X||j||(X=!0,Ot||(Ot=!0,L()))),B},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(B){var $=R;return function(){var rt=R;R=$;try{return B.apply(this,arguments)}finally{R=rt}}}})(Zd)),Zd}var uv;function Ib(){return uv||(uv=1,$d.exports=Rb()),$d.exports}var Jd={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function Cb(){if(cv)return $e;cv=1;var s=Bm();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:g,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$e.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,E)},$e.flushSync=function(y){var g=f.T,E=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=g,r.p=E,r.d.f()}},$e.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},$e.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},$e.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:j}):E==="script"&&r.d.X(y,{crossOrigin:A,integrity:R,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$e.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},$e.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);r.d.L(y,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$e.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},$e.requestFormReset=function(y){r.d.r(y)},$e.unstable_batchedUpdates=function(y,g){return y(g)},$e.useFormState=function(y,g,E){return f.H.useFormState(y,g,E)},$e.useFormStatus=function(){return f.H.useHostTransitionStatus()},$e.version="19.2.0",$e}var hv;function Nb(){if(hv)return Jd.exports;hv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Jd.exports=Cb(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function Db(){if(fv)return Cl;fv=1;var s=Ib(),t=Bm(),n=Nb();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(r(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),e;if(d===l)return y(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),Bt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ot:return"Profiler";case J:return"StrictMode";case Bt:return"Suspense";case Ot:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case ut:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case St:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:ie(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return ie(e(i))}catch{}}return null}var bt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},vt=[],It=-1;function O(e){return{current:e}}function G(e){0>It||(e.current=vt[It],vt[It]=null,It--)}function nt(e,i){It++,vt[It]=e.current,e.current=i}var et=O(null),ft=O(null),gt=O(null),_t=O(null);function Zt(e,i){switch(nt(gt,i),nt(ft,e),nt(et,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?I_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=I_(i),e=C_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(et),nt(et,e)}function Qt(){G(et),G(ft),G(gt)}function Cn(e){e.memoizedState!==null&&nt(_t,e);var i=et.current,a=C_(i,e.type);i!==a&&(nt(ft,e),nt(et,a))}function Gn(e){ft.current===e&&(G(et),G(ft)),_t.current===e&&(G(_t),Al._currentValue=rt)}var ji,Bi;function yn(e){if(ji===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ji=i&&i[1]||"",Bi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ji+e+Bi}var ps=!1;function Hi(e,i){if(!e||ps)return"";ps=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(F){var H=F}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(F){H=F}e.call(Y.prototype)}}else{try{throw Error()}catch(F){H=F}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var K=`
`+C[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{ps=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?yn(a):""}function bo(e,i){switch(e.tag){case 26:case 27:case 5:return yn(e.type);case 16:return yn("Lazy");case 13:return e.child!==i&&i!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return Hi(e.type,!1);case 11:return Hi(e.type.render,!1);case 1:return Hi(e.type,!0);case 31:return yn("Activity");default:return""}}function wo(e){try{var i="",a=null;do i+=bo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,Oe=s.unstable_scheduleCallback,gs=s.unstable_cancelCallback,Yh=s.unstable_shouldYield,hu=s.unstable_requestPaint,en=s.unstable_now,_r=s.unstable_getCurrentPriorityLevel,Ro=s.unstable_ImmediatePriority,Io=s.unstable_UserBlockingPriority,ys=s.unstable_NormalPriority,Xh=s.unstable_LowPriority,fu=s.unstable_IdlePriority,du=s.log,mu=s.unstable_setDisableYieldValue,Kn=null,Be=null;function Nn(e){if(typeof du=="function"&&mu(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Kn,e)}catch{}}var de=Math.clz32?Math.clz32:gu,pu=Math.log,ua=Math.LN2;function gu(e){return e>>>=0,e===0?32:31-(pu(e)/ua|0)|0}var oi=256,vr=262144,Ee=4194304;function li(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=li(l):(_&=T,_!==0?h=li(_):a||(a=T&~e,a!==0&&(h=li(a))))):(T=l&~d,T!==0?h=li(T):_!==0?h=li(_):a||(a=l&~e,a!==0&&(h=li(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Qn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function $h(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function ci(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Er(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var K=31-de(a),Y=1<<K;T[K]=0,C[K]=-1;var H=z[K];if(H!==null)for(z[K]=null,K=0;K<H.length;K++){var F=H[K];F!==null&&(F.lane&=-536870913)}a&=~Y}l!==0&&Tr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Tr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-de(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Co(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-de(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function No(e,i){var a=i&-i;return a=(a&42)!==0?1:Sr(a),(a&(e.suspendedLanes|i))!==0?0:a}function Sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _u(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Z_(e.type))}function Yn(e,i){var a=$.p;try{return $.p=e,i()}finally{$.p=a}}var Xn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Xn,ke="__reactProps$"+Xn,hi="__reactContainer$"+Xn,ca="__reactEvents$"+Xn,Jh="__reactListeners$"+Xn,vu="__reactHandles$"+Xn,Eu="__reactResources$"+Xn,fi="__reactMarker$"+Xn;function ha(e){delete e[Te],delete e[ke],delete e[ca],delete e[Jh],delete e[vu]}function di(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[hi]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=k_(e);e!==null;){if(a=e[Te])return a;e=k_(e)}return i}e=a,a=e.parentNode}return null}function Dn(e){if(e=e[Te]||e[hi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _n(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function mi(e){var i=e[Eu];return i||(i=e[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Se(e){e[fi]=!0}var Do=new Set,Oo={};function pi(e,i){gi(e,i),gi(e+"Capture",i)}function gi(e,i){for(Oo[e]=i,e=0;e<i.length;e++)Do.add(i[e])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Vo={};function Tu(e){return ve.call(Vo,e)?!0:ve.call(Mo,e)?!1:xo.test(e)?Vo[e]=!0:(Mo[e]=!0,!1)}function fa(e,i,a){if(Tu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function vn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ae(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _s(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ko(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Yt(e){if(!e._valueTracker){var i=_s(e)?"checked":"value";e._valueTracker=ko(e,i,""+e[i])}}function Ar(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=_s(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var br=/[\n"\\]/g;function ln(e){return e.replace(br,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function da(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Lo(e,_,Le(i)):a!=null?Lo(e,_,Le(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Le(T):e.removeAttribute("name")}function Su(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Yt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Yt(e)}function Lo(e,i,a){i==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vs(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Au(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function Es(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(bt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Yt(e)}function un(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||bu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Uo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Po(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Po(e,d,i[d])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return Ts.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var zo=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,_i=null;function wr(e){var i=Dn(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(da(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ke]||null;if(!h)throw Error(r(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ar(l)}break t;case"textarea":Au(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&vs(e,!!a.multiple,i,!1)}}}var ga=!1;function As(e,i,a){if(ga)return e(i,a);ga=!0;try{var l=e(i);return l}finally{if(ga=!1,(Ss!==null||_i!==null)&&(_c(),Ss&&(i=Ss,e=_i,_i=Ss=null,wr(i),e)))for(i=0;i<e.length;i++)wr(e[i])}}function Zn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ke]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(xn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Rr=!1}var vi=null,jo=null,Ir=null;function Bo(){if(Ir)return Ir;var e,i=jo,a=i.length,l,h="value"in vi?vi.value:vi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ir=h.slice(e,1<l?1-l:void 0)}function Cr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function Jn(){return!1}function He(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:Jn,this.isPropagationStopped=Jn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=He(Gi),bs=A({},Gi,{view:0,detail:0}),Ho=He(bs),ws,ya,Ti,_a=A({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(ws=e.screenX-Ti.screenX,ya=e.screenY-Ti.screenY):ya=ws=0,Ti=e),ws)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),qo=He(_a),Nr=A({},_a,{dataTransfer:0}),Ru=He(Nr),Iu=A({},bs,{relatedTarget:0}),Dr=He(Iu),Fo=A({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=He(Fo),va=A({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nu=He(va),Du=A({},Gi,{data:0}),Si=He(Du),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Mu[e])?!!i[e]:!1}function Rs(){return Vu}var nn=A({},bs,{key:function(e){if(e.key){var i=Ou[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(e){return e.type==="keypress"?Cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ku=He(nn),Lu=A({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=He(Lu),c=A({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),p=He(c),v=A({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=He(v),P=A({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=He(P),it=A({},Gi,{newState:0,oldState:0}),Ct=He(it),me=[9,13,27,32],Ft=xn&&"CompositionEvent"in window,le=null;xn&&"documentMode"in document&&(le=document.documentMode);var Mn=xn&&"TextEvent"in window&&!le,Ai=xn&&(!Ft||le&&8<le&&11>=le),Wn=" ",ti=!1;function Or(e,i){switch(e){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function QS(e,i){switch(e){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(ti=!0,Wn);case"textInput":return e=i.data,e===Wn&&ti?null:e;default:return null}}function YS(e,i){if(Ta)return e==="compositionend"||!Ft&&Or(e,i)?(e=Bo(),Ir=jo=vi=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var XS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!XS[e.type]:i==="textarea"}function zp(e,i,a,l){Ss?_i?_i.push(l):_i=[l]:Ss=l,i=wc(i,"onChange"),0<i.length&&(a=new Ei("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Go=null,Ko=null;function $S(e){T_(e,0)}function Pu(e){var i=_n(e);if(Ar(i))return e}function jp(e,i){if(e==="change")return i}var Bp=!1;if(xn){var Wh;if(xn){var tf="oninput"in document;if(!tf){var Hp=document.createElement("div");Hp.setAttribute("oninput","return;"),tf=typeof Hp.oninput=="function"}Wh=tf}else Wh=!1;Bp=Wh&&(!document.documentMode||9<document.documentMode)}function qp(){Go&&(Go.detachEvent("onpropertychange",Fp),Ko=Go=null)}function Fp(e){if(e.propertyName==="value"&&Pu(Ko)){var i=[];zp(i,Ko,e,On(e)),As($S,i)}}function ZS(e,i,a){e==="focusin"?(qp(),Go=i,Ko=a,Go.attachEvent("onpropertychange",Fp)):e==="focusout"&&qp()}function JS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pu(Ko)}function WS(e,i){if(e==="click")return Pu(i)}function tA(e,i){if(e==="input"||e==="change")return Pu(i)}function eA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:eA;function Qo(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ve.call(i,h)||!En(e[h],i[h]))return!1}return!0}function Gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kp(e,i){var a=Gp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gp(a)}}function Qp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Qp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Yp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=yi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=yi(e.document)}return i}function ef(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var nA=xn&&"documentMode"in document&&11>=document.documentMode,Sa=null,nf=null,Yo=null,sf=!1;function Xp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||Sa==null||Sa!==yi(l)||(l=Sa,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Qo(Yo,l)||(Yo=l,l=wc(nf,"onSelect"),0<l.length&&(i=new Ei("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Sa)))}function xr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Aa={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},rf={},$p={};xn&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Mr(e){if(rf[e])return rf[e];if(!Aa[e])return e;var i=Aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in $p)return rf[e]=i[a];return e}var Zp=Mr("animationend"),Jp=Mr("animationiteration"),Wp=Mr("animationstart"),iA=Mr("transitionrun"),sA=Mr("transitionstart"),rA=Mr("transitioncancel"),tg=Mr("transitionend"),eg=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function ei(e,i){eg.set(e,i),pi(i,[e])}var Uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],ba=0,of=0;function zu(){for(var e=ba,i=of=ba=0;i<e;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&ng(a,h,d)}}function ju(e,i,a,l){Vn[ba++]=e,Vn[ba++]=i,Vn[ba++]=a,Vn[ba++]=l,of|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function lf(e,i,a,l){return ju(e,i,a,l),Bu(e)}function Vr(e,i){return ju(e,null,null,i),Bu(e)}function ng(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-de(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Bu(e){if(50<gl)throw gl=0,yd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var wa={};function aA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,i,a,l){return new aA(e,i,a,l)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,i){var a=e.alternate;return a===null?(a=Tn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ig(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Hu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")uf(e)&&(_=1);else if(typeof e=="string")_=hb(e,a,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=Tn(31,a,i,h),e.elementType=N,e.lanes=d,e;case tt:return kr(a.children,h,d,i);case J:_=8,h|=24;break;case ot:return e=Tn(12,a,i,h|2),e.elementType=ot,e.lanes=d,e;case Bt:return e=Tn(13,a,i,h),e.elementType=Bt,e.lanes=d,e;case Ot:return e=Tn(19,a,i,h),e.elementType=Ot,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:_=10;break t;case pt:_=9;break t;case St:_=11;break t;case D:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=Tn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function kr(e,i,a,l){return e=Tn(7,e,l,i),e.lanes=a,e}function cf(e,i,a){return e=Tn(6,e,null,i),e.lanes=a,e}function sg(e){var i=Tn(18,null,null,0);return i.stateNode=e,i}function hf(e,i,a){return i=Tn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var rg=new WeakMap;function kn(e,i){if(typeof e=="object"&&e!==null){var a=rg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:wo(i)},rg.set(e,i),i)}return{value:e,source:i,stack:wo(i)}}var Ra=[],Ia=0,qu=null,Xo=0,Ln=[],Pn=0,Is=null,bi=1,wi="";function Yi(e,i){Ra[Ia++]=Xo,Ra[Ia++]=qu,qu=e,Xo=i}function ag(e,i,a){Ln[Pn++]=bi,Ln[Pn++]=wi,Ln[Pn++]=Is,Is=e;var l=bi;e=wi;var h=32-de(l)-1;l&=~(1<<h),a+=1;var d=32-de(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,bi=1<<32-de(i)+h|a<<h|l,wi=d+e}else bi=1<<d|a<<h|l,wi=e}function ff(e){e.return!==null&&(Yi(e,1),ag(e,1,0))}function df(e){for(;e===qu;)qu=Ra[--Ia],Ra[Ia]=null,Xo=Ra[--Ia],Ra[Ia]=null;for(;e===Is;)Is=Ln[--Pn],Ln[Pn]=null,wi=Ln[--Pn],Ln[Pn]=null,bi=Ln[--Pn],Ln[Pn]=null}function og(e,i){Ln[Pn++]=bi,Ln[Pn++]=wi,Ln[Pn++]=Is,bi=i.id,wi=i.overflow,Is=e}var qe=null,se=null,zt=!1,Cs=null,Un=!1,mf=Error(r(519));function Ns(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o(kn(i,e)),mf}function lg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Te]=e,i[ke]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<_l.length;a++)Mt(_l[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Su(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),Es(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||w_(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Ns(e,!0)}function ug(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:qe=qe.return}}function Ca(e){if(e!==qe)return!1;if(!zt)return ug(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||xd(e.type,e.memoizedProps)),a=!a),a&&se&&Ns(e),ug(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=V_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=V_(e)}else i===27?(i=se,qs(e.type)?(e=Pd,Pd=null,se=e):se=i):se=qe?jn(e.stateNode.nextSibling):null;return!0}function Lr(){se=qe=null,zt=!1}function pf(){var e=Cs;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Cs=null),e}function $o(e){Cs===null?Cs=[e]:Cs.push(e)}var gf=O(null),Pr=null,Xi=null;function Ds(e,i,a){nt(gf,i._currentValue),i._currentValue=a}function $i(e){e._currentValue=gf.current,G(gf)}function yf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function _f(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),yf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),yf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;En(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===_t.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Al):e=[Al])}h=h.return}e!==null&&_f(i,e,a,l),i.flags|=262144}function Fu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ur(e){Pr=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return cg(Pr,e)}function Gu(e,i){return Pr===null&&Ur(e),cg(e,i)}function cg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(e===null)throw Error(r(308));Xi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Xi=Xi.next=i;return a}var oA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},lA=s.unstable_scheduleCallback,uA=s.unstable_NormalPriority,be={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new oA,data:new Map,refCount:0}}function Zo(e){e.refCount--,e.refCount===0&&lA(uA,function(){e.controller.abort()})}var Jo=null,Ef=0,Da=0,Oa=null;function cA(e,i){if(Jo===null){var a=Jo=[];Ef=0,Da=Ad(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ef++,i.then(hg,hg),i}function hg(){if(--Ef===0&&Jo!==null){Oa!==null&&(Oa.status="fulfilled");var e=Jo;Jo=null,Da=0,Oa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function hA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var fg=B.S;B.S=function(e,i){Xy=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&cA(e,i),fg!==null&&fg(e,i)};var zr=O(null);function Tf(){var e=zr.current;return e!==null?e:ne.pooledCache}function Ku(e,i){i===null?nt(zr,zr.current):nt(zr,i.pool)}function dg(){var e=Tf();return e===null?null:{parent:be._currentValue,pool:e}}var xa=Error(r(460)),Sf=Error(r(474)),Qu=Error(r(542)),Yu={then:function(){}};function mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,yg(e),e;default:if(typeof i.status=="string")i.then($n,$n);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,yg(e),e}throw Br=i,xa}}function jr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Br=a,xa):a}}var Br=null;function gg(){if(Br===null)throw Error(r(459));var e=Br;return Br=null,e}function yg(e){if(e===xa||e===Qu)throw Error(r(483))}var Ma=null,Wo=0;function Xu(e){var i=Wo;return Wo+=1,Ma===null&&(Ma=[]),pg(Ma,e,i)}function tl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function $u(e,i){throw i.$$typeof===R?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function _g(e){function i(k,x){if(e){var U=k.deletions;U===null?(k.deletions=[x],k.flags|=16):U.push(x)}}function a(k,x){if(!e)return null;for(;x!==null;)i(k,x),x=x.sibling;return null}function l(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Qi(k,x),k.index=0,k.sibling=null,k}function d(k,x,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<x?(k.flags|=67108866,x):U):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,x,U,Q){return x===null||x.tag!==6?(x=cf(U,k.mode,Q),x.return=k,x):(x=h(x,U),x.return=k,x)}function C(k,x,U,Q){var dt=U.type;return dt===tt?K(k,x,U.props.children,Q,U.key):x!==null&&(x.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&jr(dt)===x.type)?(x=h(x,U.props),tl(x,U),x.return=k,x):(x=Hu(U.type,U.key,U.props,null,k.mode,Q),tl(x,U),x.return=k,x)}function z(k,x,U,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=hf(U,k.mode,Q),x.return=k,x):(x=h(x,U.children||[]),x.return=k,x)}function K(k,x,U,Q,dt){return x===null||x.tag!==7?(x=kr(U,k.mode,Q,dt),x.return=k,x):(x=h(x,U),x.return=k,x)}function Y(k,x,U){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=cf(""+x,k.mode,U),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case j:return U=Hu(x.type,x.key,x.props,null,k.mode,U),tl(U,x),U.return=k,U;case X:return x=hf(x,k.mode,U),x.return=k,x;case b:return x=jr(x),Y(k,x,U)}if(bt(x)||L(x))return x=kr(x,k.mode,U,null),x.return=k,x;if(typeof x.then=="function")return Y(k,Xu(x),U);if(x.$$typeof===ut)return Y(k,Gu(k,x),U);$u(k,x)}return null}function H(k,x,U,Q){var dt=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return dt!==null?null:T(k,x,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return U.key===dt?C(k,x,U,Q):null;case X:return U.key===dt?z(k,x,U,Q):null;case b:return U=jr(U),H(k,x,U,Q)}if(bt(U)||L(U))return dt!==null?null:K(k,x,U,Q,null);if(typeof U.then=="function")return H(k,x,Xu(U),Q);if(U.$$typeof===ut)return H(k,x,Gu(k,U),Q);$u(k,U)}return null}function F(k,x,U,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(U)||null,T(x,k,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return k=k.get(Q.key===null?U:Q.key)||null,C(x,k,Q,dt);case X:return k=k.get(Q.key===null?U:Q.key)||null,z(x,k,Q,dt);case b:return Q=jr(Q),F(k,x,U,Q,dt)}if(bt(Q)||L(Q))return k=k.get(U)||null,K(x,k,Q,dt,null);if(typeof Q.then=="function")return F(k,x,U,Xu(Q),dt);if(Q.$$typeof===ut)return F(k,x,U,Gu(x,Q),dt);$u(x,Q)}return null}function lt(k,x,U,Q){for(var dt=null,Ht=null,ht=x,Dt=x=0,kt=null;ht!==null&&Dt<U.length;Dt++){ht.index>Dt?(kt=ht,ht=null):kt=ht.sibling;var qt=H(k,ht,U[Dt],Q);if(qt===null){ht===null&&(ht=kt);break}e&&ht&&qt.alternate===null&&i(k,ht),x=d(qt,x,Dt),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt,ht=kt}if(Dt===U.length)return a(k,ht),zt&&Yi(k,Dt),dt;if(ht===null){for(;Dt<U.length;Dt++)ht=Y(k,U[Dt],Q),ht!==null&&(x=d(ht,x,Dt),Ht===null?dt=ht:Ht.sibling=ht,Ht=ht);return zt&&Yi(k,Dt),dt}for(ht=l(ht);Dt<U.length;Dt++)kt=F(ht,k,Dt,U[Dt],Q),kt!==null&&(e&&kt.alternate!==null&&ht.delete(kt.key===null?Dt:kt.key),x=d(kt,x,Dt),Ht===null?dt=kt:Ht.sibling=kt,Ht=kt);return e&&ht.forEach(function(Ys){return i(k,Ys)}),zt&&Yi(k,Dt),dt}function yt(k,x,U,Q){if(U==null)throw Error(r(151));for(var dt=null,Ht=null,ht=x,Dt=x=0,kt=null,qt=U.next();ht!==null&&!qt.done;Dt++,qt=U.next()){ht.index>Dt?(kt=ht,ht=null):kt=ht.sibling;var Ys=H(k,ht,qt.value,Q);if(Ys===null){ht===null&&(ht=kt);break}e&&ht&&Ys.alternate===null&&i(k,ht),x=d(Ys,x,Dt),Ht===null?dt=Ys:Ht.sibling=Ys,Ht=Ys,ht=kt}if(qt.done)return a(k,ht),zt&&Yi(k,Dt),dt;if(ht===null){for(;!qt.done;Dt++,qt=U.next())qt=Y(k,qt.value,Q),qt!==null&&(x=d(qt,x,Dt),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt);return zt&&Yi(k,Dt),dt}for(ht=l(ht);!qt.done;Dt++,qt=U.next())qt=F(ht,k,Dt,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&ht.delete(qt.key===null?Dt:qt.key),x=d(qt,x,Dt),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt);return e&&ht.forEach(function(Sb){return i(k,Sb)}),zt&&Yi(k,Dt),dt}function ee(k,x,U,Q){if(typeof U=="object"&&U!==null&&U.type===tt&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case j:t:{for(var dt=U.key;x!==null;){if(x.key===dt){if(dt=U.type,dt===tt){if(x.tag===7){a(k,x.sibling),Q=h(x,U.props.children),Q.return=k,k=Q;break t}}else if(x.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&jr(dt)===x.type){a(k,x.sibling),Q=h(x,U.props),tl(Q,U),Q.return=k,k=Q;break t}a(k,x);break}else i(k,x);x=x.sibling}U.type===tt?(Q=kr(U.props.children,k.mode,Q,U.key),Q.return=k,k=Q):(Q=Hu(U.type,U.key,U.props,null,k.mode,Q),tl(Q,U),Q.return=k,k=Q)}return _(k);case X:t:{for(dt=U.key;x!==null;){if(x.key===dt)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){a(k,x.sibling),Q=h(x,U.children||[]),Q.return=k,k=Q;break t}else{a(k,x);break}else i(k,x);x=x.sibling}Q=hf(U,k.mode,Q),Q.return=k,k=Q}return _(k);case b:return U=jr(U),ee(k,x,U,Q)}if(bt(U))return lt(k,x,U,Q);if(L(U)){if(dt=L(U),typeof dt!="function")throw Error(r(150));return U=dt.call(U),yt(k,x,U,Q)}if(typeof U.then=="function")return ee(k,x,Xu(U),Q);if(U.$$typeof===ut)return ee(k,x,Gu(k,U),Q);$u(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,x!==null&&x.tag===6?(a(k,x.sibling),Q=h(x,U),Q.return=k,k=Q):(a(k,x),Q=cf(U,k.mode,Q),Q.return=k,k=Q),_(k)):a(k,x)}return function(k,x,U,Q){try{Wo=0;var dt=ee(k,x,U,Q);return Ma=null,dt}catch(ht){if(ht===xa||ht===Qu)throw ht;var Ht=Tn(29,ht,null,k.mode);return Ht.lanes=Q,Ht.return=k,Ht}finally{}}}var Hr=_g(!0),vg=_g(!1),Os=!1;function Af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(e),ng(e,null,a),i}return ju(e,l,i,a),Bu(e)}function el(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Co(e,a)}}function wf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Rf=!1;function nl(){if(Rf){var e=Oa;if(e!==null)throw e}}function il(e,i,a,l){Rf=!1;var h=e.updateQueue;Os=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,_===null?d=z:_.next=z,_=C;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=C))}if(d!==null){var Y=h.baseState;_=0,K=z=C=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Vt&H)===H:(l&H)===H){H!==0&&H===Da&&(Rf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,yt=T;H=i;var ee=a;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){Y=lt.call(ee,Y,H);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,H=typeof lt=="function"?lt.call(ee,Y,H):lt,H==null)break t;Y=A({},Y,H);break t;case 2:Os=!0}}H=T.callback,H!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=F,C=Y):K=K.next=F,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Us|=_,e.lanes=_,e.memoizedState=Y}}function Eg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Tg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Eg(a[e],i)}var Va=O(null),Zu=O(0);function Sg(e,i){e=rs,nt(Zu,e),nt(Va,i),rs=e|i.baseLanes}function If(){nt(Zu,rs),nt(Va,Va.current)}function Cf(){rs=Zu.current,G(Va),G(Zu)}var Sn=O(null),zn=null;function Vs(e){var i=e.alternate;nt(pe,pe.current&1),nt(Sn,e),zn===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(zn=e)}function Nf(e){nt(pe,pe.current),nt(Sn,e),zn===null&&(zn=e)}function Ag(e){e.tag===22?(nt(pe,pe.current),nt(Sn,e),zn===null&&(zn=e)):ks()}function ks(){nt(pe,pe.current),nt(Sn,Sn.current)}function An(e){G(Sn),zn===e&&(zn=null),G(pe)}var pe=O(0);function Ju(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Ld(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zi=0,Nt=null,Wt=null,we=null,Wu=!1,ka=!1,qr=!1,tc=0,sl=0,La=null,fA=0;function he(){throw Error(r(321))}function Df(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!En(e[a],i[a]))return!1;return!0}function Of(e,i,a,l,h,d){return Zi=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=e===null||e.memoizedState===null?ay:Kf,qr=!1,d=a(l,h),qr=!1,ka&&(d=wg(i,a,l,h)),bg(e),d}function bg(e){B.H=ol;var i=Wt!==null&&Wt.next!==null;if(Zi=0,we=Wt=Nt=null,Wu=!1,sl=0,La=null,i)throw Error(r(300));e===null||Re||(e=e.dependencies,e!==null&&Fu(e)&&(Re=!0))}function wg(e,i,a,l){Nt=e;var h=0;do{if(ka&&(La=null),sl=0,ka=!1,25<=h)throw Error(r(301));if(h+=1,we=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=oy,d=i(a,l)}while(ka);return d}function dA(){var e=B.H,i=e.useState()[0];return i=typeof i.then=="function"?rl(i):i,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Nt.flags|=1024),i}function xf(){var e=tc!==0;return tc=0,e}function Mf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Vf(e){if(Wu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Wu=!1}Zi=0,we=Wt=Nt=null,ka=!1,sl=tc=0,La=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Nt.memoizedState=we=e:we=we.next=e,we}function ge(){if(Wt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var i=we===null?Nt.memoizedState:we.next;if(i!==null)we=i,Wt=e;else{if(e===null)throw Nt.alternate===null?Error(r(467)):Error(r(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},we===null?Nt.memoizedState=we=e:we=we.next=e}return we}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(e){var i=sl;return sl+=1,La===null&&(La=[]),e=pg(La,e,i),i=Nt,(we===null?i.memoizedState:we.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?ay:Kf),e}function nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rl(e);if(e.$$typeof===ut)return Fe(e)}throw Error(r(438,String(e)))}function kf(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ec(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Ji(e,i){return typeof i=="function"?i(e):i}function ic(e){var i=ge();return Lf(i,Wt,e)}function Lf(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,C=null,z=i,K=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Vt&Y)===Y:(Zi&Y)===Y){var H=z.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Da&&(K=!0);else if((Zi&H)===H){z=z.next,H===Da&&(K=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=Y,_=d):C=C.next=Y,Nt.lanes|=H,Us|=H;Y=z.action,qr&&a(d,Y),d=z.hasEagerState?z.eagerState:a(d,Y)}else H={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=H,_=d):C=C.next=H,Nt.lanes|=Y,Us|=Y;z=z.next}while(z!==null&&z!==i);if(C===null?_=d:C.next=T,!En(d,e.memoizedState)&&(Re=!0,K&&(a=Oa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Pf(e){var i=ge(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);En(d,i.memoizedState)||(Re=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Rg(e,i,a){var l=Nt,h=ge(),d=zt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!En((Wt||h).memoizedState,a);if(_&&(h.memoizedState=a,Re=!0),h=h.queue,jf(Ng.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,Pa(9,{destroy:void 0},Cg.bind(null,l,h,a,i),null),ne===null)throw Error(r(349));d||(Zi&127)!==0||Ig(l,i,a)}return a}function Ig(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=ec(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Cg(e,i,a,l){i.value=a,i.getSnapshot=l,Dg(i)&&Og(e)}function Ng(e,i,a){return a(function(){Dg(i)&&Og(e)})}function Dg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!En(e,a)}catch{return!0}}function Og(e){var i=Vr(e,2);i!==null&&mn(i,e,2)}function Uf(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),qr){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},i}function xg(e,i,a,l){return e.baseState=a,Lf(e,Wt,typeof l=="function"?l:Ji)}function mA(e,i,a,l,h){if(ac(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};B.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Mg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Mg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=B.T,_={};B.T=_;try{var T=a(h,l),C=B.S;C!==null&&C(_,T),Vg(e,i,T)}catch(z){zf(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),B.T=d}}else try{d=a(h,l),Vg(e,i,d)}catch(z){zf(e,i,z)}}function Vg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){kg(e,i,l)},function(l){return zf(e,i,l)}):kg(e,i,a)}function kg(e,i,a){i.status="fulfilled",i.value=a,Lg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Mg(e,a)))}function zf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Lg(i),i=i.next;while(i!==l)}e.action=null}function Lg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Pg(e,i){return i}function Ug(e,i){if(zt){var a=ne.formState;if(a!==null){t:{var l=Nt;if(zt){if(se){e:{for(var h=se,d=Un;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){se=jn(h.nextSibling),l=h.data==="F!";break t}}Ns(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:i},a.queue=l,a=iy.bind(null,Nt,l),l.dispatch=a,l=Uf(!1),d=Gf.bind(null,Nt,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=mA.bind(null,Nt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function zg(e){var i=ge();return jg(i,Wt,e)}function jg(e,i,a){if(i=Lf(e,i,Pg)[0],e=ic(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=rl(i)}catch(_){throw _===xa?Qu:_}else l=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,Pa(9,{destroy:void 0},pA.bind(null,h,a),null)),[l,d,e]}function pA(e,i){e.action=i}function Bg(e){var i=ge(),a=Wt;if(a!==null)return jg(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Pa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=ec(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Hg(){return ge().memoizedState}function sc(e,i,a,l){var h=sn();Nt.flags|=e,h.memoizedState=Pa(1|i,{destroy:void 0},a,l===void 0?null:l)}function rc(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Wt!==null&&l!==null&&Df(l,Wt.memoizedState.deps)?h.memoizedState=Pa(i,d,a,l):(Nt.flags|=e,h.memoizedState=Pa(1|i,d,a,l))}function qg(e,i){sc(8390656,8,e,i)}function jf(e,i){rc(2048,8,e,i)}function gA(e){Nt.flags|=4;var i=Nt.updateQueue;if(i===null)i=ec(),Nt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Fg(e){var i=ge().memoizedState;return gA({ref:i,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Gg(e,i){return rc(4,2,e,i)}function Kg(e,i){return rc(4,4,e,i)}function Qg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Yg(e,i,a){a=a!=null?a.concat([e]):null,rc(4,4,Qg.bind(null,i,e),a)}function Bf(){}function Xg(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Df(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function $g(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Df(i,l[1]))return l[0];if(l=e(),qr){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function Hf(e,i,a){return a===void 0||(Zi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Zy(),Nt.lanes|=e,Us|=e,a)}function Zg(e,i,a,l){return En(a,i)?a:Va.current!==null?(e=Hf(e,a,l),En(e,i)||(Re=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(Vt&261930)===0?(Re=!0,e.memoizedState=a):(e=Zy(),Nt.lanes|=e,Us|=e,i)}function Jg(e,i,a,l,h){var d=$.p;$.p=d!==0&&8>d?d:8;var _=B.T,T={};B.T=T,Gf(e,!1,i,a);try{var C=h(),z=B.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=hA(C,l);al(e,i,K,Rn(e))}else al(e,i,l,Rn(e))}catch(Y){al(e,i,{then:function(){},status:"rejected",reason:Y},Rn())}finally{$.p=d,_!==null&&T.types!==null&&(_.types=T.types),B.T=_}}function yA(){}function qf(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=Wg(e).queue;Jg(e,h,i,rt,a===null?yA:function(){return ty(e),a(l)})}function Wg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:rt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ty(e){var i=Wg(e);i.next===null&&(i=e.alternate.memoizedState),al(e,i.next.queue,{},Rn())}function Ff(){return Fe(Al)}function ey(){return ge().memoizedState}function ny(){return ge().memoizedState}function _A(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();e=xs(a);var l=Ms(i,e,a);l!==null&&(mn(l,i,a),el(l,i,a)),i={cache:vf()},e.payload=i;return}i=i.return}}function vA(e,i,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(e)?sy(i,a):(a=lf(e,i,a,l),a!==null&&(mn(a,e,l),ry(a,i,l)))}function iy(e,i,a){var l=Rn();al(e,i,a,l)}function al(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(e))sy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,_))return ju(e,i,h,0),ne===null&&zu(),!1}catch{}finally{}if(a=lf(e,i,h,l),a!==null)return mn(a,e,l),ry(a,i,l),!0}return!1}function Gf(e,i,a,l){if(l={lane:2,revertLane:Ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ac(e)){if(i)throw Error(r(479))}else i=lf(e,a,l,2),i!==null&&mn(i,e,2)}function ac(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function sy(e,i){ka=Wu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ry(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Co(e,a)}}var ol={readContext:Fe,use:nc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};ol.useEffectEvent=he;var ay={readContext:Fe,use:nc,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:qg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,sc(4194308,4,Qg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return sc(4194308,4,e,i)},useInsertionEffect:function(e,i){sc(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(qr){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(qr){Nn(!0);try{a(i)}finally{Nn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=vA.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Uf(e);var i=e.queue,a=iy.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(e,i){var a=sn();return Hf(a,e,i)},useTransition:function(){var e=Uf(!1);return e=Jg.bind(null,Nt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Nt,h=sn();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ne===null)throw Error(r(349));(Vt&127)!==0||Ig(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,qg(Ng.bind(null,l,d,e),[e]),l.flags|=2048,Pa(9,{destroy:void 0},Cg.bind(null,l,d,a,i),null),a},useId:function(){var e=sn(),i=ne.identifierPrefix;if(zt){var a=wi,l=bi;a=(l&~(1<<32-de(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=tc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=fA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Ff,useFormState:Ug,useActionState:Ug,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gf.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:kf,useCacheRefresh:function(){return sn().memoizedState=_A.bind(null,Nt)},useEffectEvent:function(e){var i=sn(),a={impl:e};return i.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:Fe,use:nc,useCallback:Xg,useContext:Fe,useEffect:jf,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:Kg,useMemo:$g,useReducer:ic,useRef:Hg,useState:function(){return ic(Ji)},useDebugValue:Bf,useDeferredValue:function(e,i){var a=ge();return Zg(a,Wt.memoizedState,e,i)},useTransition:function(){var e=ic(Ji)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:rl(e),i]},useSyncExternalStore:Rg,useId:ey,useHostTransitionStatus:Ff,useFormState:zg,useActionState:zg,useOptimistic:function(e,i){var a=ge();return xg(a,Wt,e,i)},useMemoCache:kf,useCacheRefresh:ny};Kf.useEffectEvent=Fg;var oy={readContext:Fe,use:nc,useCallback:Xg,useContext:Fe,useEffect:jf,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:Kg,useMemo:$g,useReducer:Pf,useRef:Hg,useState:function(){return Pf(Ji)},useDebugValue:Bf,useDeferredValue:function(e,i){var a=ge();return Wt===null?Hf(a,e,i):Zg(a,Wt.memoizedState,e,i)},useTransition:function(){var e=Pf(Ji)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:rl(e),i]},useSyncExternalStore:Rg,useId:ey,useHostTransitionStatus:Ff,useFormState:Bg,useActionState:Bg,useOptimistic:function(e,i){var a=ge();return Wt!==null?xg(a,Wt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:ny};oy.useEffectEvent=Fg;function Qf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=xs(l);h.payload=i,a!=null&&(h.callback=a),i=Ms(e,h,l),i!==null&&(mn(i,e,l),el(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=xs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ms(e,h,l),i!==null&&(mn(i,e,l),el(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Rn(),l=xs(a);l.tag=2,i!=null&&(l.callback=i),i=Ms(e,l,a),i!==null&&(mn(i,e,a),el(i,e,a))}};function ly(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function uy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Yf.enqueueReplaceState(i,i.state,null)}function Fr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function cy(e){Uu(e)}function hy(e){console.error(e)}function fy(e){Uu(e)}function oc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function dy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(e,i,a){return a=xs(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(e,i)},a}function my(e){return e=xs(e),e.tag=3,e}function py(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){dy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){dy(i,a,l),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function EA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?vc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ed(e,l,h)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ed(e,l,h)),!1}throw Error(r(435,a.tag))}return Ed(e,l,h),vc(),!1}if(zt)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==mf&&(e=Error(r(422),{cause:l}),$o(kn(e,a)))):(l!==mf&&(i=Error(r(423),{cause:l}),$o(kn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=kn(l,a),h=Xf(e.stateNode,l,h),wf(e,h),fe!==4&&(fe=2)),!1;var d=Error(r(520),{cause:l});if(d=kn(d,a),pl===null?pl=[d]:pl.push(d),fe!==4&&(fe=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Xf(a.stateNode,l,e),wf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zs===null||!zs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=my(h),py(h,e,a,l),wf(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(r(461)),Re=!1;function Ge(e,i,a,l){i.child=e===null?vg(i,null,a,l):Hr(i,e.child,a,l)}function gy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ur(i),l=Of(e,i,a,_,d,h),T=xf(),e!==null&&!Re?(Mf(e,i,h),Wi(e,i,h)):(zt&&T&&ff(i),i.flags|=1,Ge(e,i,l,h),i.child)}function yy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!uf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,_y(e,i,d,l,h)):(e=Hu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!sd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(_,l)&&e.ref===i.ref)return Wi(e,i,h)}return i.flags|=1,e=Qi(d,l),e.ref=i.ref,e.return=i,i.child=e}function _y(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Qo(d,l)&&e.ref===i.ref)if(Re=!1,i.pendingProps=l=d,sd(e,h))(e.flags&131072)!==0&&(Re=!0);else return i.lanes=e.lanes,Wi(e,i,h)}return Zf(e,i,a,l,h)}function vy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ey(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ku(i,d!==null?d.cachePool:null),d!==null?Sg(i,d):If(),Ag(i);else return l=i.lanes=536870912,Ey(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ku(i,d.cachePool),Sg(i,d),ks(),i.memoizedState=null):(e!==null&&Ku(i,null),If(),ks());return Ge(e,i,h,a),i.child}function ll(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ey(e,i,a,l,h){var d=Tf();return d=d===null?null:{parent:be._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Ku(i,null),If(),Ag(i),e!==null&&Na(e,i,l,!0),i.childLanes=h,null}function lc(e,i){return i=cc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Ty(e,i,a){return Hr(i,e.child,null,a),e=lc(i,i.pendingProps),e.flags|=2,An(i),i.memoizedState=null,e}function TA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=lc(i,l),i.lanes=536870912,ll(null,e);if(Nf(i),(e=se)?(e=M_(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Is!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=sg(e),a.return=i,i.child=a,qe=i,se=null)):e=null,e===null)throw Ns(i);return i.lanes=536870912,null}return lc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Nf(i),h)if(i.flags&256)i.flags&=-257,i=Ty(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Re||Na(e,i,a,!1),h=(a&e.childLanes)!==0,Re||h){if(l=ne,l!==null&&(_=No(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Vr(e,_),mn(l,e,_),$f;vc(),i=Ty(e,i,a)}else e=d.treeContext,se=jn(_.nextSibling),qe=i,zt=!0,Cs=null,Un=!1,e!==null&&og(i,e),i=lc(i,l),i.flags|=4096;return i}return e=Qi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function uc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Zf(e,i,a,l,h){return Ur(i),a=Of(e,i,a,l,void 0,h),l=xf(),e!==null&&!Re?(Mf(e,i,h),Wi(e,i,h)):(zt&&l&&ff(i),i.flags|=1,Ge(e,i,a,h),i.child)}function Sy(e,i,a,l,h,d){return Ur(i),i.updateQueue=null,a=wg(i,l,a,h),bg(e),l=xf(),e!==null&&!Re?(Mf(e,i,d),Wi(e,i,d)):(zt&&l&&ff(i),i.flags|=1,Ge(e,i,a,d),i.child)}function Ay(e,i,a,l,h){if(Ur(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Fe(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Af(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Fe(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Yf.enqueueReplaceState(d,d.state,null),il(i,l,d,h),nl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,C=Fr(a,T);d.props=C;var z=d.context,K=a.contextType;_=wa,typeof K=="object"&&K!==null&&(_=Fe(K));var Y=a.getDerivedStateFromProps;K=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&uy(i,d,l,_),Os=!1;var H=i.memoizedState;d.state=H,il(i,l,d,h),nl(),z=i.memoizedState,T||H!==z||Os?(typeof Y=="function"&&(Qf(i,a,Y,l),z=i.memoizedState),(C=Os||ly(i,a,C,l,H,z,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,bf(e,i),_=i.memoizedProps,K=Fr(a,_),d.props=K,Y=i.pendingProps,H=d.context,z=a.contextType,C=wa,typeof z=="object"&&z!==null&&(C=Fe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Y||H!==C)&&uy(i,d,l,C),Os=!1,H=i.memoizedState,d.state=H,il(i,l,d,h),nl();var F=i.memoizedState;_!==Y||H!==F||Os||e!==null&&e.dependencies!==null&&Fu(e.dependencies)?(typeof T=="function"&&(Qf(i,a,T,l),F=i.memoizedState),(K=Os||ly(i,a,K,l,H,F,C)||e!==null&&e.dependencies!==null&&Fu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,uc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Hr(i,e.child,null,h),i.child=Hr(i,null,a,h)):Ge(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Wi(e,i,h),e}function by(e,i,a,l){return Lr(),i.flags|=256,Ge(e,i,a,l),i.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(e){return{baseLanes:e,cachePool:dg()}}function td(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=wn),e}function wy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?Vs(i):ks(),(e=se)?(e=M_(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Is!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=sg(e),a.return=i,i.child=a,qe=i,se=null)):e=null,e===null)throw Ns(i);return Ld(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(ks(),h=i.mode,T=cc({mode:"hidden",children:T},h),l=kr(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Wf(a),l.childLanes=td(e,_,a),i.memoizedState=Jf,ll(null,l)):(Vs(i),ed(i,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Vs(i),i.flags&=-257,i=nd(e,i,a)):i.memoizedState!==null?(ks(),i.child=e.child,i.flags|=128,i=null):(ks(),T=l.fallback,h=i.mode,l=cc({mode:"visible",children:l.children},h),T=kr(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Hr(i,e.child,null,a),l=i.child,l.memoizedState=Wf(a),l.childLanes=td(e,_,a),i.memoizedState=Jf,i=ll(null,l));else if(Vs(i),Ld(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,$o({value:l,source:null,stack:null}),i=nd(e,i,a)}else if(Re||Na(e,i,a,!1),_=(a&e.childLanes)!==0,Re||_){if(_=ne,_!==null&&(l=No(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Vr(e,l),mn(_,e,l),$f;kd(T)||vc(),i=nd(e,i,a)}else kd(T)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,se=jn(T.nextSibling),qe=i,zt=!0,Cs=null,Un=!1,e!==null&&og(i,e),i=ed(i,l.children),i.flags|=4096);return i}return h?(ks(),T=l.fallback,h=i.mode,C=e.child,z=C.sibling,l=Qi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=Qi(z,T):(T=kr(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ll(null,l),l=i.child,T=e.child.memoizedState,T===null?T=Wf(a):(h=T.cachePool,h!==null?(C=be._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=dg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=td(e,_,a),i.memoizedState=Jf,ll(e.child,l)):(Vs(i),a=e.child,e=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function ed(e,i){return i=cc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function cc(e,i){return e=Tn(22,e,null,i),e.lanes=0,e}function nd(e,i,a){return Hr(i,e.child,null,a),e=ed(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ry(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),yf(e.return,i,a)}function id(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Iy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pe.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,nt(pe,_),Ge(e,i,l,a),l=zt?Xo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ry(e,a,i);else if(e.tag===19)Ry(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Ju(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),id(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Ju(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}id(i,!0,a,null,d,l);break;case"together":id(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Us|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Na(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Qi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Qi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function sd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Fu(e)))}function SA(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),Ds(i,be,e.memoizedState.cache),Lr();break;case 27:case 5:Cn(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:Ds(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Nf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?wy(e,i,a):(Vs(i),e=Wi(e,i,a),e!==null?e.sibling:null);Vs(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Na(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Iy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(pe,pe.current),l)break;return null;case 22:return i.lanes=0,vy(e,i,a,i.pendingProps);case 24:Ds(i,be,e.memoizedState.cache)}return Wi(e,i,a)}function Cy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Re=!0;else{if(!sd(e,a)&&(i.flags&128)===0)return Re=!1,SA(e,i,a);Re=(e.flags&131072)!==0}else Re=!1,zt&&(i.flags&1048576)!==0&&ag(i,Xo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=jr(i.elementType),i.type=e,typeof e=="function")uf(e)?(l=Fr(e,l),i.tag=1,i=Ay(null,i,e,l,a)):(i.tag=0,i=Zf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===St){i.tag=11,i=gy(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=yy(null,i,e,l,a);break t}}throw i=ie(e)||e,Error(r(306,i,""))}}return i;case 0:return Zf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Fr(l,i.pendingProps),Ay(e,i,l,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,bf(e,i),il(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ds(i,be,l),l!==d.cache&&_f(i,[be],a,!0),nl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=by(e,i,l,a);break t}else if(l!==h){h=kn(Error(r(424)),i),$o(h),i=by(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(se=jn(e.firstChild),qe=i,zt=!0,Cs=null,Un=!0,a=vg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Lr(),l===h){i=Wi(e,i,a);break t}Ge(e,i,l,a)}i=i.child}return i;case 26:return uc(e,i),e===null?(a=z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=Rc(gt.current).createElement(a),l[Te]=i,l[ke]=e,Ke(l,a,e),Se(l),i.stateNode=l):i.memoizedState=z_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Cn(i),e===null&&zt&&(l=i.stateNode=L_(i.type,i.pendingProps,gt.current),qe=i,Un=!0,h=se,qs(i.type)?(Pd=h,se=jn(l.firstChild)):se=h),Ge(e,i,i.pendingProps.children,a),uc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=l=se)&&(l=JA(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,qe=i,se=jn(l.firstChild),Un=!1,h=!0):h=!1),h||Ns(i)),Cn(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,xd(h,d)?l=null:_!==null&&xd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Of(e,i,dA,null,null,a),Al._currentValue=h),uc(e,i),Ge(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=se)&&(a=WA(a,i.pendingProps,Un),a!==null?(i.stateNode=a,qe=i,se=null,e=!0):e=!1),e||Ns(i)),null;case 13:return wy(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Hr(i,null,l,a):Ge(e,i,l,a),i.child;case 11:return gy(e,i,i.type,i.pendingProps,a);case 7:return Ge(e,i,i.pendingProps,a),i.child;case 8:return Ge(e,i,i.pendingProps.children,a),i.child;case 12:return Ge(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ds(i,i.type,l.value),Ge(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ur(i),h=Fe(h),l=l(h),i.flags|=1,Ge(e,i,l,a),i.child;case 14:return yy(e,i,i.type,i.pendingProps,a);case 15:return _y(e,i,i.type,i.pendingProps,a);case 19:return Iy(e,i,a);case 31:return TA(e,i,a);case 22:return vy(e,i,a,i.pendingProps);case 24:return Ur(i),l=Fe(be),e===null?(h=Tf(),h===null&&(h=ne,d=vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Af(i),Ds(i,be,h)):((e.lanes&a)!==0&&(bf(e,i),il(i,null,null,a),nl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ds(i,be,l)):(l=d.cache,Ds(i,be,l),l!==h.cache&&_f(i,[be],a,!0))),Ge(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ts(e){e.flags|=4}function rd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(e_())e.flags|=8192;else throw Br=Yu,Sf}else e.flags&=-16777217}function Ny(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!F_(i))if(e_())e.flags|=8192;else throw Br=Yu,Sf}function hc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?yu():536870912,e.lanes|=i,Ba|=i)}function ul(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function AA(e,i,a){var l=i.pendingProps;switch(df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(be),Qt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ca(i)?ts(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pf())),re(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(ts(i),d!==null?(re(i),Ny(i,d)):(re(i),rd(i,h,null,l,a))):d?d!==e.memoizedState?(ts(i),re(i),Ny(i,d)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&ts(i),re(i),rd(i,h,e,l,a)),null;case 27:if(Gn(i),a=gt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ts(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return re(i),null}e=et.current,Ca(i)?lg(i):(e=L_(h,l,a),i.stateNode=e,ts(i))}return re(i),null;case 5:if(Gn(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ts(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return re(i),null}if(d=et.current,Ca(i))lg(i);else{var _=Rc(gt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Te]=i,d[ke]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ke(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ts(i)}}return re(i),rd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ts(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=gt.current,Ca(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||w_(e.nodeValue,a)),e||Ns(i,!0)}else e=Rc(e).createTextNode(l),e[Te]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ca(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Te]=i}else Lr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(r(558))}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ca(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Te]=i}else Lr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),re(i),null);case 4:return Qt(),e===null&&Id(i.stateNode.containerInfo),re(i),null;case 10:return $i(i.type),re(i),null;case 19:if(G(pe),l=i.memoizedState,l===null)return re(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ul(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Ju(e),d!==null){for(i.flags|=128,ul(l,!1),e=d.updateQueue,i.updateQueue=e,hc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ig(a,e),a=a.sibling;return nt(pe,pe.current&1|2),zt&&Yi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&en()>gc&&(i.flags|=128,h=!0,ul(l,!1),i.lanes=4194304)}else{if(!h)if(e=Ju(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,hc(i,e),ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return re(i),null}else 2*en()-l.renderingStartTime>gc&&a!==536870912&&(i.flags|=128,h=!0,ul(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=en(),e.sibling=null,a=pe.current,nt(pe,h?a&1|2:a&1),zt&&Yi(i,l.treeForkCount),e):(re(i),null);case 22:case 23:return An(i),Cf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&G(zr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(be),re(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function bA(e,i){switch(df(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return $i(be),Qt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Gn(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(r(340));Lr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(An(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Lr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return G(pe),null;case 4:return Qt(),null;case 10:return $i(i.type),null;case 22:case 23:return An(i),Cf(),e!==null&&G(zr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return $i(be),null;case 25:return null;default:return null}}function Dy(e,i){switch(df(i),i.tag){case 3:$i(be),Qt();break;case 26:case 27:case 5:Gn(i);break;case 4:Qt();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:G(pe);break;case 10:$i(i.type);break;case 22:case 23:An(i),Cf(),e!==null&&G(zr);break;case 24:$i(be)}}function cl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function Ls(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,z=T;try{z()}catch(K){$t(h,C,K)}}}l=l.next}while(l!==d)}}catch(K){$t(i,i.return,K)}}function Oy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Tg(i,a)}catch(l){$t(e,e.return,l)}}}function xy(e,i,a){a.props=Fr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function hl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function Ri(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function My(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function ad(e,i,a){try{var l=e.stateNode;KA(l,e.type,a,i),l[ke]=i}catch(h){$t(e,e.return,h)}}function Vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qs(e.type)||e.tag===4}function od(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ld(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&qs(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ld(e,i,a),e=e.sibling;e!==null;)ld(e,i,a),e=e.sibling}function fc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&qs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(fc(e,i,a),e=e.sibling;e!==null;)fc(e,i,a),e=e.sibling}function ky(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ke(i,l,a),i[Te]=e,i[ke]=a}catch(d){$t(e,e.return,d)}}var es=!1,Ie=!1,ud=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function wA(e,i){if(e=e.containerInfo,Dd=Mc,e=Yp(e),ef(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,C=-1,z=0,K=0,Y=e,H=null;e:for(;;){for(var F;Y!==a||h!==0&&Y.nodeType!==3||(T=_+h),Y!==d||l!==0&&Y.nodeType!==3||(C=_+l),Y.nodeType===3&&(_+=Y.nodeValue.length),(F=Y.firstChild)!==null;)H=Y,Y=F;for(;;){if(Y===e)break e;if(H===a&&++z===h&&(T=_),H===d&&++K===l&&(C=_),(F=Y.nextSibling)!==null)break;Y=H,H=Y.parentNode}Y=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:e,selectionRange:a},Mc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var lt=Fr(a.type,h);e=l.getSnapshotBeforeUpdate(lt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){$t(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function Py(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:is(e,a),l&4&&cl(5,a);break;case 1:if(is(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){$t(a,a.return,_)}else{var h=Fr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}l&64&&Oy(a),l&512&&hl(a,a.return);break;case 3:if(is(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Tg(e,i)}catch(_){$t(a,a.return,_)}}break;case 27:i===null&&l&4&&ky(a);case 26:case 5:is(e,a),i===null&&l&4&&My(a),l&512&&hl(a,a.return);break;case 12:is(e,a);break;case 31:is(e,a),l&4&&jy(e,a);break;case 13:is(e,a),l&4&&By(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=VA.bind(null,a),tb(e,a))));break;case 22:if(l=a.memoizedState!==null||es,!l){i=i!==null&&i.memoizedState!==null||Ie,h=es;var d=Ie;es=l,(Ie=i)&&!d?ss(e,a,(a.subtreeFlags&8772)!==0):is(e,a),es=h,Ie=d}break;case 30:break;default:is(e,a)}}function Uy(e){var i=e.alternate;i!==null&&(e.alternate=null,Uy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ha(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,cn=!1;function ns(e,i,a){for(a=a.child;a!==null;)zy(e,i,a),a=a.sibling}function zy(e,i,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Ie||Ri(a,i),ns(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Ri(a,i);var l=ue,h=cn;qs(a.type)&&(ue=a.stateNode,cn=!1),ns(e,i,a),El(a.stateNode),ue=l,cn=h;break;case 5:Ie||Ri(a,i);case 6:if(l=ue,h=cn,ue=null,ns(e,i,a),ue=l,cn=h,ue!==null)if(cn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ue.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ue!==null&&(cn?(e=ue,O_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Xa(e)):O_(ue,a.stateNode));break;case 4:l=ue,h=cn,ue=a.stateNode.containerInfo,cn=!0,ns(e,i,a),ue=l,cn=h;break;case 0:case 11:case 14:case 15:Ls(2,a,i),Ie||Ls(4,a,i),ns(e,i,a);break;case 1:Ie||(Ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&xy(a,i,l)),ns(e,i,a);break;case 21:ns(e,i,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,ns(e,i,a),Ie=l;break;default:ns(e,i,a)}}function jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(a){$t(i,i.return,a)}}}function By(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(a){$t(i,i.return,a)}}function RA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ly),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ly),i;default:throw Error(r(435,e.tag))}}function dc(e,i){var a=RA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=kA.bind(null,e,l);l.then(h,h)}})}function hn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(qs(T.type)){ue=T.stateNode,cn=!1;break t}break;case 5:ue=T.stateNode,cn=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,cn=!0;break t}T=T.return}if(ue===null)throw Error(r(160));zy(d,_,h),ue=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Hy(i,e),i=i.sibling}var ni=null;function Hy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),l&4&&(Ls(3,e,e.return),cl(3,e),Ls(5,e,e.return));break;case 1:hn(i,e),fn(e),l&512&&(Ie||a===null||Ri(a,a.return)),l&64&&es&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ni;if(hn(i,e),fn(e),l&512&&(Ie||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fi]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ke(d,l,a),d[Te]=e,Se(d),l=d;break t;case"link":var _=H_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Ke(d,l,a),h.head.appendChild(d);break;case"meta":if(_=H_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Ke(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Te]=e,Se(d),l=d}e.stateNode=l}else q_(h,e.type,e.stateNode);else e.stateNode=B_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?q_(h,e.type,e.stateNode):B_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ad(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),l&512&&(Ie||a===null||Ri(a,a.return)),a!==null&&l&4&&ad(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),l&512&&(Ie||a===null||Ri(a,a.return)),e.flags&32){h=e.stateNode;try{un(h,"")}catch(lt){$t(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,ad(e,h,a!==null?a.memoizedProps:h)),l&1024&&(ud=!0);break;case 6:if(hn(i,e),fn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(lt){$t(e,e.return,lt)}}break;case 3:if(Nc=null,h=ni,ni=Ic(i.containerInfo),hn(i,e),ni=h,fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(lt){$t(e,e.return,lt)}ud&&(ud=!1,qy(e));break;case 4:l=ni,ni=Ic(e.stateNode.containerInfo),hn(i,e),fn(e),ni=l;break;case 12:hn(i,e),fn(e);break;case 31:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,dc(e,l)));break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,dc(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=es,K=Ie;if(es=z||h,Ie=K||C,hn(i,e),Ie=K,es=z,fn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||es||Ie||Gr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,H=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(lt){$t(C,C.return,lt)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){$t(C,C.return,lt)}}}else if(i.tag===18){if(a===null){C=i;try{var F=C.stateNode;h?x_(F,!0):x_(C.stateNode,!1)}catch(lt){$t(C,C.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dc(e,a))));break;case 19:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,dc(e,l)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Vy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=od(e);fc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var T=od(e);fc(e,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=od(e);ld(e,z,C);break;default:throw Error(r(161))}}catch(K){$t(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function is(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Py(e,i.alternate,i),i=i.sibling}function Gr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ls(4,i,i.return),Gr(i);break;case 1:Ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&xy(i,i.return,a),Gr(i);break;case 27:El(i.stateNode);case 26:case 5:Ri(i,i.return),Gr(i);break;case 22:i.memoizedState===null&&Gr(i);break;case 30:Gr(i);break;default:Gr(i)}e=e.sibling}}function ss(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ss(h,d,a),cl(4,d);break;case 1:if(ss(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Eg(C[h],T)}catch(z){$t(l,l.return,z)}}a&&_&64&&Oy(d),hl(d,d.return);break;case 27:ky(d);case 26:case 5:ss(h,d,a),a&&l===null&&_&4&&My(d),hl(d,d.return);break;case 12:ss(h,d,a);break;case 31:ss(h,d,a),a&&_&4&&jy(h,d);break;case 13:ss(h,d,a),a&&_&4&&By(h,d);break;case 22:d.memoizedState===null&&ss(h,d,a),hl(d,d.return);break;case 30:break;default:ss(h,d,a)}i=i.sibling}}function cd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zo(a))}function hd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Zo(e))}function ii(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fy(e,i,a,l),i=i.sibling}function Fy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ii(e,i,a,l),h&2048&&cl(9,i);break;case 1:ii(e,i,a,l);break;case 3:ii(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Zo(e)));break;case 12:if(h&2048){ii(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(i,i.return,C)}}else ii(e,i,a,l);break;case 31:ii(e,i,a,l);break;case 13:ii(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ii(e,i,a,l):fl(e,i):d._visibility&2?ii(e,i,a,l):(d._visibility|=2,Ua(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&cd(_,i);break;case 24:ii(e,i,a,l),h&2048&&hd(i.alternate,i);break;default:ii(e,i,a,l)}}function Ua(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,C=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(d,_,T,C,h),cl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ua(d,_,T,C,h):fl(d,_):(K._visibility|=2,Ua(d,_,T,C,h)),h&&z&2048&&cd(_.alternate,_);break;case 24:Ua(d,_,T,C,h),h&&z&2048&&hd(_.alternate,_);break;default:Ua(d,_,T,C,h)}i=i.sibling}}function fl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:fl(a,l),h&2048&&cd(l.alternate,l);break;case 24:fl(a,l),h&2048&&hd(l.alternate,l);break;default:fl(a,l)}i=i.sibling}}var dl=8192;function za(e,i,a){if(e.subtreeFlags&dl)for(e=e.child;e!==null;)Gy(e,i,a),e=e.sibling}function Gy(e,i,a){switch(e.tag){case 26:za(e,i,a),e.flags&dl&&e.memoizedState!==null&&fb(a,ni,e.memoizedState,e.memoizedProps);break;case 5:za(e,i,a);break;case 3:case 4:var l=ni;ni=Ic(e.stateNode.containerInfo),za(e,i,a),ni=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=dl,dl=16777216,za(e,i,a),dl=l):za(e,i,a));break;default:za(e,i,a)}}function Ky(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ml(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,Yy(l,e)}Ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qy(e),e=e.sibling}function Qy(e){switch(e.tag){case 0:case 11:case 15:ml(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:ml(e);break;case 12:ml(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,mc(e)):ml(e);break;default:ml(e)}}function mc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,Yy(l,e)}Ky(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ls(8,i,i.return),mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,mc(i));break;default:mc(i)}e=e.sibling}}function Yy(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Ls(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(Uy(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var IA={getCacheForType:function(e){var i=Fe(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Fe(be).controller.signal}},CA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,xt=null,Vt=0,Xt=0,bn=null,Ps=!1,ja=!1,fd=!1,rs=0,fe=0,Us=0,Kr=0,dd=0,wn=0,Ba=0,pl=null,dn=null,md=!1,pc=0,Xy=0,gc=1/0,yc=null,zs=null,xe=0,js=null,Ha=null,as=0,pd=0,gd=null,$y=null,gl=0,yd=null;function Rn(){return(Gt&2)!==0&&Vt!==0?Vt&-Vt:B.T!==null?Ad():_u()}function Zy(){if(wn===0)if((Vt&536870912)===0||zt){var e=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),wn=e}else wn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),wn}function mn(e,i,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(qa(e,0),Bs(e,Vt,wn,!1)),Er(e,a),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(Kr|=a),fe===4&&Bs(e,Vt,wn,!1)),Ii(e))}function Jy(e,i,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Qn(e,i),h=l?OA(e,i):vd(e,i,!0),d=l;do{if(h===0){ja&&!l&&Bs(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!NA(a)){h=vd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=pl;var C=T.current.memoizedState.isDehydrated;if(C&&(qa(T,_).flags|=256),_=vd(T,_,!1),_!==2){if(fd&&!C){T.errorRecoveryDisabledLanes|=d,Kr|=d,h=4;break t}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){qa(e,0),Bs(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Bs(l,i,wn,!Ps);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=pc+300-en(),10<h)){if(Bs(l,i,wn,!Ps),ui(l,0,!0)!==0)break t;as=i,l.timeoutHandle=N_(Wy.bind(null,l,a,dn,yc,md,i,wn,Kr,Ba,Ps,d,"Throttled",-0,0),h);break t}Wy(l,a,dn,yc,md,i,wn,Kr,Ba,Ps,d,null,-0,0)}}break}while(!0);Ii(e)}function Wy(e,i,a,l,h,d,_,T,C,z,K,Y,H,F){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},Gy(i,d,Y);var lt=(d&62914560)===d?pc-en():(d&4194048)===d?Xy-en():0;if(lt=db(Y,lt),lt!==null){as=d,e.cancelPendingCommit=lt(o_.bind(null,e,i,d,a,l,h,_,T,C,K,Y,null,H,F)),Bs(e,d,_,!z);return}}o_(e,i,d,a,l,h,_,T,C)}function NA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bs(e,i,a,l){i&=~dd,i&=~Kr,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-de(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Tr(e,a,i)}function _c(){return(Gt&6)===0?(yl(0),!1):!0}function _d(){if(xt!==null){if(Xt===0)var e=xt.return;else e=xt,Xi=Pr=null,Vf(e),Ma=null,Wo=0,e=xt;for(;e!==null;)Dy(e.alternate,e),e=e.return;xt=null}}function qa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,XA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),as=0,_d(),ne=e,xt=a=Qi(e.current,null),Vt=i,Xt=0,bn=null,Ps=!1,ja=Qn(e,i),fd=!1,Ba=wn=dd=Kr=Us=fe=0,dn=pl=null,md=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-de(l),d=1<<h;i|=e[h],l&=~d}return rs=i,zu(),a}function t_(e,i){Nt=null,B.H=ol,i===xa||i===Qu?(i=gg(),Xt=3):i===Sf?(i=gg(),Xt=4):Xt=i===$f?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,xt===null&&(fe=1,oc(e,kn(i,e.current)))}function e_(){var e=Sn.current;return e===null?!0:(Vt&4194048)===Vt?zn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===zn:!1}function n_(){var e=B.H;return B.H=ol,e===null?ol:e}function i_(){var e=B.A;return B.A=IA,e}function vc(){fe=4,Ps||(Vt&4194048)!==Vt&&Sn.current!==null||(ja=!0),(Us&134217727)===0&&(Kr&134217727)===0||ne===null||Bs(ne,Vt,wn,!1)}function vd(e,i,a){var l=Gt;Gt|=2;var h=n_(),d=i_();(ne!==e||Vt!==i)&&(yc=null,qa(e,i)),i=!1;var _=fe;t:do try{if(Xt!==0&&xt!==null){var T=xt,C=bn;switch(Xt){case 8:_d(),_=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var z=Xt;if(Xt=0,bn=null,Fa(e,T,C,z),a&&ja){_=0;break t}break;default:z=Xt,Xt=0,bn=null,Fa(e,T,C,z)}}DA(),_=fe;break}catch(K){t_(e,K)}while(!0);return i&&e.shellSuspendCounter++,Xi=Pr=null,Gt=l,B.H=h,B.A=d,xt===null&&(ne=null,Vt=0,zu()),_}function DA(){for(;xt!==null;)s_(xt)}function OA(e,i){var a=Gt;Gt|=2;var l=n_(),h=i_();ne!==e||Vt!==i?(yc=null,gc=en()+500,qa(e,i)):ja=Qn(e,i);t:do try{if(Xt!==0&&xt!==null){i=xt;var d=bn;e:switch(Xt){case 1:Xt=0,bn=null,Fa(e,i,d,1);break;case 2:case 9:if(mg(d)){Xt=0,bn=null,r_(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),Ii(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:mg(d)?(Xt=0,bn=null,r_(i)):(Xt=0,bn=null,Fa(e,i,d,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var T=xt;if(_?F_(_):T.stateNode.complete){Xt=0,bn=null;var C=T.sibling;if(C!==null)xt=C;else{var z=T.return;z!==null?(xt=z,Ec(z)):xt=null}break e}}Xt=0,bn=null,Fa(e,i,d,5);break;case 6:Xt=0,bn=null,Fa(e,i,d,6);break;case 8:_d(),fe=6;break t;default:throw Error(r(462))}}xA();break}catch(K){t_(e,K)}while(!0);return Xi=Pr=null,B.H=l,B.A=h,Gt=a,xt!==null?0:(ne=null,Vt=0,zu(),fe)}function xA(){for(;xt!==null&&!Yh();)s_(xt)}function s_(e){var i=Cy(e.alternate,e,rs);e.memoizedProps=e.pendingProps,i===null?Ec(e):xt=i}function r_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Sy(a,i,i.pendingProps,i.type,void 0,Vt);break;case 11:i=Sy(a,i,i.pendingProps,i.type.render,i.ref,Vt);break;case 5:Vf(i);default:Dy(a,i),i=xt=ig(i,rs),i=Cy(a,i,rs)}e.memoizedProps=e.pendingProps,i===null?Ec(e):xt=i}function Fa(e,i,a,l){Xi=Pr=null,Vf(i),Ma=null,Wo=0;var h=i.return;try{if(EA(e,h,i,a,Vt)){fe=1,oc(e,kn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;fe=1,oc(e,kn(a,e.current)),xt=null;return}i.flags&32768?(zt||l===1?e=!0:ja||(Vt&536870912)!==0?e=!1:(Ps=e=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),a_(i,e)):Ec(i)}function Ec(e){var i=e;do{if((i.flags&32768)!==0){a_(i,Ps);return}e=i.return;var a=AA(i.alternate,i,rs);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);fe===0&&(fe=5)}function a_(e,i){do{var a=bA(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);fe=6,xt=null}function o_(e,i,a,l,h,d,_,T,C){e.cancelPendingCommit=null;do Tc();while(xe!==0);if((Gt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=of,Zh(e,a,d,_,T,C),e===ne&&(xt=ne=null,Vt=0),Ha=i,js=e,as=a,pd=d,gd=h,$y=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,LA(ys,function(){return f_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=$.p,$.p=2,_=Gt,Gt|=4;try{wA(e,i,a)}finally{Gt=_,$.p=h,B.T=l}}xe=1,l_(),u_(),c_()}}function l_(){if(xe===1){xe=0;var e=js,i=Ha,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=$.p;$.p=2;var h=Gt;Gt|=4;try{Hy(i,e);var d=Od,_=Yp(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Qp(T.ownerDocument.documentElement,T)){if(C!==null&&ef(T)){var z=C.start,K=C.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var Y=T.ownerDocument||document,H=Y&&Y.defaultView||window;if(H.getSelection){var F=H.getSelection(),lt=T.textContent.length,yt=Math.min(C.start,lt),ee=C.end===void 0?yt:Math.min(C.end,lt);!F.extend&&yt>ee&&(_=ee,ee=yt,yt=_);var k=Kp(T,yt),x=Kp(T,ee);if(k&&x&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==x.node||F.focusOffset!==x.offset)){var U=Y.createRange();U.setStart(k.node,k.offset),F.removeAllRanges(),yt>ee?(F.addRange(U),F.extend(x.node,x.offset)):(U.setEnd(x.node,x.offset),F.addRange(U))}}}}for(Y=[],F=T;F=F.parentNode;)F.nodeType===1&&Y.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Mc=!!Dd,Od=Dd=null}finally{Gt=h,$.p=l,B.T=a}}e.current=i,xe=2}}function u_(){if(xe===2){xe=0;var e=js,i=Ha,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=$.p;$.p=2;var h=Gt;Gt|=4;try{Py(e,i.alternate,i)}finally{Gt=h,$.p=l,B.T=a}}xe=3}}function c_(){if(xe===4||xe===3){xe=0,hu();var e=js,i=Ha,a=as,l=$y;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,Ha=js=null,h_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(zs=null),qi(a),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=B.T,h=$.p,$.p=2,B.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{B.T=i,$.p=h}}(as&3)!==0&&Tc(),Ii(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===yd?gl++:(gl=0,yd=e):gl=0,yl(0)}}function h_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Zo(i)))}function Tc(){return l_(),u_(),c_(),f_()}function f_(){if(xe!==5)return!1;var e=js,i=pd;pd=0;var a=qi(as),l=B.T,h=$.p;try{$.p=32>a?32:a,B.T=null,a=gd,gd=null;var d=js,_=as;if(xe=0,Ha=js=null,as=0,(Gt&6)!==0)throw Error(r(331));var T=Gt;if(Gt|=4,Qy(d.current),Fy(d,d.current,_,a),Gt=T,yl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{$.p=h,B.T=l,h_(e,i)}}function d_(e,i,a){i=kn(a,i),i=Xf(e.stateNode,i,2),e=Ms(e,i,2),e!==null&&(Er(e,2),Ii(e))}function $t(e,i,a){if(e.tag===3)d_(e,e,a);else for(;i!==null;){if(i.tag===3){d_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zs===null||!zs.has(l))){e=kn(a,e),a=my(2),l=Ms(i,a,2),l!==null&&(py(a,l,i,e),Er(l,2),Ii(l));break}}i=i.return}}function Ed(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new CA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(fd=!0,h.add(a),e=MA.bind(null,e,i,a),i.then(e,e))}function MA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Vt&a)===a&&(fe===4||fe===3&&(Vt&62914560)===Vt&&300>en()-pc?(Gt&2)===0&&qa(e,0):dd|=a,Ba===Vt&&(Ba=0)),Ii(e)}function m_(e,i){i===0&&(i=yu()),e=Vr(e,i),e!==null&&(Er(e,i),Ii(e))}function VA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),m_(e,a)}function kA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),m_(e,a)}function LA(e,i){return Oe(e,i)}var Sc=null,Ga=null,Td=!1,Ac=!1,Sd=!1,Hs=0;function Ii(e){e!==Ga&&e.next===null&&(Ga===null?Sc=Ga=e:Ga=Ga.next=e),Ac=!0,Td||(Td=!0,UA())}function yl(e,i){if(!Sd&&Ac){Sd=!0;do for(var a=!1,l=Sc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-de(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,__(l,d))}else d=Vt,d=ui(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,__(l,d));l=l.next}while(a);Sd=!1}}function PA(){p_()}function p_(){Ac=Td=!1;var e=0;Hs!==0&&YA()&&(e=Hs);for(var i=en(),a=null,l=Sc;l!==null;){var h=l.next,d=g_(l,i);d===0?(l.next=null,a===null?Sc=h:a.next=h,h===null&&(Ga=a)):(a=l,(e!==0||(d&3)!==0)&&(Ac=!0)),l=h}xe!==0&&xe!==5||yl(e),Hs!==0&&(Hs=0)}function g_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-de(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=$h(T,i)):C<=i&&(e.expiredLanes|=T),d&=~T}if(i=ne,a=Vt,a=ui(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&gs(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Qn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&gs(l),qi(a)){case 2:case 8:a=Io;break;case 32:a=ys;break;case 268435456:a=fu;break;default:a=ys}return l=y_.bind(null,e),a=Oe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&gs(l),e.callbackPriority=2,e.callbackNode=null,2}function y_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Tc()&&e.callbackNode!==a)return null;var l=Vt;return l=ui(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Jy(e,l,i),g_(e,en()),e.callbackNode!=null&&e.callbackNode===a?y_.bind(null,e):null)}function __(e,i){if(Tc())return null;Jy(e,i,!0)}function UA(){$A(function(){(Gt&6)!==0?Oe(Ro,PA):p_()})}function Ad(){if(Hs===0){var e=Da;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Hs=e}return Hs}function v_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function E_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function zA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=v_((h[ke]||null).action),_=l.submitter;_&&(i=(i=_[ke]||null)?v_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ei("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var C=_?E_(h,_):new FormData(h);qf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?E_(h,_):new FormData(h),qf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var bd=0;bd<af.length;bd++){var wd=af[bd],jA=wd.toLowerCase(),BA=wd[0].toUpperCase()+wd.slice(1);ei(jA,"on"+BA)}ei(Zp,"onAnimationEnd"),ei(Jp,"onAnimationIteration"),ei(Wp,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(iA,"onTransitionRun"),ei(sA,"onTransitionStart"),ei(rA,"onTransitionCancel"),ei(tg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function T_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){Uu(K)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,z=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){Uu(K)}h.currentTarget=null,d=C}}}}function Mt(e,i){var a=i[ca];a===void 0&&(a=i[ca]=new Set);var l=e+"__bubble";a.has(l)||(S_(i,e,2,!1),a.add(l))}function Rd(e,i,a){var l=0;i&&(l|=4),S_(a,e,l,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Id(e){if(!e[bc]){e[bc]=!0,Do.forEach(function(a){a!=="selectionchange"&&(HA.has(a)||Rd(a,!1,e),Rd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[bc]||(i[bc]=!0,Rd("selectionchange",!1,i))}}function S_(e,i,a,l){switch(Z_(i)){case 2:var h=gb;break;case 8:h=yb;break;default:h=Hd}a=h.bind(null,i,a,e),h=void 0,!Rr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Cd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=di(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}T=T.parentNode}}l=l.return}As(function(){var z=d,K=On(a),Y=[];t:{var H=eg.get(e);if(H!==void 0){var F=Ei,lt=e;switch(e){case"keypress":if(Cr(a)===0)break t;case"keydown":case"keyup":F=ku;break;case"focusin":lt="focus",F=Dr;break;case"focusout":lt="blur",F=Dr;break;case"beforeblur":case"afterblur":F=Dr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case Zp:case Jp:case Wp:F=Cu;break;case tg:F=S;break;case"scroll":case"scrollend":F=Ho;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ki;break;case"toggle":case"beforetoggle":F=Ct}var yt=(i&4)!==0,ee=!yt&&(e==="scroll"||e==="scrollend"),k=yt?H!==null?H+"Capture":null:H;yt=[];for(var x=z,U;x!==null;){var Q=x;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||k===null||(Q=Zn(x,k),Q!=null&&yt.push(vl(x,Q,U))),ee)break;x=x.return}0<yt.length&&(H=new F(H,lt,null,a,K),Y.push({event:H,listeners:yt}))}}if((i&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",H&&a!==zo&&(lt=a.relatedTarget||a.fromElement)&&(di(lt)||lt[hi]))break t;if((F||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,F?(lt=a.relatedTarget||a.toElement,F=z,lt=lt?di(lt):null,lt!==null&&(ee=u(lt),yt=lt.tag,lt!==ee||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(F=null,lt=z),F!==lt)){if(yt=qo,Q="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Ki,Q="onPointerLeave",k="onPointerEnter",x="pointer"),ee=F==null?H:_n(F),U=lt==null?H:_n(lt),H=new yt(Q,x+"leave",F,a,K),H.target=ee,H.relatedTarget=U,Q=null,di(K)===z&&(yt=new yt(k,x+"enter",lt,a,K),yt.target=U,yt.relatedTarget=ee,Q=yt),ee=Q,F&&lt)e:{for(yt=qA,k=F,x=lt,U=0,Q=k;Q;Q=yt(Q))U++;Q=0;for(var dt=x;dt;dt=yt(dt))Q++;for(;0<U-Q;)k=yt(k),U--;for(;0<Q-U;)x=yt(x),Q--;for(;U--;){if(k===x||x!==null&&k===x.alternate){yt=k;break e}k=yt(k),x=yt(x)}yt=null}else yt=null;F!==null&&A_(Y,H,F,yt,!1),lt!==null&&ee!==null&&A_(Y,ee,lt,yt,!0)}}t:{if(H=z?_n(z):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var Ht=jp;else if(Up(H))if(Bp)Ht=tA;else{Ht=JS;var ht=ZS}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&ma(z.elementType)&&(Ht=jp):Ht=WS;if(Ht&&(Ht=Ht(e,z))){zp(Y,Ht,a,K);break t}ht&&ht(e,H,z),e==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&Lo(H,"number",H.value)}switch(ht=z?_n(z):window,e){case"focusin":(Up(ht)||ht.contentEditable==="true")&&(Sa=ht,nf=z,Yo=null);break;case"focusout":Yo=nf=Sa=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Xp(Y,a,K);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":Xp(Y,a,K)}var Dt;if(Ft)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Ta?Or(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(Ai&&a.locale!=="ko"&&(Ta||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Ta&&(Dt=Bo()):(vi=K,jo="value"in vi?vi.value:vi.textContent,Ta=!0)),ht=wc(z,kt),0<ht.length&&(kt=new Si(kt,e,null,a,K),Y.push({event:kt,listeners:ht}),Dt?kt.data=Dt:(Dt=Ea(a),Dt!==null&&(kt.data=Dt)))),(Dt=Mn?QS(e,a):YS(e,a))&&(kt=wc(z,"onBeforeInput"),0<kt.length&&(ht=new Si("onBeforeInput","beforeinput",null,a,K),Y.push({event:ht,listeners:kt}),ht.data=Dt)),zA(Y,e,z,a,K)}T_(Y,i)})}function vl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function wc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Zn(e,a),h!=null&&l.unshift(vl(e,h,d)),h=Zn(e,i),h!=null&&l.push(vl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function qA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=Zn(a,d),z!=null&&_.unshift(vl(a,z,C))):h||(z=Zn(a,d),z!=null&&_.push(vl(a,z,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var FA=/\r\n?/g,GA=/\u0000|\uFFFD/g;function b_(e){return(typeof e=="string"?e:""+e).replace(FA,`
`).replace(GA,"")}function w_(e,i){return i=b_(i),b_(e)===i}function te(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&un(e,""+l);break;case"className":vn(e,"class",l);break;case"tabIndex":vn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,a,l);break;case"style":Uo(e,l,d);break;case"data":if(i!=="object"){vn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&te(e,i,"name",h.name,h,null),te(e,i,"formEncType",h.formEncType,h,null),te(e,i,"formMethod",h.formMethod,h,null),te(e,i,"formTarget",h.formTarget,h,null)):(te(e,i,"encType",h.encType,h,null),te(e,i,"method",h.method,h,null),te(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=pa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,fa(e,a,l))}}function Nd(e,i,a,l,h,d){switch(a){case"style":Uo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ke]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fa(e,a,l)}}}function Ke(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:te(e,i,d,_,a,null)}}h&&te(e,i,"srcSet",a.srcSet,a,null),l&&te(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=d=_=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":C=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:te(e,i,l,K,a,null)}}Su(e,d,T,C,z,_,h,!1);return;case"select":Mt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:te(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?vs(e,!!l,i,!1):a!=null&&vs(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:te(e,i,_,T,a,null)}Es(e,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,i,C,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<_l.length;l++)Mt(_l[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:te(e,i,z,l,a,null)}return;default:if(ma(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Nd(e,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&te(e,i,T,l,a,null))}function KA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,z=null,K=null;for(F in a){var Y=a[F];if(a.hasOwnProperty(F)&&Y!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(F)||te(e,i,F,null,l,Y)}}for(var H in l){var F=l[H];if(Y=a[H],l.hasOwnProperty(H)&&(F!=null||Y!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":K=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:F!==Y&&te(e,i,H,F,l,Y)}}da(e,_,T,C,z,K,d,h);return;case"select":F=_=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||te(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&te(e,i,h,d,l,C)}i=T,a=_,l=F,H!=null?vs(e,!!a,H,!1):!!l!=!!a&&(i!=null?vs(e,!!a,i,!0):vs(e,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:te(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&te(e,i,_,h,l,d)}Au(e,H,F);return;case"option":for(var lt in a)if(H=a[lt],a.hasOwnProperty(lt)&&H!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:te(e,i,lt,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:te(e,i,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)H=a[yt],a.hasOwnProperty(yt)&&H!=null&&!l.hasOwnProperty(yt)&&te(e,i,yt,null,l,H);for(z in l)if(H=l[z],F=a[z],l.hasOwnProperty(z)&&H!==F&&(H!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:te(e,i,z,H,l,F)}return;default:if(ma(i)){for(var ee in a)H=a[ee],a.hasOwnProperty(ee)&&H!==void 0&&!l.hasOwnProperty(ee)&&Nd(e,i,ee,void 0,l,H);for(K in l)H=l[K],F=a[K],!l.hasOwnProperty(K)||H===F||H===void 0&&F===void 0||Nd(e,i,K,H,l,F);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&te(e,i,k,null,l,H);for(Y in l)H=l[Y],F=a[Y],!l.hasOwnProperty(Y)||H===F||H==null&&F==null||te(e,i,Y,H,l,F)}function R_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&R_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>T)break;var K=C.transferSize,Y=C.initiatorType;K&&R_(Y)&&(C=C.responseEnd,_+=K*(C<T?1:(T-z)/(C-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dd=null,Od=null;function Rc(e){return e.nodeType===9?e:e.ownerDocument}function I_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function xd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Md=null;function YA(){var e=window.event;return e&&e.type==="popstate"?e===Md?!1:(Md=e,!0):(Md=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,XA=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(e){return D_.resolve(null).then(e).catch(ZA)}:N_;function ZA(e){setTimeout(function(){throw e})}function qs(e){return e==="head"}function O_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Xa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")El(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,El(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[fi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&El(e.ownerDocument.body);a=h}while(a);Xa(i)}function x_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Vd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function JA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[fi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function WA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function M_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=jn(e.nextSibling),e===null))return null;return e}function kd(e){return e.data==="$?"||e.data==="$~"}function Ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tb(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Pd=null;function V_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return jn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function k_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function L_(e,i,a){switch(i=Rc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function El(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ha(e)}var Bn=new Map,P_=new Set;function Ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=$.d;$.d={f:eb,r:nb,D:ib,C:sb,L:rb,m:ab,X:lb,S:ob,M:ub};function eb(){var e=os.f(),i=_c();return e||i}function nb(e){var i=Dn(e);i!==null&&i.tag===5&&i.type==="form"?ty(i):os.r(e)}var Ka=typeof document>"u"?null:document;function U_(e,i,a){var l=Ka;if(l&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),P_.has(h)||(P_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ke(i,"link",e),Se(i),l.head.appendChild(i)))}}function ib(e){os.D(e),U_("dns-prefetch",e,null)}function sb(e,i){os.C(e,i),U_("preconnect",e,i)}function rb(e,i,a){os.L(e,i,a);var l=Ka;if(l&&e&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(e)+'"]';var d=h;switch(i){case"style":d=Qa(e);break;case"script":d=Ya(e)}Bn.has(d)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Bn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Tl(d))||i==="script"&&l.querySelector(Sl(d))||(i=l.createElement("link"),Ke(i,"link",e),Se(i),l.head.appendChild(i)))}}function ab(e,i){os.m(e,i);var a=Ka;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(e)}if(!Bn.has(d)&&(e=A({rel:"modulepreload",href:e},i),Bn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(d)))return}l=a.createElement("link"),Ke(l,"link",e),Se(l),a.head.appendChild(l)}}}function ob(e,i,a){os.S(e,i,a);var l=Ka;if(l&&e){var h=mi(l).hoistableStyles,d=Qa(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Tl(d)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Bn.get(d))&&Ud(e,a);var C=_=l.createElement("link");Se(C),Ke(C,"link",e),C._p=new Promise(function(z,K){C.onload=z,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function lb(e,i){os.X(e,i);var a=Ka;if(a&&e){var l=mi(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(e=A({src:e,async:!0},i),(i=Bn.get(h))&&zd(e,i),d=a.createElement("script"),Se(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ub(e,i){os.M(e,i);var a=Ka;if(a&&e){var l=mi(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(e=A({src:e,async:!0,type:"module"},i),(i=Bn.get(h))&&zd(e,i),d=a.createElement("script"),Se(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function z_(e,i,a,l){var h=(h=gt.current)?Ic(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=mi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Qa(a.href);var d=mi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Tl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(e,a),d||cb(h,e,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=mi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Qa(e){return'href="'+ln(e)+'"'}function Tl(e){return'link[rel="stylesheet"]['+e+"]"}function j_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function cb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ke(i,"link",a),Se(i),e.head.appendChild(i))}function Ya(e){return'[src="'+ln(e)+'"]'}function Sl(e){return"script[async]"+e}function B_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,Se(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Se(l),Ke(l,"style",h),Cc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Qa(a.href);var d=e.querySelector(Tl(h));if(d)return i.state.loading|=4,i.instance=d,Se(d),d;l=j_(a),(h=Bn.get(h))&&Ud(l,h),d=(e.ownerDocument||e).createElement("link"),Se(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ke(d,"link",l),i.state.loading|=4,Cc(d,a.precedence,e),i.instance=d;case"script":return d=Ya(a.src),(h=e.querySelector(Sl(d)))?(i.instance=h,Se(h),h):(l=a,(h=Bn.get(d))&&(l=A({},a),zd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ke(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Cc(l,a.precedence,e));return i.instance}function Cc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Ud(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function zd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Nc=null;function H_(e,i,a){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(a,l)}else h=Nc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[fi]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function q_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function hb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function F_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fb(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Qa(l.href),d=i.querySelector(Tl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Dc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Se(d);return}d=i.ownerDocument||i,l=j_(l),(h=Bn.get(h))&&Ud(l,h),d=d.createElement("link"),Se(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ke(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Dc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var jd=0;function db(e,i){return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&jd===0&&(jd=62500*QA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>jd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oc=null;function xc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oc=new Map,i.forEach(mb,e),Oc=null,Dc.call(e))}function mb(e,i){if(!(i.state.loading&4)){var a=Oc.get(e);if(a)var l=a.get(null);else{a=new Map,Oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Al={$$typeof:ut,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function pb(e,i,a,l,h,d,_,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function G_(e,i,a,l,h,d,_,T,C,z,K,Y){return e=new pb(e,i,a,_,C,z,K,Y,T),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),e.current=d,d.stateNode=e,i=vf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Af(d),e}function K_(e){return e?(e=wa,e):wa}function Q_(e,i,a,l,h,d){h=K_(h),l.context===null?l.context=h:l.pendingContext=h,l=xs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ms(e,l,i),a!==null&&(mn(a,e,i),el(a,e,i))}function Y_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Bd(e,i){Y_(e,i),(e=e.alternate)&&Y_(e,i)}function X_(e){if(e.tag===13||e.tag===31){var i=Vr(e,67108864);i!==null&&mn(i,e,67108864),Bd(e,67108864)}}function $_(e){if(e.tag===13||e.tag===31){var i=Rn();i=Sr(i);var a=Vr(e,i);a!==null&&mn(a,e,i),Bd(e,i)}}var Mc=!0;function gb(e,i,a,l){var h=B.T;B.T=null;var d=$.p;try{$.p=2,Hd(e,i,a,l)}finally{$.p=d,B.T=h}}function yb(e,i,a,l){var h=B.T;B.T=null;var d=$.p;try{$.p=8,Hd(e,i,a,l)}finally{$.p=d,B.T=h}}function Hd(e,i,a,l){if(Mc){var h=qd(l);if(h===null)Cd(e,i,l,Vc,a),J_(e,l);else if(vb(h,e,i,a,l))l.stopPropagation();else if(J_(e,l),i&4&&-1<_b.indexOf(e)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=li(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-de(_);T.entanglements[1]|=C,_&=~C}Ii(d),(Gt&6)===0&&(gc=en()+500,yl(0))}}break;case 31:case 13:T=Vr(d,2),T!==null&&mn(T,d,2),_c(),Bd(d,2)}if(d=qd(l),d===null&&Cd(e,i,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Cd(e,i,l,null,a)}}function qd(e){return e=On(e),Fd(e)}var Vc=null;function Fd(e){if(Vc=null,e=di(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Vc=e,null}function Z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case Ro:return 2;case Io:return 8;case ys:case Xh:return 32;case fu:return 268435456;default:return 32}default:return 32}}var Gd=!1,Fs=null,Gs=null,Ks=null,bl=new Map,wl=new Map,Qs=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(e,i){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(i.pointerId)}}function Rl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Dn(i),i!==null&&X_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function vb(e,i,a,l,h){switch(i){case"focusin":return Fs=Rl(Fs,e,i,a,l,h),!0;case"dragenter":return Gs=Rl(Gs,e,i,a,l,h),!0;case"mouseover":return Ks=Rl(Ks,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return bl.set(d,Rl(bl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Rl(wl.get(d)||null,e,i,a,l,h)),!0}return!1}function W_(e){var i=di(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Yn(e.priority,function(){$_(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Yn(e.priority,function(){$_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=qd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);zo=l,a.target.dispatchEvent(l),zo=null}else return i=Dn(a),i!==null&&X_(i),e.blockedOn=a,!1;i.shift()}return!0}function tv(e,i,a){kc(e)&&a.delete(i)}function Eb(){Gd=!1,Fs!==null&&kc(Fs)&&(Fs=null),Gs!==null&&kc(Gs)&&(Gs=null),Ks!==null&&kc(Ks)&&(Ks=null),bl.forEach(tv),wl.forEach(tv)}function Lc(e,i){e.blockedOn===i&&(e.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Eb)))}var Pc=null;function ev(e){Pc!==e&&(Pc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pc===e&&(Pc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Fd(l||a)===null)continue;break}var d=Dn(a);d!==null&&(e.splice(i,3),i-=3,qf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(e){function i(C){return Lc(C,e)}Fs!==null&&Lc(Fs,e),Gs!==null&&Lc(Gs,e),Ks!==null&&Lc(Ks,e),bl.forEach(i),wl.forEach(i);for(var a=0;a<Qs.length;a++){var l=Qs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qs.length&&(a=Qs[0],a.blockedOn===null);)W_(a),a.blockedOn===null&&Qs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[ke]||null;if(typeof d=="function")_||ev(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[ke]||null)T=_.formAction;else if(Fd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),ev(a)}}}function nv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Kd(e){this._internalRoot=e}Uc.prototype.render=Kd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Rn();Q_(a,l,e,i,null,null)},Uc.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Q_(e.current,2,null,e,null,null),_c(),i[hi]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var i=_u();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Qs.length&&i!==0&&i<Qs[a].priority;a++);Qs.splice(a,0,e),a===0&&W_(e)}};var iv=t.version;if(iv!=="19.2.0")throw Error(r(527,iv,"19.2.0"));$.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Tb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Kn=zc.inject(Tb),Be=zc}catch{}}return Cl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=cy,d=hy,_=fy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=G_(e,1,!1,null,null,a,l,null,h,d,_,nv),e[hi]=i.current,Id(e),new Kd(i)},Cl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=cy,_=hy,T=fy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=G_(e,1,!0,i,a??null,l,h,C,d,_,T,nv),i.context=K_(null),a=i.current,l=Rn(),l=Sr(l),h=xs(l),h.callback=null,Ms(a,h,l),a=l,i.current.lanes=a,Er(i,a),Ii(i),e[hi]=i.current,Id(e),new Uc(i)},Cl.version="19.2.0",Cl}var dv;function Ob(){if(dv)return Xd.exports;dv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Xd.exports=Db(),Xd.exports}var xb=Ob();const Mb=()=>{};var mv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Vb=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},aT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,y=o+2<s.length,g=y?s[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,j=g&63;y||(j=64,f||(R=64)),r.push(n[E],n[A],n[R],n[j])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(rT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Vb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const g=o<s.length?n[s.charAt(o)]:64;++o;const A=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new kb;const R=u<<2|m>>4;if(r.push(R),g!==64){const j=m<<4&240|g>>2;if(r.push(j),A!==64){const X=g<<6&192|A;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class kb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lb=function(s){const t=rT(s);return aT.encodeByteArray(t,!0)},sh=function(s){return Lb(s).replace(/\./g,"")},oT=function(s){try{return aT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=()=>Pb().__FIREBASE_DEFAULTS__,zb=()=>{if(typeof process>"u"||typeof mv>"u")return;const s=mv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&oT(s[1]);return t&&JSON.parse(t)},bh=()=>{try{return Mb()||Ub()||zb()||jb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},lT=s=>bh()?.emulatorHosts?.[s],uT=s=>{const t=lT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},cT=()=>bh()?.config,hT=s=>bh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hm(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}const Pl={};function Hb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Pl))Pl[t]?s.emulator.push(t):s.prod.push(t);return s}function qb(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let pv=!1;function qm(s,t){if(typeof window>"u"||typeof document>"u"||!mr(window.location.host)||Pl[s]===t||Pl[s]||pv)return;Pl[s]=t;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=Hb().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,j){R.setAttribute("width","24"),R.setAttribute("id",j),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{pv=!0,f()},R}function E(R,j){R.setAttribute("id",j),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=qb(r),j=n("text"),X=document.getElementById(j)||document.createElement("span"),tt=n("learnmore"),J=document.getElementById(tt)||document.createElement("a"),ot=n("preprendIcon"),pt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ut=R.element;m(ut),E(J,tt);const St=g();y(pt,ot),ut.append(pt,X,J,St),document.body.appendChild(ut)}u?(X.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Gb(){const s=bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xb(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function $b(){return!Gb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function Jb(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="FirebaseError";class zi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Wb,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?t1(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new zi(o,m,r)}}function t1(s,t){return s.replace(e1,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const e1=/\{\$([^}]+)}/g;function n1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Wr(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(gv(u)&&gv(f)){if(!Wr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function gv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ol(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function xl(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function i1(s,t){const n=new s1(s,t);return n.subscribe.bind(n)}class s1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");r1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Wd),o.error===void 0&&(o.error=Wd),o.complete===void 0&&(o.complete=Wd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r1(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(s){return s&&s._delegate?s._delegate:s}class or{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Bb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(l1(t))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Yr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yr){return this.instances.has(t)}getOptions(t=Yr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o1(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Yr){return this.component?this.component.multipleInstances?t:Yr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(s){return s===Yr?void 0:s}function l1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new a1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const c1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},h1=Lt.INFO,f1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},d1=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=f1[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fm{constructor(t){this.name=t,this._logLevel=h1,this._logHandler=d1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?c1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const m1=(s,t)=>t.some(n=>s instanceof n);let yv,_v;function p1(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g1(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dT=new WeakMap,dm=new WeakMap,mT=new WeakMap,tm=new WeakMap,Gm=new WeakMap;function y1(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(nr(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&dT.set(n,s)}).catch(()=>{}),Gm.set(t,s),t}function _1(s){if(dm.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});dm.set(s,t)}let mm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return dm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||mT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function v1(s){mm=s(mm)}function E1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(em(this),t,...n);return mT.set(r,t.sort?t.sort():[t]),nr(r)}:g1().includes(s)?function(...t){return s.apply(em(this),t),nr(dT.get(this))}:function(...t){return nr(s.apply(em(this),t))}}function T1(s){return typeof s=="function"?E1(s):(s instanceof IDBTransaction&&_1(s),m1(s,p1())?new Proxy(s,mm):s)}function nr(s){if(s instanceof IDBRequest)return y1(s);if(tm.has(s))return tm.get(s);const t=T1(s);return t!==s&&(tm.set(s,t),Gm.set(t,s)),t}const em=s=>Gm.get(s);function S1(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),m=nr(f);return r&&f.addEventListener("upgradeneeded",y=>{r(nr(f.result),y.oldVersion,y.newVersion,nr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const A1=["get","getKey","getAll","getAllKeys","count"],b1=["put","add","delete","clear"],nm=new Map;function vv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(nm.get(t))return nm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=b1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||A1.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return nm.set(t,u),u}v1(s=>({...s,get:(t,n,r)=>vv(t,n)||s.get(t,n,r),has:(t,n)=>!!vv(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function R1(s){return s.getComponent()?.type==="VERSION"}const pm="@firebase/app",Ev="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Fm("@firebase/app"),I1="@firebase/app-compat",C1="@firebase/analytics-compat",N1="@firebase/analytics",D1="@firebase/app-check-compat",O1="@firebase/app-check",x1="@firebase/auth",M1="@firebase/auth-compat",V1="@firebase/database",k1="@firebase/data-connect",L1="@firebase/database-compat",P1="@firebase/functions",U1="@firebase/functions-compat",z1="@firebase/installations",j1="@firebase/installations-compat",B1="@firebase/messaging",H1="@firebase/messaging-compat",q1="@firebase/performance",F1="@firebase/performance-compat",G1="@firebase/remote-config",K1="@firebase/remote-config-compat",Q1="@firebase/storage",Y1="@firebase/storage-compat",X1="@firebase/firestore",$1="@firebase/ai",Z1="@firebase/firestore-compat",J1="firebase",W1="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="[DEFAULT]",tw={[pm]:"fire-core",[I1]:"fire-core-compat",[N1]:"fire-analytics",[C1]:"fire-analytics-compat",[O1]:"fire-app-check",[D1]:"fire-app-check-compat",[x1]:"fire-auth",[M1]:"fire-auth-compat",[V1]:"fire-rtdb",[k1]:"fire-data-connect",[L1]:"fire-rtdb-compat",[P1]:"fire-fn",[U1]:"fire-fn-compat",[z1]:"fire-iid",[j1]:"fire-iid-compat",[B1]:"fire-fcm",[H1]:"fire-fcm-compat",[q1]:"fire-perf",[F1]:"fire-perf-compat",[G1]:"fire-rc",[K1]:"fire-rc-compat",[Q1]:"fire-gcs",[Y1]:"fire-gcs-compat",[X1]:"fire-fst",[Z1]:"fire-fst-compat",[$1]:"fire-vertex","fire-js":"fire-js",[J1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,ew=new Map,ym=new Map;function Tv(s,t){try{s.container.addComponent(t)}catch(n){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function ta(s){const t=s.name;if(ym.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;ym.set(t,s);for(const n of rh.values())Tv(n,s);for(const n of ew.values())Tv(n,s);return!0}function wh(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function qn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new tu("app","Firebase",nw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=W1;function pT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:gm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(n||(n=cT()),!n)throw ir.create("no-options");const u=rh.get(o);if(u){if(Wr(n,u.options)&&Wr(r,u.config))return u;throw ir.create("duplicate-app",{appName:o})}const f=new u1(o);for(const y of ym.values())f.addComponent(y);const m=new iw(n,r,f);return rh.set(o,m),m}function Km(s=gm){const t=rh.get(s);if(!t&&s===gm&&cT())return pT();if(!t)throw ir.create("no-app",{appName:s});return t}function Ni(s,t,n){let r=tw[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(f.join(" "));return}ta(new or(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="firebase-heartbeat-database",rw=1,ql="firebase-heartbeat-store";let im=null;function gT(){return im||(im=S1(sw,rw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),im}async function aw(s){try{const n=(await gT()).transaction(ql),r=await n.objectStore(ql).get(yT(s));return await n.done,r}catch(t){if(t instanceof zi)hs.warn(t.message);else{const n=ir.create("idb-get",{originalErrorMessage:t?.message});hs.warn(n.message)}}}async function Sv(s,t){try{const r=(await gT()).transaction(ql,"readwrite");await r.objectStore(ql).put(t,yT(s)),await r.done}catch(n){if(n instanceof zi)hs.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n?.message});hs.warn(r.message)}}}function yT(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=1024,lw=30;class uw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>lw){const o=fw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Av(),{heartbeatsToSend:n,unsentEntries:r}=cw(this._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hs.warn(t),""}}}function Av(){return new Date().toISOString().substring(0,10)}function cw(s,t=ow){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),bv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),bv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?Jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function bv(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function fw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(s){ta(new or("platform-logger",t=>new w1(t),"PRIVATE")),ta(new or("heartbeat",t=>new uw(t),"PRIVATE")),Ni(pm,Ev,s),Ni(pm,Ev,"esm2020"),Ni("fire-js","")}dw("");function _T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mw=_T,vT=new tu("auth","Firebase",_T());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Fm("@firebase/auth");function pw(s,...t){ah.logLevel<=Lt.WARN&&ah.warn(`Auth (${ra}): ${s}`,...t)}function Yc(s,...t){ah.logLevel<=Lt.ERROR&&ah.error(`Auth (${ra}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(s,...t){throw Qm(s,...t)}function Di(s,...t){return Qm(s,...t)}function ET(s,t,n){const r={...mw(),[t]:n};return new tu("auth","Firebase",r).create(t,{appName:s.name})}function sr(s){return ET(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qm(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return vT.create(s,...t)}function Et(s,t,...n){if(!s)throw Qm(t,...n)}function ls(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Yc(t),new Error(t)}function fs(s,t){s||ls(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){return typeof self<"u"&&self.location?.href||""}function gw(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gw()||Qb()||"connection"in navigator)?navigator.onLine:!0}function _w(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t,n){this.shortDelay=t,this.longDelay=n,fs(n>t,"Short delay should be less than long delay!"),this.isMobile=Fb()||Yb()}get(){return yw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(s,t){fs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tw=new nu(3e4,6e4);function aa(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function pr(s,t,n,r,o={}){return ST(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const m=eu({key:s.config.apiKey,...f}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:y,...u};return Kb()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&mr(s.emulatorConfig.host)&&(g.credentials="include"),TT.fetch()(await AT(s,s.config.apiHost,n,m),g)})}async function ST(s,t,n){s._canInitEmulator=!1;const r={...vw,...t};try{const o=new Aw(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw jc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(s,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw jc(s,"email-already-in-use",f);if(y==="USER_DISABLED")throw jc(s,"user-disabled",f);const E=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ET(s,E,g);ai(s,E)}}catch(o){if(o instanceof zi)throw o;ai(s,"network-request-failed",{message:String(o)})}}async function Rh(s,t,n,r,o={}){const u=await pr(s,t,n,r,o);return"mfaPendingCredential"in u&&ai(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function AT(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?Ym(s.config,o):`${s.config.apiScheme}://${o}`;return Ew.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Sw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Aw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Di(this.auth,"network-request-failed")),Tw.get())})}}function jc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Di(s,t,r);return o.customData._tokenResponse=n,o}function Rv(s){return s!==void 0&&s.enterprise!==void 0}class bw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Sw(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ww(s,t){return pr(s,"GET","/v2/recaptchaConfig",aa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(s,t){return pr(s,"POST","/v1/accounts:delete",t)}async function oh(s,t){return pr(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Iw(s,t=!1){const n=_e(s),r=await n.getIdToken(t),o=Xm(r);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Ul(sm(o.auth_time)),issuedAtTime:Ul(sm(o.iat)),expirationTime:Ul(sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(s){return Number(s)*1e3}function Xm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const o=oT(n);return o?JSON.parse(o):(Yc("Failed to decode base64 JWT payload"),null)}catch(o){return Yc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Iv(s){const t=Xm(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof zi&&Cw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Cw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(s){const t=s.auth,n=await s.getIdToken(),r=await Fl(s,oh(t,{idToken:n}));Et(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?bT(o.providerUserInfo):[],f=Ow(s.providerData,u),m=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!f?.length,g=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,E)}async function Dw(s){const t=_e(s);await lh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ow(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function bT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(s,t){const n=await ST(s,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await AT(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:r};return s.emulatorConfig&&mr(s.emulatorConfig.host)&&(y.credentials="include"),TT.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Mw(s,t){return pr(s,"POST","/v2/accounts:revokeToken",aa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=Iv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await xw(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new so;return r&&(Et(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Nw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Iw(this,t)}reload(){return Dw(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(sr(this.auth));const t=await this.getIdToken();return await Fl(this,Rw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:j,providerData:X,stsTokenManager:tt}=n;Et(A&&tt,t,"internal-error");const J=so.fromJSON(this.name,tt);Et(typeof A=="string",t,"internal-error"),Xs(r,t.name),Xs(o,t.name),Et(typeof R=="boolean",t,"internal-error"),Et(typeof j=="boolean",t,"internal-error"),Xs(u,t.name),Xs(f,t.name),Xs(m,t.name),Xs(y,t.name),Xs(g,t.name),Xs(E,t.name);const ot=new si({uid:A,auth:t,email:o,emailVerified:R,displayName:r,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:J,createdAt:g,lastLoginAt:E});return X&&Array.isArray(X)&&(ot.providerData=X.map(pt=>({...pt}))),y&&(ot._redirectEventId=y),ot}static async _fromIdTokenResponse(t,n,r=!1){const o=new so;o.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await lh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new so;m.updateFromIdToken(r);const y=new si({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new Map;function us(s){fs(s instanceof Function,"Expected a class definition");let t=Cv.get(s);return t?(fs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Cv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}wT.type="NONE";const Nv=wT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(s,t,n){return`firebase:${s}:${t}:${n}`}class ro{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await oh(this.auth,{idToken:t}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ro(us(Nv),t,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||us(Nv);const f=Xc(r,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const R=await oh(t,{idToken:E}).catch(()=>{});if(!R)break;A=await si._fromGetAccountInfoResponse(t,R,E)}else A=si._fromJSON(t,E);g!==u&&(m=A),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new ro(u,t,r):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ro(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(RT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(OT(t))return"Blackberry";if(xT(t))return"Webos";if(IT(t))return"Safari";if((t.includes("chrome/")||CT(t))&&!t.includes("edge/"))return"Chrome";if(DT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function RT(s=tn()){return/firefox\//i.test(s)}function IT(s=tn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function CT(s=tn()){return/crios\//i.test(s)}function NT(s=tn()){return/iemobile/i.test(s)}function DT(s=tn()){return/android/i.test(s)}function OT(s=tn()){return/blackberry/i.test(s)}function xT(s=tn()){return/webos/i.test(s)}function $m(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Vw(s=tn()){return $m(s)&&!!window.navigator?.standalone}function kw(){return Xb()&&document.documentMode===10}function MT(s=tn()){return $m(s)||DT(s)||xT(s)||OT(s)||/windows phone/i.test(s)||NT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(s,t=[]){let n;switch(s){case"Browser":n=Dv(tn());break;case"Worker":n=`${Dv(tn())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,m)=>{try{const y=t(u);f(y)}catch(y){m(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pw(s,t={}){return pr(s,"GET","/v2/passwordPolicy",aa(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=6;class zw{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Uw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ov(this),this.idTokenSubscription=new Ov(this),this.beforeStateQueue=new Lw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=us(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await oh(this,{idToken:t}),r=await si._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await lh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_w()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(sr(this));const n=t?_e(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Pw(this),n=new zw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new tu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Mw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&us(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,r,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&pw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function yo(s){return _e(s)}class Ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=i1(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bw(s){Ih=s}function kT(s){return Ih.loadJS(s)}function Hw(){return Ih.recaptchaEnterpriseScript}function qw(){return Ih.gapiScript}function Fw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Gw{constructor(){this.enterprise=new Kw}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Kw{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Qw="recaptcha-enterprise",LT="NO_RECAPTCHA";class Yw{constructor(t){this.type=Qw,this.auth=yo(t)}async verify(t="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{ww(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new bw(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(y=>{m(y)})})}function o(u,f,m){const y=window.grecaptcha;Rv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(LT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Gw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!n&&Rv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Hw();y.length!==0&&(y+=m),kT(y).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function xv(s,t,n,r=!1,o=!1){const u=new Yw(s);let f;if(o)f=LT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Mv(s,t,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await xv(s,t,n,n==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await xv(s,t,n,n==="getOobCode");return r(s,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(s,t){const n=wh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Wr(u,t??{}))return o;ai(o,"already-initialized")}return n.initialize({options:t})}function $w(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(us);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Zw(s,t,n){const r=yo(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=PT(t),{host:f,port:m}=Jw(t),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(Wr(g,r.config.emulator)&&Wr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,mr(f)?(Hm(`${u}//${f}${y}`),qm("Auth",!0)):Ww()}function PT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Jw(s){const t=PT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Vv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Vv(f)}}}function Vv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Ww(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ls("not implemented")}_getIdTokenResponse(t){return ls("not implemented")}_linkToIdToken(t,n){return ls("not implemented")}_getReauthenticationResolver(t){return ls("not implemented")}}async function tR(s,t){return pr(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(s,t){return Rh(s,"POST","/v1/accounts:signInWithPassword",aa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(s,t){return Rh(s,"POST","/v1/accounts:signInWithEmailLink",aa(s,t))}async function iR(s,t){return Rh(s,"POST","/v1/accounts:signInWithEmailLink",aa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Zm{constructor(t,n,r,o=null){super("password",r),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Gl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Gl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mv(t,n,"signInWithPassword",eR);case"emailLink":return nR(t,{email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mv(t,r,"signUpPassword",tR);case"emailLink":return iR(t,{idToken:n,email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(s,t){return Rh(s,"POST","/v1/accounts:signInWithIdp",aa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="http://localhost";class ea extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new ea(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ao(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ao(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ao(t,n)}buildRequest(){const t={requestUri:sR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=eu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aR(s){const t=Ol(xl(s)).link,n=t?Ol(xl(t)).deep_link_id:null,r=Ol(xl(s)).deep_link_id;return(r?Ol(xl(r)).link:null)||r||n||t||s}class Jm{constructor(t){const n=Ol(xl(t)),r=n.apiKey??null,o=n.oobCode??null,u=rR(n.mode??null);Et(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=aR(t);try{return new Jm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(t,n){return Gl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Jm.parseLink(n);return Et(r,"argument-error"),Gl._fromEmailAndCode(t,r.code,r.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends UT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends iu{constructor(){super("facebook.com")}static credential(t){return ea._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ea._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends iu{constructor(){super("github.com")}static credential(t){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends iu{constructor(){super("twitter.com")}static credential(t,n){return ea._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await si._fromIdTokenResponse(t,r,o),f=kv(r);return new uo({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=kv(r);return new uo({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function kv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends zi{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new uh(t,n,r,o)}}function zT(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,u,t,r):u})}async function oR(s,t,n=!1){const r=await Fl(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return uo._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(s,t,n=!1){const{auth:r}=s;if(qn(r.app))return Promise.reject(sr(r));const o="reauthenticate";try{const u=await Fl(s,zT(r,o,t,s),n);Et(u.idToken,r,"internal-error");const f=Xm(u.idToken);Et(f,r,"internal-error");const{sub:m}=f;return Et(s.uid===m,r,"user-mismatch"),uo._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(s,t,n=!1){if(qn(s.app))return Promise.reject(sr(s));const r="signIn",o=await zT(s,r,t),u=await uo._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function uR(s,t){return jT(yo(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(s){const t=yo(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function hR(s,t,n){return qn(s.app)?Promise.reject(sr(s)):uR(_e(s),_o.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cR(s),r})}function fR(s,t,n,r){return _e(s).onIdTokenChanged(t,n,r)}function dR(s,t,n){return _e(s).beforeAuthStateChanged(t,n)}function mR(s,t,n,r){return _e(s).onAuthStateChanged(t,n,r)}function pR(s){return _e(s).signOut()}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1e3,yR=10;class HT extends BT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);kw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,yR):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},gR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}HT.type="LOCAL";const _R=HT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends BT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}qT.type="SESSION";const FT=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Ch(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await vR(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=Wm("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function TR(s){Oi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function SR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AR(){return navigator?.serviceWorker?.controller||null}function bR(){return GT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebaseLocalStorageDb",wR=1,hh="firebaseLocalStorage",QT="fbase_key";class su{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(s,t){return s.transaction([hh],t?"readwrite":"readonly").objectStore(hh)}function RR(){const s=indexedDB.deleteDatabase(KT);return new su(s).toPromise()}function Em(){const s=indexedDB.open(KT,wR);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(hh,{keyPath:QT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(hh)?t(r):(r.close(),await RR(),t(await Em()))})})}async function Lv(s,t,n){const r=Nh(s,!0).put({[QT]:t,value:n});return new su(r).toPromise()}async function IR(s,t){const n=Nh(s,!1).get(t),r=await new su(n).toPromise();return r===void 0?null:r.value}function Pv(s,t){const n=Nh(s,!0).delete(t);return new su(n).toPromise()}const CR=800,NR=3;class YT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>NR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(bR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SR(),!this.activeServiceWorker)return;this.sender=new ER(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||AR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Em();return await Lv(t,ch,"1"),await Pv(t,ch),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>IR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Nh(o,!1).getAll();return new su(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YT.type="LOCAL";const DR=YT;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(s,t){return t?us(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends Zm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ao(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ao(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function xR(s){return jT(s.auth,new tp(s),s.bypassAuthState)}function MR(s){const{auth:t,user:n}=s;return Et(n,t,"internal-error"),lR(n,new tp(s),s.bypassAuthState)}async function VR(s){const{auth:t,user:n}=s;return Et(n,t,"internal-error"),oR(n,new tp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:ai(this.auth,"internal-error")}}resolve(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new nu(2e3,1e4);class io extends XT{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const t=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,kR.get())};t()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="pendingRedirect",$c=new Map;class PR extends XT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=$c.get(this.auth._key());if(!t){try{const r=await UR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}$c.set(this.auth._key(),t)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UR(s,t){const n=BR(t),r=jR(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function zR(s,t){$c.set(s._key(),t)}function jR(s){return us(s._redirectPersistence)}function BR(s){return Xc(LR,s.config.apiKey,s.name)}async function HR(s,t,n=!1){if(qn(s.app))return Promise.reject(sr(s));const r=yo(s),o=OR(r,t),f=await new PR(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=600*1e3;class FR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!GR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!$T(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Di(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(t))}saveEventToCache(t){this.cachedEventUids.add(Uv(t)),this.lastProcessedEventTime=Date.now()}}function Uv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function $T({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function GR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $T(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(s,t={}){return pr(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YR=/^https?/;async function XR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await KR(s);for(const n of t)try{if($R(n))return}catch{}ai(s,"unauthorized-domain")}function $R(s){const t=_m(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!YR.test(n))return!1;if(QR.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new nu(3e4,6e4);function zv(){const s=Oi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function JR(s){return new Promise((t,n)=>{function r(){zv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zv(),n(Di(s,"network-request-failed"))},timeout:ZR.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)r();else{const o=Fw("iframefcb");return Oi()[o]=()=>{gapi.load?r():n(Di(s,"network-request-failed"))},kT(`${qw()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Zc=null,t})}let Zc=null;function WR(s){return Zc=Zc||JR(s),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new nu(5e3,15e3),eI="__/auth/iframe",nI="emulator/auth/iframe",iI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rI(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Ym(t,nI):`https://${s.config.authDomain}/${eI}`,r={apiKey:t.apiKey,appName:s.name,v:ra},o=sI.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${eu(r).slice(1)}`}async function aI(s){const t=await WR(s),n=Oi().gapi;return Et(n,s,"internal-error"),t.open({where:document.body,url:rI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Di(s,"network-request-failed"),m=Oi().setTimeout(()=>{u(f)},tI.get());function y(){Oi().clearTimeout(m),o(r)}r.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lI=500,uI=600,cI="_blank",hI="http://localhost";class jv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fI(s,t,n,r=lI,o=uI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y={...oI,width:r.toString(),height:o.toString(),top:u,left:f},g=tn().toLowerCase();n&&(m=CT(g)?cI:n),RT(g)&&(t=t||hI,y.scrollbars="yes");const E=Object.entries(y).reduce((R,[j,X])=>`${R}${j}=${X},`,"");if(Vw(g)&&m!=="_self")return dI(t||"",m),new jv(null);const A=window.open(t||"",m,E);Et(A,s,"popup-blocked");try{A.focus()}catch{}return new jv(A)}function dI(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="__/auth/handler",pI="emulator/auth/handler",gI=encodeURIComponent("fac");async function Bv(s,t,n,r,o,u){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ra,eventId:o};if(t instanceof UT){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",n1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof iu){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await s._getAppCheckToken(),g=y?`#${gI}=${encodeURIComponent(y)}`:"";return`${yI(s)}?${eu(m).slice(1)}${g}`}function yI({config:s}){return s.emulator?Ym(s,pI):`https://${s.authDomain}/${mI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="webStorageSupport";class _I{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FT,this._completeRedirectFn=HR,this._overrideRedirectResult=zR}async _openPopup(t,n,r,o){fs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Bv(t,n,r,_m(),o);return fI(t,u,Wm())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await Bv(t,n,r,_m(),o);return TR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await aI(t),r=new FR(t);return n.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(rm,{type:rm},o=>{const u=o?.[0]?.[rm];u!==void 0&&n(!!u),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return MT()||IT()||$m()}}const vI=_I;var Hv="@firebase/auth",qv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SI(s){ta(new or("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(s)},g=new jw(r,o,u,y);return $w(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ta(new or("auth-internal",t=>{const n=yo(t.getProvider("auth").getImmediate());return(r=>new EI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(Hv,qv,TI(s)),Ni(Hv,qv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=300,bI=hT("authIdTokenMaxAge")||AI;let Fv=null;const wI=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bI)return;const o=n?.token;Fv!==o&&(Fv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RI(s=Km()){const t=wh(s,"auth");if(t.isInitialized())return t.getImmediate();const n=Xw(s,{popupRedirectResolver:vI,persistence:[DR,_R,FT]}),r=hT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=wI(u.toString());dR(n,f,()=>f(n.currentUser)),fR(n,m=>f(m))}}const o=lT("auth");return o&&Zw(n,`http://${o}`),n}function II(){return document.getElementsByTagName("head")?.[0]??document}Bw({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=Di("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",II().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SI("Browser");var CI="firebase",NI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(CI,NI,"app");var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rr,ZT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,b){function N(){}N.prototype=b.prototype,D.F=b.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(V,M,L){for(var I=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)I[ie-2]=arguments[ie];return b.prototype[M].apply(V,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,N){N||(N=0);const V=Array(16);if(typeof b=="string")for(var M=0;M<16;++M)V[M]=b.charCodeAt(N++)|b.charCodeAt(N++)<<8|b.charCodeAt(N++)<<16|b.charCodeAt(N++)<<24;else for(M=0;M<16;++M)V[M]=b[N++]|b[N++]<<8|b[N++]<<16|b[N++]<<24;b=D.g[0],N=D.g[1],M=D.g[2];let L=D.g[3],I;I=b+(L^N&(M^L))+V[0]+3614090360&4294967295,b=N+(I<<7&4294967295|I>>>25),I=L+(M^b&(N^M))+V[1]+3905402710&4294967295,L=b+(I<<12&4294967295|I>>>20),I=M+(N^L&(b^N))+V[2]+606105819&4294967295,M=L+(I<<17&4294967295|I>>>15),I=N+(b^M&(L^b))+V[3]+3250441966&4294967295,N=M+(I<<22&4294967295|I>>>10),I=b+(L^N&(M^L))+V[4]+4118548399&4294967295,b=N+(I<<7&4294967295|I>>>25),I=L+(M^b&(N^M))+V[5]+1200080426&4294967295,L=b+(I<<12&4294967295|I>>>20),I=M+(N^L&(b^N))+V[6]+2821735955&4294967295,M=L+(I<<17&4294967295|I>>>15),I=N+(b^M&(L^b))+V[7]+4249261313&4294967295,N=M+(I<<22&4294967295|I>>>10),I=b+(L^N&(M^L))+V[8]+1770035416&4294967295,b=N+(I<<7&4294967295|I>>>25),I=L+(M^b&(N^M))+V[9]+2336552879&4294967295,L=b+(I<<12&4294967295|I>>>20),I=M+(N^L&(b^N))+V[10]+4294925233&4294967295,M=L+(I<<17&4294967295|I>>>15),I=N+(b^M&(L^b))+V[11]+2304563134&4294967295,N=M+(I<<22&4294967295|I>>>10),I=b+(L^N&(M^L))+V[12]+1804603682&4294967295,b=N+(I<<7&4294967295|I>>>25),I=L+(M^b&(N^M))+V[13]+4254626195&4294967295,L=b+(I<<12&4294967295|I>>>20),I=M+(N^L&(b^N))+V[14]+2792965006&4294967295,M=L+(I<<17&4294967295|I>>>15),I=N+(b^M&(L^b))+V[15]+1236535329&4294967295,N=M+(I<<22&4294967295|I>>>10),I=b+(M^L&(N^M))+V[1]+4129170786&4294967295,b=N+(I<<5&4294967295|I>>>27),I=L+(N^M&(b^N))+V[6]+3225465664&4294967295,L=b+(I<<9&4294967295|I>>>23),I=M+(b^N&(L^b))+V[11]+643717713&4294967295,M=L+(I<<14&4294967295|I>>>18),I=N+(L^b&(M^L))+V[0]+3921069994&4294967295,N=M+(I<<20&4294967295|I>>>12),I=b+(M^L&(N^M))+V[5]+3593408605&4294967295,b=N+(I<<5&4294967295|I>>>27),I=L+(N^M&(b^N))+V[10]+38016083&4294967295,L=b+(I<<9&4294967295|I>>>23),I=M+(b^N&(L^b))+V[15]+3634488961&4294967295,M=L+(I<<14&4294967295|I>>>18),I=N+(L^b&(M^L))+V[4]+3889429448&4294967295,N=M+(I<<20&4294967295|I>>>12),I=b+(M^L&(N^M))+V[9]+568446438&4294967295,b=N+(I<<5&4294967295|I>>>27),I=L+(N^M&(b^N))+V[14]+3275163606&4294967295,L=b+(I<<9&4294967295|I>>>23),I=M+(b^N&(L^b))+V[3]+4107603335&4294967295,M=L+(I<<14&4294967295|I>>>18),I=N+(L^b&(M^L))+V[8]+1163531501&4294967295,N=M+(I<<20&4294967295|I>>>12),I=b+(M^L&(N^M))+V[13]+2850285829&4294967295,b=N+(I<<5&4294967295|I>>>27),I=L+(N^M&(b^N))+V[2]+4243563512&4294967295,L=b+(I<<9&4294967295|I>>>23),I=M+(b^N&(L^b))+V[7]+1735328473&4294967295,M=L+(I<<14&4294967295|I>>>18),I=N+(L^b&(M^L))+V[12]+2368359562&4294967295,N=M+(I<<20&4294967295|I>>>12),I=b+(N^M^L)+V[5]+4294588738&4294967295,b=N+(I<<4&4294967295|I>>>28),I=L+(b^N^M)+V[8]+2272392833&4294967295,L=b+(I<<11&4294967295|I>>>21),I=M+(L^b^N)+V[11]+1839030562&4294967295,M=L+(I<<16&4294967295|I>>>16),I=N+(M^L^b)+V[14]+4259657740&4294967295,N=M+(I<<23&4294967295|I>>>9),I=b+(N^M^L)+V[1]+2763975236&4294967295,b=N+(I<<4&4294967295|I>>>28),I=L+(b^N^M)+V[4]+1272893353&4294967295,L=b+(I<<11&4294967295|I>>>21),I=M+(L^b^N)+V[7]+4139469664&4294967295,M=L+(I<<16&4294967295|I>>>16),I=N+(M^L^b)+V[10]+3200236656&4294967295,N=M+(I<<23&4294967295|I>>>9),I=b+(N^M^L)+V[13]+681279174&4294967295,b=N+(I<<4&4294967295|I>>>28),I=L+(b^N^M)+V[0]+3936430074&4294967295,L=b+(I<<11&4294967295|I>>>21),I=M+(L^b^N)+V[3]+3572445317&4294967295,M=L+(I<<16&4294967295|I>>>16),I=N+(M^L^b)+V[6]+76029189&4294967295,N=M+(I<<23&4294967295|I>>>9),I=b+(N^M^L)+V[9]+3654602809&4294967295,b=N+(I<<4&4294967295|I>>>28),I=L+(b^N^M)+V[12]+3873151461&4294967295,L=b+(I<<11&4294967295|I>>>21),I=M+(L^b^N)+V[15]+530742520&4294967295,M=L+(I<<16&4294967295|I>>>16),I=N+(M^L^b)+V[2]+3299628645&4294967295,N=M+(I<<23&4294967295|I>>>9),I=b+(M^(N|~L))+V[0]+4096336452&4294967295,b=N+(I<<6&4294967295|I>>>26),I=L+(N^(b|~M))+V[7]+1126891415&4294967295,L=b+(I<<10&4294967295|I>>>22),I=M+(b^(L|~N))+V[14]+2878612391&4294967295,M=L+(I<<15&4294967295|I>>>17),I=N+(L^(M|~b))+V[5]+4237533241&4294967295,N=M+(I<<21&4294967295|I>>>11),I=b+(M^(N|~L))+V[12]+1700485571&4294967295,b=N+(I<<6&4294967295|I>>>26),I=L+(N^(b|~M))+V[3]+2399980690&4294967295,L=b+(I<<10&4294967295|I>>>22),I=M+(b^(L|~N))+V[10]+4293915773&4294967295,M=L+(I<<15&4294967295|I>>>17),I=N+(L^(M|~b))+V[1]+2240044497&4294967295,N=M+(I<<21&4294967295|I>>>11),I=b+(M^(N|~L))+V[8]+1873313359&4294967295,b=N+(I<<6&4294967295|I>>>26),I=L+(N^(b|~M))+V[15]+4264355552&4294967295,L=b+(I<<10&4294967295|I>>>22),I=M+(b^(L|~N))+V[6]+2734768916&4294967295,M=L+(I<<15&4294967295|I>>>17),I=N+(L^(M|~b))+V[13]+1309151649&4294967295,N=M+(I<<21&4294967295|I>>>11),I=b+(M^(N|~L))+V[4]+4149444226&4294967295,b=N+(I<<6&4294967295|I>>>26),I=L+(N^(b|~M))+V[11]+3174756917&4294967295,L=b+(I<<10&4294967295|I>>>22),I=M+(b^(L|~N))+V[2]+718787259&4294967295,M=L+(I<<15&4294967295|I>>>17),I=N+(L^(M|~b))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+L&4294967295}r.prototype.v=function(D,b){b===void 0&&(b=D.length);const N=b-this.blockSize,V=this.C;let M=this.h,L=0;for(;L<b;){if(M==0)for(;L<=N;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<b;)if(V[M++]=D.charCodeAt(L++),M==this.blockSize){o(this,V),M=0;break}}else for(;L<b;)if(V[M++]=D[L++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=b},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)D[b++]=this.g[N]>>>V&255;return D};function u(D,b){var N=m;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=b(D)}function f(D,b){this.h=b;const N=[];let V=!0;for(let M=D.length-1;M>=0;M--){const L=D[M]|0;V&&L==b||(N[M]=L,V=!1)}this.g=N}var m={};function y(D){return-128<=D&&D<128?u(D,function(b){return new f([b|0],b<0?-1:0)}):new f([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return J(g(-D));const b=[];let N=1;for(let V=0;D>=N;V++)b[V]=D/N|0,N*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return J(E(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(b,8));let V=A;for(let L=0;L<D.length;L+=8){var M=Math.min(8,D.length-L);const I=parseInt(D.substring(L,L+M),b);M<8?(M=g(Math.pow(b,M)),V=V.j(M).add(g(I))):(V=V.j(N),V=V.add(g(I)))}return V}var A=y(0),R=y(1),j=y(16777216);s=f.prototype,s.m=function(){if(tt(this))return-J(this).m();let D=0,b=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);D+=(V>=0?V:4294967296+V)*b,b*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(X(this))return"0";if(tt(this))return"-"+J(this).toString(D);const b=g(Math.pow(D,6));var N=this;let V="";for(;;){const M=St(N,b).g;N=ot(N,M.j(b));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=M,X(N))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function X(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function tt(D){return D.h==-1}s.l=function(D){return D=ot(this,D),tt(D)?-1:X(D)?0:1};function J(D){const b=D.g.length,N=[];for(let V=0;V<b;V++)N[V]=~D.g[V];return new f(N,~D.h).add(R)}s.abs=function(){return tt(this)?J(this):this},s.add=function(D){const b=Math.max(this.g.length,D.g.length),N=[];let V=0;for(let M=0;M<=b;M++){let L=V+(this.i(M)&65535)+(D.i(M)&65535),I=(L>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);V=I>>>16,L&=65535,I&=65535,N[M]=I<<16|L}return new f(N,N[N.length-1]&-2147483648?-1:0)};function ot(D,b){return D.add(J(b))}s.j=function(D){if(X(this)||X(D))return A;if(tt(this))return tt(D)?J(this).j(J(D)):J(J(this).j(D));if(tt(D))return J(this.j(J(D)));if(this.l(j)<0&&D.l(j)<0)return g(this.m()*D.m());const b=this.g.length+D.g.length,N=[];for(var V=0;V<2*b;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<D.g.length;M++){const L=this.i(V)>>>16,I=this.i(V)&65535,ie=D.i(M)>>>16,bt=D.i(M)&65535;N[2*V+2*M]+=I*bt,pt(N,2*V+2*M),N[2*V+2*M+1]+=L*bt,pt(N,2*V+2*M+1),N[2*V+2*M+1]+=I*ie,pt(N,2*V+2*M+1),N[2*V+2*M+2]+=L*ie,pt(N,2*V+2*M+2)}for(D=0;D<b;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=b;D<2*b;D++)N[D]=0;return new f(N,0)};function pt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function ut(D,b){this.g=D,this.h=b}function St(D,b){if(X(b))throw Error("division by zero");if(X(D))return new ut(A,A);if(tt(D))return b=St(J(D),b),new ut(J(b.g),J(b.h));if(tt(b))return b=St(D,J(b)),new ut(J(b.g),b.h);if(D.g.length>30){if(tt(D)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var N=R,V=b;V.l(D)<=0;)N=Bt(N),V=Bt(V);var M=Ot(N,1),L=Ot(V,1);for(V=Ot(V,2),N=Ot(N,2);!X(V);){var I=L.add(V);I.l(D)<=0&&(M=M.add(N),L=I),V=Ot(V,1),N=Ot(N,1)}return b=ot(D,M.j(b)),new ut(M,b)}for(M=A;D.l(b)>=0;){for(N=Math.max(1,Math.floor(D.m()/b.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=g(N),I=L.j(b);tt(I)||I.l(D)>0;)N-=V,L=g(N),I=L.j(b);X(L)&&(L=R),M=M.add(L),D=ot(D,I)}return new ut(M,D)}s.B=function(D){return St(this,D).h},s.and=function(D){const b=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<b;V++)N[V]=this.i(V)&D.i(V);return new f(N,this.h&D.h)},s.or=function(D){const b=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<b;V++)N[V]=this.i(V)|D.i(V);return new f(N,this.h|D.h)},s.xor=function(D){const b=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<b;V++)N[V]=this.i(V)^D.i(V);return new f(N,this.h^D.h)};function Bt(D){const b=D.g.length+1,N=[];for(let V=0;V<b;V++)N[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(N,D.h)}function Ot(D,b){const N=b>>5;b%=32;const V=D.g.length-N,M=[];for(let L=0;L<V;L++)M[L]=b>0?D.i(L+N)>>>b|D.i(L+N+1)<<32-b:D.i(L+N);return new f(M,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ZT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,rr=f}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JT,Ml,WT,Jc,Tm,t0,e0,n0;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,p){if(p)t:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in v))break t;v=v[P]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,v){return c.call.apply(c.bind,arguments)}function g(c,p,v){return g=y,g.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,P,q){for(var it=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)it[Ct-2]=arguments[Ct];return p.prototype[P].apply(S,it)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const p=c.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function X(c,p){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const q=P.length||0;c.length=v+q;for(let it=0;it<q;it++)c[v+it]=P[it]}else c.push(P)}}class tt{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function J(c){f.setTimeout(()=>{throw c},0)}function ot(){var c=D;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class pt{constructor(){this.h=this.g=null}add(p,v){const S=ut.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ut=new tt(()=>new St,c=>c.reset());class St{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,Ot=!1,D=new pt,b=()=>{const c=Promise.resolve(void 0);Bt=()=>{c.then(N)}};function N(){for(var c;c=ot();){try{c.h.call(c.g)}catch(v){J(v)}var p=ut;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ie(c,p){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}A(ie,M),ie.prototype.init=function(c,p){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),B=0;function $(c,p,v,S,P){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=P,this.key=++B,this.da=this.fa=!1}function rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vt(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function It(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function O(c){const p={};for(const v in c)p[v]=c[v];return p}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,p){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)c[v]=S[v];for(let q=0;q<G.length;q++)v=G[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function et(c){this.src=c,this.g={},this.h=0}et.prototype.add=function(c,p,v,S,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const it=gt(c,p,S,P);return it>-1?(p=c[it],v||(p.fa=!1)):(p=new $(p,this.src,q,!!S,P),p.fa=v,c.push(p)),p};function ft(c,p){const v=p.type;if(v in c.g){var S=c.g[v],P=Array.prototype.indexOf.call(S,p,void 0),q;(q=P>=0)&&Array.prototype.splice.call(S,P,1),q&&(rt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function gt(c,p,v,S){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==p&&q.capture==!!v&&q.ha==S)return P}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),Zt={};function Qt(c,p,v,S,P){if(Array.isArray(p)){for(let q=0;q<p.length;q++)Qt(c,p[q],v,S,P);return null}return v=wo(v),c&&c[bt]?c.J(p,v,m(S)?!!S.capture:!1,P):Cn(c,p,v,!1,S,P)}function Cn(c,p,v,S,P,q){if(!p)throw Error("Invalid event type");const it=m(P)?!!P.capture:!!P;let Ct=Hi(c);if(Ct||(c[_t]=Ct=new et(c)),v=Ct.add(p,v,S,it,q),v.proxy)return v;if(S=Gn(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)L||(P=it),P===void 0&&(P=!1),c.addEventListener(p.toString(),S,P);else if(c.attachEvent)c.attachEvent(yn(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Gn(){function c(v){return p.call(c.src,c.listener,v)}const p=ps;return c}function ji(c,p,v,S,P){if(Array.isArray(p))for(var q=0;q<p.length;q++)ji(c,p[q],v,S,P);else S=m(S)?!!S.capture:!!S,v=wo(v),c&&c[bt]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],v=gt(p,v,S,P),v>-1&&(rt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=Hi(c))&&(p=c.g[p.toString()],c=-1,p&&(c=gt(p,v,S,P)),(v=c>-1?p[c]:null)&&Bi(v))}function Bi(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[bt])ft(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(yn(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=Hi(p))?(ft(v,c),v.h==0&&(v.src=null,p[_t]=null)):rt(c)}}}function yn(c){return c in Zt?Zt[c]:Zt[c]="on"+c}function ps(c,p){if(c.da)c=!0;else{p=new ie(p,this);const v=c.listener,S=c.ha||c.src;c.fa&&Bi(c),c=v.call(S,p)}return c}function Hi(c){return c=c[_t],c instanceof et?c:null}var bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function wo(c){return typeof c=="function"?c:(c[bo]||(c[bo]=function(p){return c.handleEvent(p)}),c[bo])}function ve(){V.call(this),this.i=new et(this),this.M=this,this.G=null}A(ve,V),ve.prototype[bt]=!0,ve.prototype.removeEventListener=function(c,p,v,S){ji(this,c,p,v,S)};function Oe(c,p){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new M(p,c);else if(p instanceof M)p.target=p.target||c;else{var P=p;p=new M(S,c),nt(p,P)}P=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=p.g=v[it],P=gs(q,S,!0,p)&&P;if(q=p.g=c,P=gs(q,S,!0,p)&&P,P=gs(q,S,!1,p)&&P,v)for(it=0;it<v.length;it++)q=p.g=v[it],P=gs(q,S,!1,p)&&P}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let S=0;S<v.length;S++)rt(v[S]);delete c.g[p],c.h--}}this.G=null},ve.prototype.J=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},ve.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function gs(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let q=0;q<p.length;++q){const it=p[q];if(it&&!it.da&&it.capture==v){const Ct=it.listener,me=it.ha||it.src;it.fa&&ft(c.i,it),P=Ct.call(me,S)!==!1&&P}}return P&&!S.defaultPrevented}function Yh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function hu(c){c.g=Yh(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(c){V.call(this),this.h=c,this.g={}}A(_r,V);var Ro=[];function Io(c){vt(c.g,function(p,v){this.g.hasOwnProperty(v)&&Bi(p)},c),c.g={}}_r.prototype.N=function(){_r.Z.N.call(this),Io(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ys=f.JSON.stringify,Xh=f.JSON.parse,fu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function du(){}function mu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){M.call(this,"d")}A(Be,M);function Nn(){M.call(this,"c")}A(Nn,M);var de={},pu=null;function ua(){return pu=pu||new ve}de.Ia="serverreachability";function gu(c){M.call(this,de.Ia,c)}A(gu,M);function oi(c){const p=ua();Oe(p,new gu(p))}de.STAT_EVENT="statevent";function vr(c,p){M.call(this,de.STAT_EVENT,c),this.stat=p}A(vr,M);function Ee(c){const p=ua();Oe(p,new vr(p,c))}de.Ja="timingevent";function li(c,p){M.call(this,de.Ja,c),this.size=p}A(li,M);function ui(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function $h(c,p,v,S,P,q){c.info(function(){if(c.g)if(q){var it="",Ct=q.split("&");for(let Ft=0;Ft<Ct.length;Ft++){var me=Ct[Ft].split("=");if(me.length>1){const le=me[0];me=me[1];const Mn=le.split("_");it=Mn.length>=2&&Mn[1]=="type"?it+(le+"="+me+"&"):it+(le+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+p+`
`+v+`
`+it})}function yu(c,p,v,S,P,q,it){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+p+`
`+v+`
`+q+" "+it})}function ci(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Zh(c,v)+(S?" "+S:"")})}function Er(c,p){c.info(function(){return"TIMEOUT: "+p})}Qn.prototype.info=function(){};function Zh(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let it=1;it<S.length;it++)S[it]=""}}}}return ys(q)}catch{return p}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},No;function Sr(){}A(Sr,du),Sr.prototype.g=function(){return new XMLHttpRequest},No=new Sr;function qi(c){return encodeURIComponent(String(c))}function _u(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Yn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.S=S||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Te={},ke={};function hi(c,p,v){c.M=1,c.A=Ar(Ae(p)),c.u=v,c.R=!0,ca(c,null)}function ca(c,p){c.F=Date.now(),fi(c),c.B=Ae(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ma(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Xn,c.g=Mu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),p=c.V,v=c.g,S=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ro[0]=P.toString()),P=Ro);for(let q=0;q<P.length;q++){const it=Qt(v,P[q],S||p.handleEvent,!1,p.h||p);if(!it)break;p.g[it.key]=it}p=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),oi(),$h(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Jn(c)==3?p.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)t:{const Ct=Jn(this.g),me=this.g.ya(),Ft=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Ct!=4||me==7||(me==8||Ft<=0?oi(3):oi(2)),di(this);var p=this.g.ca();this.X=p;var v=Jh(this);if(this.o=p==200,yu(this.i,this.v,this.B,this.l,this.S,Ct,p),this.o){if(this.U&&!this.L){e:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var q=S;break e}}q=null}if(c=q)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,Ee(12),_n(this),Dn(this);break t}}if(this.R){c=!0;let le;for(;!this.K&&this.C<v.length;)if(le=Eu(this,v),le==ke){Ct==4&&(this.m=4,Ee(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Te){this.m=4,Ee(15),ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,le,null),mi(this,le);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fo(it),it.P=!0,Ee(11))}}else ci(this.i,this.l,v,null),mi(this,v);Ct==4&&_n(this),this.o&&!this.K&&(Ct==4?Nu(this.j,this):(this.o=!1,fi(this)))}else Gi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),_n(this),Dn(this)}}}catch{}finally{}};function Jh(c){if(!vu(c))return c.g.la();const p=He(c.g);if(p==="")return"";let v="";const S=p.length,P=Jn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Dn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(p[q],{stream:!(P&&q==S-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Eu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?ke:(v=Number(p.substring(v,S)),isNaN(v)?Te:(S+=1,S+v>p.length?ke:(p=p.slice(S,S+v),c.C=S+v,p)))}Yn.prototype.cancel=function(){this.K=!0,_n(this)};function fi(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(g(c.aa,c),p)}function di(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Er(this.i,this.B),this.M!=2&&(oi(),Ee(17)),_n(this),this.m=2,Dn(this)):ha(this,this.T-c)};function Dn(c){c.j.I==0||c.K||Nu(c.j,c)}function _n(c){di(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Io(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function mi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),ws(v);else break t;Dr(v),Ee(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(g(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((c.L||v.g==c)&&va(v),!I(p))for(P=v.Ba.g.parse(p),p=0;p<P.length;p++){let Ft=P[p];const le=Ft[0];if(!(le<=v.K))if(v.K=le,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Mn=Ft[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const Ai=Ft[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Wn=Ft[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(S=1.5*Wn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ti=c.g;if(ti){const Or=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var q=S.h;q.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xo(q,q.h),q.h=null))}if(S.G){const Ea=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(S.wa=Ea,Yt(S.J,S.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var it=c;if(S.na=xu(S,S.L?S.ba:null,S.W),it.L){Mo(S.h,it);var Ct=it,me=S.O;me&&(Ct.H=me),Ct.D&&(di(Ct),fi(Ct)),S.g=it}else Iu(S);v.i.length>0&&Ti(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Si(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Si(v,7):Ho(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}oi(4)}catch{}}var Se=class{constructor(c,p){this.g=c,this.map=p}};function Do(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function gi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function xo(c,p){c.g?c.g.add(p):c.h=p}function Mo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Do.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return j(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let P,q=null;S>=0?(P=c[v].substring(0,S),q=c[v].substring(S+1)):P=c[v],p(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof vn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,_s(this,c.u),this.h=c.h,ko(this,wu(c.i)),this.m=c.m):c&&(p=String(c).match(Tu))?(this.l=!1,Le(this,p[1]||"",!0),this.o=yi(p[2]||""),this.g=yi(p[3]||"",!0),_s(this,p[4]),this.h=yi(p[5]||"",!0),ko(this,p[6]||"",!0),this.m=yi(p[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}vn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(br(p,da,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(br(p,da,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(br(v,v.charAt(0)=="/"?Lo:Su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",br(v,Au)),c.join("")},vn.prototype.resolve=function(c){const p=Ae(this);let v=!!c.j;v?Le(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var S=c.h;if(v)_s(p,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=p.h.lastIndexOf("/");P!=-1&&(S=p.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let it=0;it<P.length;){const Ct=P[it++];Ct=="."?S&&it==P.length&&q.push(""):Ct==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&it==P.length&&q.push("")):(q.push(Ct),S=!0)}S=q.join("/")}else S=P}return v?p.h=S:v=c.i.toString()!=="",v?ko(p,wu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Ae(c){return new vn(c)}function Le(c,p,v){c.j=v?yi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function _s(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function ko(c,p,v){p instanceof Es?(c.i=p,pa(c.i,c.l)):(v||(p=br(p,vs)),c.i=new Es(p,c.l))}function Yt(c,p,v){c.i.set(p,v)}function Ar(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function br(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,ln),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,Su=/[#\?:]/g,Lo=/[#\?]/g,vs=/[#\?@]/g,Au=/#/g;function Es(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=Es.prototype,s.add=function(c,p){un(this),this.i=null,c=Ts(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function bu(c,p){un(c),p=Ts(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Po(c,p){return un(c),p=Ts(c,p),c.g.has(p)}s.forEach=function(c,p){un(this),this.g.forEach(function(v,S){v.forEach(function(P){c.call(p,P,S,this)},this)},this)};function Uo(c,p){un(c);let v=[];if(typeof p=="string")Po(c,p)&&(v=v.concat(c.g.get(Ts(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}s.set=function(c,p){return un(this),this.i=null,c=Ts(this,c),Po(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},s.get=function(c,p){return c?(c=Uo(this,c),c.length>0?String(c[0]):p):p};function ma(c,p,v){bu(c,p),v.length>0&&(c.i=null,c.g.set(Ts(c,p),j(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const P=qi(v);v=Uo(this,v);for(let q=0;q<v.length;q++){let it=P;v[q]!==""&&(it+="="+qi(v[q])),c.push(it)}}return this.i=c.join("&")};function wu(c){const p=new Es;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Ts(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function pa(c,p){p&&!c.j&&(un(c),c.i=null,c.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(bu(this,S),ma(this,P,v))},c)),c.j=p}function $n(c,p){const v=new Qn;if(f.Image){const S=new Image;S.onload=E(On,v,"TestLoadImage: loaded",!0,p,S),S.onerror=E(On,v,"TestLoadImage: error",!1,p,S),S.onabort=E(On,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(On,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function zo(c,p){const v=new Qn,S=new AbortController,P=setTimeout(()=>{S.abort(),On(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(P),q.ok?On(v,"TestPingServer: ok",!0,p):On(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),On(v,"TestPingServer: error",!1,p)})}function On(c,p,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function Ss(){this.g=new fu}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}A(_i,du),_i.prototype.g=function(){return new wr(this.i,this.h)};function wr(c,p){ve.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(wr,ve),s=wr.prototype,s.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Zn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?As(this):Zn(this),this.readyState==3&&ga(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,As(this))},s.Na=function(c){this.g&&(this.response=c,As(this))},s.ga=function(){this.g&&As(this)};function As(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}s.setRequestHeader=function(c,p){this.A.append(c,p)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let p="";return vt(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Rr(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=xn(v),typeof c=="string"?v!=null&&qi(v):Yt(c,p,v))}function Jt(c){ve.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Jt,ve);var vi=/^https?$/i,jo=["POST","PUT"];s=Jt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():No.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){Ir(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(jo,p,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ir(this,q)}};function Ir(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Bo(c),Fi(c)}function Bo(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Fi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},s.Xa=function(){Cr(this)};function Cr(c){if(c.h&&typeof u<"u"){if(c.v&&Jn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=q===0){let it=String(c.D).match(Tu)[1]||null;!it&&f.self&&f.self.location&&(it=f.self.location.protocol.slice(0,-1)),S=!vi.test(it?it.toLowerCase():"")}v=S}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var P=Jn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Bo(c)}}finally{Fi(c)}}}}function Fi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Xh(p)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const p={};c=(c.g&&Jn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=_u(c[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=p[P]||[];p[P]=q,q.push(v)}It(p,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function bs(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(c&&c.concurrentRequestLimit),this.Ba=new Ss,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=bs.prototype,s.ka=8,s.I=1,s.connect=function(c,p,v,S){Ee(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=xu(this,null,this.W),Ti(this)};function Ho(c){if(ya(c),c.I==3){var p=c.V++,v=Ae(c.J);if(Yt(v,"SID",c.M),Yt(v,"RID",p),Yt(v,"TYPE","terminate"),Nr(c,v),p=new Yn(c,c.j,p),p.M=2,p.A=Ar(Ae(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Mu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),fi(p)}Ou(c)}function ws(c){c.g&&(Fo(c),c.g.cancel(),c.g=null)}function ya(c){ws(c),c.v&&(f.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ti(c){if(!Oo(c.h)&&!c.m){c.m=!0;var p=c.Ea;Bt||b(),Ot||(Bt(),Ot=!0),D.add(p,c),c.D=0}}function _a(c,p){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(g(c.Ea,c,p),Du(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Yn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=O(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Ru(this,P,p),v=Ae(this.J),Yt(v,"RID",c),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),Nr(this,v),q&&(this.R?p="headers="+qi(xn(q))+"&"+p:this.u&&Rr(v,this.u,q)),xo(this.h,P),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",p),Yt(v,"SID","null"),P.U=!0,hi(P,v,null)):hi(P,v,p),this.I=2}}else this.I==3&&(c?qo(this,c):this.i.length==0||Oo(this.h)||qo(this))};function qo(c,p){var v;p?v=p.l:v=c.V++;const S=Ae(c.J);Yt(S,"SID",c.M),Yt(S,"RID",v),Yt(S,"AID",c.K),Nr(c,S),c.u&&c.o&&Rr(S,c.u,c.o),v=new Yn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Ru(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xo(c.h,v),hi(v,S,p)}function Nr(c,p){c.H&&vt(c.H,function(v,S){Yt(p,S,v)}),c.l&&vt({},function(v,S){Yt(p,S,v)})}function Ru(c,p,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;t:{var P=c.i;let Ct=-1;for(;;){const me=["count="+v];Ct==-1?v>0?(Ct=P[0].g,me.push("ofs="+Ct)):Ct=0:me.push("ofs="+Ct);let Ft=!0;for(let le=0;le<v;le++){var q=P[le].g;const Mn=P[le].map;if(q-=Ct,q<0)Ct=Math.max(0,P[le].g-100),Ft=!1;else try{q="req"+q+"_"||"";try{var it=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ai,Wn]of it){let ti=Wn;m(Wn)&&(ti=ys(Wn)),me.push(q+Ai+"="+encodeURIComponent(ti))}}catch(Ai){throw me.push(q+"type="+encodeURIComponent("_badmap")),Ai}}catch{S&&S(Mn)}}if(Ft){it=me.join("&");break t}}it=void 0}return c=c.i.splice(0,v),p.G=c,it}function Iu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Bt||b(),Ot||(Bt(),Ot=!0),D.add(p,c),c.A=0}}function Dr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(g(c.Da,c),Du(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),ws(this),Cu(this))};function Fo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Cu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Ae(c.na);Yt(p,"RID","rpc"),Yt(p,"SID",c.M),Yt(p,"AID",c.K),Yt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(p,"TO",c.ia),Yt(p,"TYPE","xmlhttp"),Nr(c,p),c.u&&c.o&&Rr(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ar(Ae(p)),v.u=null,v.R=!0,ca(v,c)}s.Va=function(){this.C!=null&&(this.C=null,ws(this),Dr(this),Ee(19))};function va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Nu(c,p){var v=null;if(c.g==p){va(c),Fo(c),c.g=null;var S=2}else if(gi(c.h,p))v=p.G,Mo(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;S=ua(),Oe(S,new li(S,v)),Ti(c)}else Iu(c);else if(P=p.m,P==3||P==0&&p.X>0||!(S==1&&_a(c,p)||S==2&&Dr(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),P){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Du(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Si(c,p){if(c.j.info("Error code "+p),p==2){var v=g(c.bb,c),S=c.Ua;const P=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(S,"https"),Ar(S),P?$n(S.toString(),v):zo(S.toString(),v)}else Ee(2);c.I=0,c.l&&c.l.pa(p),Ou(c),ya(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Ou(c){if(c.I=0,c.ja=[],c.l){const p=Vo(c.h);(p.length!=0||c.i.length!=0)&&(X(c.ja,p),X(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function xu(c,p,v){var S=v instanceof vn?Ae(v):new vn(v);if(S.g!="")p&&(S.g=p+"."+S.g),_s(S,S.u);else{var P=f.location;S=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const q=new vn(null);S&&Le(q,S),p&&(q.g=p),P&&_s(q,P),v&&(q.h=v),S=q}return v=c.G,p=c.wa,v&&p&&Yt(S,v,p),Yt(S,"VER",c.ka),Nr(c,S),S}function Mu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Jt(new _i({ab:v})):new Jt(c.ma),p.Fa(c.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}s=Vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Rs(){}Rs.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){ve.call(this),this.g=new bs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!I(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ki(this)}A(nn,ve),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ho(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ys(c),c=v);p.i.push(new Se(p.Ya++,c)),p.I==3&&Ti(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,nn.Z.N.call(this)};function ku(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}A(ku,Be);function Lu(){Nn.call(this),this.status=1}A(Lu,Nn);function Ki(c){this.g=c}A(Ki,Vu),Ki.prototype.ra=function(){Oe(this.g,"a")},Ki.prototype.qa=function(c){Oe(this.g,new ku(c))},Ki.prototype.pa=function(c){Oe(this.g,new Lu)},Ki.prototype.oa=function(){Oe(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,n0=function(){return new Rs},e0=function(){return ua()},t0=de,Tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Jc=Tr,Co.COMPLETE="complete",WT=Co,mu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Ml=mu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,JT=Jt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const Kv="@firebase/firestore",Qv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Fm("@firebase/firestore");function Wa(){return na.logLevel}function at(s,...t){if(na.logLevel<=Lt.DEBUG){const n=t.map(ep);na.debug(`Firestore (${vo}): ${s}`,...n)}}function ds(s,...t){if(na.logLevel<=Lt.ERROR){const n=t.map(ep);na.error(`Firestore (${vo}): ${s}`,...n)}}function co(s,...t){if(na.logLevel<=Lt.WARN){const n=t.map(ep);na.warn(`Firestore (${vo}): ${s}`,...n)}}function ep(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,i0(s,r,n)}function i0(s,t,n){let r=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ds(r),new Error(r)}function Kt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||i0(t,o,r)}function Rt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends zi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class DI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class OI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class xI{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new cs,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new cs)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new s0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class MI{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new MI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const r=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Yv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=LI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Pt(s,t){return s<t?-1:s>t?1:0}function Sm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return am(o)===am(u)?Pt(o,u):am(o)?1:-1}return Pt(s.length,t.length)}const PI=55296,UI=57343;function am(s){const t=s.charCodeAt(0);return t>=PI&&t<=UI}function ho(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="__name__";class Ci{constructor(t,n,r){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Tt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Ci.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Pt(t.length,n.length)}static compareSegments(t,n){const r=Ci.isNumericId(t),o=Ci.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ci.extractNumericId(t).compare(Ci.extractNumericId(n)):Sm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rr.fromString(t.substring(4,t.length-2))}}class ae extends Ci{construct(t,n,r){return new ae(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const zI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Ci{construct(t,n,r){return new Ye(t,n,r)}static isValidIdentifier(t){return zI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xv}static keyField(){return new Ye([Xv])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new ct(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ae.fromString(t))}static fromName(t){return new mt(ae.fromString(t).popFirst(5))}static empty(){return new mt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(s,t,n){if(!n)throw new ct(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function jI(s,t,n,r){if(t===!0&&r===!0)throw new ct(W.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function $v(s){if(!mt.isDocumentKey(s))throw new ct(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Zv(s){if(mt.isDocumentKey(s))throw new ct(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function a0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ip(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Tt(12329,{type:typeof s})}function Li(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ip(s);throw new ct(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(s,t){const n={typeString:s};return t&&(n.value=t),n}function ru(s,t){if(!a0(s))throw new ct(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ct(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-62135596800,Wv=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Wv);return new oe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Jv)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wv}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ru(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Jv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ne("string",oe._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new oe(0,0))}static max(){return new At(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function BI(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new oe(n+1,0):new oe(n,r));return new lr(o,mt.empty(),t)}function HI(s){return new lr(s.readTime,s.key,Kl)}class lr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(At.min(),mt.empty(),Kl)}static max(){return new lr(At.max(),mt.empty(),Kl)}}function qI(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(s.documentKey,t.documentKey),n!==0?n:Pt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==FI)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,r)=>{n(t)}))}static reject(t){return new Z(((n,r)=>{r(t)}))}static waitFor(t){return new Z(((n,r)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>r(y)))})),f=!0,u===o&&n()}))}static or(t){let n=Z.resolve(!1);for(const r of t)n=n.next((o=>o?Z.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new Z(((r,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(t[g]).next((E=>{f[g]=E,++m,m===u&&r(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new Z(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function KI(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=-1;function Oh(s){return s==null}function fh(s){return s===0&&1/s==-1/0}function QI(s){return typeof s=="number"&&Number.isInteger(s)&&!fh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="";function YI(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=tE(t)),t=XI(s.get(n),t);return tE(t)}function XI(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case o0:n+="";break;default:n+=u}}return n}function tE(s){return s+o0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function gr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function l0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hc(this.root,t,this.comparator,!0)}}class Hc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Qe(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(t){return new nE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class nE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new In([])}unionWith(t){let n=new Ve(Ye.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new In(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ho(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new u0("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const $I=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(Kt(!!s,39018),typeof s=="string"){let t=0;const n=$I.exec(s);if(Kt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?Xe.fromBase64String(s):Xe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="server_timestamp",h0="__type__",f0="__previous_value__",d0="__local_write_time__";function rp(s){return(s?.mapValue?.fields||{})[h0]?.stringValue===c0}function xh(s){const t=s.mapValue.fields[f0];return rp(t)?xh(t):t}function Ql(s){const t=ur(s.mapValue.fields[d0].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t,n,r,o,u,f,m,y,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const dh="(default)";class Yl{constructor(t,n){this.projectId=t,this.database=n||dh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===dh}isEqual(t){return t instanceof Yl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="__type__",JI="__max__",qc={mapValue:{}},p0="__vector__",mh="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?rp(s)?4:tC(s)?9007199254740991:WI(s)?10:11:Tt(28295,{value:s})}function Pi(s,t){if(s===t)return!0;const n=hr(s);if(n!==hr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ql(s).isEqual(Ql(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ur(o.timestampValue),m=ur(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return cr(o.bytesValue).isEqual(cr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ye(o.doubleValue),m=ye(u.doubleValue);return f===m?fh(f)===fh(m):isNaN(f)&&isNaN(m)}return!1})(s,t);case 9:return ho(s.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(eE(f)!==eE(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Pi(f[y],m[y])))return!1;return!0})(s,t);default:return Tt(52216,{left:s})}}function Xl(s,t){return(s.values||[]).find((n=>Pi(n,t)))!==void 0}function fo(s,t){if(s===t)return 0;const n=hr(s),r=hr(t);if(n!==r)return Pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ye(u.integerValue||u.doubleValue),y=ye(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(s,t);case 3:return iE(s.timestampValue,t.timestampValue);case 4:return iE(Ql(s),Ql(t));case 5:return Sm(s.stringValue,t.stringValue);case 6:return(function(u,f){const m=cr(u),y=cr(f);return m.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=Pt(m[g],y[g]);if(E!==0)return E}return Pt(m.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Pt(ye(u.latitude),ye(f.latitude));return m!==0?m:Pt(ye(u.longitude),ye(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return sE(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},g=m[mh]?.arrayValue,E=y[mh]?.arrayValue,A=Pt(g?.values?.length||0,E?.values?.length||0);return A!==0?A:sE(g,E)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===qc.mapValue&&f===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const R=Sm(y[A],E[A]);if(R!==0)return R;const j=fo(m[y[A]],g[E[A]]);if(j!==0)return j}return Pt(y.length,E.length)})(s.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function iE(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Pt(s,t);const n=ur(s),r=ur(t),o=Pt(n.seconds,r.seconds);return o!==0?o:Pt(n.nanos,r.nanos)}function sE(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=fo(n[o],r[o]);if(u)return u}return Pt(n.length,r.length)}function mo(s){return Am(s)}function Am(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ur(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return cr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return mt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Am(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Am(n.fields[f])}`;return o+"}"})(s.mapValue):Tt(61005,{value:s})}function Wc(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xh(s);return t?16+Wc(t):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Wc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return gr(r.fields,((u,f)=>{o+=u.length+Wc(f)})),o})(s.mapValue);default:throw Tt(13486,{value:s})}}function bm(s){return!!s&&"integerValue"in s}function ap(s){return!!s&&"arrayValue"in s}function rE(s){return!!s&&"nullValue"in s}function aE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function th(s){return!!s&&"mapValue"in s}function WI(s){return(s?.mapValue?.fields||{})[m0]?.stringValue===p0}function zl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return gr(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=zl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zl(s.arrayValue.values[n]);return t}return{...s}}function tC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===JI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=zl(n)}setAll(t){let n=Ye.emptyPath(),r={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=zl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){gr(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new gn(zl(this.value))}}function g0(s){const t=[];return gr(s.fields,((n,r)=>{const o=new Ye([n]);if(th(r)){const u=g0(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n,r,o,u,f,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new We(t,0,At.min(),At.min(),At.min(),gn.empty(),0)}static newFoundDocument(t,n,r,o){return new We(t,1,n,At.min(),r,o,0)}static newNoDocument(t,n){return new We(t,2,n,At.min(),At.min(),gn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,At.min(),At.min(),gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n){this.position=t,this.inclusive=n}}function oE(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=mt.comparator(mt.fromName(f.referenceValue),n.key):r=fo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function lE(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Pi(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,n="asc"){this.field=t,this.dir=n}}function eC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{}class Me extends y0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new iC(t,n,r):n==="array-contains"?new aC(t,r):n==="in"?new oC(t,r):n==="not-in"?new lC(t,r):n==="array-contains-any"?new uC(t,r):new Me(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new sC(t,r):new rC(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends y0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ui(t,n)}matches(t){return _0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _0(s){return s.op==="and"}function v0(s){return nC(s)&&_0(s)}function nC(s){for(const t of s.filters)if(t instanceof Ui)return!1;return!0}function wm(s){if(s instanceof Me)return s.field.canonicalString()+s.op.toString()+mo(s.value);if(v0(s))return s.filters.map((t=>wm(t))).join(",");{const t=s.filters.map((n=>wm(n))).join(",");return`${s.op}(${t})`}}function E0(s,t){return s instanceof Me?(function(r,o){return o instanceof Me&&r.op===o.op&&r.field.isEqual(o.field)&&Pi(r.value,o.value)})(s,t):s instanceof Ui?(function(r,o){return o instanceof Ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&E0(f,o.filters[m])),!0):!1})(s,t):void Tt(19439)}function T0(s){return s instanceof Me?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(s):s instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(T0).join(" ,")+"}"})(s):"Filter"}class iC extends Me{constructor(t,n,r){super(t,n,r),this.key=mt.fromName(r.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class sC extends Me{constructor(t,n){super(t,"in",n),this.keys=S0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class rC extends Me{constructor(t,n){super(t,"not-in",n),this.keys=S0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function S0(s,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class aC extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ap(n)&&Xl(n.arrayValue,this.value)}}class oC extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class lC extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class uC extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,n=null,r=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function uE(s,t=null,n=[],r=[],o=null,u=null,f=null){return new cC(s,t,n,r,o,u,f)}function op(s){const t=Rt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>wm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Oh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>mo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>mo(r))).join(",")),t.Te=n}return t.Te}function lp(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!eC(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!E0(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!lE(s.startAt,t.startAt)&&lE(s.endAt,t.endAt)}function Rm(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,n=null,r=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hC(s,t,n,r,o,u,f,m){return new Mh(s,t,n,r,o,u,f,m)}function up(s){return new Mh(s)}function cE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function fC(s){return s.collectionGroup!==null}function jl(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ve(Ye.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new gh(u,r))})),n.has(Ye.keyField().canonicalString())||t.Ie.push(new gh(Ye.keyField(),r))}return t.Ie}function xi(s){const t=Rt(s);return t.Ee||(t.Ee=dC(t,jl(s))),t.Ee}function dC(s,t){if(s.limitType==="F")return uE(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new gh(o.field,u)}));const n=s.endAt?new ph(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ph(s.startAt.position,s.startAt.inclusive):null;return uE(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Im(s,t,n){return new Mh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Vh(s,t){return lp(xi(s),xi(t))&&s.limitType===t.limitType}function A0(s){return`${op(xi(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>T0(o))).join(", ")}]`),Oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${r})`})(xi(s))}; limitType=${s.limitType})`}function kh(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):mt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of jl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,m,y){const g=oE(f,m,y);return f.inclusive?g<=0:g<0})(r.startAt,jl(r),o)||r.endAt&&!(function(f,m,y){const g=oE(f,m,y);return f.inclusive?g>=0:g>0})(r.endAt,jl(r),o))})(s,t)}function mC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function b0(s){return(t,n)=>{let r=!1;for(const o of jl(s)){const u=pC(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function pC(s,t,n){const r=s.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?fo(y,g):Tt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){gr(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return l0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new ce(mt.comparator);function ms(){return gC}const w0=new ce(mt.comparator);function Vl(...s){let t=w0;for(const n of s)t=t.insert(n.key,n);return t}function R0(s){let t=w0;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function $r(){return Bl()}function I0(){return Bl()}function Bl(){return new oa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const yC=new ce(mt.comparator),_C=new Ve(mt.comparator);function Ut(...s){let t=_C;for(const n of s)t=t.add(n);return t}const vC=new Ve(Pt);function EC(){return vC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(t)?"-0":t}}function C0(s){return{integerValue:""+s}}function TC(s,t){return QI(t)?C0(t):cp(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function SC(s,t,n){return s instanceof yh?(function(o,u){const f={fields:{[h0]:{stringValue:c0},[d0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&rp(u)&&(u=xh(u)),u&&(f.fields[f0]=u),{mapValue:f}})(n,t):s instanceof $l?D0(s,t):s instanceof Zl?O0(s,t):(function(o,u){const f=N0(o,u),m=hE(f)+hE(o.Ae);return bm(f)&&bm(o.Ae)?C0(m):cp(o.serializer,m)})(s,t)}function AC(s,t,n){return s instanceof $l?D0(s,t):s instanceof Zl?O0(s,t):n}function N0(s,t){return s instanceof _h?(function(r){return bm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class yh extends Lh{}class $l extends Lh{constructor(t){super(),this.elements=t}}function D0(s,t){const n=x0(t);for(const r of s.elements)n.some((o=>Pi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Zl extends Lh{constructor(t){super(),this.elements=t}}function O0(s,t){let n=x0(t);for(const r of s.elements)n=n.filter((o=>!Pi(o,r)));return{arrayValue:{values:n}}}class _h extends Lh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function hE(s){return ye(s.integerValue||s.doubleValue)}function x0(s){return ap(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function bC(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof $l&&o instanceof $l||r instanceof Zl&&o instanceof Zl?ho(r.elements,o.elements,Pi):r instanceof _h&&o instanceof _h?Pi(r.Ae,o.Ae):r instanceof yh&&o instanceof yh})(s.transform,t.transform)}class wC{constructor(t,n){this.version=t,this.transformResults=n}}class ri{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ri}static exists(t){return new ri(void 0,t)}static updateTime(t){return new ri(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function eh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Ph{}function M0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new hp(s.key,ri.none()):new au(s.key,s.data,ri.none());{const n=s.data,r=gn.empty();let o=new Ve(Ye.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new yr(s.key,r,new In(o.toArray()),ri.none())}}function RC(s,t,n){s instanceof au?(function(o,u,f){const m=o.value.clone(),y=dE(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,t,n):s instanceof yr?(function(o,u,f){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=dE(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(V0(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Hl(s,t,n,r){return s instanceof au?(function(u,f,m,y){if(!eh(u.precondition,f))return m;const g=u.value.clone(),E=mE(u.fieldTransforms,y,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(s,t,n,r):s instanceof yr?(function(u,f,m,y){if(!eh(u.precondition,f))return m;const g=mE(u.fieldTransforms,y,f),E=f.data;return E.setAll(V0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,t,n,r):(function(u,f,m){return eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,t,n)}function IC(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=N0(r.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(r.field,u))}return n||null}function fE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ho(r,o,((u,f)=>bC(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class au extends Ph{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yr extends Ph{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function V0(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function dE(s,t,n){const r=new Map;Kt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=t.data.field(u.field);r.set(u.field,AC(f,m,n[o]))}return r}function mE(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,SC(u,f,t))}return r}class hp extends Ph{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CC extends Ph{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&RC(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Hl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Hl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=I0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=M0(f,m);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&ho(this.mutations,t.mutations,((n,r)=>fE(n,r)))&&ho(this.baseMutations,t.baseMutations,((n,r)=>fE(n,r)))}}class fp{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return yC})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new fp(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,jt;function xC(s){switch(s){case W.OK:return Tt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Tt(15467,{code:s})}}function k0(s){if(s===void 0)return ds("GRPC error has no .code"),W.UNKNOWN;switch(s){case Ce.OK:return W.OK;case Ce.CANCELLED:return W.CANCELLED;case Ce.UNKNOWN:return W.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return W.INTERNAL;case Ce.UNAVAILABLE:return W.UNAVAILABLE;case Ce.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ce.NOT_FOUND:return W.NOT_FOUND;case Ce.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ce.ABORTED:return W.ABORTED;case Ce.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ce.DATA_LOSS:return W.DATA_LOSS;default:return Tt(39323,{code:s})}}(jt=Ce||(Ce={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new rr([4294967295,4294967295],0);function pE(s){const t=MC().encode(s),n=new ZT;return n.update(t),new Uint8Array(n.digest())}function gE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new rr([n,r],0),new rr([o,u],0)]}class dp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=rr.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(rr.fromNumber(r)));return o.compare(VC)===1&&(o=new rr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=pE(t),[r,o]=gE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new dp(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=pE(t),[r,o]=gE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Uh(At.min(),o,new ce(Pt),ms(),Ut())}}class ou{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ou(r,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class L0{constructor(t,n){this.targetId=t,this.Ce=n}}class P0{constructor(t,n,r=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class yE{constructor(){this.ve=0,this.Fe=_E(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),r=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Tt(38017,{changeType:u})}})),new ou(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=_E()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ms(),this.Je=Fc(),this.He=Fc(),this.Ye=new ce(Pt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Rm(u))if(r===0){const f=new mt(u.path);this.et(n,f,We.newNoDocument(f,At.min()))}else Kt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(t),y=m?this.ct(m,t,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=cr(r).toUint8Array()}catch(y){if(y instanceof u0)return co("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new dp(f,o,u)}catch(y){return co(y instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Rm(m.target)){const y=new mt(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,We.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Ut();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Uh(t,n,this.Ye,this.je,r);return this.je=ms(),this.Je=Fc(),this.He=Fc(),this.Ye=new ce(Pt),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new yE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ve(Pt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ve(Pt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new yE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Fc(){return new ce(mt.comparator)}function _E(){return new ce(mt.comparator)}const LC={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UC={and:"AND",or:"OR"};class zC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Cm(s,t){return s.useProto3Json||Oh(t)?t:{value:t}}function vh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function U0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function jC(s,t){return vh(s,t.toTimestamp())}function Mi(s){return Kt(!!s,49232),At.fromTimestamp((function(n){const r=ur(n);return new oe(r.seconds,r.nanos)})(s))}function mp(s,t){return Nm(s,t).canonicalString()}function Nm(s,t){const n=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function z0(s){const t=ae.fromString(s);return Kt(F0(t),10190,{key:t.toString()}),t}function Dm(s,t){return mp(s.databaseId,t.path)}function om(s,t){const n=z0(t);if(n.get(1)!==s.databaseId.projectId)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new mt(B0(n))}function j0(s,t){return mp(s.databaseId,t)}function BC(s){const t=z0(s);return t.length===4?ae.emptyPath():B0(t)}function Om(s){return new ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function B0(s){return Kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function vE(s,t,n){return{name:Dm(s,t),fields:n.value.mapValue.fields}}function HC(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Kt(E===void 0||typeof E=="string",58123),Xe.fromBase64String(E||"")):(Kt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xe.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?W.UNKNOWN:k0(g.code);return new ct(E,g.message||"")})(f);n=new P0(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=om(s,r.document.name),u=Mi(r.document.updateTime),f=r.document.createTime?Mi(r.document.createTime):At.min(),m=new gn({mapValue:{fields:r.document.fields}}),y=We.newFoundDocument(o,u,f,m),g=r.targetIds||[],E=r.removedTargetIds||[];n=new nh(g,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=om(s,r.document),u=r.readTime?Mi(r.readTime):At.min(),f=We.newNoDocument(o,u),m=r.removedTargetIds||[];n=new nh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=om(s,r.document),u=r.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new OC(o,u),m=r.targetId;n=new L0(m,f)}}return n}function qC(s,t){let n;if(t instanceof au)n={update:vE(s,t.key,t.value)};else if(t instanceof hp)n={delete:Dm(s,t.key)};else if(t instanceof yr)n={update:vE(s,t.key,t.data),updateMask:JC(t.fieldMask)};else{if(!(t instanceof CC))return Tt(16599,{Vt:t.type});n={verify:Dm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof yh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _h)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Tt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:jC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(s,t.precondition)),n}function FC(s,t){return s&&s.length>0?(Kt(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Mi(o.updateTime):Mi(u);return f.isEqual(At.min())&&(f=Mi(u)),new wC(f,o.transformResults||[])})(n,t)))):[]}function GC(s,t){return{documents:[j0(s,t.path)]}}function KC(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=j0(s,o);const u=(function(g){if(g.length!==0)return q0(Ui.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:eo(R.field),direction:XC(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Cm(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function QC(s){let t=BC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const R=H0(A);return R instanceof Ui&&v0(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((R=>(function(X){return new gh(no(X.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let R;return R=typeof A=="object"?A.value:A,Oh(R)?null:R})(n.limit));let y=null;n.startAt&&(y=(function(A){const R=!!A.before,j=A.values||[];return new ph(j,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const R=!A.before,j=A.values||[];return new ph(j,R)})(n.endAt)),hC(t,o,f,u,m,"F",y,g)}function YC(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function H0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=no(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return Me.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return Me.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Me.create(no(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((r=>H0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(s):Tt(30097,{filter:s})}function XC(s){return LC[s]}function $C(s){return PC[s]}function ZC(s){return UC[s]}function eo(s){return{fieldPath:s.canonicalString()}}function no(s){return Ye.fromServerFormat(s.fieldPath)}function q0(s){return s instanceof Me?(function(n){if(n.op==="=="){if(aE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(rE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(rE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:$C(n.op),value:n.value}}})(s):s instanceof Ui?(function(n){const r=n.getFilters().map((o=>q0(o)));return r.length===1?r[0]:{compositeFilter:{op:ZC(n.op),filters:r}}})(s):Tt(54877,{filter:s})}function JC(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function F0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,n,r,o,u=At.min(),f=At.min(),m=Xe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.yt=t}}function t2(s){const t=QC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Im(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.Cn=new n2}addToCollectionParentIndex(t,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(lr.min())}updateCollectionGroup(t,n,r){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class n2{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Ve(ae.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ve(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G0=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(G0,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="LruGarbageCollector",i2=1048576;function SE([s,t],[n,r]){const o=Pt(s,n);return o===0?Pt(t,r):o}class s2{constructor(t){this.Ir=t,this.buffer=new Ve(SE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();SE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class r2{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(TE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?at(TE,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)}))}}class a2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(Dh.ce);const r=new s2(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(EE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,f,m,y,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(r=A,m=Date.now(),this.removeTargets(t,r,n)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(g=Date.now(),Wa()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function o2(s,t){return new a2(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.changes=new oa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&Hl(r.mutation,o,In.empty(),oe.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Ut()){const o=$r();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=Vl();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=$r();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Ut())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,r,o){let u=ms();const f=Bl(),m=(function(){return Bl()})();return n.forEach(((y,g)=>{const E=r.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof yr)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Hl(E.mutation,g,E.mutation.getFieldMask(),oe.now())):f.set(g.key,In.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new u2(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=Bl();let o=new ce(((f,m)=>f-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let E=r.get(y)||In.empty();E=m.applyToLocalView(g,E),r.set(y,E);const A=(o.get(m.batchId)||Ut()).add(y);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,A=I0();E.forEach((R=>{if(!u.has(R)){const j=M0(n.get(R),r.get(R));j!==null&&A.set(R,j),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return Z.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):fC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):Z.resolve($r());let m=Kl,y=u;return f.next((g=>Z.forEach(g,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{y=y.insert(E,R)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,y,g,Ut()))).next((E=>({batchId:m,changes:R0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((r=>{let o=Vl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(t,u).next((m=>Z.forEach(m,(y=>{const g=(function(A,R){return new Mh(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((E=>{E.forEach(((A,R)=>{f=f.insert(A,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((y,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,We.newInvalidDocument(E)))}));let m=Vl();return f.forEach(((y,g)=>{const E=u.get(y);E!==void 0&&Hl(E.mutation,g,In.empty(),oe.now()),kh(n,g)&&(m=m.insert(y,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:t2(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.overlays=new ce(mt.comparator),this.qr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const r=$r();return Z.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),Z.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,n,r){const o=$r(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new ce(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let E=u.get(g.largestBatchId);E===null&&(E=$r(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=$r(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return Z.resolve(m)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new DC(n,r));let u=this.qr.get(n);u===void 0&&(u=Ut(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(){this.Qr=new Ve(Ue.$r),this.Ur=new Ve(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Ue(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Ue(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new mt(new ae([])),r=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new mt(new ae([])),r=new Ue(n,t),o=new Ue(n,t+1);let u=Ut();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ue(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return mt.comparator(t.key,n.key)||Pt(t.Yr,n.Yr)}static Kr(t,n){return Pt(t.Yr,n.Yr)||mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Ue.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new NC(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?sp:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ve(Pt);return n.forEach((o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{r=r.add(m.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;mt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new mt(u),0);let m=new Ve(Pt);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Yr)),!0)}),f),Z.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(n.mutations,(o=>{const u=new Ue(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Ue(n,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.ri=t,this.docs=(function(){return new ce(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let r=ms();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=ms();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||qI(HI(E),r)<=0||(o.has(E.key)||kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,r,o){Tt(9500)}ii(t,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new g2(this)}getSize(t){return Z.resolve(this.size)}}class g2 extends l2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),Z.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){this.persistence=t,this.si=new oa((n=>op(n)),lp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new pp,this.targetCount=0,this.ai=po.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Z.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new po(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.Pr(n),Z.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return Z.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),Z.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return Z.resolve(r)}containsKey(t,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,n){this.ui={},this.overlays={},this.ci=new Dh(0),this.li=!1,this.li=!0,this.hi=new d2,this.referenceDelegate=t(this),this.Pi=new y2(this),this.indexManager=new e2,this.remoteDocumentCache=(function(o){return new p2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new WC(n),this.Ii=new h2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new f2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new m2(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){at("MemoryPersistence","Starting transaction:",t);const o=new _2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class _2 extends GI{constructor(t){super(),this.currentSequenceNumber=t}}class gp{constructor(t){this.persistence=t,this.Ri=new pp,this.Vi=null}static mi(t){return new gp(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=mt.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Eh{constructor(t,n){this.persistence=t,this.pi=new oa((r=>YI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=o2(this,n)}static mi(t,n){return new Eh(t,n)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return Z.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(r++,u.removeEntry(f,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wc(t.data.value)),n}br(t,n,r){return Z.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yp(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $b()?8:KI(tn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new v2;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(Wa()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Wa()<=Lt.DEBUG&&at("QueryEngine","Query:",to(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Wa()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):Z.resolve())}ys(t,n){if(cE(n))return Z.resolve(null);let r=xi(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Im(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=Ut(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,r).next((y=>{const g=this.Ds(n,m);return this.Cs(n,g,f,y.readTime)?this.ys(t,Im(n,null,"F")):this.vs(t,g,n,y)}))))})))))}ws(t,n,r,o){return cE(n)||o.isEqual(At.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?Z.resolve(null):(Wa()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.vs(t,f,n,BI(o,Kl)).next((m=>m)))}))}Ds(t,n){let r=new Ve(b0(t));return n.forEach(((o,u)=>{kh(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return Wa()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",to(n)),this.ps.getDocumentsMatchingQuery(t,n,lr.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="LocalStore",T2=3e8;class S2{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ce(Pt),this.xs=new oa((u=>op(u)),lp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new c2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function A2(s,t,n,r){return new S2(s,t,n,r)}async function Q0(s,t){const n=Rt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let y=Ut();for(const g of o){f.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(r,y).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function b2(s,t){const n=Rt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,E){const A=g.batch,R=A.keys();let j=Z.resolve();return R.forEach((X=>{j=j.next((()=>E.getEntry(y,X))).next((tt=>{const J=g.docVersions.get(X);Kt(J!==null,48541),tt.version.compareTo(J)<0&&(A.applyToRemoteDocument(tt,g),tt.isValidDocument()&&(tt.setReadTime(g.commitVersion),E.addEntry(tt)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(y,A)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Y0(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function w2(s,t){const n=Rt(s),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,A)=>{const R=o.get(A);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A))));let j=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?j=j.withResumeToken(Xe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,r)),o=o.insert(A,j),(function(tt,J,ot){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=T2?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(R,j,E)&&m.push(n.Pi.updateTargetData(u,j))}));let y=ms(),g=Ut();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(R2(u,f,t.documentUpdates).next((E=>{y=E.ks,g=E.qs}))),!r.isEqual(At.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return Z.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function R2(s,t,n){let r=Ut(),o=Ut();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=ms();return n.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):at(_p,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function I2(s,t){const n=Rt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=sp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function C2(s,t){const n=Rt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,Z.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new er(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function xm(s,t,n){const r=Rt(s),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!To(f))throw f;at(_p,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function AE(s,t,n){const r=Rt(s);let o=At.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,g,E){const A=Rt(y),R=A.xs.get(E);return R!==void 0?Z.resolve(A.Ms.get(R)):A.Pi.getTargetData(g,E)})(r,f,xi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:Ut()))).next((m=>(N2(r,mC(t),m),{documents:m,Qs:u})))))}function N2(s,t,n){let r=s.Os.get(t)||At.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class bE{constructor(){this.activeTargetIds=EC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class D2{constructor(){this.Mo=new bE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new bE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="ConnectivityMonitor";class RE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(wE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(wE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=null;function Mm(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="RestConnection",x2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===dh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const f=Mm(),m=this.zo(t,n.toUriEncodedString());at(lm,`Sending RPC '${t}' ${f}:`,m,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(m),E=mr(g);return this.Jo(t,m,y,r,E).then((A=>(at(lm,`Received RPC '${t}' ${f}: `,A),A)),(A=>{throw co(lm,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",r),A}))}Ho(t,n,r,o,u,f){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=x2[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class k2 extends M2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const f=Mm();return new Promise(((m,y)=>{const g=new JT;g.setWithCredentials(!0),g.listenOnce(WT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Jc.NO_ERROR:const A=g.getResponseJson();at(Ze,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case Jc.TIMEOUT:at(Ze,`RPC '${t}' ${f} timed out`),y(new ct(W.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const R=g.getStatus();if(at(Ze,`RPC '${t}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j?.error;if(X&&X.status&&X.message){const tt=(function(ot){const pt=ot.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(pt)>=0?pt:W.UNKNOWN})(X.status);y(new ct(tt,X.message))}else y(new ct(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ct(W.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{at(Ze,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);at(Ze,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,r,15)}))}T_(t,n,r){const o=Mm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=n0(),m=e0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const E=u.join("");at(Ze,`Creating RPC '${t}' stream ${o}: ${E}`,y);const A=f.createWebChannel(E,y);this.I_(A);let R=!1,j=!1;const X=new V2({Yo:J=>{j?at(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(R||(at(Ze,`Opening RPC '${t}' stream ${o} transport.`),A.open(),R=!0),at(Ze,`RPC '${t}' stream ${o} sending:`,J),A.send(J))},Zo:()=>A.close()}),tt=(J,ot,pt)=>{J.listen(ot,(ut=>{try{pt(ut)}catch(St){setTimeout((()=>{throw St}),0)}}))};return tt(A,Ml.EventType.OPEN,(()=>{j||(at(Ze,`RPC '${t}' stream ${o} transport opened.`),X.o_())})),tt(A,Ml.EventType.CLOSE,(()=>{j||(j=!0,at(Ze,`RPC '${t}' stream ${o} transport closed`),X.a_(),this.E_(A))})),tt(A,Ml.EventType.ERROR,(J=>{j||(j=!0,co(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),X.a_(new ct(W.UNAVAILABLE,"The operation could not be completed")))})),tt(A,Ml.EventType.MESSAGE,(J=>{if(!j){const ot=J.data[0];Kt(!!ot,16349);const pt=ot,ut=pt?.error||pt[0]?.error;if(ut){at(Ze,`RPC '${t}' stream ${o} received error:`,ut);const St=ut.status;let Bt=(function(b){const N=Ce[b];if(N!==void 0)return k0(N)})(St),Ot=ut.message;Bt===void 0&&(Bt=W.INTERNAL,Ot="Unknown error status: "+St+" with message "+ut.message),j=!0,X.a_(new ct(Bt,Ot)),A.close()}else at(Ze,`RPC '${t}' stream ${o} received:`,ot),X.u_(ot)}})),tt(m,t0.STAT_EVENT,(J=>{J.stat===Tm.PROXY?at(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):J.stat===Tm.NOPROXY&&at(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(s){return new zC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="PersistentStream";class $0{constructor(t,n,r,o,u,f,m,y){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new ct(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(IE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(at(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class L2 extends $0{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=HC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?Mi(f.readTime):At.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Om(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=Rm(y)?{documents:GC(u,y)}:{query:KC(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=U0(u,f.resumeToken);const g=Cm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=vh(u,f.snapshotVersion.toTimestamp());const g=Cm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=YC(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Om(this.serializer),n.removeTarget=t,this.q_(n)}}class P2 extends $0{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=FC(t.writeResults,t.commitTime),r=Mi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Om(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>qC(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{}class z2 extends U2{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Nm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(W.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Nm(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class j2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class B2{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{la(this)&&(at(ia,"Restarting streams for network reachability change."),await(async function(y){const g=Rt(y);g.Ea.add(4),await lu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await jh(g)})(this))}))})),this.Ra=new j2(r,o)}}async function jh(s){if(la(s))for(const t of s.da)await t(!0)}async function lu(s){for(const t of s.da)await t(!1)}function Z0(s,t){const n=Rt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Sp(n)?Tp(n):So(n).O_()&&Ep(n,t))}function vp(s,t){const n=Rt(s),r=So(n);n.Ia.delete(t),r.O_()&&J0(n,t),n.Ia.size===0&&(r.O_()?r.L_():la(n)&&n.Ra.set("Unknown"))}function Ep(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}So(s).Y_(t)}function J0(s,t){s.Va.Ue(t),So(s).Z_(t)}function Tp(s){s.Va=new kC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),So(s).start(),s.Ra.ua()}function Sp(s){return la(s)&&!So(s).x_()&&s.Ia.size>0}function la(s){return Rt(s).Ea.size===0}function W0(s){s.Va=void 0}async function H2(s){s.Ra.set("Online")}async function q2(s){s.Ia.forEach(((t,n)=>{Ep(s,t)}))}async function F2(s,t){W0(s),Sp(s)?(s.Ra.ha(t),Tp(s)):s.Ra.set("Unknown")}async function G2(s,t,n){if(s.Ra.set("Online"),t instanceof P0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(s,t)}catch(r){at(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Th(s,r)}else if(t instanceof nh?s.Va.Ze(t):t instanceof L0?s.Va.st(t):s.Va.tt(t),!n.isEqual(At.min()))try{const r=await Y0(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,g)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Xe.EMPTY_BYTE_STRING,E.snapshotVersion)),J0(u,y);const A=new er(E.target,y,g,E.sequenceNumber);Ep(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){at(ia,"Failed to raise snapshot:",r),await Th(s,r)}}async function Th(s,t,n){if(!To(t))throw t;s.Ea.add(1),await lu(s),s.Ra.set("Offline"),n||(n=()=>Y0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(ia,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await jh(s)}))}function tS(s,t){return t().catch((n=>Th(s,n,t)))}async function Bh(s){const t=Rt(s),n=fr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:sp;for(;K2(t);)try{const o=await I2(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,Q2(t,o)}catch(o){await Th(t,o)}eS(t)&&nS(t)}function K2(s){return la(s)&&s.Ta.length<10}function Q2(s,t){s.Ta.push(t);const n=fr(s);n.O_()&&n.X_&&n.ea(t.mutations)}function eS(s){return la(s)&&!fr(s).x_()&&s.Ta.length>0}function nS(s){fr(s).start()}async function Y2(s){fr(s).ra()}async function X2(s){const t=fr(s);for(const n of s.Ta)t.ea(n.mutations)}async function $2(s,t,n){const r=s.Ta.shift(),o=fp.from(r,t,n);await tS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Bh(s)}async function Z2(s,t){t&&fr(s).X_&&await(async function(r,o){if((function(f){return xC(f)&&f!==W.ABORTED})(o.code)){const u=r.Ta.shift();fr(r).B_(),await tS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Bh(r)}})(s,t),eS(s)&&nS(s)}async function CE(s,t){const n=Rt(s);n.asyncQueue.verifyOperationInProgress(),at(ia,"RemoteStore received new credentials");const r=la(n);n.Ea.add(3),await lu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await jh(n)}async function J2(s,t){const n=Rt(s);t?(n.Ea.delete(2),await jh(n)):t||(n.Ea.add(2),await lu(n),n.Ra.set("Unknown"))}function So(s){return s.ma||(s.ma=(function(n,r,o){const u=Rt(n);return u.sa(),new L2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:H2.bind(null,s),t_:q2.bind(null,s),r_:F2.bind(null,s),H_:G2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Sp(s)?Tp(s):s.Ra.set("Unknown")):(await s.ma.stop(),W0(s))}))),s.ma}function fr(s){return s.fa||(s.fa=(function(n,r,o){const u=Rt(n);return u.sa(),new P2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:Y2.bind(null,s),r_:Z2.bind(null,s),ta:X2.bind(null,s),na:$2.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Bh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,m=new Ap(t,n,f,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bp(s,t){if(ds("AsyncQueue",`${t}: ${s}`),To(s))return new ct(W.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(t){return new oo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||mt.comparator(n.key,r.key):(n,r)=>mt.comparator(n.key,r.key),this.keyedMap=Vl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof oo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.ga=new ce(mt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class go{constructor(t,n,r,o,u,f,m,y,g){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new go(t,n,oo.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class tN{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Rt(n),u=o.queries;o.queries=DE(),u.forEach(((f,m)=>{for(const y of m.Sa)y.onError(r)}))})(this,new ct(W.ABORTED,"Firestore shutting down"))}}function DE(){return new oa((s=>A0(s)),Vh)}async function iS(s,t){const n=Rt(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new W2,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=bp(f,`Initialization of query '${to(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&wp(n)}async function sS(s,t){const n=Rt(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eN(s,t){const n=Rt(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(r=!0);f.wa=o}}r&&wp(n)}function nN(s,t,n){const r=Rt(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function wp(s){s.Ca.forEach((t=>{t.next()}))}var Vm,OE;(OE=Vm||(Vm={})).Ma="default",OE.Cache="cache";class rS{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new go(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=go.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t){this.key=t}}class oS{constructor(t){this.key=t}}class iN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=b0(t),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new NE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,A)=>{const R=o.get(E),j=kh(this.query,A)?A:null,X=!!R&&this.mutatedKeys.has(R.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let J=!1;R&&j?R.data.isEqual(j.data)?X!==tt&&(r.track({type:3,doc:j}),J=!0):this.su(R,j)||(r.track({type:2,doc:j}),J=!0,(y&&this.eu(j,y)>0||g&&this.eu(j,g)<0)&&(m=!0)):!R&&j?(r.track({type:0,doc:j}),J=!0):R&&!j&&(r.track({type:1,doc:R}),J=!0,(y||g)&&(m=!0)),J&&(j?(f=f.add(j),u=tt?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,A)=>(function(j,X){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:J})}};return tt(j)-tt(X)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,f.length!==0||g?{snapshot:new go(this.query,t.tu,u,f,t.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new oS(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new aS(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rp="SyncEngine";class sN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class rN{constructor(t){this.key=t,this.hu=!1}}class aN{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new oa((m=>A0(m)),Vh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(mt.comparator),this.Au=new Map,this.Ru=new pp,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oN(s,t,n=!0){const r=dS(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await lS(r,t,n,!0),o}async function lN(s,t){const n=dS(s);await lS(n,t,!0,!1)}async function lS(s,t,n,r){const o=await C2(s.localStore,xi(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await uN(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&Z0(s.remoteStore,o),m}async function uN(s,t,n,r,o){s.pu=(A,R,j)=>(async function(tt,J,ot,pt){let ut=J.view.ru(ot);ut.Cs&&(ut=await AE(tt.localStore,J.query,!1).then((({documents:D})=>J.view.ru(D,ut))));const St=pt&&pt.targetChanges.get(J.targetId),Bt=pt&&pt.targetMismatches.get(J.targetId)!=null,Ot=J.view.applyChanges(ut,tt.isPrimaryClient,St,Bt);return ME(tt,J.targetId,Ot.au),Ot.snapshot})(s,A,R,j);const u=await AE(s.localStore,t,!0),f=new iN(t,u.Qs),m=f.ru(u.documents),y=ou.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),g=f.applyChanges(m,s.isPrimaryClient,y);ME(s,n,g.au);const E=new sN(t,n,f);return s.Tu.set(t,E),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),g.snapshot}async function cN(s,t,n){const r=Rt(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Vh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await xm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&vp(r.remoteStore,o.targetId),km(r,o.targetId)})).catch(Eo)):(km(r,o.targetId),await xm(r.localStore,o.targetId,!0))}async function hN(s,t){const n=Rt(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vp(n.remoteStore,r.targetId))}async function fN(s,t,n){const r=vN(s);try{const o=await(function(f,m){const y=Rt(f),g=oe.now(),E=m.reduce(((j,X)=>j.add(X.key)),Ut());let A,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let X=ms(),tt=Ut();return y.Ns.getEntries(j,E).next((J=>{X=J,X.forEach(((ot,pt)=>{pt.isValidDocument()||(tt=tt.add(ot))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,X))).next((J=>{A=J;const ot=[];for(const pt of m){const ut=IC(pt,A.get(pt.key).overlayedDocument);ut!=null&&ot.push(new yr(pt.key,ut,g0(ut.value.mapValue),ri.exists(!0)))}return y.mutationQueue.addMutationBatch(j,g,ot,m)})).next((J=>{R=J;const ot=J.applyToLocalDocumentSet(A,tt);return y.documentOverlayCache.saveOverlays(j,J.batchId,ot)}))})).then((()=>({batchId:R.batchId,changes:R0(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let g=f.Vu[f.currentUser.toKey()];g||(g=new ce(Pt)),g=g.insert(m,y),f.Vu[f.currentUser.toKey()]=g})(r,o.batchId,n),await uu(r,o.changes),await Bh(r.remoteStore)}catch(o){const u=bp(o,"Failed to persist write");n.reject(u)}}async function uS(s,t){const n=Rt(s);try{const r=await w2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Kt(f.hu,14607):o.removedDocuments.size>0&&(Kt(f.hu,42227),f.hu=!1))})),await uu(n,r,t)}catch(r){await Eo(r)}}function xE(s,t,n){const r=Rt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=Rt(f);y.onlineState=m;let g=!1;y.queries.forEach(((E,A)=>{for(const R of A.Sa)R.va(m)&&(g=!0)})),g&&wp(y)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function dN(s,t,n){const r=Rt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new ce(mt.comparator);f=f.insert(u,We.newNoDocument(u,At.min()));const m=Ut().add(u),y=new Uh(At.min(),new Map,new ce(Pt),f,m);await uS(r,y),r.du=r.du.remove(u),r.Au.delete(t),Ip(r)}else await xm(r.localStore,t,!1).then((()=>km(r,t,n))).catch(Eo)}async function mN(s,t){const n=Rt(s),r=t.batch.batchId;try{const o=await b2(n.localStore,t);hS(n,r,null),cS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uu(n,o)}catch(o){await Eo(o)}}async function pN(s,t,n){const r=Rt(s);try{const o=await(function(f,m){const y=Rt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next((A=>(Kt(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(g,A)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>y.localDocuments.getDocuments(g,E)))}))})(r.localStore,t);hS(r,t,n),cS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await uu(r,o)}catch(o){await Eo(o)}}function cS(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function hS(s,t,n){const r=Rt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function km(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||fS(s,r)}))}function fS(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(vp(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Ip(s))}function ME(s,t,n){for(const r of n)r instanceof aS?(s.Ru.addReference(r.key,t),gN(s,r)):r instanceof oS?(at(Rp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||fS(s,r.key)):Tt(19791,{wu:r})}function gN(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(at(Rp,"New document in limbo: "+n),s.Eu.add(r),Ip(s))}function Ip(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new mt(ae.fromString(t)),r=s.fu.next();s.Au.set(r,new rN(n)),s.du=s.du.insert(n,r),Z0(s.remoteStore,new er(xi(up(n.path)),r,"TargetPurposeLimboResolution",Dh.ce))}}async function uu(s,t,n){const r=Rt(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{f.push(r.pu(y,t,n).then((g=>{if((g||n)&&r.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=yp.As(y.targetId,g);u.push(E)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(y,g){const E=Rt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(g,(R=>Z.forEach(R.Es,(j=>E.persistence.referenceDelegate.addReference(A,R.targetId,j))).next((()=>Z.forEach(R.ds,(j=>E.persistence.referenceDelegate.removeReference(A,R.targetId,j)))))))))}catch(A){if(!To(A))throw A;at(_p,"Failed to update sequence numbers: "+A)}for(const A of g){const R=A.targetId;if(!A.fromCache){const j=E.Ms.get(R),X=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion(X);E.Ms=E.Ms.insert(R,tt)}}})(r.localStore,u))}async function yN(s,t){const n=Rt(s);if(!n.currentUser.isEqual(t)){at(Rp,"User change. New user:",t.toKey());const r=await Q0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new ct(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await uu(n,r.Ls)}}function _N(s,t){const n=Rt(s),r=n.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function dS(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=uS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_N.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dN.bind(null,t),t.Pu.H_=eN.bind(null,t.eventManager),t.Pu.yu=nN.bind(null,t.eventManager),t}function vN(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pN.bind(null,t),t}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=zh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return A2(this.persistence,new E2,t.initialUser,this.serializer)}Cu(t){return new K0(gp.mi,this.serializer)}Du(t){return new D2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class EN extends Sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new r2(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new K0((r=>Eh.mi(r,n)),this.serializer)}}class Lm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yN.bind(null,this.syncEngine),await J2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new tN})()}createDatastore(t){const n=zh(t.databaseInfo.databaseId),r=(function(u){return new k2(u)})(t.databaseInfo);return(function(u,f,m,y){return new z2(u,f,m,y)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,m){return new B2(r,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>xE(this.syncEngine,n,0)),(function(){return RE.v()?new RE:new O2})())}createSyncEngine(t,n){return(function(o,u,f,m,y,g,E){const A=new aN(o,u,f,m,y,g);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Rt(n);at(ia,"RemoteStore shutting down."),r.Ea.add(5),await lu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lm.provider={build:()=>new Lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="FirestoreClient";class TN{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{at(dr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(at(dr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=bp(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function cm(s,t){s.asyncQueue.verifyOperationInProgress(),at(dr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Q0(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function VE(s,t){s.asyncQueue.verifyOperationInProgress();const n=await SN(s);at(dr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>CE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>CE(t.remoteStore,o))),s._onlineComponents=t}async function SN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(dr,"Using user provided OfflineComponentProvider");try{await cm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await cm(s,new Sh)}}else at(dr,"Using default OfflineComponentProvider"),await cm(s,new EN(void 0));return s._offlineComponents}async function pS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(dr,"Using user provided OnlineComponentProvider"),await VE(s,s._uninitializedComponentsProvider._online)):(at(dr,"Using default OnlineComponentProvider"),await VE(s,new Lm))),s._onlineComponents}function AN(s){return pS(s).then((t=>t.syncEngine))}async function gS(s){const t=await pS(s),n=t.eventManager;return n.onListen=oN.bind(null,t.syncEngine),n.onUnlisten=cN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=lN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=hN.bind(null,t.syncEngine),n}function bN(s,t,n={}){const r=new cs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const E=new mS({next:R=>{E.Nu(),f.enqueueAndForget((()=>sS(u,A)));const j=R.docs.has(m);!j&&R.fromCache?g.reject(new ct(W.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&R.fromCache&&y&&y.source==="server"?g.reject(new ct(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new rS(up(m.path),E,{includeMetadataChanges:!0,qa:!0});return iS(u,A)})(await gS(s),s.asyncQueue,t,n,r))),r.promise}function wN(s,t,n={}){const r=new cs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const E=new mS({next:R=>{E.Nu(),f.enqueueAndForget((()=>sS(u,A))),R.fromCache&&y.source==="server"?g.reject(new ct(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new rS(m,E,{includeMetadataChanges:!0,qa:!0});return iS(u,A)})(await gS(s),s.asyncQueue,t,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firestore.googleapis.com",LE=!0;class PE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_S,this.ssl=LE}else this.host=t.host,this.ssl=t.ssl??LE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=G0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<i2)throw new ct(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hh{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new DI;switch(r.type){case"firstParty":return new VI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=kE.get(n);r&&(at("ComponentProvider","Removing Datastore"),kE.delete(n),r.terminate())})(this),Promise.resolve()}}function RN(s,t,n,r={}){s=Li(s,Hh);const o=mr(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${t}:${n}`;o&&(Hm(`https://${m}`),qm("Firestore",!0)),u.host!==_S&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:r};if(!Wr(y,f)&&(s._setSettings(y),r.mockUserToken)){let g,E;if(typeof r.mockUserToken=="string")g=r.mockUserToken,E=Je.MOCK_USER;else{g=fT(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ct(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Je(A)}s._authCredentials=new OI(new s0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new qh(this.firestore,t,this._query)}}class De{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new De(this.firestore,t,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ru(n,De._jsonSchema))return new De(t,r||null,new mt(ae.fromString(n.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ne("string",De._jsonSchemaVersion),referencePath:Ne("string")};class ar extends qh{constructor(t,n,r){super(t,n,up(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new De(this.firestore,null,new mt(t))}withConverter(t){return new ar(this.firestore,t,this._path)}}function Jl(s,t,...n){if(s=_e(s),r0("collection","path",t),s instanceof Hh){const r=ae.fromString(t,...n);return Zv(r),new ar(s,null,r)}{if(!(s instanceof De||s instanceof ar))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(t,...n));return Zv(r),new ar(s.firestore,null,r)}}function Xr(s,t,...n){if(s=_e(s),arguments.length===1&&(t=np.newId()),r0("doc","path",t),s instanceof Hh){const r=ae.fromString(t,...n);return $v(r),new De(s,null,new mt(r))}{if(!(s instanceof De||s instanceof ar))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(t,...n));return $v(r),new De(s.firestore,s instanceof ar?s.converter:null,new mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="AsyncQueue";class zE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X0(this,"async_queue_retry"),this._c=()=>{const r=um();r&&at(UE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!To(t))throw t;at(UE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",jE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Ap.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:jE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function jE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Ao extends Hh{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new zE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zE(t),this._firestoreClient=void 0,await t}}}function IN(s,t){const n=typeof s=="object"?s:Km(),r=typeof s=="string"?s:dh,o=wh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=uT("firestore");u&&RN(o,...u)}return o}function Cp(s){if(s._terminated)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||CN(s),s._firestoreClient}function CN(s){const t=s._freezeSettings(),n=(function(o,u,f,m){return new ZI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,yS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new TN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(Xe.fromBase64String(t))}catch(n){throw new ct(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ru(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ne("string",Fn._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(ru(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Ne("string",Vi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ru(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ki(t.vectorValues);throw new ct(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Ne("string",ki._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=/^__.*__$/;class DN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new yr(t,this.data,this.fieldMask,n,this.fieldTransforms):new au(t,this.data,n,this.fieldTransforms)}}class vS{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new yr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ES(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:s})}}class Dp{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Dp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ah(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ES(this.Ac)&&NN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ON{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||zh(t)}Cc(t,n,r,o=!1){return new Dp({Ac:t,methodName:n,Dc:r,path:Ye.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TS(s){const t=s._freezeSettings(),n=zh(s._databaseId);return new ON(s._databaseId,!!t.ignoreUndefinedProperties,n)}function xN(s,t,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,t,n,o);Op("Data must be an object, but it was:",f,r);const m=SS(r,f);let y,g;if(u.merge)y=new In(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=Pm(t,A,n);if(!f.contains(R))throw new ct(W.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);bS(E,R)||E.push(R)}y=new In(E),g=f.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,g=f.fieldTransforms;return new DN(new gn(m),y,g)}class Gh extends Np{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Gh}}function MN(s,t,n,r){const o=s.Cc(1,t,n);Op("Data must be an object, but it was:",o,r);const u=[],f=gn.empty();gr(r,((y,g)=>{const E=xp(t,y,n);g=_e(g);const A=o.yc(E);if(g instanceof Gh)u.push(E);else{const R=Kh(g,A);R!=null&&(u.push(E),f.set(E,R))}}));const m=new In(u);return new vS(f,m,o.fieldTransforms)}function VN(s,t,n,r,o,u){const f=s.Cc(1,t,n),m=[Pm(t,r,n)],y=[o];if(u.length%2!=0)throw new ct(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Pm(t,u[R])),y.push(u[R+1]);const g=[],E=gn.empty();for(let R=m.length-1;R>=0;--R)if(!bS(g,m[R])){const j=m[R];let X=y[R];X=_e(X);const tt=f.yc(j);if(X instanceof Gh)g.push(j);else{const J=Kh(X,tt);J!=null&&(g.push(j),E.set(j,J))}}const A=new In(g);return new vS(E,A,f.fieldTransforms)}function Kh(s,t){if(AS(s=_e(s)))return Op("Unsupported field value:",t,s),SS(s,t);if(s instanceof Np)return(function(r,o){if(!ES(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let y=Kh(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=_e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=oe.fromDate(r);return{timestampValue:vh(o.serializer,u)}}if(r instanceof oe){const u=new oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(o.serializer,u)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:U0(o.serializer,r._byteString)};if(r instanceof De){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return(function(f,m){return{mapValue:{fields:{[m0]:{stringValue:p0},[mh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return cp(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${ip(r)}`)})(s,t)}function SS(s,t){const n={};return l0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gr(s,((r,o)=>{const u=Kh(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function AS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof oe||s instanceof Vi||s instanceof Fn||s instanceof De||s instanceof Np||s instanceof ki)}function Op(s,t,n){if(!AS(n)||!a0(n)){const r=ip(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Pm(s,t,n){if((t=_e(t))instanceof Fh)return t._internalPath;if(typeof t=="string")return xp(s,t);throw Ah("Field path arguments must be of type string or ",s,!1,void 0,n)}const kN=new RegExp("[~\\*/\\[\\]]");function xp(s,t,n){if(t.search(kN)>=0)throw Ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Fh(...t.split("."))._internalPath}catch{throw Ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Ah(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new ct(W.INVALID_ARGUMENT,m+s+y)}function bS(s,t){return s.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(RS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LN extends wS{data(){return super.data()}}function RS(s,t){return typeof t=="string"?xp(s,t):t instanceof Fh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UN{convertValue(t,n="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return gr(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[mh].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new ki(n)}convertGeoPoint(t){return new Vi(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=xh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ql(t));default:return null}}convertTimestamp(t){const n=ur(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ae.fromString(t);Kt(F0(r),9688,{name:t});const o=new Yl(r.get(1),r.get(3)),u=new mt(r.popFirst(5));return o.isEqual(n)||ds(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class Ll{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zr extends wS{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(RS("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Zr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:Ne("string",Zr._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class ih extends Zr{data(t={}){return super.data(t)}}class lo{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new ih(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:jN(m.type),doc:y,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=lo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function jN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(s){s=Li(s,De);const t=Li(s.firestore,Ao);return bN(Cp(t),s._key).then((n=>HN(t,s,n)))}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:Ne("string",lo._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class IS extends UN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new De(this.firestore,null,n)}}function Wl(s){s=Li(s,qh);const t=Li(s.firestore,Ao),n=Cp(t),r=new IS(t);return PN(s._query),wN(n,s._query).then((o=>new lo(t,r,s,o)))}function HE(s,t,n){s=Li(s,De);const r=Li(s.firestore,Ao),o=zN(s.converter,t);return Mp(r,[xN(TS(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,ri.none())])}function Um(s,t,n,...r){s=Li(s,De);const o=Li(s.firestore,Ao),u=TS(o);let f;return f=typeof(t=_e(t))=="string"||t instanceof Fh?VN(u,"updateDoc",s._key,t,n,r):MN(u,"updateDoc",s._key,t),Mp(o,[f.toMutation(s._key,ri.exists(!0))])}function BN(s){return Mp(Li(s.firestore,Ao),[new hp(s._key,ri.none())])}function Mp(s,t){return(function(r,o){const u=new cs;return r.asyncQueue.enqueueAndForget((async()=>fN(await AN(r),o,u))),u.promise})(Cp(s),t)}function HN(s,t,n){const r=n.docs.get(t._key),o=new IS(s);return new Zr(s,o,t._key,r,new Ll(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){vo=o})(ra),ta(new or("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new Ao(new xI(r.getProvider("auth-internal")),new kI(f,r.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ni(Kv,Qv,t),Ni(Kv,Qv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firebasestorage.googleapis.com",NS="storageBucket",qN=120*1e3,FN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je extends zi{constructor(t,n,r=0){super(hm(t),`Firebase Storage: ${n} (${hm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,je.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return hm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function hm(s){return"storage/"+s}function DS(){const s="An unknown error occurred, please check the error payload for server response.";return new je(ze.UNKNOWN,s)}function GN(s){return new je(ze.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function KN(s){return new je(ze.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QN(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new je(ze.UNAUTHENTICATED,s)}function YN(){return new je(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function XN(s){return new je(ze.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function $N(){return new je(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZN(){return new je(ze.CANCELED,"User canceled the upload/download.")}function JN(s){return new je(ze.INVALID_URL,"Invalid URL '"+s+"'.")}function WN(s){return new je(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function tD(){return new je(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NS+"' property when initializing the app?")}function eD(){return new je(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zm(s){return new je(ze.INVALID_ARGUMENT,s)}function OS(){return new je(ze.APP_DELETED,"The Firebase app was deleted.")}function nD(s){return new je(ze.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nl(s){throw new je(ze.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=on.makeFromUrl(t,n)}catch{return new on(t,"")}if(r.path==="")return r;throw WN(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(St){St.path.charAt(St.path.length-1)==="/"&&(St.path_=St.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function g(St){St.path_=decodeURIComponent(St.path)}const E="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",j=new RegExp(`^https?://${A}/${E}/b/${o}/o${R}`,"i"),X={bucket:1,path:3},tt=n===CS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,J="([^?#]*)",ot=new RegExp(`^https?://${tt}/${o}/${J}`,"i"),ut=[{regex:m,indices:y,postModify:u},{regex:j,indices:X,postModify:g},{regex:ot,indices:{bucket:1,path:2},postModify:g}];for(let St=0;St<ut.length;St++){const Bt=ut[St],Ot=Bt.regex.exec(t);if(Ot){const D=Ot[Bt.indices.bucket];let b=Ot[Bt.indices.path];b||(b=""),r=new on(D,b),Bt.postModify(r);break}}if(r==null)throw JN(t);return r}}class iD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(s,t,n){let r=1,o=null,u=null,f=!1,m=0;function y(){return m===2}let g=!1;function E(...J){g||(g=!0,t.apply(null,J))}function A(J){o=setTimeout(()=>{o=null,s(j,y())},J)}function R(){u&&clearTimeout(u)}function j(J,...ot){if(g){R();return}if(J){R(),E.call(null,J,...ot);return}if(y()||f){R(),E.call(null,J,...ot);return}r<64&&(r*=2);let ut;m===1?(m=2,ut=0):ut=(r+Math.random())*1e3,A(ut)}let X=!1;function tt(J){X||(X=!0,R(),!g&&(o!==null?(J||(m=2),clearTimeout(o),A(0)):J||(m=1)))}return A(0),u=setTimeout(()=>{f=!0,tt(!0)},n),tt}function rD(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(s){return s!==void 0}function oD(s){return typeof s=="object"&&!Array.isArray(s)}function xS(s){return typeof s=="string"||s instanceof String}function jm(s,t,n,r){if(r<t)throw zm(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw zm(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(s,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${s}`}function MS(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=t(r)+"="+t(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Jr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Jr||(Jr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(s,t){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n,r,o,u,f,m,y,g,E,A,R=!0,j=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=y,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=A,this.retry=R,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((X,tt)=>{this.resolve_=X,this.reject_=tt,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new Kc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const y=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Jr.NO_ERROR,y=u.getStatus();if(!m||lD(y,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Jr.ABORT;r(!1,new Kc(!1,null,E));return}const g=this.successCodes_.indexOf(y)!==-1;r(!0,new Kc(g,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());aD(y)?u(y):u()}catch(y){f(y)}else if(m!==null){const y=DS();y.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,y)):f(y)}else if(o.canceled){const y=this.appDelete_?OS():ZN();f(y)}else{const y=$N();f(y)}};this.canceled_?n(!1,new Kc(!1,null,!0)):this.backoffId_=sD(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&rD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function cD(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function hD(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function fD(s,t){t&&(s["X-Firebase-GMPID"]=t)}function dD(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function mD(s,t,n,r,o,u,f=!0,m=!1){const y=MS(s.urlParams),g=s.url+y,E=Object.assign({},s.headers);return fD(E,t),cD(E,n),hD(E,u),dD(E,r),new uD(g,s.method,E,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(s){let t;try{t=JSON.parse(s)}catch{return null}return oD(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function gD(s,t){const n=t.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function VS(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(s,t){return t}class rn{constructor(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||yD}}let Qc=null;function _D(s){return!xS(s)||s.length<2?s:VS(s)}function vD(){if(Qc)return Qc;const s=[];s.push(new rn("bucket")),s.push(new rn("generation")),s.push(new rn("metageneration")),s.push(new rn("name","fullPath",!0));function t(u,f){return _D(f)}const n=new rn("name");n.xform=t,s.push(n);function r(u,f){return f!==void 0?Number(f):f}const o=new rn("size");return o.xform=r,s.push(o),s.push(new rn("timeCreated")),s.push(new rn("updated")),s.push(new rn("md5Hash",null,!0)),s.push(new rn("cacheControl",null,!0)),s.push(new rn("contentDisposition",null,!0)),s.push(new rn("contentEncoding",null,!0)),s.push(new rn("contentLanguage",null,!0)),s.push(new rn("contentType",null,!0)),s.push(new rn("metadata","customMetadata",!0)),Qc=s,Qc}function ED(s,t){function n(){const r=s.bucket,o=s.fullPath,u=new on(r,o);return t._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function TD(s,t,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];r[f.local]=f.xform(r,t[f.server])}return ED(r,s),r}function SD(s,t,n){const r=kp(t);return r===null?null:TD(s,r,n)}function AD(s,t,n,r){const o=kp(t);if(o===null||!xS(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const E=s.bucket,A=s.fullPath,R="/b/"+f(E)+"/o/"+f(A),j=Vp(R,n,r),X=MS({alt:"media",token:g});return j+X})[0]}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="prefixes",FE="items";function bD(s,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[qE])for(const o of n[qE]){const u=o.replace(/\/$/,""),f=s._makeStorageReference(new on(t,u));r.prefixes.push(f)}if(n[FE])for(const o of n[FE]){const u=s._makeStorageReference(new on(t,o.name));r.items.push(u)}return r}function wD(s,t,n){const r=kp(n);return r===null?null:bD(s,t,r)}class kS{constructor(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(s){if(!s)throw DS()}function RD(s,t){function n(r,o){const u=wD(s,t,o);return LS(u!==null),u}return n}function ID(s,t){function n(r,o){const u=SD(s,o,t);return LS(u!==null),AD(u,o,s.host,s._protocol)}return n}function PS(s){function t(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=YN():o=QN():n.getStatus()===402?o=KN(s.bucket):n.getStatus()===403?o=XN(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return t}function CD(s){const t=PS(s);function n(r,o){let u=t(r,o);return r.getStatus()===404&&(u=GN(s.path)),u.serverResponse=o.serverResponse,u}return n}function ND(s,t,n,r,o){const u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n.length>0&&(u.delimiter=n),r&&(u.pageToken=r),o&&(u.maxResults=o);const f=t.bucketOnlyServerUrl(),m=Vp(f,s.host,s._protocol),y="GET",g=s.maxOperationRetryTime,E=new kS(m,y,RD(s,t.bucket),g);return E.urlParams=u,E.errorHandler=PS(t),E}function DD(s,t,n){const r=t.fullServerUrl(),o=Vp(r,s.host,s._protocol),u="GET",f=s.maxOperationRetryTime,m=new kS(o,u,ID(s,n),f);return m.errorHandler=CD(t),m}class OD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,o,u){if(this.sent_)throw Nl("cannot .send() more than once");if(mr(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class xD extends OD{initXhr(){this.xhr_.responseType="text"}}function US(){return new xD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n){this._service=t,n instanceof on?this._location=n:this._location=on.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new sa(t,n)}get root(){const t=new on(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VS(this._location.path)}get storage(){return this._service}get parent(){const t=pD(this._location.path);if(t===null)return null;const n=new on(this._location.bucket,t);return new sa(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw nD(t)}}function MD(s){const t={prefixes:[],items:[]};return zS(s,t).then(()=>t)}async function zS(s,t,n){const o=await VD(s,{pageToken:n});t.prefixes.push(...o.prefixes),t.items.push(...o.items),o.nextPageToken!=null&&await zS(s,t,o.nextPageToken)}function VD(s,t){t!=null&&typeof t.maxResults=="number"&&jm("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=ND(s.storage,s._location,"/",n.pageToken,n.maxResults);return s.storage.makeRequestWithTokens(r,US)}function kD(s){s._throwIfRoot("getDownloadURL");const t=DD(s.storage,s._location,vD());return s.storage.makeRequestWithTokens(t,US).then(n=>{if(n===null)throw eD();return n})}function LD(s,t){const n=gD(s._location.path,t),r=new on(s._location.bucket,n);return new sa(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(s){return/^[A-Za-z]+:\/\//.test(s)}function UD(s,t){return new sa(s,t)}function jS(s,t){if(s instanceof Lp){const n=s;if(n._bucket==null)throw tD();const r=new sa(n,n._bucket);return t!=null?jS(r,t):r}else return t!==void 0?LD(s,t):s}function zD(s,t){if(t&&PD(t)){if(s instanceof Lp)return UD(s,t);throw zm("To use ref(service, url), the first argument must be a Storage instance.")}else return jS(s,t)}function GE(s,t){const n=t?.[NS];return n==null?null:on.makeFromBucketSpec(n,s)}function jD(s,t,n,r={}){s.host=`${t}:${n}`;const o=mr(t);o&&(Hm(`https://${s.host}/b`),qm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:fT(u,s.app.options.projectId))}class Lp{constructor(t,n,r,o,u,f=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=CS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qN,this._maxUploadRetryTime=FN,this._requests=new Set,o!=null?this._bucket=on.makeFromBucketSpec(o,this._host):this._bucket=GE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=on.makeFromBucketSpec(this._url,t):this._bucket=GE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){jm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){jm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new sa(this,t)}_makeRequest(t,n,r,o,u=!0){if(this._deleted)return new iD(OS());{const f=mD(t,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const KE="@firebase/storage",QE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="storage";function BD(s){return s=_e(s),MD(s)}function HD(s){return s=_e(s),kD(s)}function YE(s,t){return s=_e(s),zD(s,t)}function qD(s=Km(),t){s=_e(s);const r=wh(s,BS).getImmediate({identifier:t}),o=uT("storage");return o&&FD(r,...o),r}function FD(s,t,n,r={}){jD(s,t,n,r)}function GD(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new Lp(n,r,o,t,ra)}function KD(){ta(new or(BS,GD,"PUBLIC").setMultipleInstances(!0)),Ni(KE,QE,""),Ni(KE,QE,"esm2020")}KD();const QD={apiKey:"AIzaSyAsRvsb-_QY_JAVz2GaRWifR95aCRiddLA",authDomain:"footballsanci.firebaseapp.com",databaseURL:"https://footballsanci-default-rtdb.europe-west1.firebasedatabase.app",projectId:"footballsanci",storageBucket:"footballsanci.firebasestorage.app",messagingSenderId:"108108129157",appId:"1:108108129157:web:c881c7b4d787677c43daec",measurementId:"G-VESXDYD12H"},Pp=pT(QD),fm=RI(Pp),Hn=IN(Pp),XE=qD(Pp),HS=st.createContext(),Qh=()=>{const s=st.useContext(HS);if(!s)throw new Error("useAuth must be used within AuthProvider");return s};function YD({children:s}){const[t,n]=st.useState(null),[r,o]=st.useState(!0);st.useEffect(()=>mR(fm,y=>{n(y),o(!1)}),[]);const u=async(m,y)=>await hR(fm,m.trim(),y),f=async()=>{try{await pR(fm)}catch(m){console.error("Logout error:",m)}};return w.jsx(HS.Provider,{value:{currentUser:t,authLoading:r,login:u,logout:f},children:s})}const qS=st.createContext();function XD({children:s}){const[t,n]=st.useState([]),[r,o]=st.useState(""),[u,f]=st.useState(!0);return st.useEffect(()=>{(async()=>{try{const g=(await Wl(Jl(Hn,"seasons"))).docs.map(E=>E.id).sort();n(g),g.length>0&&o(g[g.length-1])}catch(y){console.error("Error loading seasons:",y)}finally{f(!1)}})()},[]),w.jsx(qS.Provider,{value:{seasons:t,selectedSeason:r,setSelectedSeason:o,loadingSeasons:u},children:s})}function cu(){return st.useContext(qS)}function $D(){const{seasons:s,selectedSeason:t,setSelectedSeason:n,loadingSeasons:r}=cu(),[o,u]=st.useState("ranking"),f=["ranking","draw","history"],m=E=>{const A=document.getElementById(E);if(!A)return;const j=A.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:j,behavior:"smooth"}),u(E)};st.useEffect(()=>{const E=()=>{const A=window.scrollY+80;for(let R=f.length-1;R>=0;R--){const j=document.getElementById(f[R]);if(j&&A>=j.offsetTop){u(f[R]);break}}};return window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)},[]);const y=E=>{const A=E?.match(/\d+/);return A?`Season ${A[0]}`:E||"Season"},g=!r&&!!t&&s.length>0;return w.jsxs("header",{style:$s.header,children:[w.jsx("div",{style:$s.left,children:g?w.jsx("select",{style:$s.select,value:t,onChange:E=>n(E.target.value),children:s.map(E=>w.jsx("option",{value:E,style:$s.option,children:y(E)},E))}):w.jsx("div",{style:$s.seasonPlaceholder,children:"Season"})}),w.jsx("nav",{style:$s.right,children:f.map(E=>w.jsx("button",{style:{...$s.navBtn,...o===E?$s.navBtnActive:{}},onClick:()=>m(E),children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]})}const $s={header:{position:"fixed",top:0,left:0,right:0,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",color:"#fff",background:"rgba(8, 8, 10, 0.5)",backdropFilter:"blur(12px)",borderBottom:"1px solid rgba(255,255,255,0.08)",zIndex:1e3},left:{display:"flex",alignItems:"center",paddingLeft:"10px"},right:{display:"flex",alignItems:"center",gap:"0.6rem",paddingRight:"0.6rem"},select:{flex:"0 0 auto",width:"auto",color:"#fff",background:"transparent",border:"none",outline:"none",fontSize:"var(--font-normal)",fontWeight:500,lineHeight:1.2,cursor:"pointer",padding:"8px 22px 8px 6px",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 6" fill="white"><path d="M0 0l5 6 5-6H0z"/></svg>')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 6px center",backgroundSize:"10px 6px"},option:{color:"#000",backgroundColor:"#fff",fontSize:"var(--font-normal)"},seasonPlaceholder:{flex:"0 0 auto",padding:"8px 22px 8px 6px",fontSize:"var(--font-normal)",fontWeight:500,lineHeight:1.2,color:"#fff",whiteSpace:"nowrap"},navBtn:{background:"transparent",border:"none",color:"#fff",cursor:"pointer",opacity:.8,letterSpacing:"0.5px",fontSize:"var(--font-normal)",fontWeight:500,padding:"4px 6px",whiteSpace:"nowrap",transition:"opacity 0.2s ease, color 0.2s ease"},navBtnActive:{color:"#10B981",opacity:1,fontWeight:600}};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JD=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),$E=s=>{const t=JD(s);return t.charAt(0).toUpperCase()+t.slice(1)},FS=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),WD=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=st.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...m},y)=>st.createElement("svg",{ref:y,...tO,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:FS("lucide",o),...!u&&!WD(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>st.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=(s,t)=>{const n=st.forwardRef(({className:r,...o},u)=>st.createElement(eO,{ref:u,iconNode:t,className:FS(`lucide-${ZD($E(s))}`,`lucide-${s}`,r),...o}));return n.displayName=$E(s),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sO=nO("log-out",iO);function rO({visible:s,onClose:t}){const{login:n}=Qh(),[r,o]=st.useState(""),[u,f]=st.useState(""),[m,y]=st.useState(!1),[g,E]=st.useState("");if(!s)return null;const A=async()=>{E(""),y(!0);try{await n(r,u),t(),o(""),f("")}catch(X){E(X.message||"Login failed")}finally{y(!1)}},R=X=>{X.key==="Enter"&&r&&u&&!m&&A()},j=()=>{t(),o(""),f(""),E("")};return w.jsx("div",{style:an.overlay,onClick:j,children:w.jsxs("div",{style:an.modal,onClick:X=>X.stopPropagation(),children:[w.jsx("button",{style:an.closeButton,onClick:j,children:""}),w.jsx("div",{style:an.modalHeader,children:w.jsx("h2",{style:an.title,children:"Login"})}),w.jsxs("div",{style:an.formContainer,children:[w.jsxs("div",{style:an.inputGroup,children:[w.jsx("label",{style:an.label,htmlFor:"email",children:"Email"}),w.jsx("input",{id:"email",type:"email",value:r,onChange:X=>o(X.target.value),onKeyPress:R,style:an.input,placeholder:"you@example.com"})]}),w.jsxs("div",{style:an.inputGroup,children:[w.jsx("label",{style:an.label,htmlFor:"password",children:"Password"}),w.jsx("input",{id:"password",type:"password",value:u,onChange:X=>f(X.target.value),onKeyPress:R,style:an.input,placeholder:""})]}),g&&w.jsx("div",{style:an.error,children:g}),w.jsx("button",{onClick:A,disabled:m||!r||!u,style:{...an.submitButton,...m||!r||!u?an.submitButtonDisabled:{}},children:m?"Logging in...":"Log in"})]})]})})}const an={overlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},modal:{background:"rgba(10,10,10,0.95)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"32px",width:"92%",maxWidth:"420px",boxShadow:"0 0 40px rgba(16,185,129,0.25)",position:"relative"},closeButton:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",color:"rgba(255,255,255,0.6)",fontSize:"22px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},modalHeader:{marginBottom:"26px",textAlign:"center"},title:{fontSize:"var(--font-large)",fontWeight:700,color:"#fff",margin:0,textTransform:"uppercase",letterSpacing:"1px"},formContainer:{display:"flex",flexDirection:"column",gap:"18px"},inputGroup:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"var(--font-small)",color:"rgba(16,185,129,1)",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},input:{background:"rgba(6,78,59,0.15)",border:"1px solid rgba(16,185,129,0.3)",borderRadius:"8px",padding:"12px 16px",fontSize:"var(--font-normal)",color:"#fff",outline:"none"},error:{background:"rgba(239,68,68,0.15)",border:"1px solid rgba(239,68,68,0.4)",borderRadius:"8px",padding:"12px 16px",color:"rgba(239,68,68,1)",fontSize:"var(--font-small)",textAlign:"center"},submitButton:{marginTop:"6px",padding:"14px 24px",background:"linear-gradient(135deg, rgba(16,185,129,0.3), rgba(6,78,59,0.4))",border:"2px solid rgba(16,185,129,0.5)",borderRadius:"8px",color:"#fff",fontSize:"var(--font-normal)",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 4px 15px rgba(16,185,129,0.2)"},submitButtonDisabled:{opacity:.5,cursor:"not-allowed"}};function aO(){const{currentUser:s,logout:t}=Qh(),[n,r]=st.useState(!1);return w.jsxs(w.Fragment,{children:[w.jsxs("footer",{style:$a.footer,children:[w.jsxs("p",{style:$a.footerText,children:[s?w.jsx("span",{onClick:t,style:$a.logoutIcon,children:w.jsx(sO,{color:"red",size:20})}):w.jsx("span",{onClick:()=>r(!0),style:$a.loginTrigger,children:""})," ",new Date().getFullYear()," FootballSanci. All rights reserved."]}),w.jsxs("p",{style:$a.creditLine,children:["Made with  by Claudiu "," ",w.jsx("a",{href:"https://github.com/ImTheCloud/footballsanci-react",target:"_blank",rel:"noopener noreferrer",style:$a.link,children:"GitHub"})]})]}),w.jsx(rO,{visible:n,onClose:()=>r(!1)})]})}const $a={footer:{textAlign:"center",padding:"22px 0",background:"rgba(8,8,10,0.5)",backdropFilter:"blur(12px)",borderTop:"1px solid rgba(255,255,255,0.08)",color:"#fff",marginTop:"40px",position:"relative",zIndex:1e3},footerText:{fontSize:"var(--font-small)",margin:0,opacity:.85},creditLine:{fontSize:"var(--font-very-small)",marginTop:"6px",opacity:.85},link:{color:"#10B981",fontWeight:600,textDecoration:"none"},loginTrigger:{cursor:"pointer",fontWeight:600,fontSize:"var(--font-normal)"},logoutIcon:{cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",top:"4px"}};function oO(){const{selectedSeason:s}=cu(),[t,n]=st.useState(null),[r,o]=st.useState(0),u=window.innerWidth<600;st.useEffect(()=>{const m=()=>window.innerWidth<600;return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),st.useEffect(()=>{(async()=>{try{const m=YE(XE,"seasons"),y=await BD(m),g=`${s}.jpg`;if(!y.items.some(R=>R.name===g)){n(null);return}const A=await HD(YE(XE,`seasons/${g}`));n(A)}catch(m){console.warn("Unexpected Firebase error:",m),n(null)}})()},[s]),st.useEffect(()=>{const m=()=>o(window.scrollY/4);return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const f=u?"140px":"220px";return w.jsxs(w.Fragment,{children:[w.jsx("style",{children:`
                @keyframes fadeOnly {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                `}),w.jsxs("div",{style:{...Qr.container,height:f},children:[t&&w.jsx("img",{src:t,alt:"",style:{...Qr.image,height:u?"150%":"130%",transform:`translateY(${r}px)`}}),!t&&w.jsxs("div",{style:Qr.fallbackBox,children:[w.jsx("div",{style:Qr.icon,children:""}),w.jsx("div",{style:Qr.fallbackText,children:"No picture for this season"})]}),w.jsx("div",{style:{...Qr.fadeTop,height:u?"28%":"40%"}}),w.jsx("div",{style:{...Qr.fadeBottom,height:u?"20%":"25%"}})]})]})}const Qr={container:{position:"relative",width:"100%",overflow:"hidden"},image:{width:"100%",objectFit:"cover",opacity:0,animation:"fadeIn 0.7s forwards"},fallbackBox:{position:"absolute",bottom:"19px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"row",alignItems:"center",gap:"14px",padding:"10px 32px",minWidth:"max-content",backdropFilter:"blur(6px)",animation:"fadeOnly 0.9s ease-out"},icon:{fontSize:"var(--font-large)",color:"white",filter:"drop-shadow(0 0 6px rgba(255,255,255,0.5))"},fallbackText:{color:"white",fontSize:"var(--font-large)",fontWeight:800,letterSpacing:"0.04rem",textShadow:"0 4px 15px rgba(0,0,0,0.55)"},fadeTop:{position:"absolute",top:0,left:0,right:0,background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},fadeBottom:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.5), transparent)"}},GS=(s=0,t=0,n=0,r=0)=>{const o=s+t+n,u=o>0?(s/o*100).toFixed(1):0,f=s*3+t+r,m=o>0?10*(.9*((3*s+t)/(3*o))+.1*Math.min(r/o,1)):0,y=Number(m.toFixed(2));return{matches:o,winrate:parseFloat(u),points:f,value:y}},lO=({onIncrement:s,onDecrement:t})=>w.jsxs("div",{className:"stat-controls",onClick:n=>n.stopPropagation(),children:[w.jsx("button",{className:"stat-btn stat-btn-minus",onClick:t,children:""}),w.jsx("button",{className:"stat-btn stat-btn-plus",onClick:s,children:"+"})]}),uO=({label:s,value:t,editable:n,currentUser:r,onUpdate:o,format:u})=>w.jsxs("div",{className:"stat-item",children:[w.jsx("span",{className:"stat-label",children:s}),w.jsxs("div",{className:"stat-value-row",children:[w.jsx("span",{className:"stat-value",children:u?u(t):t}),r&&n&&w.jsx(lO,{onIncrement:()=>o(1),onDecrement:()=>o(-1)})]})]}),cO=({player:s,currentUser:t,onUpdateField:n,statsConfig:r})=>w.jsx("div",{className:"ranking-item-details",children:w.jsx("div",{className:"stats-grid",children:r.map(({label:o,field:u,editable:f,format:m})=>w.jsx(uO,{label:o,value:u==="value"?Number(s.value||0).toFixed(2):s[u]||0,editable:f,currentUser:t,onUpdate:y=>n(s.id,u,y),format:m},u))})}),hO=({rank:s})=>w.jsx("div",{className:"rank-badge",children:w.jsx("span",{className:"rank-number",children:s})}),fO=({name:s})=>w.jsx("div",{className:"player-info",children:w.jsx("h3",{className:"player-name",children:s})}),ZE=({playerId:s,fame:t,currentUser:n,onUpdate:r})=>{const o=st.useRef(null),u=st.useRef(null),[f,m]=st.useState(!1);st.useLayoutEffect(()=>{const g=()=>{if(o.current&&u.current){const E=u.current.scrollWidth>o.current.offsetWidth;m(E),E&&(u.current.style.setProperty("--container-width",`${o.current.offsetWidth}px`),u.current.style.animation="none",requestAnimationFrame(()=>{u.current.style.animation=""}))}};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[t]);const y=()=>t?f?`${t}`:t:"";return w.jsx("div",{className:"player-fame-container",ref:o,children:n?w.jsx("input",{type:"text",className:"player-fame fame-input",value:t||"",onChange:g=>r(s,g.target.value),onClick:g=>g.stopPropagation(),placeholder:"Enter fame..."}):t&&w.jsx("p",{ref:u,className:`player-fame ${f?"scrolling":""}`,children:y()})})},dO=({points:s,value:t,rankColor:n})=>w.jsxs("div",{className:"player-points",children:[w.jsxs("div",{className:"points-group",children:[w.jsx("span",{className:`points-value ${n}`,children:Math.round(s||0)}),w.jsx("span",{className:"points-label",children:"Points"})]}),w.jsxs("div",{className:"value-group",children:[w.jsx("span",{className:`points-value ${n}`,children:Number(t||0).toFixed(2)}),w.jsx("span",{className:"points-label",children:"Value"})]})]}),mO=({player:s,rank:t,rankColor:n,isExpanded:r,onToggle:o,currentUser:u,onUpdateField:f,onUpdateFame:m,statsConfig:y})=>{const g=E=>{!E.target.closest(".stat-controls")&&!E.target.closest(".fame-input")&&o(s.id)};return w.jsxs("div",{className:`ranking-item ${n} ${r?"expanded":""}`,onClick:g,children:[w.jsxs("div",{className:"ranking-item-main",children:[w.jsx(hO,{rank:t}),w.jsx(fO,{name:s.name}),!r&&w.jsx(ZE,{playerId:s.id,fame:s.fame,currentUser:u,onUpdate:m}),w.jsx(dO,{points:s.points,value:s.value,rankColor:n})]}),r&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"ranking-fame-expanded",children:w.jsx(ZE,{playerId:s.id,fame:s.fame,currentUser:u,onUpdate:m})}),w.jsx(cO,{player:s,currentUser:u,onUpdateField:f,statsConfig:y})]})]})},JE={1:"rank-gold",2:"rank-silver",3:"rank-bronze",default:"rank-default"},pO=[{label:"Winrate",field:"winrate",editable:!1,format:s=>`${s}%`},{label:"Matches",field:"matches",editable:!1},{label:"Wins",field:"wins",editable:!0},{label:"Losses",field:"losses",editable:!0},{label:"Draws",field:"draws",editable:!0},{label:"Bonus 5 Goal",field:"bonus5goal",editable:!0}],WE=(s,t)=>{const n=s.matches||0,r=t.matches||0,o=s.points||0,u=t.points||0,f=s.value||0,m=t.value||0;return n===0&&r>0?1:r===0&&n>0?-1:u!==o?u-o:n!==r?n-r:m-f},gO=s=>{const t=[];let n=1,r=0;s.forEach((m,y)=>{y>0&&s[y-1].matches>0&&m.points===s[y-1].points&&m.matches===s[y-1].matches&&m.value===s[y-1].value?t.push(n):m.matches>0?(n=r+1,t.push(n),r++):t.push(null)});const o=t.filter(m=>m!==null),f=(o.length>0?Math.max(...o):0)+1;return t.map(m=>m===null?f:m)},yO=s=>JE[s]||JE.default,_O=()=>w.jsx("div",{className:"ranking-container",children:w.jsxs("div",{className:"loading-state",children:[w.jsx("div",{className:"loading-spinner"}),w.jsx("p",{children:"Loading rankings..."})]})}),vO=()=>w.jsx("div",{className:"ranking-container",children:w.jsx("div",{className:"empty-state",children:w.jsx("p",{children:"No players found for this season."})})});function EO(){const{selectedSeason:s}=cu(),{currentUser:t}=Qh(),[n,r]=st.useState([]),[o,u]=st.useState(!0),[f,m]=st.useState(null);st.useEffect(()=>{if(!s)return;(async()=>{u(!0);try{const X=(await Wl(Jl(Hn,`seasons/${s}/players`))).docs.map(tt=>({id:tt.id,...tt.data()})).sort(WE);r(X),m(null)}catch(j){console.error("Error loading players:",j)}u(!1)})()},[s]);const y=st.useCallback(async(R,j,X)=>{const tt=n.find(ut=>ut.id===R);if(!tt)return;const J=Math.max(0,(tt[j]||0)+X),ot={...tt,[j]:J},pt=GS(ot.wins,ot.draws,ot.losses,ot.bonus5goal);r(ut=>ut.map(St=>St.id===R?{...St,[j]:J,...pt}:St).sort(WE));try{await Um(Xr(Hn,`seasons/${s}/players/${R}`),{[j]:J,...pt,value:Number(pt.value)})}catch(ut){console.error("Error updating player:",ut)}},[n,s]),g=st.useCallback(async(R,j)=>{r(X=>X.map(tt=>tt.id===R?{...tt,fame:j}:tt));try{await Um(Xr(Hn,`seasons/${s}/players/${R}`),{fame:j})}catch(X){console.error("Error updating fame:",X)}},[s]),E=st.useCallback(R=>{m(j=>j===R?null:R)},[]);if(o)return w.jsx(_O,{});if(n.length===0)return w.jsx(vO,{});const A=gO(n);return w.jsxs("div",{className:"ranking-container",children:[w.jsx("h1",{className:"section-title",children:"FootballSanci"}),w.jsx("div",{className:"ranking-list",children:n.map((R,j)=>{const X=A[j],tt=yO(X);return w.jsx(mO,{player:R,rank:X,rankColor:tt,isExpanded:f===R.id,onToggle:E,currentUser:t,onUpdateField:y,onUpdateFame:g,statsConfig:pO},R.id)})})]})}const TO=["Fit Five","Halle"],tT=.1,SO=0,eT=s=>String(s).padStart(2,"0"),KS=s=>`${s.getFullYear()}-${eT(s.getMonth()+1)}-${eT(s.getDate())}`,AO=()=>KS(new Date),bO=()=>{const s=new Date,t=(6-s.getDay())%7||7,n=new Date(s);return n.setDate(s.getDate()+t),KS(n)},Dl=({label:s,icon:t,children:n})=>w.jsxs("div",{className:"match-row",children:[t&&w.jsx("span",{className:"match-row-icon",children:t}),w.jsxs("label",{children:[s,":"]}),n]}),wO=({value:s,onChange:t})=>w.jsxs("div",{className:"gapLimit-control",children:[w.jsx("button",{type:"button","aria-label":"Decrease gapLimit",onClick:()=>{const n=Number(s)||0;t(Math.max(SO,+(n-tT).toFixed(2)))},children:""}),w.jsx("span",{children:Number(s).toFixed(2)}),w.jsx("button",{type:"button","aria-label":"Increase gapLimit",onClick:()=>{const n=Number(s)||0;t(+(n+tT).toFixed(2))},children:"+"})]}),RO=({title:s,children:t})=>w.jsxs("div",{className:"match-box",children:[s&&w.jsx("h3",{className:"section-title section-title--compact",children:s}),w.jsx("div",{className:"match-section",children:t})]}),IO=({matchDetails:s,onChange:t,selectedCount:n=0,totalCount:r=0,onGenerate:o=()=>{},disabled:u=!1})=>{const f=st.useMemo(bO,[]),m=st.useMemo(AO,[]),y=st.useRef(!1);return st.useEffect(()=>{if(y.current)return;const g=s?.date;(!g||g===m)&&t("date",f),y.current=!0},[s,m,f,t]),w.jsxs(RO,{title:"Next Match",children:[w.jsx(Dl,{label:"Date",icon:"",children:w.jsx("input",{type:"date",value:s.date||f,onChange:g=>t("date",g.target.value)})}),w.jsx(Dl,{label:"Start",icon:"",children:w.jsx("input",{type:"time",value:s.startTime,onChange:g=>t("startTime",g.target.value)})}),w.jsx(Dl,{label:"End",icon:"",children:w.jsx("input",{type:"time",value:s.endTime,onChange:g=>t("endTime",g.target.value)})}),w.jsx(Dl,{label:"Location",icon:"",children:w.jsx("select",{value:s.location,onChange:g=>t("location",g.target.value),children:TO.map(g=>w.jsx("option",{value:g,children:g},g))})}),w.jsx(Dl,{label:"Gap limit",icon:"",children:w.jsx(wO,{value:s.gapLimit,onChange:g=>t("gapLimit",g)})}),w.jsxs("div",{className:"generate-section",children:[w.jsxs("div",{className:"selected-counter",children:[w.jsx("span",{className:"selected-counter-number",children:n})," ","/ ",r," selected players"]}),w.jsx("button",{className:"generate-button",onClick:o,disabled:u,children:"Generate Teams"})]})]})},CO=({player:s,isSelected:t,onToggle:n})=>w.jsxs("button",{className:`player-card ${t?"selected":""}`,onClick:n,"aria-pressed":t,children:[w.jsx("h4",{className:"player-card-name",children:s.name}),w.jsx("span",{className:"player-card-value",children:Number(s.value||0).toFixed(2)})]}),NO=({onAdd:s})=>{const[t,n]=st.useState(""),[r,o]=st.useState(""),[u,f]=st.useState(!1),m=st.useRef(null);st.useEffect(()=>{u&&m.current&&setTimeout(()=>{m.current.scrollIntoView({behavior:"smooth",block:"center"})},300)},[u]);const y=()=>{const E=r.replace(",","."),A=parseFloat(E);if(t.trim()&&!isNaN(A)&&A>=0){const R=Number(A.toFixed(2));s({id:`temp-${Date.now()}`,name:t.trim(),value:R,isTemporary:!0}),n(""),o(""),f(!1)}},g=(E,A)=>{E.key==="Enter"&&(A==="name"&&t.trim()?document.getElementById("temp-value-input")?.focus():A==="value"&&y())};return u?w.jsxs("div",{ref:m,className:"player-card temp-player-card-form",children:[w.jsx("input",{type:"text",className:"temp-player-input temp-player-name",placeholder:"Name",value:t,onChange:E=>n(E.target.value),onKeyPress:E=>g(E,"name"),autoFocus:!0}),w.jsx("input",{id:"temp-value-input",type:"text",inputMode:"decimal",className:"temp-player-input temp-player-value",placeholder:"Value",value:r,onChange:E=>{const A=E.target.value.replace(/[^0-9.,]/g,"");o(A)},onKeyDown:E=>{!/[0-9.,]/.test(E.key)&&E.key!=="Backspace"&&E.key!=="Delete"&&E.key!=="ArrowLeft"&&E.key!=="ArrowRight"&&E.key!=="Tab"&&E.preventDefault()},onKeyPress:E=>g(E,"value"),step:"0.1",min:"0"}),w.jsx("div",{className:"temp-player-actions",children:w.jsx("button",{className:"temp-player-btn temp-player-add",onClick:y,disabled:!t.trim()||!r||isNaN(parseFloat(r)),children:""})})]}):w.jsxs("button",{className:"player-card temp-player-card-trigger",onClick:()=>f(!0),children:[w.jsx("h4",{className:"player-card-name",children:"Temp Player"}),w.jsx("span",{className:"player-card-value",children:"+"})]})},DO=({players:s,selectedPlayers:t,onToggle:n,onAddTemp:r})=>w.jsxs("div",{className:"players-grid",children:[s.map(o=>w.jsx(CO,{player:o,isSelected:t.some(u=>u.id===o.id),onToggle:()=>n(o)},o.id)),w.jsx(NO,{onAdd:r})]}),OO=s=>s.reduce((t,n)=>t+(Number(n.value)||0),0),nT=(s,t)=>{if(!s||!t)return null;const[n,r,o]=(s||"").split("-").map(Number),[u,f]=(t||"").split(":").map(Number);return[n,r,o,u,f].every(m=>Number.isFinite(m))?new Date(o,r-1,n,u,f,0,0):null},Za=s=>String(s).padStart(2,"0"),iT=s=>{s<0&&(s=0);const t=Math.floor(s/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),o=Math.floor(t%3600/60),u=t%60;return n>0?`${n}d ${Za(r)}:${Za(o)}:${Za(u)}`:`${Za(r)}:${Za(o)}:${Za(u)}`},xO=s=>{const t=nT(s?.date,s?.startTime),n=nT(s?.date,s?.endTime),[r,o]=st.useState(()=>Date.now());return st.useEffect(()=>{const u=setInterval(()=>o(Date.now()),1e3);return()=>clearInterval(u)},[s?.date,s?.startTime,s?.endTime]),!t||!n?{phase:"invalid",text:""}:r<t.getTime()?{phase:"before",text:`${iT(t.getTime()-r)}`}:r>=t.getTime()&&r<n.getTime()?{phase:"during",text:`${iT(n.getTime()-r)}`}:{phase:"after",text:"Finished"}},MO=({matchData:s,Timer:t,teamTotals:n})=>{if(!s)return w.jsx("div",{className:"match-details-card",children:w.jsx("div",{className:"match-details-empty",children:"No match info available."})});const{phase:r,text:o}=t,u=s.startTime&&s.endTime?`${s.startTime} - ${s.endTime}`:s.startTime||"",f=s.valueDifference!==void 0?Number(s.valueDifference).toFixed(2):"",m=n?.[0],y=n?.[1];return w.jsxs("div",{className:"match-details-card",children:[w.jsx("h3",{className:"section-title section-title--compact",children:"Live Draw"}),w.jsxs("div",{className:"match-details-grid",children:[w.jsxs("div",{className:`match-details-item Timer-${r}`,children:[w.jsx("span",{className:"match-details-icon",children:""}),w.jsxs("div",{className:"match-details-text",children:[w.jsx("span",{className:"match-details-label",children:"Timer"}),w.jsx("span",{className:"match-details-value match-details-value--Timer",children:o})]})]}),w.jsxs("div",{className:"match-details-item",children:[w.jsx("span",{className:"match-details-icon",children:""}),w.jsxs("div",{className:"match-details-text",children:[w.jsx("span",{className:"match-details-label",children:"Location"}),w.jsx("span",{className:"match-details-value",children:s.location})]})]}),w.jsxs("div",{className:"match-details-item",children:[w.jsx("span",{className:"match-details-icon",children:""}),w.jsxs("div",{className:"match-details-text",children:[w.jsx("span",{className:"match-details-label",children:"Date"}),w.jsx("span",{className:"match-details-value",children:s.date})]})]}),w.jsxs("div",{className:"match-details-item",children:[w.jsx("span",{className:"match-details-icon",children:""}),w.jsxs("div",{className:"match-details-text",children:[w.jsx("span",{className:"match-details-label",children:"Time"}),w.jsx("span",{className:"match-details-value",children:u})]})]}),w.jsxs("div",{className:"match-details-item",children:[w.jsx("span",{className:"match-details-icon",children:""}),w.jsxs("div",{className:"match-details-text",children:[w.jsx("span",{className:"match-details-label",children:"Gap limit"}),w.jsx("span",{className:"match-details-value",children:s.gapLimit})]})]}),w.jsxs("div",{className:"match-details-item",children:[w.jsx("span",{className:"match-details-icon",children:""}),w.jsxs("div",{className:"match-details-text",children:[w.jsx("span",{className:"match-details-label",children:"Value diff"}),w.jsx("span",{className:"match-details-value",children:f})]})]}),w.jsxs("div",{className:"match-details-item",children:[w.jsx("span",{className:"match-details-icon",children:""}),w.jsxs("div",{className:"match-details-text",children:[w.jsx("span",{className:"match-details-label",children:"Value T1"}),w.jsx("span",{className:"match-details-value",children:m!=null?m.toFixed(2):""})]})]}),w.jsxs("div",{className:"match-details-item",children:[w.jsx("span",{className:"match-details-icon",children:""}),w.jsxs("div",{className:"match-details-text",children:[w.jsx("span",{className:"match-details-label",children:"Value T2"}),w.jsx("span",{className:"match-details-value",children:y!=null?y.toFixed(2):""})]})]})]})]})},VO=({team:s,index:t})=>w.jsxs("div",{className:`team-card team-${t+1}`,children:[w.jsx("div",{className:"team-header",children:w.jsxs("h3",{className:"team-title",children:["Team ",t+1]})}),w.jsx("ul",{className:"team-players",children:s.map(n=>w.jsxs("li",{className:"team-player-item",children:[w.jsx("span",{className:"team-player-name",children:n.name}),w.jsx("span",{className:"team-player-value",children:Number(n.value).toFixed(2)})]},n.name))})]}),kO=({scoreTeam1:s,scoreTeam2:t,onChange:n})=>w.jsxs("div",{className:"score-input-wrapper",children:[w.jsx("input",{type:"number",min:"0",value:s,onChange:r=>n("scoreTeam1",r.target.value),className:"score-input score-input-team1"}),w.jsx("span",{className:"score-separator",children:"-"}),w.jsx("input",{type:"number",min:"0",value:t,onChange:r=>n("scoreTeam2",r.target.value),className:"score-input score-input-team2"})]}),LO=({scoreTeam1:s,scoreTeam2:t,onScoreChange:n,onSave:r,disabled:o})=>w.jsxs("div",{className:"save-match-section",children:[w.jsx(kO,{scoreTeam1:s,scoreTeam2:t,onChange:n}),w.jsx("button",{className:"generate-button",onClick:r,disabled:o,children:"Save Match"})]}),PO=({teams:s,matchData:t,scoreTeam1:n,scoreTeam2:r,onScoreChange:o,onSaveMatch:u,currentUser:f})=>{const m=xO(t||{}),y=st.useMemo(()=>s.map(E=>OO(E)),[s]),g=[t?.team1TotalValue??y[0],t?.team2TotalValue??y[1]];return w.jsxs("div",{className:"teams-wrapper",children:[w.jsx(MO,{matchData:t,Timer:m,teamTotals:g}),w.jsx("div",{className:"teams-container",children:s.map((E,A)=>w.jsx(VO,{team:E,index:A},A))}),f&&w.jsx(LO,{scoreTeam1:n,scoreTeam2:r,onScoreChange:o,onSave:u,disabled:!1})]})};function sT(s){const t=s?.match(/\d+/);return t?Number(t[0]):NaN}const UO={date:new Date().toISOString().split("T")[0],startTime:"21:00",endTime:"22:00",location:"Fit Five",gapLimit:1},zO=s=>{const t=new Date(s),n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getFullYear());return`${n}-${r}-${o}`},Ja=s=>s.reduce((t,n)=>t+(Number(n.value)||0),0);function jO(){const{selectedSeason:s}=cu(),{currentUser:t}=Qh(),[n,r]=st.useState([]),[o,u]=st.useState([]),[f,m]=st.useState([]),[y,g]=st.useState(!0),[E,A]=st.useState(UO),[R,j]=st.useState(null),[X,tt]=st.useState(0),[J,ot]=st.useState(0),pt=st.useRef(null),ut=st.useRef(!1),St=st.useCallback(async()=>{if(s){g(!0);try{if(t){const rt=(await Wl(Jl(Hn,"seasons"))).docs.map(et=>sT(et.id)).filter(et=>!isNaN(et)).sort((et,ft)=>et-ft),vt=rt[rt.length-1],It=sT(s),O=It===vt?vt-1:It,nt=(await Wl(Jl(Hn,`seasons/Season ${O}/players`))).docs.map(et=>({id:et.id,...et.data()}));r(nt)}const bt=Xr(Hn,`seasons/${s}/matches/Live`),B=await BE(bt);if(B.exists()){const $=B.data();if($.gapLimit===void 0&&$.gap!==void 0&&($.gapLimit=$.gap),$.team1&&$.team2){if($.team1TotalValue===void 0){const rt=Ja($.team1);$.team1TotalValue=Number(rt.toFixed(2))}if($.team2TotalValue===void 0){const rt=Ja($.team2);$.team2TotalValue=Number(rt.toFixed(2))}}m([$.team1,$.team2]),j($),tt($.scoreTeam1||0),ot($.scoreTeam2||0)}else m([]),j(null),tt(0),ot(0)}catch(bt){console.error("Error loading:",bt)}g(!1)}},[s,t]);st.useEffect(()=>{St()},[St]),st.useEffect(()=>{ut.current&&f.length===2&&(setTimeout(()=>{pt.current&&pt.current.scrollIntoView({behavior:"smooth"})},120),ut.current=!1)},[f]);const Bt=st.useCallback(bt=>{r(B=>[...B,bt]),u(B=>[...B,bt])},[]),Ot=st.useCallback(bt=>{u(B=>B.some($=>$.id===bt.id)?B.filter($=>$.id!==bt.id):[...B,bt])},[]),D=st.useCallback(bt=>{const B=bt.map(G=>({...G,value:Number(G.value)||0})),$=Number(E.gapLimit)||0;let rt=[],vt=[],It=1/0;const O=B.length<=10?1e3:500;for(let G=0;G<O;G++){const nt=[...B].sort(()=>Math.random()-.5),et=[],ft=[];nt.forEach((Qt,Cn)=>{(Cn%2===0?et:ft).push(Qt)});const gt=Ja(et),_t=Ja(ft),Zt=Math.abs(gt-_t);if(Zt<=$)return[et,ft];Zt<It&&(It=Zt,rt=et,vt=ft)}if(rt.length===0||vt.length===0){const G=Math.ceil(B.length/2);return[B.slice(0,G),B.slice(G)]}return[rt,vt]},[E.gapLimit]),b=st.useCallback(async()=>{if(o.length<2){console.warn("Not enough players to generate teams");return}const bt=[...o],[B,$]=D(bt),rt=Ja(B),vt=Ja($),It=Math.abs(rt-vt);m([B,$]),tt(0),ot(0);try{const O=zO(E.date),G=Xr(Hn,`seasons/${s}/matches/Live`),nt={team1:B.map(et=>({name:et.name,value:Number(et.value||0).toFixed(2)})),team2:$.map(et=>({name:et.name,value:Number(et.value||0).toFixed(2)})),team1TotalValue:Number(rt.toFixed(2)),team2TotalValue:Number(vt.toFixed(2)),date:O,startTime:E.startTime,endTime:E.endTime,location:E.location,gapLimit:Number(E.gapLimit).toFixed(2),valueDifference:Number(It.toFixed(2)),scoreTeam1:0,scoreTeam2:0};await HE(G,nt),j(nt)}catch(O){console.error("Error writing live match:",O)}},[o,E,s,D]),N=st.useCallback(()=>{o.length<2||(ut.current=!0,b())},[o,b]),V=st.useCallback((bt,B)=>{const $=Number(B)||0;bt==="scoreTeam1"?tt($):ot($)},[]),M=st.useCallback(async()=>{if(R)try{const bt=R.date,B=Xr(Hn,`seasons/${s}/matches/${bt}`),$={...R,scoreTeam1:X,scoreTeam2:J};await HE(B,$);const rt=Number(X),vt=Number(J),It=R.team1||[],O=R.team2||[];let G="draw";rt>vt&&(G="team1"),vt>rt&&(G="team2");const nt=Math.abs(rt-vt),et=G==="draw"?0:Math.floor(nt/5),ft=async(_t,Zt)=>{const Qt=Xr(Hn,`seasons/${s}/players/${_t}`),Cn=await BE(Qt);if(!Cn.exists())return;const Gn=Cn.data(),ji=(Gn.wins||0)+(Zt.winDelta||0),Bi=(Gn.draws||0)+(Zt.drawDelta||0),yn=(Gn.losses||0)+(Zt.lossDelta||0),ps=(Gn.bonus5goal||0)+(Zt.bonusDelta||0),Hi=GS(ji,Bi,yn,ps);await Um(Qt,{wins:ji,draws:Bi,losses:yn,bonus5goal:ps,...Hi,lastMatchDate:bt})},gt=[];G==="draw"?(It.forEach(_t=>gt.push(ft(_t.name,{drawDelta:1}))),O.forEach(_t=>gt.push(ft(_t.name,{drawDelta:1})))):G==="team1"?(It.forEach(_t=>gt.push(ft(_t.name,{winDelta:1,bonusDelta:et}))),O.forEach(_t=>gt.push(ft(_t.name,{lossDelta:1})))):(O.forEach(_t=>gt.push(ft(_t.name,{winDelta:1,bonusDelta:et}))),It.forEach(_t=>gt.push(ft(_t.name,{lossDelta:1})))),await Promise.all(gt),await BN(Xr(Hn,`seasons/${s}/matches/Live`)),m([]),j(null),u([]),tt(0),ot(0)}catch(bt){console.error("Error saving match:",bt)}},[R,X,J,s]),L=st.useCallback((bt,B)=>{A($=>{let rt=B;if(bt==="gapLimit"){const vt=(B??"").toString();rt=(parseFloat(vt.replace(",","."))||0).toFixed(2)}return{...$,[bt]:rt}})},[]);if(y)return w.jsx("div",{className:"draw-container"});const I=f.length===2,ie=o.length>=2;return w.jsxs("div",{className:"draw-container",children:[t&&w.jsxs(w.Fragment,{children:[w.jsx("h2",{className:"section-title",children:"Live Draw"}),n.length>0&&w.jsx(DO,{players:n,selectedPlayers:o,onToggle:Ot,onAddTemp:Bt}),w.jsx(IO,{matchDetails:E,onChange:L,selectedCount:o.length,totalCount:n.length,onGenerate:N,disabled:!ie})]}),I&&w.jsx("div",{ref:pt,children:w.jsx(PO,{teams:f,matchData:R,scoreTeam1:X,scoreTeam2:J,onScoreChange:V,onSaveMatch:M,currentUser:t})}),!t&&!I&&w.jsxs("div",{className:"empty-state",children:[w.jsx("div",{className:"empty-state-icon",children:""}),w.jsx("p",{children:"No live match available. Check back soon!"})]})]})}function BO(){const{selectedSeason:s}=cu(),[t,n]=st.useState([]),[r,o]=st.useState(!0);return st.useEffect(()=>{if(!s)return;(async()=>{o(!0);try{const m=(await Wl(Jl(Hn,`seasons/${s}/matches`))).docs.map(y=>({id:y.id,...y.data()}));m.sort((y,g)=>(g.date||"").localeCompare(y.date||"")),n(m)}catch(f){console.error("Erreur chargement matchs:",f)}o(!1)})()},[s]),r?w.jsx("p",{children:"Loading"}):t.length===0?w.jsx("p",{children:"No matches found."}):w.jsxs("div",{style:{padding:"1rem"},children:[w.jsx("h2",{children:"Match History"}),w.jsx("ul",{style:{listStyle:"none",padding:0},children:t.map(u=>w.jsxs("li",{style:{padding:"10px",marginBottom:"8px",border:"1px solid #444",borderRadius:"6px"},children:[w.jsx("strong",{children:"Date:"})," ",u.date," ",w.jsx("br",{}),w.jsx("strong",{children:"Start:"})," ",u.startTime," ",w.jsx("br",{}),w.jsx("strong",{children:"End:"})," ",u.endTime," ",w.jsx("br",{}),w.jsx("strong",{children:"Location:"})," ",u.location," ",w.jsx("br",{}),w.jsx("strong",{children:"Team A:"})," ",u.teamA?.join(", ")," ",w.jsx("br",{}),w.jsx("strong",{children:"Team B:"})," ",u.teamB?.join(", ")]},u.id))})]})}function HO(){const s=["Play with intensity and purpose so every action lifts the entire team's level.","Scan constantly before receiving so your next decision is faster than pressure.","Attack open spaces early to force defenders into choices they do not control.","Keep your body shape ready so every touch moves you forward with confidence.","Stay compact defensively so the team controls space instead of chasing it.","Use your weaker foot boldly because unpredictability wins tight situations.","Accelerate after passing to create overloads and stretch opponents out wide.","Protect the ball smartly by using angles instead of relying only on strength.","Press with intelligence so you cut passing lanes before the ball even arrives.","Master your first touch because it decides whether you stay marked or escape.","React instantly in transitions since the quickest players shape the outcome.","Lead through effort and discipline so your consistency inspires teammates.","Keep your head active so you anticipate danger before opponents even react.","Play forward whenever possible so your team stays aggressive and unpredictable.","Win midfield duels through positioning first, then through controlled intensity.","Time your movements so runs create spaces instead of colliding with teammates.","Stay patient in possession so you choose the best option, not the fastest one.","Hold your defensive line with discipline to trap opponents facing the wrong way.","Use clean body orientation so you stay open to both the ball and the next action.","Communicate constantly because silent teams lose half a second on every play.","Exploit weak sides by switching play quickly and forcing defenders to rotate.","Recover your position fast after pressing so your structure stays unbroken.","Attack crosses with conviction because hesitation kills goal opportunities.","Protect central areas first so opponents are forced into predictable wide zones.","Keep the ball moving at tempo to unbalance teams that defend in tight blocks.","Stay brave in duels by controlling your approach instead of diving recklessly.","Use double movements to lose markers and create separation before receiving.","Stay focused after mistakes so you recover immediately instead of dwelling on it.","Support teammates early so the ball carrier always has at least two options.","Exploit transition moments instantly because defenses need time to reorganize.","Stay calm under pressure and let technique guide your decisions, not panic.","Close passing lanes with small steps so attackers lose rhythm and creativity."],t=g=>{const E=[...g];for(let A=E.length-1;A>0;A--){const R=Math.floor(Math.random()*(A+1));[E[A],E[R]]=[E[R],E[A]]}return E},[n,r]=st.useState(t(s)),[o,u]=st.useState(0),[f,m]=st.useState(!0);st.useEffect(()=>{const g=setInterval(()=>{m(!1),setTimeout(()=>{o===n.length-1?(r(t(s)),u(0)):u(o+1),m(!0)},450)},5e3);return()=>clearInterval(g)},[o,n,s]);const y={marginTop:"40px",textAlign:"center",padding:"10px 20px",fontStyle:"italic",color:"white",fontSize:"var(--font-small)",lineHeight:"1.35",maxWidth:"85vw",marginLeft:"auto",marginRight:"auto",height:"2.7em",overflow:"hidden",opacity:f?1:0,transform:f?"translateY(0px)":"translateY(4px)",transition:"opacity 0.45s ease, transform 0.45s ease",textShadow:f?"0 0 8px rgba(16,185,129,0.35), 0 0 12px rgba(16,185,129,0.25)":"none"};return w.jsxs("div",{style:y,children:[" ",n[o]]})}function qO(){return w.jsx(YD,{children:w.jsxs(XD,{children:[w.jsx($D,{}),w.jsx(oO,{}),w.jsxs("main",{style:{position:"relative",zIndex:1},children:[w.jsx("section",{id:"ranking",children:w.jsx(EO,{})}),w.jsx("section",{id:"draw",children:w.jsx(jO,{})}),w.jsx("section",{id:"history",children:w.jsx(BO,{})}),w.jsx("section",{id:"football-tips",children:w.jsx(HO,{})})]}),w.jsx(aO,{})]})})}xb.createRoot(document.getElementById("root")).render(w.jsx(st.StrictMode,{children:w.jsx(qO,{})}));
