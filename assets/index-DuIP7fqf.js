(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var zd={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function n1(){if(Z_)return Tl;Z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Tl.Fragment=t,Tl.jsx=n,Tl.jsxs=n,Tl}var J_;function i1(){return J_||(J_=1,zd.exports=n1()),zd.exports}var x=i1(),jd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function s1(){if(W_)return St;W_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function it(M,X,nt){this.props=M,this.context=X,this.refs=J,this.updater=nt||Z}it.prototype.isReactComponent={},it.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},it.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function dt(){}dt.prototype=it.prototype;function lt(M,X,nt){this.props=M,this.context=X,this.refs=J,this.updater=nt||Z}var Tt=lt.prototype=new dt;Tt.constructor=lt,W(Tt,it.prototype),Tt.isPureReactComponent=!0;var vt=Array.isArray;function mt(){}var R={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(M,X,nt){var at=nt.ref;return{$$typeof:s,type:M,key:X,ref:at!==void 0?at:null,props:nt}}function V(M,X){return I(M.type,X,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function P(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return X[nt]})}var w=/\/+/g;function Gt(M,X){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):X.toString(36)}function he(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(mt,mt):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,X,nt,at,Et){var It=typeof M;(It==="undefined"||It==="boolean")&&(M=null);var Lt=!1;if(M===null)Lt=!0;else switch(It){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(M.$$typeof){case s:case t:Lt=!0;break;case T:return Lt=M._init,F(Lt(M._payload),X,nt,at,Et)}}if(Lt)return Et=Et(M),Lt=at===""?"."+Gt(M,0):at,vt(Et)?(nt="",Lt!=null&&(nt=Lt.replace(w,"$&/")+"/"),F(Et,X,nt,"",function(cr){return cr})):Et!=null&&(N(Et)&&(Et=V(Et,nt+(Et.key==null||M&&M.key===Et.key?"":(""+Et.key).replace(w,"$&/")+"/")+Lt)),X.push(Et)),1;Lt=0;var Ne=at===""?".":at+":";if(vt(M))for(var re=0;re<M.length;re++)at=M[re],It=Ne+Gt(at,re),Lt+=F(at,X,nt,It,Et);else if(re=H(M),typeof re=="function")for(M=re.call(M),re=0;!(at=M.next()).done;)at=at.value,It=Ne+Gt(at,re++),Lt+=F(at,X,nt,It,Et);else if(It==="object"){if(typeof M.then=="function")return F(he(M),X,nt,at,Et);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function et(M,X,nt){if(M==null)return M;var at=[],Et=0;return F(M,at,"","",function(It){return X.call(nt,It,Et++)}),at}function ct(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Pt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Qt={map:et,forEach:function(M,X,nt){et(M,function(){X.apply(this,arguments)},nt)},count:function(M){var X=0;return et(M,function(){X++}),X},toArray:function(M){return et(M,function(X){return X})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return St.Activity=S,St.Children=Qt,St.Component=it,St.Fragment=n,St.Profiler=l,St.PureComponent=lt,St.StrictMode=r,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},St.cache=function(M){return function(){return M.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(M,X,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var at=W({},M.props),Et=M.key;if(X!=null)for(It in X.key!==void 0&&(Et=""+X.key),X)!b.call(X,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&X.ref===void 0||(at[It]=X[It]);var It=arguments.length-2;if(It===1)at.children=nt;else if(1<It){for(var Lt=Array(It),Ne=0;Ne<It;Ne++)Lt[Ne]=arguments[Ne+2];at.children=Lt}return I(M.type,Et,at)},St.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},St.createElement=function(M,X,nt){var at,Et={},It=null;if(X!=null)for(at in X.key!==void 0&&(It=""+X.key),X)b.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(Et[at]=X[at]);var Lt=arguments.length-2;if(Lt===1)Et.children=nt;else if(1<Lt){for(var Ne=Array(Lt),re=0;re<Lt;re++)Ne[re]=arguments[re+2];Et.children=Ne}if(M&&M.defaultProps)for(at in Lt=M.defaultProps,Lt)Et[at]===void 0&&(Et[at]=Lt[at]);return I(M,It,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(M){return{$$typeof:p,render:M}},St.isValidElement=N,St.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ct}},St.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},St.startTransition=function(M){var X=R.T,nt={};R.T=nt;try{var at=M(),Et=R.S;Et!==null&&Et(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(mt,Pt)}catch(It){Pt(It)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),R.T=X}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(M){return R.H.use(M)},St.useActionState=function(M,X,nt){return R.H.useActionState(M,X,nt)},St.useCallback=function(M,X){return R.H.useCallback(M,X)},St.useContext=function(M){return R.H.useContext(M)},St.useDebugValue=function(){},St.useDeferredValue=function(M,X){return R.H.useDeferredValue(M,X)},St.useEffect=function(M,X){return R.H.useEffect(M,X)},St.useEffectEvent=function(M){return R.H.useEffectEvent(M)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(M,X,nt){return R.H.useImperativeHandle(M,X,nt)},St.useInsertionEffect=function(M,X){return R.H.useInsertionEffect(M,X)},St.useLayoutEffect=function(M,X){return R.H.useLayoutEffect(M,X)},St.useMemo=function(M,X){return R.H.useMemo(M,X)},St.useOptimistic=function(M,X){return R.H.useOptimistic(M,X)},St.useReducer=function(M,X,nt){return R.H.useReducer(M,X,nt)},St.useRef=function(M){return R.H.useRef(M)},St.useState=function(M){return R.H.useState(M)},St.useSyncExternalStore=function(M,X,nt){return R.H.useSyncExternalStore(M,X,nt)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.0",St}var tv;function Mm(){return tv||(tv=1,jd.exports=s1()),jd.exports}var _t=Mm(),Bd={exports:{}},Al={},qd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function r1(){return ev||(ev=1,(function(s){function t(F,et){var ct=F.length;F.push(et);t:for(;0<ct;){var Pt=ct-1>>>1,Qt=F[Pt];if(0<l(Qt,et))F[Pt]=et,F[ct]=Qt,ct=Pt;else break t}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var et=F[0],ct=F.pop();if(ct!==et){F[0]=ct;t:for(var Pt=0,Qt=F.length,M=Qt>>>1;Pt<M;){var X=2*(Pt+1)-1,nt=F[X],at=X+1,Et=F[at];if(0>l(nt,ct))at<Qt&&0>l(Et,nt)?(F[Pt]=Et,F[at]=ct,Pt=at):(F[Pt]=nt,F[X]=ct,Pt=X);else if(at<Qt&&0>l(Et,ct))F[Pt]=Et,F[at]=ct,Pt=at;else break t}}return et}function l(F,et){var ct=F.sortIndex-et.sortIndex;return ct!==0?ct:F.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,S=null,D=3,H=!1,Z=!1,W=!1,J=!1,it=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function Tt(F){for(var et=n(y);et!==null;){if(et.callback===null)r(y);else if(et.startTime<=F)r(y),et.sortIndex=et.expirationTime,t(g,et);else break;et=n(y)}}function vt(F){if(W=!1,Tt(F),!Z)if(n(g)!==null)Z=!0,mt||(mt=!0,P());else{var et=n(y);et!==null&&he(vt,et.startTime-F)}}var mt=!1,R=-1,b=5,I=-1;function V(){return J?!0:!(s.unstable_now()-I<b)}function N(){if(J=!1,mt){var F=s.unstable_now();I=F;var et=!0;try{t:{Z=!1,W&&(W=!1,dt(R),R=-1),H=!0;var ct=D;try{e:{for(Tt(F),S=n(g);S!==null&&!(S.expirationTime>F&&V());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,D=S.priorityLevel;var Qt=Pt(S.expirationTime<=F);if(F=s.unstable_now(),typeof Qt=="function"){S.callback=Qt,Tt(F),et=!0;break e}S===n(g)&&r(g),Tt(F)}else r(g);S=n(g)}if(S!==null)et=!0;else{var M=n(y);M!==null&&he(vt,M.startTime-F),et=!1}}break t}finally{S=null,D=ct,H=!1}et=void 0}}finally{et?P():mt=!1}}}var P;if(typeof lt=="function")P=function(){lt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Gt=w.port2;w.port1.onmessage=N,P=function(){Gt.postMessage(null)}}else P=function(){it(N,0)};function he(F,et){R=it(function(){F(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(F){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ct=D;D=et;try{return F()}finally{D=ct}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ct=D;D=F;try{return et()}finally{D=ct}},s.unstable_scheduleCallback=function(F,et,ct){var Pt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Pt+ct:Pt):ct=Pt,F){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=ct+Qt,F={id:T++,callback:et,priorityLevel:F,startTime:ct,expirationTime:Qt,sortIndex:-1},ct>Pt?(F.sortIndex=ct,t(y,F),n(g)===null&&F===n(y)&&(W?(dt(R),R=-1):W=!0,he(vt,ct-Pt))):(F.sortIndex=Qt,t(g,F),Z||H||(Z=!0,mt||(mt=!0,P()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var et=D;return function(){var ct=D;D=et;try{return F.apply(this,arguments)}finally{D=ct}}}})(Hd)),Hd}var nv;function a1(){return nv||(nv=1,qd.exports=r1()),qd.exports}var Fd={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function o1(){if(iv)return Xe;iv=1;var s=Mm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,T)},Xe.flushSync=function(g){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=T,r.d.f()}},Xe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Xe.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Xe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:H}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:D,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Xe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Xe.requestFormReset=function(g){r.d.r(g)},Xe.unstable_batchedUpdates=function(g,y){return g(y)},Xe.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var sv;function l1(){if(sv)return Fd.exports;sv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Fd.exports=o1(),Fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function u1(){if(rv)return Al;rv=1;var s=a1(),t=Mm(),n=l1();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case it:return"Profiler";case J:return"StrictMode";case vt:return"Suspense";case mt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case lt:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case Tt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:Gt(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return Gt(e(i))}catch{}}return null}var he=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Pt=[],Qt=-1;function M(e){return{current:e}}function X(e){0>Qt||(e.current=Pt[Qt],Pt[Qt]=null,Qt--)}function nt(e,i){Qt++,Pt[Qt]=e.current,e.current=i}var at=M(null),Et=M(null),It=M(null),Lt=M(null);function Ne(e,i){switch(nt(It,i),nt(Et,e),nt(at,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?E_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=E_(i),e=T_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(at),nt(at,e)}function re(){X(at),X(Et),X(It)}function cr(e){e.memoizedState!==null&&nt(Lt,e);var i=at.current,a=T_(i,e.type);i!==a&&(nt(Et,e),nt(at,a))}function ta(e){Et.current===e&&(X(at),X(Et)),Lt.current===e&&(X(Lt),yl._currentValue=ct)}var ea,na;function ti(e){if(ea===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ea=i&&i[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+e+na}var yo=!1;function hr(e,i){if(!e||yo)return"";yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var C=_.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ti(a):""}function _o(e,i){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==i&&i!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return hr(e.type,!1);case 11:return hr(e.type.render,!1);case 1:return hr(e.type,!0);case 31:return ti("Activity");default:return""}}function vo(e){try{var i="",a=null;do i+=_o(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Oe=s.unstable_scheduleCallback,os=s.unstable_cancelCallback,jh=s.unstable_shouldYield,iu=s.unstable_requestPaint,tn=s.unstable_now,fr=s.unstable_getCurrentPriorityLevel,Eo=s.unstable_ImmediatePriority,To=s.unstable_UserBlockingPriority,ls=s.unstable_NormalPriority,Bh=s.unstable_LowPriority,su=s.unstable_IdlePriority,ru=s.log,au=s.unstable_setDisableYieldValue,Ln=null,je=null;function Sn(e){if(typeof ru=="function"&&au(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ln,e)}catch{}}var fe=Math.clz32?Math.clz32:lu,ou=Math.log,ia=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(ou(e)/ia|0)|0}var ei=256,dr=262144,_e=4194304;function ni(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(_&=E,_!==0?h=ni(_):a||(a=E&~e,a!==0&&(h=ni(a))))):(E=o&~f,E!==0?h=ni(E):_!==0?h=ni(_):a||(a=o&~e,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function zn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function qh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function si(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function mr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hh(e,i,a,o,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-fe(a),K=1<<G;E[G]=0,C[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}a&=~K}o!==0&&pr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~i))}function pr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-fe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Ao(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function So(e,i){var a=i&-i;return a=(a&42)!==0?1:gr(a),(a&(e.suspendedLanes|i))!==0?0:a}function gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:F_(e.type))}function jn(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var Bn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Bn,Pe="__reactProps$"+Bn,ri="__reactContainer$"+Bn,sa="__reactEvents$"+Bn,Fh="__reactListeners$"+Bn,hu="__reactHandles$"+Bn,fu="__reactResources$"+Bn,ai="__reactMarker$"+Bn;function ra(e){delete e[ve],delete e[Pe],delete e[sa],delete e[Fh],delete e[hu]}function oi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ri]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=C_(e);e!==null;){if(a=e[ve])return a;e=C_(e)}return i}e=a,a=e.parentNode}return null}function bn(e){if(e=e[ve]||e[ri]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function li(e){var i=e[fu];return i||(i=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[ai]=!0}var bo=new Set,Ro={};function ui(e,i){ci(e,i),ci(e+"Capture",i)}function ci(e,i){for(Ro[e]=i,e=0;e<i.length;e++)bo.add(i[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Co={};function du(e){return ye.call(Co,e)?!0:ye.call(Io,e)?!1:wo.test(e)?Co[e]=!0:(Io[e]=!0,!1)}function aa(e,i,a){if(du(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Te(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function us(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Do(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=us(e)?"checked":"value";e._valueTracker=Do(e,i,""+e[i])}}function yr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=us(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _r=/[\n"\\]/g;function sn(e){return e.replace(_r,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function oa(e,i,a,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ue(i)):e.value!==""+Ue(i)&&(e.value=""+Ue(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?No(e,_,Ue(i)):a!=null?No(e,_,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function mu(e,i,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function No(e,i,a){i==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cs(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function pu(e,i,a){if(i!=null&&(i=""+Ue(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ue(a):""}function hs(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(he(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ue(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Kt(e)}function rn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||gu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Mo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Oo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Oo(e,f,i[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return fs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Vo=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,fi=null;function vr(e){var i=bn(e);if(i&&(e=i.stateNode)){var a=e[Pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(oa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Pe]||null;if(!h)throw Error(r(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&yr(o)}break t;case"textarea":pu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&cs(e,!!a.multiple,i,!1)}}}var ca=!1;function ms(e,i,a){if(ca)return e(i,a);ca=!0;try{var o=e(i);return o}finally{if(ca=!1,(ds!==null||fi!==null)&&(cc(),ds&&(i=ds,e=fi,fi=ds=null,vr(i),e)))for(i=0;i<e.length;i++)vr(e[i])}}function Hn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Pe]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(wn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Er=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Er=!1}var di=null,xo=null,Tr=null;function ko(){if(Tr)return Tr;var e,i=xo,a=i.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Tr=h.slice(e,1<o?1-o:void 0)}function Ar(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Fn(){return!1}function Be(e){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:Fn,this.isPropagationStopped=Fn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Li),ps=S({},Li,{view:0,detail:0}),Po=Be(ps),gs,ha,pi,fa=S({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(gs=e.screenX-pi.screenX,ha=e.screenY-pi.screenY):ha=gs=0,pi=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Uo=Be(fa),Sr=S({},fa,{dataTransfer:0}),_u=Be(Sr),vu=S({},ps,{relatedTarget:0}),br=Be(vu),Lo=S({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Be(Lo),da=S({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=Be(da),Au=S({},Li,{data:0}),gi=Be(Au),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ru[e])?!!i[e]:!1}function ys(){return wu}var en=S({},ps,{key:function(e){if(e.key){var i=Su[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iu=Be(en),Cu=S({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Be(Cu),c=S({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=Be(c),v=S({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),U=S({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(U),tt=S({},Li,{newState:0,oldState:0}),Rt=Be(tt),de=[9,13,27,32],qt=wn&&"CompositionEvent"in window,ae=null;wn&&"documentMode"in document&&(ae=document.documentMode);var In=wn&&"TextEvent"in window&&!ae,yi=wn&&(!qt||ae&&8<ae&&11>=ae),Gn=" ",Qn=!1;function Rr(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function wA(e,i){switch(e){case"compositionend":return ma(i);case"keypress":return i.which!==32?null:(Qn=!0,Gn);case"textInput":return e=i.data,e===Gn&&Qn?null:e;default:return null}}function IA(e,i){if(pa)return e==="compositionend"||!qt&&Rr(e,i)?(e=ko(),Tr=xo=di=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var CA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!CA[e.type]:i==="textarea"}function Mp(e,i,a,o){ds?fi?fi.push(o):fi=[o]:ds=o,i=yc(i,"onChange"),0<i.length&&(a=new mi("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var zo=null,jo=null;function DA(e){m_(e,0)}function Du(e){var i=dn(e);if(yr(i))return e}function Vp(e,i){if(e==="change")return i}var xp=!1;if(wn){var Gh;if(wn){var Qh="oninput"in document;if(!Qh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Qh=typeof kp.oninput=="function"}Gh=Qh}else Gh=!1;xp=Gh&&(!document.documentMode||9<document.documentMode)}function Pp(){zo&&(zo.detachEvent("onpropertychange",Up),jo=zo=null)}function Up(e){if(e.propertyName==="value"&&Du(jo)){var i=[];Mp(i,jo,e,Rn(e)),ms(DA,i)}}function NA(e,i,a){e==="focusin"?(Pp(),zo=i,jo=a,zo.attachEvent("onpropertychange",Up)):e==="focusout"&&Pp()}function OA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(jo)}function MA(e,i){if(e==="click")return Du(i)}function VA(e,i){if(e==="input"||e==="change")return Du(i)}function xA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:xA;function Bo(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function Lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zp(e,i){var a=Lp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Lp(a)}}function jp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?jp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Bp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=hi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=hi(e.document)}return i}function Kh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var kA=wn&&"documentMode"in document&&11>=document.documentMode,ga=null,Yh=null,qo=null,Xh=!1;function qp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||ga==null||ga!==hi(o)||(o=ga,"selectionStart"in o&&Kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=yc(Yh,"onSelect"),0<o.length&&(i=new mi("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ga)))}function wr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ya={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},$h={},Hp={};wn&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Ir(e){if($h[e])return $h[e];if(!ya[e])return e;var i=ya[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Hp)return $h[e]=i[a];return e}var Fp=Ir("animationend"),Gp=Ir("animationiteration"),Qp=Ir("animationstart"),PA=Ir("transitionrun"),UA=Ir("transitionstart"),LA=Ir("transitioncancel"),Kp=Ir("transitionend"),Yp=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function Kn(e,i){Yp.set(e,i),ui(i,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],_a=0,Jh=0;function Ou(){for(var e=_a,i=Jh=_a=0;i<e;){var a=Cn[i];Cn[i++]=null;var o=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var f=Cn[i];if(Cn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Xp(a,h,f)}}function Mu(e,i,a,o){Cn[_a++]=e,Cn[_a++]=i,Cn[_a++]=a,Cn[_a++]=o,Jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Wh(e,i,a,o){return Mu(e,i,a,o),Vu(e)}function Cr(e,i){return Mu(e,null,null,i),Vu(e)}function Xp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Vu(e){if(50<cl)throw cl=0,ud=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var va={};function zA(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,o){return new zA(e,i,a,o)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $p(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function xu(e,i,a,o,h,f){var _=0;if(o=e,typeof e=="function")tf(e)&&(_=1);else if(typeof e=="string")_=FS(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=gn(31,a,i,h),e.elementType=I,e.lanes=f,e;case W:return Dr(a.children,h,f,i);case J:_=8,h|=24;break;case it:return e=gn(12,a,i,h|2),e.elementType=it,e.lanes=f,e;case vt:return e=gn(13,a,i,h),e.elementType=vt,e.lanes=f,e;case mt:return e=gn(19,a,i,h),e.elementType=mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:_=10;break t;case dt:_=9;break t;case Tt:_=11;break t;case R:_=14;break t;case b:_=16,o=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=gn(_,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Dr(e,i,a,o){return e=gn(7,e,o,i),e.lanes=a,e}function ef(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function Zp(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function nf(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Jp=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var a=Jp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:vo(i)},Jp.set(e,i),i)}return{value:e,source:i,stack:vo(i)}}var Ea=[],Ta=0,ku=null,Ho=0,Nn=[],On=0,_s=null,_i=1,vi="";function Bi(e,i){Ea[Ta++]=Ho,Ea[Ta++]=ku,ku=e,Ho=i}function Wp(e,i,a){Nn[On++]=_i,Nn[On++]=vi,Nn[On++]=_s,_s=e;var o=_i;e=vi;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,_i=1<<32-fe(i)+h|a<<h|o,vi=f+e}else _i=1<<f|a<<h|o,vi=e}function sf(e){e.return!==null&&(Bi(e,1),Wp(e,1,0))}function rf(e){for(;e===ku;)ku=Ea[--Ta],Ea[Ta]=null,Ho=Ea[--Ta],Ea[Ta]=null;for(;e===_s;)_s=Nn[--On],Nn[On]=null,vi=Nn[--On],Nn[On]=null,_i=Nn[--On],Nn[On]=null}function tg(e,i){Nn[On++]=_i,Nn[On++]=vi,Nn[On++]=_s,_i=i.id,vi=i.overflow,_s=e}var qe=null,ne=null,Ut=!1,vs=null,Mn=!1,af=Error(r(519));function Es(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(Dn(i,e)),af}function eg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[ve]=e,i[Pe]=o,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<fl.length;a++)Nt(fl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),mu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),hs(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||__(i.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),o.onScroll!=null&&Nt("scroll",i),o.onScrollEnd!=null&&Nt("scrollend",i),o.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||Es(e,!0)}function ng(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qe=qe.return}}function Aa(e){if(e!==qe)return!1;if(!Ut)return ng(e),Ut=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bd(e.type,e.memoizedProps)),a=!a),a&&ne&&Es(e),ng(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=I_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=I_(e)}else i===27?(i=ne,xs(e.type)?(e=Dd,Dd=null,ne=e):ne=i):ne=qe?xn(e.stateNode.nextSibling):null;return!0}function Nr(){ne=qe=null,Ut=!1}function of(){var e=vs;return e!==null&&(un===null?un=e:un.push.apply(un,e),vs=null),e}function Fo(e){vs===null?vs=[e]:vs.push(e)}var lf=M(null),Or=null,qi=null;function Ts(e,i,a){nt(lf,i._currentValue),i._currentValue=a}function Hi(e){e._currentValue=lf.current,X(lf)}function uf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function cf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),uf(f.return,a,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),uf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Sa(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;pn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&cf(i,e,a,o),i.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Or=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return ig(Or,e)}function Uu(e,i){return Or===null&&Mr(e),ig(e,i)}function ig(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(r(308));qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qi=qi.next=i;return a}var jA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},BA=s.unstable_scheduleCallback,qA=s.unstable_NormalPriority,Ae={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new jA,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&BA(qA,function(){e.controller.abort()})}var Qo=null,ff=0,ba=0,Ra=null;function HA(e,i){if(Qo===null){var a=Qo=[];ff=0,ba=pd(),Ra={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ff++,i.then(sg,sg),i}function sg(){if(--ff===0&&Qo!==null){Ra!==null&&(Ra.status="fulfilled");var e=Qo;Qo=null,ba=0,Ra=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function FA(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var rg=F.S;F.S=function(e,i){qy=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&HA(e,i),rg!==null&&rg(e,i)};var Vr=M(null);function df(){var e=Vr.current;return e!==null?e:te.pooledCache}function Lu(e,i){i===null?nt(Vr,Vr.current):nt(Vr,i.pool)}function ag(){var e=df();return e===null?null:{parent:Ae._currentValue,pool:e}}var wa=Error(r(460)),mf=Error(r(474)),zu=Error(r(542)),ju={then:function(){}};function og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(qn,qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,cg(e),e;default:if(typeof i.status=="string")i.then(qn,qn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,cg(e),e}throw kr=i,wa}}function xr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(kr=a,wa):a}}var kr=null;function ug(){if(kr===null)throw Error(r(459));var e=kr;return kr=null,e}function cg(e){if(e===wa||e===zu)throw Error(r(483))}var Ia=null,Ko=0;function Bu(e){var i=Ko;return Ko+=1,Ia===null&&(Ia=[]),lg(Ia,e,i)}function Yo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function qu(e,i){throw i.$$typeof===D?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function hg(e){function i(k,O){if(e){var L=k.deletions;L===null?(k.deletions=[O],k.flags|=16):L.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ji(k,O),k.index=0,k.sibling=null,k}function f(k,O,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<O?(k.flags|=67108866,O):L):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,L,Q){return O===null||O.tag!==6?(O=ef(L,k.mode,Q),O.return=k,O):(O=h(O,L),O.return=k,O)}function C(k,O,L,Q){var ht=L.type;return ht===W?G(k,O,L.props.children,Q,L.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&xr(ht)===O.type)?(O=h(O,L.props),Yo(O,L),O.return=k,O):(O=xu(L.type,L.key,L.props,null,k.mode,Q),Yo(O,L),O.return=k,O)}function z(k,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=nf(L,k.mode,Q),O.return=k,O):(O=h(O,L.children||[]),O.return=k,O)}function G(k,O,L,Q,ht){return O===null||O.tag!==7?(O=Dr(L,k.mode,Q,ht),O.return=k,O):(O=h(O,L),O.return=k,O)}function K(k,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ef(""+O,k.mode,L),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return L=xu(O.type,O.key,O.props,null,k.mode,L),Yo(L,O),L.return=k,L;case Z:return O=nf(O,k.mode,L),O.return=k,O;case b:return O=xr(O),K(k,O,L)}if(he(O)||P(O))return O=Dr(O,k.mode,L,null),O.return=k,O;if(typeof O.then=="function")return K(k,Bu(O),L);if(O.$$typeof===lt)return K(k,Uu(k,O),L);qu(k,O)}return null}function j(k,O,L,Q){var ht=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(k,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===ht?C(k,O,L,Q):null;case Z:return L.key===ht?z(k,O,L,Q):null;case b:return L=xr(L),j(k,O,L,Q)}if(he(L)||P(L))return ht!==null?null:G(k,O,L,Q,null);if(typeof L.then=="function")return j(k,O,Bu(L),Q);if(L.$$typeof===lt)return j(k,O,Uu(k,L),Q);qu(k,L)}return null}function q(k,O,L,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,E(O,k,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?L:Q.key)||null,C(O,k,Q,ht);case Z:return k=k.get(Q.key===null?L:Q.key)||null,z(O,k,Q,ht);case b:return Q=xr(Q),q(k,O,L,Q,ht)}if(he(Q)||P(Q))return k=k.get(L)||null,G(O,k,Q,ht,null);if(typeof Q.then=="function")return q(k,O,L,Bu(Q),ht);if(Q.$$typeof===lt)return q(k,O,L,Uu(O,Q),ht);qu(O,Q)}return null}function ot(k,O,L,Q){for(var ht=null,jt=null,ut=O,Ct=O=0,Mt=null;ut!==null&&Ct<L.length;Ct++){ut.index>Ct?(Mt=ut,ut=null):Mt=ut.sibling;var Bt=j(k,ut,L[Ct],Q);if(Bt===null){ut===null&&(ut=Mt);break}e&&ut&&Bt.alternate===null&&i(k,ut),O=f(Bt,O,Ct),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt,ut=Mt}if(Ct===L.length)return a(k,ut),Ut&&Bi(k,Ct),ht;if(ut===null){for(;Ct<L.length;Ct++)ut=K(k,L[Ct],Q),ut!==null&&(O=f(ut,O,Ct),jt===null?ht=ut:jt.sibling=ut,jt=ut);return Ut&&Bi(k,Ct),ht}for(ut=o(ut);Ct<L.length;Ct++)Mt=q(ut,k,Ct,L[Ct],Q),Mt!==null&&(e&&Mt.alternate!==null&&ut.delete(Mt.key===null?Ct:Mt.key),O=f(Mt,O,Ct),jt===null?ht=Mt:jt.sibling=Mt,jt=Mt);return e&&ut.forEach(function(zs){return i(k,zs)}),Ut&&Bi(k,Ct),ht}function pt(k,O,L,Q){if(L==null)throw Error(r(151));for(var ht=null,jt=null,ut=O,Ct=O=0,Mt=null,Bt=L.next();ut!==null&&!Bt.done;Ct++,Bt=L.next()){ut.index>Ct?(Mt=ut,ut=null):Mt=ut.sibling;var zs=j(k,ut,Bt.value,Q);if(zs===null){ut===null&&(ut=Mt);break}e&&ut&&zs.alternate===null&&i(k,ut),O=f(zs,O,Ct),jt===null?ht=zs:jt.sibling=zs,jt=zs,ut=Mt}if(Bt.done)return a(k,ut),Ut&&Bi(k,Ct),ht;if(ut===null){for(;!Bt.done;Ct++,Bt=L.next())Bt=K(k,Bt.value,Q),Bt!==null&&(O=f(Bt,O,Ct),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return Ut&&Bi(k,Ct),ht}for(ut=o(ut);!Bt.done;Ct++,Bt=L.next())Bt=q(ut,k,Ct,Bt.value,Q),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?Ct:Bt.key),O=f(Bt,O,Ct),jt===null?ht=Bt:jt.sibling=Bt,jt=Bt);return e&&ut.forEach(function(e1){return i(k,e1)}),Ut&&Bi(k,Ct),ht}function Wt(k,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var ht=L.key;O!==null;){if(O.key===ht){if(ht=L.type,ht===W){if(O.tag===7){a(k,O.sibling),Q=h(O,L.props.children),Q.return=k,k=Q;break t}}else if(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&xr(ht)===O.type){a(k,O.sibling),Q=h(O,L.props),Yo(Q,L),Q.return=k,k=Q;break t}a(k,O);break}else i(k,O);O=O.sibling}L.type===W?(Q=Dr(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=xu(L.type,L.key,L.props,null,k.mode,Q),Yo(Q,L),Q.return=k,k=Q)}return _(k);case Z:t:{for(ht=L.key;O!==null;){if(O.key===ht)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(k,O.sibling),Q=h(O,L.children||[]),Q.return=k,k=Q;break t}else{a(k,O);break}else i(k,O);O=O.sibling}Q=nf(L,k.mode,Q),Q.return=k,k=Q}return _(k);case b:return L=xr(L),Wt(k,O,L,Q)}if(he(L))return ot(k,O,L,Q);if(P(L)){if(ht=P(L),typeof ht!="function")throw Error(r(150));return L=ht.call(L),pt(k,O,L,Q)}if(typeof L.then=="function")return Wt(k,O,Bu(L),Q);if(L.$$typeof===lt)return Wt(k,O,Uu(k,L),Q);qu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(k,O.sibling),Q=h(O,L),Q.return=k,k=Q):(a(k,O),Q=ef(L,k.mode,Q),Q.return=k,k=Q),_(k)):a(k,O)}return function(k,O,L,Q){try{Ko=0;var ht=Wt(k,O,L,Q);return Ia=null,ht}catch(ut){if(ut===wa||ut===zu)throw ut;var jt=gn(29,ut,null,k.mode);return jt.lanes=Q,jt.return=k,jt}finally{}}}var Pr=hg(!0),fg=hg(!1),As=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Vu(e),Xp(e,null,a),i}return Mu(e,o,i,a),Vu(e)}function Xo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Ao(e,a)}}function yf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var _f=!1;function $o(){if(_f){var e=Ra;if(e!==null)throw e}}function Zo(e,i,a,o){_f=!1;var h=e.updateQueue;As=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,_===null?f=z:_.next=z,_=C;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;_=0,G=z=C=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ot&j)===j:(o&j)===j){j!==0&&j===ba&&(_f=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;j=i;var Wt=a;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){K=ot.call(Wt,K,j);break t}K=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,j=typeof ot=="function"?ot.call(Wt,K,j):ot,j==null)break t;K=S({},K,j);break t;case 2:As=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,C=K):G=G.next=q,_|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(C=K),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ds|=_,e.lanes=_,e.memoizedState=K}}function dg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function mg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)dg(a[e],i)}var Ca=M(null),Hu=M(0);function pg(e,i){e=Ji,nt(Hu,e),nt(Ca,i),Ji=e|i.baseLanes}function vf(){nt(Hu,Ji),nt(Ca,Ca.current)}function Ef(){Ji=Hu.current,X(Ca),X(Hu)}var yn=M(null),Vn=null;function Rs(e){var i=e.alternate;nt(me,me.current&1),nt(yn,e),Vn===null&&(i===null||Ca.current!==null||i.memoizedState!==null)&&(Vn=e)}function Tf(e){nt(me,me.current),nt(yn,e),Vn===null&&(Vn=e)}function gg(e){e.tag===22?(nt(me,me.current),nt(yn,e),Vn===null&&(Vn=e)):ws()}function ws(){nt(me,me.current),nt(yn,yn.current)}function _n(e){X(yn),Vn===e&&(Vn=null),X(me)}var me=M(0);function Fu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Id(a)||Cd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,wt=null,Zt=null,Se=null,Gu=!1,Da=!1,Ur=!1,Qu=0,Jo=0,Na=null,GA=0;function ue(){throw Error(r(321))}function Af(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function Sf(e,i,a,o,h,f){return Fi=f,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?Wg:Lf,Ur=!1,f=a(o,h),Ur=!1,Da&&(f=_g(i,a,o,h)),yg(e),f}function yg(e){F.H=el;var i=Zt!==null&&Zt.next!==null;if(Fi=0,Se=Zt=wt=null,Gu=!1,Jo=0,Na=null,i)throw Error(r(300));e===null||be||(e=e.dependencies,e!==null&&Pu(e)&&(be=!0))}function _g(e,i,a,o){wt=e;var h=0;do{if(Da&&(Na=null),Jo=0,Da=!1,25<=h)throw Error(r(301));if(h+=1,Se=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ty,f=i(a,o)}while(Da);return f}function QA(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?Wo(i):i,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(wt.flags|=1024),i}function bf(){var e=Qu!==0;return Qu=0,e}function Rf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function wf(e){if(Gu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Gu=!1}Fi=0,Se=Zt=wt=null,Da=!1,Jo=Qu=0,Na=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?wt.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if(Zt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var i=Se===null?wt.memoizedState:Se.next;if(i!==null)Se=i,Zt=e;else{if(e===null)throw wt.alternate===null?Error(r(467)):Error(r(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Se===null?wt.memoizedState=Se=e:Se=Se.next=e}return Se}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var i=Jo;return Jo+=1,Na===null&&(Na=[]),e=lg(Na,e,i),i=wt,(Se===null?i.memoizedState:Se.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Wg:Lf),e}function Yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===lt)return He(e)}throw Error(r(438,String(e)))}function If(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ku(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function Gi(e,i){return typeof i=="function"?i(e):i}function Xu(e){var i=pe();return Cf(i,Zt,e)}function Cf(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=_=null,C=null,z=i,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Ot&K)===K:(Fi&K)===K){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===ba&&(G=!0);else if((Fi&j)===j){z=z.next,j===ba&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=K,_=f):C=C.next=K,wt.lanes|=j,Ds|=j;K=z.action,Ur&&a(f,K),f=z.hasEagerState?z.eagerState:a(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,_=f):C=C.next=j,wt.lanes|=K,Ds|=K;z=z.next}while(z!==null&&z!==i);if(C===null?_=f:C.next=E,!pn(f,e.memoizedState)&&(be=!0,G&&(a=Ra,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Df(e){var i=pe(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);pn(f,i.memoizedState)||(be=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function vg(e,i,a){var o=wt,h=pe(),f=Ut;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!pn((Zt||h).memoizedState,a);if(_&&(h.memoizedState=a,be=!0),h=h.queue,Mf(Ag.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},Tg.bind(null,o,h,a,i),null),te===null)throw Error(r(349));f||(Fi&127)!==0||Eg(o,i,a)}return a}function Eg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=Ku(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Tg(e,i,a,o){i.value=a,i.getSnapshot=o,Sg(i)&&bg(e)}function Ag(e,i,a){return a(function(){Sg(i)&&bg(e)})}function Sg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function bg(e){var i=Cr(e,2);i!==null&&cn(i,e,2)}function Nf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),Ur){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},i}function Rg(e,i,a,o){return e.baseState=a,Cf(e,Zt,typeof o=="function"?o:Gi)}function KA(e,i,a,o,h){if(Ju(e))throw Error(r(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,wg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function wg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=F.T,_={};F.T=_;try{var E=a(h,o),C=F.S;C!==null&&C(_,E),Ig(e,i,E)}catch(z){Of(e,i,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,o),Ig(e,i,f)}catch(z){Of(e,i,z)}}function Ig(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Cg(e,i,o)},function(o){return Of(e,i,o)}):Cg(e,i,a)}function Cg(e,i,a){i.status="fulfilled",i.value=a,Dg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,wg(e,a)))}function Of(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Dg(i),i=i.next;while(i!==o)}e.action=null}function Dg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ng(e,i){return i}function Og(e,i){if(Ut){var a=te.formState;if(a!==null){t:{var o=wt;if(Ut){if(ne){e:{for(var h=ne,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=xn(h.nextSibling),o=h.data==="F!";break t}}Es(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:i},a.queue=o,a=$g.bind(null,wt,o),o.dispatch=a,o=Nf(!1),f=Uf.bind(null,wt,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=KA.bind(null,wt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Mg(e){var i=pe();return Vg(i,Zt,e)}function Vg(e,i,a){if(i=Cf(e,i,Ng)[0],e=Xu(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Wo(i)}catch(_){throw _===wa?zu:_}else o=i;i=pe();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(wt.flags|=2048,Oa(9,{destroy:void 0},YA.bind(null,h,a),null)),[o,f,e]}function YA(e,i){e.action=i}function xg(e){var i=pe(),a=Zt;if(a!==null)return Vg(i,a,e);pe(),i=i.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Oa(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=wt.updateQueue,i===null&&(i=Ku(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function kg(){return pe().memoizedState}function $u(e,i,a,o){var h=nn();wt.flags|=e,h.memoizedState=Oa(1|i,{destroy:void 0},a,o===void 0?null:o)}function Zu(e,i,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&Af(o,Zt.memoizedState.deps)?h.memoizedState=Oa(i,f,a,o):(wt.flags|=e,h.memoizedState=Oa(1|i,f,a,o))}function Pg(e,i){$u(8390656,8,e,i)}function Mf(e,i){Zu(2048,8,e,i)}function XA(e){wt.flags|=4;var i=wt.updateQueue;if(i===null)i=Ku(),wt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ug(e){var i=pe().memoizedState;return XA({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Lg(e,i){return Zu(4,2,e,i)}function zg(e,i){return Zu(4,4,e,i)}function jg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Bg(e,i,a){a=a!=null?a.concat([e]):null,Zu(4,4,jg.bind(null,i,e),a)}function Vf(){}function qg(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Af(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Hg(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Af(i,o[1]))return o[0];if(o=e(),Ur){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[o,i],o}function xf(e,i,a){return a===void 0||(Fi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Fy(),wt.lanes|=e,Ds|=e,a)}function Fg(e,i,a,o){return pn(a,i)?a:Ca.current!==null?(e=xf(e,a,o),pn(e,i)||(be=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Ot&261930)===0?(be=!0,e.memoizedState=a):(e=Fy(),wt.lanes|=e,Ds|=e,i)}function Gg(e,i,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var _=F.T,E={};F.T=E,Uf(e,!1,i,a);try{var C=h(),z=F.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=FA(C,o);tl(e,i,G,Tn(e))}else tl(e,i,o,Tn(e))}catch(K){tl(e,i,{then:function(){},status:"rejected",reason:K},Tn())}finally{et.p=f,_!==null&&E.types!==null&&(_.types=E.types),F.T=_}}function $A(){}function kf(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=Qg(e).queue;Gg(e,h,i,ct,a===null?$A:function(){return Kg(e),a(o)})}function Qg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ct},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Kg(e){var i=Qg(e);i.next===null&&(i=e.alternate.memoizedState),tl(e,i.next.queue,{},Tn())}function Pf(){return He(yl)}function Yg(){return pe().memoizedState}function Xg(){return pe().memoizedState}function ZA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=Ss(a);var o=bs(i,e,a);o!==null&&(cn(o,i,a),Xo(o,i,a)),i={cache:hf()},e.payload=i;return}i=i.return}}function JA(e,i,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(e)?Zg(i,a):(a=Wh(e,i,a,o),a!==null&&(cn(a,e,o),Jg(a,i,o)))}function $g(e,i,a){var o=Tn();tl(e,i,a,o)}function tl(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))Zg(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,_))return Mu(e,i,h,0),te===null&&Ou(),!1}catch{}finally{}if(a=Wh(e,i,h,o),a!==null)return cn(a,e,o),Jg(a,i,o),!0}return!1}function Uf(e,i,a,o){if(o={lane:2,revertLane:pd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(i)throw Error(r(479))}else i=Wh(e,a,o,2),i!==null&&cn(i,e,2)}function Ju(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function Zg(e,i){Da=Gu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Jg(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Ao(e,a)}}var el={readContext:He,use:Yu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};el.useEffectEvent=ue;var Wg={readContext:He,use:Yu,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Pg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,$u(4194308,4,jg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return $u(4194308,4,e,i)},useInsertionEffect:function(e,i){$u(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var o=e();if(Ur){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=nn();if(a!==void 0){var h=a(i);if(Ur){Sn(!0);try{a(i)}finally{Sn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=JA.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=Nf(e);var i=e.queue,a=$g.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(e,i){var a=nn();return xf(a,e,i)},useTransition:function(){var e=Nf(!1);return e=Gg.bind(null,wt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=wt,h=nn();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),te===null)throw Error(r(349));(Ot&127)!==0||Eg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Pg(Ag.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},Tg.bind(null,o,f,a,i),null),a},useId:function(){var e=nn(),i=te.identifierPrefix;if(Ut){var a=vi,o=_i;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Qu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=GA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Pf,useFormState:Og,useActionState:Og,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Uf.bind(null,wt,!0,a),a.dispatch=i,[e,i]},useMemoCache:If,useCacheRefresh:function(){return nn().memoizedState=ZA.bind(null,wt)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Ht&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:He,use:Yu,useCallback:qg,useContext:He,useEffect:Mf,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:zg,useMemo:Hg,useReducer:Xu,useRef:kg,useState:function(){return Xu(Gi)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=pe();return Fg(a,Zt.memoizedState,e,i)},useTransition:function(){var e=Xu(Gi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:Pf,useFormState:Mg,useActionState:Mg,useOptimistic:function(e,i){var a=pe();return Rg(a,Zt,e,i)},useMemoCache:If,useCacheRefresh:Xg};Lf.useEffectEvent=Ug;var ty={readContext:He,use:Yu,useCallback:qg,useContext:He,useEffect:Mf,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:zg,useMemo:Hg,useReducer:Df,useRef:kg,useState:function(){return Df(Gi)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=pe();return Zt===null?xf(a,e,i):Fg(a,Zt.memoizedState,e,i)},useTransition:function(){var e=Df(Gi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:Pf,useFormState:xg,useActionState:xg,useOptimistic:function(e,i){var a=pe();return Zt!==null?Rg(a,Zt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:Xg};ty.useEffectEvent=Ug;function zf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var jf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=Ss(o);h.payload=i,a!=null&&(h.callback=a),i=bs(e,h,o),i!==null&&(cn(i,e,o),Xo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=Ss(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=bs(e,h,o),i!==null&&(cn(i,e,o),Xo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),o=Ss(a);o.tag=2,i!=null&&(o.callback=i),i=bs(e,o,a),i!==null&&(cn(i,e,a),Xo(i,e,a))}};function ey(e,i,a,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,f):!0}function ny(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&jf.enqueueReplaceState(i,i.state,null)}function Lr(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function iy(e){Nu(e)}function sy(e){console.error(e)}function ry(e){Nu(e)}function Wu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ay(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(e,i,a){return a=Ss(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,i)},a}function oy(e){return e=Ss(e),e.tag=3,e}function ly(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ay(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ay(i,a,o),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function WA(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Sa(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?hc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),fd(e,o,h)),!1;case 22:return a.flags|=65536,o===ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),fd(e,o,h)),!1}throw Error(r(435,a.tag))}return fd(e,o,h),hc(),!1}if(Ut)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==af&&(e=Error(r(422),{cause:o}),Fo(Dn(e,a)))):(o!==af&&(i=Error(r(423),{cause:o}),Fo(Dn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,a),h=Bf(e.stateNode,o,h),yf(e,h),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:o});if(f=Dn(f,a),ul===null?ul=[f]:ul.push(f),ce!==4&&(ce=2),i===null)return!0;o=Dn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Bf(a.stateNode,o,e),yf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=oy(h),ly(h,e,a,o),yf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(r(461)),be=!1;function Fe(e,i,a,o){i.child=e===null?fg(i,null,a,o):Pr(i,e.child,a,o)}function uy(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Mr(i),o=Sf(e,i,a,_,f,h),E=bf(),e!==null&&!be?(Rf(e,i,h),Qi(e,i,h)):(Ut&&E&&sf(i),i.flags|=1,Fe(e,i,o,h),i.child)}function cy(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!tf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,hy(e,i,f,o,h)):(e=xu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!$f(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(_,o)&&e.ref===i.ref)return Qi(e,i,h)}return i.flags|=1,e=ji(f,o),e.ref=i.ref,e.return=i,i.child=e}function hy(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Bo(f,o)&&e.ref===i.ref)if(be=!1,i.pendingProps=o=f,$f(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,Qi(e,i,h)}return Hf(e,i,a,o,h)}function fy(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return dy(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(i,f!==null?f.cachePool:null),f!==null?pg(i,f):vf(),gg(i);else return o=i.lanes=536870912,dy(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Lu(i,f.cachePool),pg(i,f),ws(),i.memoizedState=null):(e!==null&&Lu(i,null),vf(),ws());return Fe(e,i,h,a),i.child}function nl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function dy(e,i,a,o,h){var f=df();return f=f===null?null:{parent:Ae._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&Lu(i,null),vf(),gg(i),e!==null&&Sa(e,i,o,!0),i.childLanes=h,null}function tc(e,i){return i=nc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function my(e,i,a){return Pr(i,e.child,null,a),e=tc(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function tS(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=tc(i,o),i.lanes=536870912,nl(null,e);if(Tf(i),(e=ne)?(e=w_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:_s!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Zp(e),a.return=i,i.child=a,qe=i,ne=null)):e=null,e===null)throw Es(i);return i.lanes=536870912,null}return tc(i,o)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(Tf(i),h)if(i.flags&256)i.flags&=-257,i=my(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(be||Sa(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=te,o!==null&&(_=So(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Cr(e,_),cn(o,e,_),qf;hc(),i=my(e,i,a)}else e=f.treeContext,ne=xn(_.nextSibling),qe=i,Ut=!0,vs=null,Mn=!1,e!==null&&tg(i,e),i=tc(i,o),i.flags|=4096;return i}return e=ji(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ec(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Hf(e,i,a,o,h){return Mr(i),a=Sf(e,i,a,o,void 0,h),o=bf(),e!==null&&!be?(Rf(e,i,h),Qi(e,i,h)):(Ut&&o&&sf(i),i.flags|=1,Fe(e,i,a,h),i.child)}function py(e,i,a,o,h,f){return Mr(i),i.updateQueue=null,a=_g(i,o,a,h),yg(e),o=bf(),e!==null&&!be?(Rf(e,i,f),Qi(e,i,f)):(Ut&&o&&sf(i),i.flags|=1,Fe(e,i,a,f),i.child)}function gy(e,i,a,o,h){if(Mr(i),i.stateNode===null){var f=va,_=a.contextType;typeof _=="object"&&_!==null&&(f=He(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},pf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?He(_):va,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(zf(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&jf.enqueueReplaceState(f,f.state,null),Zo(i,o,f,h),$o(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,C=Lr(a,E);f.props=C;var z=f.context,G=a.contextType;_=va,typeof G=="object"&&G!==null&&(_=He(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==_)&&ny(i,f,o,_),As=!1;var j=i.memoizedState;f.state=j,Zo(i,o,f,h),$o(),z=i.memoizedState,E||j!==z||As?(typeof K=="function"&&(zf(i,a,K,o),z=i.memoizedState),(C=As||ey(i,a,C,o,j,z,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=_,o=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,gf(e,i),_=i.memoizedProps,G=Lr(a,_),f.props=G,K=i.pendingProps,j=f.context,z=a.contextType,C=va,typeof z=="object"&&z!==null&&(C=He(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==K||j!==C)&&ny(i,f,o,C),As=!1,j=i.memoizedState,f.state=j,Zo(i,o,f,h),$o();var q=i.memoizedState;_!==K||j!==q||As||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof E=="function"&&(zf(i,a,E,o),q=i.memoizedState),(G=As||ey(i,a,G,o,j,q,C)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,ec(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Pr(i,e.child,null,h),i.child=Pr(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Qi(e,i,h),e}function yy(e,i,a,o){return Nr(),i.flags|=256,Fe(e,i,a,o),i.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:ag()}}function Qf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function _y(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ut){if(h?Rs(i):ws(),(e=ne)?(e=w_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:_s!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Zp(e),a.return=i,i.child=a,qe=i,ne=null)):e=null,e===null)throw Es(i);return Cd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ws(),h=i.mode,E=nc({mode:"hidden",children:E},h),o=Dr(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=Gf(a),o.childLanes=Qf(e,_,a),i.memoizedState=Ff,nl(null,o)):(Rs(i),Kf(i,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)i.flags&256?(Rs(i),i.flags&=-257,i=Yf(e,i,a)):i.memoizedState!==null?(ws(),i.child=e.child,i.flags|=128,i=null):(ws(),E=o.fallback,h=i.mode,o=nc({mode:"visible",children:o.children},h),E=Dr(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Pr(i,e.child,null,a),o=i.child,o.memoizedState=Gf(a),o.childLanes=Qf(e,_,a),i.memoizedState=Ff,i=nl(null,o));else if(Rs(i),Cd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(r(419)),o.stack="",o.digest=_,Fo({value:o,source:null,stack:null}),i=Yf(e,i,a)}else if(be||Sa(e,i,a,!1),_=(a&e.childLanes)!==0,be||_){if(_=te,_!==null&&(o=So(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Cr(e,o),cn(_,e,o),qf;Id(E)||hc(),i=Yf(e,i,a)}else Id(E)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,ne=xn(E.nextSibling),qe=i,Ut=!0,vs=null,Mn=!1,e!==null&&tg(i,e),i=Kf(i,o.children),i.flags|=4096);return i}return h?(ws(),E=o.fallback,h=i.mode,C=e.child,z=C.sibling,o=ji(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=ji(z,E):(E=Dr(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,nl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=Gf(a):(h=E.cachePool,h!==null?(C=Ae._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ag(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Qf(e,_,a),i.memoizedState=Ff,nl(e.child,o)):(Rs(i),a=e.child,e=a.sibling,a=ji(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Kf(e,i){return i=nc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function nc(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function Yf(e,i,a){return Pr(i,e.child,null,a),e=Kf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function vy(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),uf(e.return,i,a)}function Xf(e,i,a,o,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Ey(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=me.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,nt(me,_),Fe(e,i,o,a),o=Ut?Ho:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vy(e,a,i);else if(e.tag===19)vy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Fu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Xf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Xf(i,!0,a,null,f,o);break;case"together":Xf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ds|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Sa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=ji(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ji(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function $f(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function eS(e,i,a){switch(i.tag){case 3:Ne(i,i.stateNode.containerInfo),Ts(i,Ae,e.memoizedState.cache),Nr();break;case 27:case 5:cr(i);break;case 4:Ne(i,i.stateNode.containerInfo);break;case 10:Ts(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Rs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?_y(e,i,a):(Rs(i),e=Qi(e,i,a),e!==null?e.sibling:null);Rs(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Sa(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ey(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return i.lanes=0,fy(e,i,a,i.pendingProps);case 24:Ts(i,Ae,e.memoizedState.cache)}return Qi(e,i,a)}function Ty(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!$f(e,a)&&(i.flags&128)===0)return be=!1,eS(e,i,a);be=(e.flags&131072)!==0}else be=!1,Ut&&(i.flags&1048576)!==0&&Wp(i,Ho,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=xr(i.elementType),i.type=e,typeof e=="function")tf(e)?(o=Lr(e,o),i.tag=1,i=gy(null,i,e,o,a)):(i.tag=0,i=Hf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Tt){i.tag=11,i=uy(null,i,e,o,a);break t}else if(h===R){i.tag=14,i=cy(null,i,e,o,a);break t}}throw i=Gt(e)||e,Error(r(306,i,""))}}return i;case 0:return Hf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Lr(o,i.pendingProps),gy(e,i,o,h,a);case 3:t:{if(Ne(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,gf(e,i),Zo(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Ts(i,Ae,o),o!==f.cache&&cf(i,[Ae],a,!0),$o(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=yy(e,i,o,a);break t}else if(o!==h){h=Dn(Error(r(424)),i),Fo(h),i=yy(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=xn(e.firstChild),qe=i,Ut=!0,vs=null,Mn=!0,a=fg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Nr(),o===h){i=Qi(e,i,a);break t}Fe(e,i,o,a)}i=i.child}return i;case 26:return ec(e,i),e===null?(a=M_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ut||(a=i.type,e=i.pendingProps,o=_c(It.current).createElement(a),o[ve]=i,o[Pe]=e,Ge(o,a,e),Ee(o),i.stateNode=o):i.memoizedState=M_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return cr(i),e===null&&Ut&&(o=i.stateNode=D_(i.type,i.pendingProps,It.current),qe=i,Mn=!0,h=ne,xs(i.type)?(Dd=h,ne=xn(o.firstChild)):ne=h),Fe(e,i,i.pendingProps.children,a),ec(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ut&&((h=o=ne)&&(o=OS(o,i.type,i.pendingProps,Mn),o!==null?(i.stateNode=o,qe=i,ne=xn(o.firstChild),Mn=!1,h=!0):h=!1),h||Es(i)),cr(i),h=i.type,f=i.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,bd(h,f)?o=null:_!==null&&bd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Sf(e,i,QA,null,null,a),yl._currentValue=h),ec(e,i),Fe(e,i,o,a),i.child;case 6:return e===null&&Ut&&((e=a=ne)&&(a=MS(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qe=i,ne=null,e=!0):e=!1),e||Es(i)),null;case 13:return _y(e,i,a);case 4:return Ne(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Pr(i,null,o,a):Fe(e,i,o,a),i.child;case 11:return uy(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ts(i,i.type,o.value),Fe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Mr(i),h=He(h),o=o(h),i.flags|=1,Fe(e,i,o,a),i.child;case 14:return cy(e,i,i.type,i.pendingProps,a);case 15:return hy(e,i,i.type,i.pendingProps,a);case 19:return Ey(e,i,a);case 31:return tS(e,i,a);case 22:return fy(e,i,a,i.pendingProps);case 24:return Mr(i),o=He(Ae),e===null?(h=df(),h===null&&(h=te,f=hf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},pf(i),Ts(i,Ae,h)):((e.lanes&a)!==0&&(gf(e,i),Zo(i,null,null,a),$o()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ts(i,Ae,o)):(o=f.cache,Ts(i,Ae,o),o!==h.cache&&cf(i,[Ae],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ki(e){e.flags|=4}function Zf(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Yy())e.flags|=8192;else throw kr=ju,mf}else e.flags&=-16777217}function Ay(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!U_(i))if(Yy())e.flags|=8192;else throw kr=ju,mf}function ic(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?uu():536870912,e.lanes|=i,ka|=i)}function il(e,i){if(!Ut)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function nS(e,i,a){var o=i.pendingProps;switch(rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Hi(Ae),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(i)?Ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,of())),ie(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Ki(i),f!==null?(ie(i),Ay(i,f)):(ie(i),Zf(i,h,null,o,a))):f?f!==e.memoizedState?(Ki(i),ie(i),Ay(i,f)):(ie(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ki(i),ie(i),Zf(i,h,e,o,a)),null;case 27:if(ta(i),a=It.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ki(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ie(i),null}e=at.current,Aa(i)?eg(i):(e=D_(h,o,a),i.stateNode=e,Ki(i))}return ie(i),null;case 5:if(ta(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ki(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ie(i),null}if(f=at.current,Aa(i))eg(i);else{var _=_c(It.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[ve]=i,f[Pe]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ki(i)}}return ie(i),Zf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Ki(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=It.current,Aa(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||__(e.nodeValue,a)),e||Es(i,!0)}else e=_c(e).createTextNode(o),e[ve]=i,i.stateNode=e}return ie(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(i),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ve]=i}else Nr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),e=!1}else a=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ie(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ve]=i}else Nr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),ic(i,i.updateQueue),ie(i),null);case 4:return re(),e===null&&vd(i.stateNode.containerInfo),ie(i),null;case 10:return Hi(i.type),ie(i),null;case 19:if(X(me),o=i.memoizedState,o===null)return ie(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Fu(e),f!==null){for(i.flags|=128,il(o,!1),e=f.updateQueue,i.updateQueue=e,ic(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)$p(a,e),a=a.sibling;return nt(me,me.current&1|2),Ut&&Bi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&tn()>lc&&(i.flags|=128,h=!0,il(o,!1),i.lanes=4194304)}else{if(!h)if(e=Fu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,ic(i,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(i),null}else 2*tn()-o.renderingStartTime>lc&&a!==536870912&&(i.flags|=128,h=!0,il(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=me.current,nt(me,h?a&1|2:a&1),Ut&&Bi(i,o.treeForkCount),e):(ie(i),null);case 22:case 23:return _n(i),Ef(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&ic(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&X(Vr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(Ae),ie(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function iS(e,i){switch(rf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Hi(Ae),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ta(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(r(340));Nr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Nr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(me),null;case 4:return re(),null;case 10:return Hi(i.type),null;case 22:case 23:return _n(i),Ef(),e!==null&&X(Vr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Hi(Ae),null;case 25:return null;default:return null}}function Sy(e,i){switch(rf(i),i.tag){case 3:Hi(Ae),re();break;case 26:case 27:case 5:ta(i);break;case 4:re();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:X(me);break;case 10:Hi(i.type);break;case 22:case 23:_n(i),Ef(),e!==null&&X(Vr);break;case 24:Hi(Ae)}}function sl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Xt(i,i.return,E)}}function Is(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var C=a,z=E;try{z()}catch(G){Xt(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){Xt(i,i.return,G)}}function by(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{mg(i,a)}catch(o){Xt(e,e.return,o)}}}function Ry(e,i,a){a.props=Lr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Xt(e,i,o)}}function rl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Xt(e,i,h)}}function Ei(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,i,h)}else a.current=null}function wy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function Jf(e,i,a){try{var o=e.stateNode;RS(o,e.type,a,i),o[Pe]=i}catch(h){Xt(e,e.return,h)}}function Iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function Wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qn));else if(o!==4&&(o===27&&xs(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(td(e,i,a),e=e.sibling;e!==null;)td(e,i,a),e=e.sibling}function sc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(sc(e,i,a),e=e.sibling;e!==null;)sc(e,i,a),e=e.sibling}function Cy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,o,a),i[ve]=e,i[Pe]=a}catch(f){Xt(e,e.return,f)}}var Yi=!1,Re=!1,ed=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function sS(e,i){if(e=e.containerInfo,Ad=Rc,e=Bp(e),Kh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,E=-1,C=-1,z=0,G=0,K=e,j=null;e:for(;;){for(var q;K!==a||h!==0&&K.nodeType!==3||(E=_+h),K!==f||o!==0&&K.nodeType!==3||(C=_+o),K.nodeType===3&&(_+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===a&&++z===h&&(E=_),j===f&&++G===o&&(C=_),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:e,selectionRange:a},Rc=!1,Le=i;Le!==null;)if(i=Le,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Le=e;else for(;Le!==null;){switch(i=Le,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Lr(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Xt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Le=e;break}Le=i.return}}function Ny(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:$i(e,a),o&4&&sl(5,a);break;case 1:if($i(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Xt(a,a.return,_)}else{var h=Lr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(a,a.return,_)}}o&64&&by(a),o&512&&rl(a,a.return);break;case 3:if($i(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{mg(e,i)}catch(_){Xt(a,a.return,_)}}break;case 27:i===null&&o&4&&Cy(a);case 26:case 5:$i(e,a),i===null&&o&4&&wy(a),o&512&&rl(a,a.return);break;case 12:$i(e,a);break;case 31:$i(e,a),o&4&&Vy(e,a);break;case 13:$i(e,a),o&4&&xy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=dS.bind(null,a),VS(e,a))));break;case 22:if(o=a.memoizedState!==null||Yi,!o){i=i!==null&&i.memoizedState!==null||Re,h=Yi;var f=Re;Yi=o,(Re=i)&&!f?Zi(e,a,(a.subtreeFlags&8772)!==0):$i(e,a),Yi=h,Re=f}break;case 30:break;default:$i(e,a)}}function Oy(e){var i=e.alternate;i!==null&&(e.alternate=null,Oy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ra(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Xi(e,i,a){for(a=a.child;a!==null;)My(e,i,a),a=a.sibling}function My(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:Re||Ei(a,i),Xi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ei(a,i);var o=oe,h=an;xs(a.type)&&(oe=a.stateNode,an=!1),Xi(e,i,a),ml(a.stateNode),oe=o,an=h;break;case 5:Re||Ei(a,i);case 6:if(o=oe,h=an,oe=null,Xi(e,i,a),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Xt(a,i,f)}else try{oe.removeChild(a.stateNode)}catch(f){Xt(a,i,f)}break;case 18:oe!==null&&(an?(e=oe,b_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ha(e)):b_(oe,a.stateNode));break;case 4:o=oe,h=an,oe=a.stateNode.containerInfo,an=!0,Xi(e,i,a),oe=o,an=h;break;case 0:case 11:case 14:case 15:Is(2,a,i),Re||Is(4,a,i),Xi(e,i,a);break;case 1:Re||(Ei(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ry(a,i,o)),Xi(e,i,a);break;case 21:Xi(e,i,a);break;case 22:Re=(o=Re)||a.memoizedState!==null,Xi(e,i,a),Re=o;break;default:Xi(e,i,a)}}function Vy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(a){Xt(i,i.return,a)}}}function xy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(a){Xt(i,i.return,a)}}function rS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Dy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Dy),i;default:throw Error(r(435,e.tag))}}function rc(e,i){var a=rS(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=mS.bind(null,e,o);o.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(r(160));My(f,_,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ky(i,e),i=i.sibling}var Yn=null;function ky(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),o&4&&(Is(3,e,e.return),sl(3,e),Is(5,e,e.return));break;case 1:on(i,e),ln(e),o&512&&(Re||a===null||Ei(a,a.return)),o&64&&Yi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Yn;if(on(i,e),ln(e),o&512&&(Re||a===null||Ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var _=k_("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(_=k_("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else P_(h,e.type,e.stateNode);else e.stateNode=x_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?P_(h,e.type,e.stateNode):x_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Jf(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),o&512&&(Re||a===null||Ei(a,a.return)),a!==null&&o&4&&Jf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),o&512&&(Re||a===null||Ei(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ot){Xt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Jf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(on(i,e),ln(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Xt(e,e.return,ot)}}break;case 3:if(Tc=null,h=Yn,Yn=vc(i.containerInfo),on(i,e),Yn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(i.containerInfo)}catch(ot){Xt(e,e.return,ot)}ed&&(ed=!1,Py(e));break;case 4:o=Yn,Yn=vc(e.stateNode.containerInfo),on(i,e),ln(e),Yn=o;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Yi,G=Re;if(Yi=z||h,Re=G||C,on(i,e),Re=G,Yi=z,ln(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Yi||Re||zr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Xt(C,C.return,ot)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ot){Xt(C,C.return,ot)}}}else if(i.tag===18){if(a===null){C=i;try{var q=C.stateNode;h?R_(q,!0):R_(C.stateNode,!1)}catch(ot){Xt(C,C.return,ot)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,rc(e,a))));break;case 19:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Iy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Wf(e);sc(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var E=Wf(e);sc(e,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Wf(e);td(e,z,C);break;default:throw Error(r(161))}}catch(G){Xt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function $i(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ny(e,i.alternate,i),i=i.sibling}function zr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Is(4,i,i.return),zr(i);break;case 1:Ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ry(i,i.return,a),zr(i);break;case 27:ml(i.stateNode);case 26:case 5:Ei(i,i.return),zr(i);break;case 22:i.memoizedState===null&&zr(i);break;case 30:zr(i);break;default:zr(i)}e=e.sibling}}function Zi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,a),sl(4,f);break;case 1:if(Zi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)dg(C[h],E)}catch(z){Xt(o,o.return,z)}}a&&_&64&&by(f),rl(f,f.return);break;case 27:Cy(f);case 26:case 5:Zi(h,f,a),a&&o===null&&_&4&&wy(f),rl(f,f.return);break;case 12:Zi(h,f,a);break;case 31:Zi(h,f,a),a&&_&4&&Vy(h,f);break;case 13:Zi(h,f,a),a&&_&4&&xy(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,a),rl(f,f.return);break;case 30:break;default:Zi(h,f,a)}i=i.sibling}}function nd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function id(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e))}function Xn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uy(e,i,a,o),i=i.sibling}function Uy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(e,i,a,o),h&2048&&sl(9,i);break;case 1:Xn(e,i,a,o);break;case 3:Xn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){Xn(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Xt(i,i.return,C)}}else Xn(e,i,a,o);break;case 31:Xn(e,i,a,o);break;case 13:Xn(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?Xn(e,i,a,o):al(e,i):f._visibility&2?Xn(e,i,a,o):(f._visibility|=2,Ma(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&nd(_,i);break;case 24:Xn(e,i,a,o),h&2048&&id(i.alternate,i);break;default:Xn(e,i,a,o)}}function Ma(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,_=i,E=a,C=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ma(f,_,E,C,h),sl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Ma(f,_,E,C,h):al(f,_):(G._visibility|=2,Ma(f,_,E,C,h)),h&&z&2048&&nd(_.alternate,_);break;case 24:Ma(f,_,E,C,h),h&&z&2048&&id(_.alternate,_);break;default:Ma(f,_,E,C,h)}i=i.sibling}}function al(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&nd(o.alternate,o);break;case 24:al(a,o),h&2048&&id(o.alternate,o);break;default:al(a,o)}i=i.sibling}}var ol=8192;function Va(e,i,a){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)Ly(e,i,a),e=e.sibling}function Ly(e,i,a){switch(e.tag){case 26:Va(e,i,a),e.flags&ol&&e.memoizedState!==null&&GS(a,Yn,e.memoizedState,e.memoizedProps);break;case 5:Va(e,i,a);break;case 3:case 4:var o=Yn;Yn=vc(e.stateNode.containerInfo),Va(e,i,a),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,Va(e,i,a),ol=o):Va(e,i,a));break;default:Va(e,i,a)}}function zy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ll(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,By(o,e)}zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Is(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ac(e)):ll(e);break;default:ll(e)}}function ac(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,By(o,e)}zy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Is(8,i,i.return),ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ac(i));break;default:ac(i)}e=e.sibling}}function By(e,i){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Is(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(Oy(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var aS={getCacheForType:function(e){var i=He(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(Ae).controller.signal}},oS=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Dt=null,Ot=0,Yt=0,vn=null,Cs=!1,xa=!1,sd=!1,Ji=0,ce=0,Ds=0,jr=0,rd=0,En=0,ka=0,ul=null,un=null,ad=!1,oc=0,qy=0,lc=1/0,uc=null,Ns=null,Me=0,Os=null,Pa=null,Wi=0,od=0,ld=null,Hy=null,cl=0,ud=null;function Tn(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:F.T!==null?pd():cu()}function Fy(){if(En===0)if((Ot&536870912)===0||Ut){var e=dr;dr<<=1,(dr&3932160)===0&&(dr=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,i,a){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),Ms(e,Ot,En,!1)),mr(e,a),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(jr|=a),ce===4&&Ms(e,Ot,En,!1)),Ti(e))}function Gy(e,i,a){if((Ht&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||zn(e,i),h=o?cS(e,i):hd(e,i,!0),f=o;do{if(h===0){xa&&!o&&Ms(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!lS(a)){h=hd(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=ul;var C=E.current.memoizedState.isDehydrated;if(C&&(Ua(E,_).flags|=256),_=hd(E,_,!1),_!==2){if(sd&&!C){E.errorRecoveryDisabledLanes|=f,jr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ua(e,0),Ms(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ms(o,i,En,!Cs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=oc+300-tn(),10<h)){if(Ms(o,i,En,!Cs),ii(o,0,!0)!==0)break t;Wi=i,o.timeoutHandle=A_(Qy.bind(null,o,a,un,uc,ad,i,En,jr,ka,Cs,f,"Throttled",-0,0),h);break t}Qy(o,a,un,uc,ad,i,En,jr,ka,Cs,f,null,-0,0)}}break}while(!0);Ti(e)}function Qy(e,i,a,o,h,f,_,E,C,z,G,K,j,q){if(e.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Ly(i,f,K);var ot=(f&62914560)===f?oc-tn():(f&4194048)===f?qy-tn():0;if(ot=QS(K,ot),ot!==null){Wi=f,e.cancelPendingCommit=ot(t_.bind(null,e,i,f,a,o,h,_,E,C,G,K,null,j,q)),Ms(e,f,_,!z);return}}t_(e,i,f,a,o,h,_,E,C)}function lS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ms(e,i,a,o){i&=~rd,i&=~jr,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-fe(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&pr(e,a,i)}function cc(){return(Ht&6)===0?(hl(0),!1):!0}function cd(){if(Dt!==null){if(Yt===0)var e=Dt.return;else e=Dt,qi=Or=null,wf(e),Ia=null,Ko=0,e=Dt;for(;e!==null;)Sy(e.alternate,e),e=e.return;Dt=null}}function Ua(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,CS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wi=0,cd(),te=e,Dt=a=ji(e.current,null),Ot=i,Yt=0,vn=null,Cs=!1,xa=zn(e,i),sd=!1,ka=En=rd=jr=Ds=ce=0,un=ul=null,ad=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-fe(o),f=1<<h;i|=e[h],o&=~f}return Ji=i,Ou(),a}function Ky(e,i){wt=null,F.H=el,i===wa||i===zu?(i=ug(),Yt=3):i===mf?(i=ug(),Yt=4):Yt=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Dt===null&&(ce=1,Wu(e,Dn(i,e.current)))}function Yy(){var e=yn.current;return e===null?!0:(Ot&4194048)===Ot?Vn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Vn:!1}function Xy(){var e=F.H;return F.H=el,e===null?el:e}function $y(){var e=F.A;return F.A=aS,e}function hc(){ce=4,Cs||(Ot&4194048)!==Ot&&yn.current!==null||(xa=!0),(Ds&134217727)===0&&(jr&134217727)===0||te===null||Ms(te,Ot,En,!1)}function hd(e,i,a){var o=Ht;Ht|=2;var h=Xy(),f=$y();(te!==e||Ot!==i)&&(uc=null,Ua(e,i)),i=!1;var _=ce;t:do try{if(Yt!==0&&Dt!==null){var E=Dt,C=vn;switch(Yt){case 8:cd(),_=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var z=Yt;if(Yt=0,vn=null,La(e,E,C,z),a&&xa){_=0;break t}break;default:z=Yt,Yt=0,vn=null,La(e,E,C,z)}}uS(),_=ce;break}catch(G){Ky(e,G)}while(!0);return i&&e.shellSuspendCounter++,qi=Or=null,Ht=o,F.H=h,F.A=f,Dt===null&&(te=null,Ot=0,Ou()),_}function uS(){for(;Dt!==null;)Zy(Dt)}function cS(e,i){var a=Ht;Ht|=2;var o=Xy(),h=$y();te!==e||Ot!==i?(uc=null,lc=tn()+500,Ua(e,i)):xa=zn(e,i);t:do try{if(Yt!==0&&Dt!==null){i=Dt;var f=vn;e:switch(Yt){case 1:Yt=0,vn=null,La(e,i,f,1);break;case 2:case 9:if(og(f)){Yt=0,vn=null,Jy(i);break}i=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),Ti(e)},f.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:og(f)?(Yt=0,vn=null,Jy(i)):(Yt=0,vn=null,La(e,i,f,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var E=Dt;if(_?U_(_):E.stateNode.complete){Yt=0,vn=null;var C=E.sibling;if(C!==null)Dt=C;else{var z=E.return;z!==null?(Dt=z,fc(z)):Dt=null}break e}}Yt=0,vn=null,La(e,i,f,5);break;case 6:Yt=0,vn=null,La(e,i,f,6);break;case 8:cd(),ce=6;break t;default:throw Error(r(462))}}hS();break}catch(G){Ky(e,G)}while(!0);return qi=Or=null,F.H=o,F.A=h,Ht=a,Dt!==null?0:(te=null,Ot=0,Ou(),ce)}function hS(){for(;Dt!==null&&!jh();)Zy(Dt)}function Zy(e){var i=Ty(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,i===null?fc(e):Dt=i}function Jy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=py(a,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=py(a,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:wf(i);default:Sy(a,i),i=Dt=$p(i,Ji),i=Ty(a,i,Ji)}e.memoizedProps=e.pendingProps,i===null?fc(e):Dt=i}function La(e,i,a,o){qi=Or=null,wf(i),Ia=null,Ko=0;var h=i.return;try{if(WA(e,h,i,a,Ot)){ce=1,Wu(e,Dn(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ce=1,Wu(e,Dn(a,e.current)),Dt=null;return}i.flags&32768?(Ut||o===1?e=!0:xa||(Ot&536870912)!==0?e=!1:(Cs=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wy(i,e)):fc(i)}function fc(e){var i=e;do{if((i.flags&32768)!==0){Wy(i,Cs);return}e=i.return;var a=nS(i.alternate,i,Ji);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);ce===0&&(ce=5)}function Wy(e,i){do{var a=iS(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);ce=6,Dt=null}function t_(e,i,a,o,h,f,_,E,C){e.cancelPendingCommit=null;do dc();while(Me!==0);if((Ht&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Jh,Hh(e,a,f,_,E,C),e===te&&(Dt=te=null,Ot=0),Pa=i,Os=e,Wi=a,od=f,ld=h,Hy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pS(ls,function(){return r_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,_=Ht,Ht|=4;try{sS(e,i,a)}finally{Ht=_,et.p=h,F.T=o}}Me=1,e_(),n_(),i_()}}function e_(){if(Me===1){Me=0;var e=Os,i=Pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=Ht;Ht|=4;try{ky(i,e);var f=Sd,_=Bp(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&jp(E.ownerDocument.documentElement,E)){if(C!==null&&Kh(E)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,pt=Math.min(C.start,ot),Wt=C.end===void 0?pt:Math.min(C.end,ot);!q.extend&&pt>Wt&&(_=Wt,Wt=pt,pt=_);var k=zp(E,pt),O=zp(E,Wt);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var L=K.createRange();L.setStart(k.node,k.offset),q.removeAllRanges(),pt>Wt?(q.addRange(L),q.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),q.addRange(L))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Rc=!!Ad,Sd=Ad=null}finally{Ht=h,et.p=o,F.T=a}}e.current=i,Me=2}}function n_(){if(Me===2){Me=0;var e=Os,i=Pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=Ht;Ht|=4;try{Ny(e,i.alternate,i)}finally{Ht=h,et.p=o,F.T=a}}Me=3}}function i_(){if(Me===4||Me===3){Me=0,iu();var e=Os,i=Pa,a=Wi,o=Hy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Me=5:(Me=0,Pa=Os=null,s_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ns=null),Pi(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ln,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{F.T=i,et.p=h}}(Wi&3)!==0&&dc(),Ti(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ud?cl++:(cl=0,ud=e):cl=0,hl(0)}}function s_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Go(i)))}function dc(){return e_(),n_(),i_(),r_()}function r_(){if(Me!==5)return!1;var e=Os,i=od;od=0;var a=Pi(Wi),o=F.T,h=et.p;try{et.p=32>a?32:a,F.T=null,a=ld,ld=null;var f=Os,_=Wi;if(Me=0,Pa=Os=null,Wi=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,jy(f.current),Uy(f,f.current,_,a),Ht=E,hl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{et.p=h,F.T=o,s_(e,i)}}function a_(e,i,a){i=Dn(a,i),i=Bf(e.stateNode,i,2),e=bs(e,i,2),e!==null&&(mr(e,2),Ti(e))}function Xt(e,i,a){if(e.tag===3)a_(e,e,a);else for(;i!==null;){if(i.tag===3){a_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ns===null||!Ns.has(o))){e=Dn(a,e),a=oy(2),o=bs(i,a,2),o!==null&&(ly(a,o,i,e),mr(o,2),Ti(o));break}}i=i.return}}function fd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new oS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(sd=!0,h.add(a),e=fS.bind(null,e,i,a),i.then(e,e))}function fS(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Ot&a)===a&&(ce===4||ce===3&&(Ot&62914560)===Ot&&300>tn()-oc?(Ht&2)===0&&Ua(e,0):rd|=a,ka===Ot&&(ka=0)),Ti(e)}function o_(e,i){i===0&&(i=uu()),e=Cr(e,i),e!==null&&(mr(e,i),Ti(e))}function dS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),o_(e,a)}function mS(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),o_(e,a)}function pS(e,i){return Oe(e,i)}var mc=null,za=null,dd=!1,pc=!1,md=!1,Vs=0;function Ti(e){e!==za&&e.next===null&&(za===null?mc=za=e:za=za.next=e),pc=!0,dd||(dd=!0,yS())}function hl(e,i){if(!md&&pc){md=!0;do for(var a=!1,o=mc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,h_(o,f))}else f=Ot,f=ii(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(a=!0,h_(o,f));o=o.next}while(a);md=!1}}function gS(){l_()}function l_(){pc=dd=!1;var e=0;Vs!==0&&IS()&&(e=Vs);for(var i=tn(),a=null,o=mc;o!==null;){var h=o.next,f=u_(o,i);f===0?(o.next=null,a===null?mc=h:a.next=h,h===null&&(za=a)):(a=o,(e!==0||(f&3)!==0)&&(pc=!0)),o=h}Me!==0&&Me!==5||hl(e),Vs!==0&&(Vs=0)}function u_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-fe(f),E=1<<_,C=h[_];C===-1?((E&a)===0||(E&o)!==0)&&(h[_]=qh(E,i)):C<=i&&(e.expiredLanes|=E),f&=~E}if(i=te,a=Ot,a=ii(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&os(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&os(o),Pi(a)){case 2:case 8:a=To;break;case 32:a=ls;break;case 268435456:a=su;break;default:a=ls}return o=c_.bind(null,e),a=Oe(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&os(o),e.callbackPriority=2,e.callbackNode=null,2}function c_(e,i){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(dc()&&e.callbackNode!==a)return null;var o=Ot;return o=ii(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Gy(e,o,i),u_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?c_.bind(null,e):null)}function h_(e,i){if(dc())return null;Gy(e,i,!0)}function yS(){DS(function(){(Ht&6)!==0?Oe(Eo,gS):l_()})}function pd(){if(Vs===0){var e=ba;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Vs=e}return Vs}function f_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function d_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function _S(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=f_((h[Pe]||null).action),_=o.submitter;_&&(i=(i=_[Pe]||null)?f_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var E=new mi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vs!==0){var C=_?d_(h,_):new FormData(h);kf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=_?d_(h,_):new FormData(h),kf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var gd=0;gd<Zh.length;gd++){var yd=Zh[gd],vS=yd.toLowerCase(),ES=yd[0].toUpperCase()+yd.slice(1);Kn(vS,"on"+ES)}Kn(Fp,"onAnimationEnd"),Kn(Gp,"onAnimationIteration"),Kn(Qp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(PA,"onTransitionRun"),Kn(UA,"onTransitionStart"),Kn(LA,"onTransitionCancel"),Kn(Kp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function m_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Nu(G)}h.currentTarget=null,f=C}else for(_=0;_<o.length;_++){if(E=o[_],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Nu(G)}h.currentTarget=null,f=C}}}}function Nt(e,i){var a=i[sa];a===void 0&&(a=i[sa]=new Set);var o=e+"__bubble";a.has(o)||(p_(i,e,2,!1),a.add(o))}function _d(e,i,a){var o=0;i&&(o|=4),p_(a,e,o,i)}var gc="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[gc]){e[gc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(TS.has(a)||_d(a,!1,e),_d(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[gc]||(i[gc]=!0,_d("selectionchange",!1,i))}}function p_(e,i,a,o){switch(F_(i)){case 2:var h=XS;break;case 8:h=$S;break;default:h=xd}a=h.bind(null,i,a,e),h=void 0,!Er||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ed(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=oi(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=f=_;continue t}E=E.parentNode}}o=o.return}ms(function(){var z=f,G=Rn(a),K=[];t:{var j=Yp.get(e);if(j!==void 0){var q=mi,ot=e;switch(e){case"keypress":if(Ar(a)===0)break t;case"keydown":case"keyup":q=Iu;break;case"focusin":ot="focus",q=br;break;case"focusout":ot="blur",q=br;break;case"beforeblur":case"afterblur":q=br;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Fp:case Gp:case Qp:q=Eu;break;case Kp:q=A;break;case"scroll":case"scrollend":q=Po;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=zi;break;case"toggle":case"beforetoggle":q=Rt}var pt=(i&4)!==0,Wt=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var O=z,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=Hn(O,k),Q!=null&&pt.push(dl(O,Q,L))),Wt)break;O=O.return}0<pt.length&&(j=new q(j,ot,null,a,G),K.push({event:j,listeners:pt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Vo&&(ot=a.relatedTarget||a.fromElement)&&(oi(ot)||ot[ri]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=z,ot=ot?oi(ot):null,ot!==null&&(Wt=u(ot),pt=ot.tag,ot!==Wt||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(pt=Uo,Q="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=zi,Q="onPointerLeave",k="onPointerEnter",O="pointer"),Wt=q==null?j:dn(q),L=ot==null?j:dn(ot),j=new pt(Q,O+"leave",q,a,G),j.target=Wt,j.relatedTarget=L,Q=null,oi(G)===z&&(pt=new pt(k,O+"enter",ot,a,G),pt.target=L,pt.relatedTarget=Wt,Q=pt),Wt=Q,q&&ot)e:{for(pt=AS,k=q,O=ot,L=0,Q=k;Q;Q=pt(Q))L++;Q=0;for(var ht=O;ht;ht=pt(ht))Q++;for(;0<L-Q;)k=pt(k),L--;for(;0<Q-L;)O=pt(O),Q--;for(;L--;){if(k===O||O!==null&&k===O.alternate){pt=k;break e}k=pt(k),O=pt(O)}pt=null}else pt=null;q!==null&&g_(K,j,q,pt,!1),ot!==null&&Wt!==null&&g_(K,Wt,ot,pt,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var jt=Vp;else if(Op(j))if(xp)jt=VA;else{jt=OA;var ut=NA}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&la(z.elementType)&&(jt=Vp):jt=MA;if(jt&&(jt=jt(e,z))){Mp(K,jt,a,G);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&No(j,"number",j.value)}switch(ut=z?dn(z):window,e){case"focusin":(Op(ut)||ut.contentEditable==="true")&&(ga=ut,Yh=z,qo=null);break;case"focusout":qo=Yh=ga=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,qp(K,a,G);break;case"selectionchange":if(kA)break;case"keydown":case"keyup":qp(K,a,G)}var Ct;if(qt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else pa?Rr(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(yi&&a.locale!=="ko"&&(pa||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&pa&&(Ct=ko()):(di=G,xo="value"in di?di.value:di.textContent,pa=!0)),ut=yc(z,Mt),0<ut.length&&(Mt=new gi(Mt,e,null,a,G),K.push({event:Mt,listeners:ut}),Ct?Mt.data=Ct:(Ct=ma(a),Ct!==null&&(Mt.data=Ct)))),(Ct=In?wA(e,a):IA(e,a))&&(Mt=yc(z,"onBeforeInput"),0<Mt.length&&(ut=new gi("onBeforeInput","beforeinput",null,a,G),K.push({event:ut,listeners:Mt}),ut.data=Ct)),_S(K,e,z,a,G)}m_(K,i)})}function dl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function yc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,a),h!=null&&o.unshift(dl(e,h,f)),h=Hn(e,i),h!=null&&o.push(dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function AS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g_(e,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Hn(a,f),z!=null&&_.unshift(dl(a,z,C))):h||(z=Hn(a,f),z!=null&&_.push(dl(a,z,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var SS=/\r\n?/g,bS=/\u0000|\uFFFD/g;function y_(e){return(typeof e=="string"?e:""+e).replace(SS,`
`).replace(bS,"")}function __(e,i){return i=y_(i),y_(e)===i}function Jt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&rn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":Mo(e,o,f);break;case"data":if(i!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,aa(e,a,o))}}function Td(e,i,a,o,h,f){switch(a){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Pe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):aa(e,a,o)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Jt(e,i,f,_,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),o&&Jt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=f=_=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Jt(e,i,o,G,a,null)}}mu(e,f,E,C,z,_,h,!1);return;case"select":Nt("invalid",e),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Jt(e,i,h,E,a,null)}i=f,a=_,e.multiple=!!o,i!=null?cs(e,!!o,i,!1):a!=null&&cs(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Jt(e,i,_,E,a,null)}hs(e,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,i,C,o,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)Nt(fl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Jt(e,i,z,o,a,null)}return;default:if(la(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Td(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Jt(e,i,E,o,a,null))}function RS(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,C=null,z=null,G=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(q)||Jt(e,i,q,null,o,K)}}for(var j in o){var q=o[j];if(K=a[j],o.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":_=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==K&&Jt(e,i,j,q,o,K)}}oa(e,_,E,C,z,G,f,h);return;case"select":q=_=E=j=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||Jt(e,i,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==C&&Jt(e,i,h,f,o,C)}i=E,a=_,o=q,j!=null?cs(e,!!a,j,!1):!!o!=!!a&&(i!=null?cs(e,!!a,i,!0):cs(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,i,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Jt(e,i,_,h,o,f)}pu(e,j,q);return;case"option":for(var ot in a)if(j=a[ot],a.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:Jt(e,i,ot,null,o,j)}for(C in o)if(j=o[C],q=a[C],o.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Jt(e,i,C,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)j=a[pt],a.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&Jt(e,i,pt,null,o,j);for(z in o)if(j=o[z],q=a[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:Jt(e,i,z,j,o,q)}return;default:if(la(i)){for(var Wt in a)j=a[Wt],a.hasOwnProperty(Wt)&&j!==void 0&&!o.hasOwnProperty(Wt)&&Td(e,i,Wt,void 0,o,j);for(G in o)j=o[G],q=a[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||Td(e,i,G,j,o,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Jt(e,i,k,null,o,j);for(K in o)j=o[K],q=a[K],!o.hasOwnProperty(K)||j===q||j==null&&q==null||Jt(e,i,K,j,o,q)}function v_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&v_(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var G=C.transferSize,K=C.initiatorType;G&&v_(K)&&(C=C.responseEnd,_+=G*(C<E?1:(E-z)/(C-z)))}if(--o,i+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,Sd=null;function _c(e){return e.nodeType===9?e:e.ownerDocument}function E_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function bd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function IS(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,DS=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(e){return S_.resolve(null).then(e).catch(NS)}:A_;function NS(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function b_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ha(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ml(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&ml(e.ownerDocument.body);a=h}while(a);Ha(i)}function R_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function wd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function OS(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function MS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function w_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=xn(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function VS(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Dd=null;function I_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return xn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function C_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function D_(e,i,a){switch(i=_c(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ml(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ra(e)}var kn=new Map,N_=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ts=et.d;et.d={f:xS,r:kS,D:PS,C:US,L:LS,m:zS,X:BS,S:jS,M:qS};function xS(){var e=ts.f(),i=cc();return e||i}function kS(e){var i=bn(e);i!==null&&i.tag===5&&i.type==="form"?Kg(i):ts.r(e)}var ja=typeof document>"u"?null:document;function O_(e,i,a){var o=ja;if(o&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),N_.has(h)||(N_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ge(i,"link",e),Ee(i),o.head.appendChild(i)))}}function PS(e){ts.D(e),O_("dns-prefetch",e,null)}function US(e,i){ts.C(e,i),O_("preconnect",e,i)}function LS(e,i,a){ts.L(e,i,a);var o=ja;if(o&&e&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(i){case"style":f=Ba(e);break;case"script":f=qa(e)}kn.has(f)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),kn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(pl(f))||i==="script"&&o.querySelector(gl(f))||(i=o.createElement("link"),Ge(i,"link",e),Ee(i),o.head.appendChild(i)))}}function zS(e,i){ts.m(e,i);var a=ja;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!kn.has(f)&&(e=S({rel:"modulepreload",href:e},i),kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Ee(o),a.head.appendChild(o)}}}function jS(e,i,a){ts.S(e,i,a);var o=ja;if(o&&e){var h=li(o).hoistableStyles,f=Ba(e);i=i||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(pl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=kn.get(f))&&Nd(e,a);var C=_=o.createElement("link");Ee(C),Ge(C,"link",e),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ec(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function BS(e,i){ts.X(e,i);var a=ja;if(a&&e){var o=li(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0},i),(i=kn.get(h))&&Od(e,i),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function qS(e,i){ts.M(e,i);var a=ja;if(a&&e){var o=li(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0,type:"module"},i),(i=kn.get(h))&&Od(e,i),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function M_(e,i,a,o){var h=(h=It.current)?vc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ba(a.href),a=li(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ba(a.href);var f=li(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(pl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),f||HS(h,e,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qa(a),a=li(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ba(e){return'href="'+sn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function V_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function HS(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ge(i,"link",a),Ee(i),e.head.appendChild(i))}function qa(e){return'[src="'+sn(e)+'"]'}function gl(e){return"script[async]"+e}function x_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return i.instance=o,Ee(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Ge(o,"style",h),Ec(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ba(a.href);var f=e.querySelector(pl(h));if(f)return i.state.loading|=4,i.instance=f,Ee(f),f;o=V_(a),(h=kn.get(h))&&Nd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var _=f;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Ge(f,"link",o),i.state.loading|=4,Ec(f,a.precedence,e),i.instance=f;case"script":return f=qa(a.src),(h=e.querySelector(gl(f)))?(i.instance=h,Ee(h),h):(o=a,(h=kn.get(f))&&(o=S({},a),Od(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Ec(o,a.precedence,e));return i.instance}function Ec(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Tc=null;function k_(e,i,a){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(a,o)}else h=Tc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ai]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function P_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function FS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function U_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function GS(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(o.href),f=i.querySelector(pl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ac.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=i.ownerDocument||i,o=V_(o),(h=kn.get(h))&&Nd(o,h),f=f.createElement("link"),Ee(f);var _=f;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ac.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Md=0;function QS(e,i){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Md===0&&(Md=62500*wS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Md?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sc=null;function bc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sc=new Map,i.forEach(KS,e),Sc=null,Ac.call(e))}function KS(e,i){if(!(i.state.loading&4)){var a=Sc.get(e);if(a)var o=a.get(null);else{a=new Map,Sc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var yl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function YS(e,i,a,o,h,f,_,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function L_(e,i,a,o,h,f,_,E,C,z,G,K){return e=new YS(e,i,a,_,C,z,G,K,E),i=1,f===!0&&(i|=24),f=gn(3,null,null,i),e.current=f,f.stateNode=e,i=hf(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},pf(f),e}function z_(e){return e?(e=va,e):va}function j_(e,i,a,o,h,f){h=z_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ss(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=bs(e,o,i),a!==null&&(cn(a,e,i),Xo(a,e,i))}function B_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Vd(e,i){B_(e,i),(e=e.alternate)&&B_(e,i)}function q_(e){if(e.tag===13||e.tag===31){var i=Cr(e,67108864);i!==null&&cn(i,e,67108864),Vd(e,67108864)}}function H_(e){if(e.tag===13||e.tag===31){var i=Tn();i=gr(i);var a=Cr(e,i);a!==null&&cn(a,e,i),Vd(e,i)}}var Rc=!0;function XS(e,i,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,xd(e,i,a,o)}finally{et.p=f,F.T=h}}function $S(e,i,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,xd(e,i,a,o)}finally{et.p=f,F.T=h}}function xd(e,i,a,o){if(Rc){var h=kd(o);if(h===null)Ed(e,i,o,wc,a),G_(e,o);else if(JS(h,e,i,a,o))o.stopPropagation();else if(G_(e,o),i&4&&-1<ZS.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ni(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-fe(_);E.entanglements[1]|=C,_&=~C}Ti(f),(Ht&6)===0&&(lc=tn()+500,hl(0))}}break;case 31:case 13:E=Cr(f,2),E!==null&&cn(E,f,2),cc(),Vd(f,2)}if(f=kd(o),f===null&&Ed(e,i,o,wc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ed(e,i,o,null,a)}}function kd(e){return e=Rn(e),Pd(e)}var wc=null;function Pd(e){if(wc=null,e=oi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return wc=e,null}function F_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case Eo:return 2;case To:return 8;case ls:case Bh:return 32;case su:return 268435456;default:return 32}default:return 32}}var Ud=!1,ks=null,Ps=null,Us=null,_l=new Map,vl=new Map,Ls=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(e,i){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function El(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=bn(i),i!==null&&q_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function JS(e,i,a,o,h){switch(i){case"focusin":return ks=El(ks,e,i,a,o,h),!0;case"dragenter":return Ps=El(Ps,e,i,a,o,h),!0;case"mouseover":return Us=El(Us,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,El(_l.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,El(vl.get(f)||null,e,i,a,o,h)),!0}return!1}function Q_(e){var i=oi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,jn(e.priority,function(){H_(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,jn(e.priority,function(){H_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=kd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Vo=o,a.target.dispatchEvent(o),Vo=null}else return i=bn(a),i!==null&&q_(i),e.blockedOn=a,!1;i.shift()}return!0}function K_(e,i,a){Ic(e)&&a.delete(i)}function WS(){Ud=!1,ks!==null&&Ic(ks)&&(ks=null),Ps!==null&&Ic(Ps)&&(Ps=null),Us!==null&&Ic(Us)&&(Us=null),_l.forEach(K_),vl.forEach(K_)}function Cc(e,i){e.blockedOn===i&&(e.blockedOn=null,Ud||(Ud=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,WS)))}var Dc=null;function Y_(e){Dc!==e&&(Dc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Pd(o||a)===null)continue;break}var f=bn(a);f!==null&&(e.splice(i,3),i-=3,kf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ha(e){function i(C){return Cc(C,e)}ks!==null&&Cc(ks,e),Ps!==null&&Cc(Ps,e),Us!==null&&Cc(Us,e),_l.forEach(i),vl.forEach(i);for(var a=0;a<Ls.length;a++){var o=Ls[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ls.length&&(a=Ls[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&Ls.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Pe]||null;if(typeof f=="function")_||Y_(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Pe]||null)E=_.formAction;else if(Pd(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Y_(a)}}}function X_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Ld(e){this._internalRoot=e}Nc.prototype.render=Ld.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Tn();j_(a,o,e,i,null,null)},Nc.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;j_(e.current,2,null,e,null,null),cc(),i[ri]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var i=cu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ls.length&&i!==0&&i<Ls[a].priority;a++);Ls.splice(a,0,e),a===0&&Q_(e)}};var $_=t.version;if($_!=="19.2.0")throw Error(r(527,$_,"19.2.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var t1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Ln=Oc.inject(t1),je=Oc}catch{}}return Al.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=iy,f=sy,_=ry;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=L_(e,1,!1,null,null,a,o,null,h,f,_,X_),e[ri]=i.current,vd(e),new Ld(i)},Al.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=iy,_=sy,E=ry,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=L_(e,1,!0,i,a??null,o,h,C,f,_,E,X_),i.context=z_(null),a=i.current,o=Tn(),o=gr(o),h=Ss(o),h.callback=null,bs(a,h,o),a=o,i.current.lanes=a,mr(i,a),Ti(i),e[ri]=i.current,vd(e),new Nc(i)},Al.version="19.2.0",Al}var av;function c1(){if(av)return Bd.exports;av=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Bd.exports=u1(),Bd.exports}var h1=c1();const f1=()=>{};var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},d1=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],p=s[n++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],d=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let D=(p&15)<<2|y>>6,H=y&63;g||(H=64,d||(D=64)),r.push(n[T],n[S],n[D],n[H])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray($E(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):d1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||p==null||y==null||S==null)throw new m1;const D=u<<2|p>>4;if(r.push(D),y!==64){const H=p<<4&240|y>>2;if(r.push(H),S!==64){const Z=y<<6&192|S;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class m1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p1=function(s){const t=$E(s);return ZE.encodeByteArray(t,!0)},$c=function(s){return p1(s).replace(/\./g,"")},JE=function(s){try{return ZE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=()=>g1().__FIREBASE_DEFAULTS__,_1=()=>{if(typeof process>"u"||typeof ov>"u")return;const s=ov.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},v1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&JE(s[1]);return t&&JSON.parse(t)},_h=()=>{try{return f1()||y1()||_1()||v1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},WE=s=>_h()?.emulatorHosts?.[s],tT=s=>{const t=WE(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},eT=()=>_h()?.config,nT=s=>_h()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vm(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[$c(JSON.stringify(n)),$c(JSON.stringify(d)),""].join(".")}const Cl={};function T1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?s.emulator.push(t):s.prod.push(t);return s}function A1(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let lv=!1;function xm(s,t){if(typeof window>"u"||typeof document>"u"||!Xr(window.location.host)||Cl[s]===t||Cl[s]||lv)return;Cl[s]=t;function n(D){return`__firebase__banner__${D}`}const r="__firebase__banner",u=T1().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function g(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{lv=!0,d()},D}function T(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=A1(r),H=n("text"),Z=document.getElementById(H)||document.createElement("span"),W=n("learnmore"),J=document.getElementById(W)||document.createElement("a"),it=n("preprendIcon"),dt=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const lt=D.element;p(lt),T(J,W);const Tt=y();g(dt,it),lt.append(dt,Z,J,Tt),document.body.appendChild(lt)}u?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function b1(){const s=_h()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function I1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C1(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function D1(){return!b1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N1(){try{return typeof indexedDB=="object"}catch{return!1}}function O1(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="FirebaseError";class xi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=M1,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?V1(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new xi(l,p,r)}}function V1(s,t){return s.replace(x1,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const x1=/\{\$([^}]+)}/g;function k1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Hr(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const u=s[l],d=t[l];if(uv(u)&&uv(d)){if(!Hr(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function uv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Sl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function bl(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function P1(s,t){const n=new U1(s,t);return n.subscribe.bind(n)}class U1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=Gd),l.error===void 0&&(l.error=Gd),l.complete===void 0&&(l.complete=Gd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L1(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Gd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(s){return s&&s._delegate?s._delegate:s}class Ws{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new E1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(B1(t))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=Br){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Br){return this.instances.has(t)}getOptions(t=Br){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j1(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Br){return this.component?this.component.multipleInstances?t:Br:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j1(s){return s===Br?void 0:s}function B1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new z1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Vt||(Vt={}));const H1={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},F1=Vt.INFO,G1={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},Q1=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=G1[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class km{constructor(t){this.name=t,this._logLevel=F1,this._logHandler=Q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?H1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const K1=(s,t)=>t.some(n=>s instanceof n);let cv,hv;function Y1(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X1(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sT=new WeakMap,rm=new WeakMap,rT=new WeakMap,Qd=new WeakMap,Pm=new WeakMap;function $1(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Ks(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&sT.set(n,s)}).catch(()=>{}),Pm.set(t,s),t}function Z1(s){if(rm.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});rm.set(s,t)}let am={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return rm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||rT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function J1(s){am=s(am)}function W1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Kd(this),t,...n);return rT.set(r,t.sort?t.sort():[t]),Ks(r)}:X1().includes(s)?function(...t){return s.apply(Kd(this),t),Ks(sT.get(this))}:function(...t){return Ks(s.apply(Kd(this),t))}}function tb(s){return typeof s=="function"?W1(s):(s instanceof IDBTransaction&&Z1(s),K1(s,Y1())?new Proxy(s,am):s)}function Ks(s){if(s instanceof IDBRequest)return $1(s);if(Qd.has(s))return Qd.get(s);const t=tb(s);return t!==s&&(Qd.set(s,t),Pm.set(t,s)),t}const Kd=s=>Pm.get(s);function eb(s,t,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,t),p=Ks(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Ks(d.result),g.oldVersion,g.newVersion,Ks(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const nb=["get","getKey","getAll","getAllKeys","count"],ib=["put","add","delete","clear"],Yd=new Map;function fv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Yd.get(t))return Yd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=ib.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||nb.includes(n)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Yd.set(t,u),u}J1(s=>({...s,get:(t,n,r)=>fv(t,n)||s.get(t,n,r),has:(t,n)=>!!fv(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rb(s){return s.getComponent()?.type==="VERSION"}const om="@firebase/app",dv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new km("@firebase/app"),ab="@firebase/app-compat",ob="@firebase/analytics-compat",lb="@firebase/analytics",ub="@firebase/app-check-compat",cb="@firebase/app-check",hb="@firebase/auth",fb="@firebase/auth-compat",db="@firebase/database",mb="@firebase/data-connect",pb="@firebase/database-compat",gb="@firebase/functions",yb="@firebase/functions-compat",_b="@firebase/installations",vb="@firebase/installations-compat",Eb="@firebase/messaging",Tb="@firebase/messaging-compat",Ab="@firebase/performance",Sb="@firebase/performance-compat",bb="@firebase/remote-config",Rb="@firebase/remote-config-compat",wb="@firebase/storage",Ib="@firebase/storage-compat",Cb="@firebase/firestore",Db="@firebase/ai",Nb="@firebase/firestore-compat",Ob="firebase",Mb="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",Vb={[om]:"fire-core",[ab]:"fire-core-compat",[lb]:"fire-analytics",[ob]:"fire-analytics-compat",[cb]:"fire-app-check",[ub]:"fire-app-check-compat",[hb]:"fire-auth",[fb]:"fire-auth-compat",[db]:"fire-rtdb",[mb]:"fire-data-connect",[pb]:"fire-rtdb-compat",[gb]:"fire-fn",[yb]:"fire-fn-compat",[_b]:"fire-iid",[vb]:"fire-iid-compat",[Eb]:"fire-fcm",[Tb]:"fire-fcm-compat",[Ab]:"fire-perf",[Sb]:"fire-perf-compat",[bb]:"fire-rc",[Rb]:"fire-rc-compat",[wb]:"fire-gcs",[Ib]:"fire-gcs-compat",[Cb]:"fire-fst",[Nb]:"fire-fst-compat",[Db]:"fire-vertex","fire-js":"fire-js",[Ob]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,xb=new Map,um=new Map;function mv(s,t){try{s.container.addComponent(t)}catch(n){is.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Fr(s){const t=s.name;if(um.has(t))return is.debug(`There were multiple attempts to register component ${t}.`),!1;um.set(t,s);for(const n of Zc.values())mv(n,s);for(const n of xb.values())mv(n,s);return!0}function vh(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Pn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Ql("app","Firebase",kb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=Mb;function aT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:lm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Ys.create("bad-app-name",{appName:String(l)});if(n||(n=eT()),!n)throw Ys.create("no-options");const u=Zc.get(l);if(u){if(Hr(n,u.options)&&Hr(r,u.config))return u;throw Ys.create("duplicate-app",{appName:l})}const d=new q1(l);for(const g of um.values())d.addComponent(g);const p=new Pb(n,r,d);return Zc.set(l,p),p}function Um(s=lm){const t=Zc.get(s);if(!t&&s===lm&&eT())return aT();if(!t)throw Ys.create("no-app",{appName:s});return t}function bi(s,t,n){let r=Vb[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),is.warn(d.join(" "));return}Fr(new Ws(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="firebase-heartbeat-database",Lb=1,Pl="firebase-heartbeat-store";let Xd=null;function oT(){return Xd||(Xd=eb(Ub,Lb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ys.create("idb-open",{originalErrorMessage:s.message})})),Xd}async function zb(s){try{const n=(await oT()).transaction(Pl),r=await n.objectStore(Pl).get(lT(s));return await n.done,r}catch(t){if(t instanceof xi)is.warn(t.message);else{const n=Ys.create("idb-get",{originalErrorMessage:t?.message});is.warn(n.message)}}}async function pv(s,t){try{const r=(await oT()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(t,lT(s)),await r.done}catch(n){if(n instanceof xi)is.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n?.message});is.warn(r.message)}}}function lT(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=1024,Bb=30;class qb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Bb){const l=Gb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gv(),{heartbeatsToSend:n,unsentEntries:r}=Hb(this._heartbeatsCache.heartbeats),l=$c(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return is.warn(t),""}}}function gv(){return new Date().toISOString().substring(0,10)}function Hb(s,t=jb){const n=[];let r=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),yv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),yv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Fb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N1()?O1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zb(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function yv(s){return $c(JSON.stringify({version:2,heartbeats:s})).length}function Gb(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(s){Fr(new Ws("platform-logger",t=>new sb(t),"PRIVATE")),Fr(new Ws("heartbeat",t=>new qb(t),"PRIVATE")),bi(om,dv,s),bi(om,dv,"esm2020"),bi("fire-js","")}Qb("");function uT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kb=uT,cT=new Ql("auth","Firebase",uT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new km("@firebase/auth");function Yb(s,...t){Jc.logLevel<=Vt.WARN&&Jc.warn(`Auth (${$r}): ${s}`,...t)}function jc(s,...t){Jc.logLevel<=Vt.ERROR&&Jc.error(`Auth (${$r}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(s,...t){throw Lm(s,...t)}function Ri(s,...t){return Lm(s,...t)}function hT(s,t,n){const r={...Kb(),[t]:n};return new Ql("auth","Firebase",r).create(t,{appName:s.name})}function Xs(s){return hT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return cT.create(s,...t)}function gt(s,t,...n){if(!s)throw Lm(t,...n)}function es(s){const t="INTERNAL ASSERTION FAILED: "+s;throw jc(t),new Error(t)}function ss(s,t){s||es(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){return typeof self<"u"&&self.location?.href||""}function Xb(){return _v()==="http:"||_v()==="https:"}function _v(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xb()||w1()||"connection"in navigator)?navigator.onLine:!0}function Zb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n){this.shortDelay=t,this.longDelay=n,ss(n>t,"Short delay should be less than long delay!"),this.isMobile=S1()||I1()}get(){return $b()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(s,t){ss(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tR=new Yl(3e4,6e4);function Zr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ar(s,t,n,r,l={}){return dT(s,l,async()=>{let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});const p=Kl({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:g,...u};return R1()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Xr(s.emulatorConfig.host)&&(y.credentials="include"),fT.fetch()(await mT(s,s.config.apiHost,n,p),y)})}async function dT(s,t,n){s._canInitEmulator=!1;const r={...Jb,...t};try{const l=new nR(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Mc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Mc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Mc(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw hT(s,T,y);Jn(s,T)}}catch(l){if(l instanceof xi)throw l;Jn(s,"network-request-failed",{message:String(l)})}}async function Eh(s,t,n,r,l={}){const u=await ar(s,t,n,r,l);return"mfaPendingCredential"in u&&Jn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function mT(s,t,n,r){const l=`${t}${n}?${r}`,u=s,d=u.config.emulator?zm(s.config,l):`${s.config.apiScheme}://${l}`;return Wb.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function eR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),tR.get())})}}function Mc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ri(s,t,r);return l.customData._tokenResponse=n,l}function vv(s){return s!==void 0&&s.enterprise!==void 0}class iR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return eR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sR(s,t){return ar(s,"GET","/v2/recaptchaConfig",Zr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(s,t){return ar(s,"POST","/v1/accounts:delete",t)}async function Wc(s,t){return ar(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aR(s,t=!1){const n=ke(s),r=await n.getIdToken(t),l=jm(r);gt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Dl($d(l.auth_time)),issuedAtTime:Dl($d(l.iat)),expirationTime:Dl($d(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function jm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=JE(n);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Ev(s){const t=jm(s);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof xi&&oR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function oR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(s){const t=s.auth,n=await s.getIdToken(),r=await Ul(s,Wc(t,{idToken:n}));gt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?pT(l.providerUserInfo):[],d=cR(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function uR(s){const t=ke(s);await th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cR(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function pT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(s,t){const n=await dT(s,{},async()=>{const r=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await mT(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Xr(s.emulatorConfig.host)&&(g.credentials="include"),fT.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fR(s,t){return ar(s,"POST","/v2/accounts:revokeToken",Zr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ev(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=Ev(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await hR(t,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new $a;return r&&(gt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(gt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(s,t){gt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new lR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return aR(this,t)}reload(){return uR(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Xs(this.auth));const t=await this.getIdToken();return await Ul(this,rR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:H,providerData:Z,stsTokenManager:W}=n;gt(S&&W,t,"internal-error");const J=$a.fromJSON(this.name,W);gt(typeof S=="string",t,"internal-error"),js(r,t.name),js(l,t.name),gt(typeof D=="boolean",t,"internal-error"),gt(typeof H=="boolean",t,"internal-error"),js(u,t.name),js(d,t.name),js(p,t.name),js(g,t.name),js(y,t.name),js(T,t.name);const it=new $n({uid:S,auth:t,email:l,emailVerified:D,displayName:r,isAnonymous:H,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:T});return Z&&Array.isArray(Z)&&(it.providerData=Z.map(dt=>({...dt}))),g&&(it._redirectEventId=g),it}static async _fromIdTokenResponse(t,n,r=!1){const l=new $a;l.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await th(u),u}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];gt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?pT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new $a;p.updateFromIdToken(r);const g=new $n({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;function ns(s){ss(s instanceof Function,"Expected a class definition");let t=Tv.get(s);return t?(ss(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Tv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}gT.type="NONE";const Av=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(s,t,n){return`firebase:${s}:${t}:${n}`}class Za{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Bc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Wc(this.auth,{idToken:t}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Za(ns(Av),t,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||ns(Av);const d=Bc(r,t.config.apiKey,t.name);let p=null;for(const y of n)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const D=await Wc(t,{idToken:T}).catch(()=>{});if(!D)break;S=await $n._fromGetAccountInfoResponse(t,D,T)}else S=$n._fromJSON(t,T);y!==u&&(p=S),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Za(u,t,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new Za(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ET(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AT(t))return"Blackberry";if(ST(t))return"Webos";if(_T(t))return"Safari";if((t.includes("chrome/")||vT(t))&&!t.includes("edge/"))return"Chrome";if(TT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function yT(s=We()){return/firefox\//i.test(s)}function _T(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vT(s=We()){return/crios\//i.test(s)}function ET(s=We()){return/iemobile/i.test(s)}function TT(s=We()){return/android/i.test(s)}function AT(s=We()){return/blackberry/i.test(s)}function ST(s=We()){return/webos/i.test(s)}function Bm(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function dR(s=We()){return Bm(s)&&!!window.navigator?.standalone}function mR(){return C1()&&document.documentMode===10}function bT(s=We()){return Bm(s)||TT(s)||ST(s)||AT(s)||/windows phone/i.test(s)||ET(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(s,t=[]){let n;switch(s){case"Browser":n=Sv(We());break;case"Worker":n=`${Sv(We())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$r}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((d,p)=>{try{const g=t(u);d(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(s,t={}){return ar(s,"GET","/v2/passwordPolicy",Zr(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=6;class _R{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bv(this),this.idTokenSubscription=new bv(this),this.beforeStateQueue=new pR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Wc(this,{idToken:t}),r=await $n._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await th(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Zb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(Xs(this));const n=t?ke(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gR(this),n=new _R(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ql("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ns(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,r,l);return()=>{d=!0,g()}}else{const g=t.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Yb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function uo(s){return ke(s)}class bv{constructor(t){this.auth=t,this.observer=null,this.addObserver=P1(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ER(s){Th=s}function wT(s){return Th.loadJS(s)}function TR(){return Th.recaptchaEnterpriseScript}function AR(){return Th.gapiScript}function SR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class bR{constructor(){this.enterprise=new RR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class RR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const wR="recaptcha-enterprise",IT="NO_RECAPTCHA";class IR{constructor(t){this.type=wR,this.auth=uo(t)}async verify(t="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{sR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new iR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(u,d,p){const g=window.grecaptcha;vv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{d(y)}).catch(()=>{d(IT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bR().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!n&&vv(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=TR();g.length!==0&&(g+=p),wT(g).then(()=>{l(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Rv(s,t,n,r=!1,l=!1){const u=new IR(s);let d;if(l)d=IT;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function wv(s,t,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Rv(s,t,n,n==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Rv(s,t,n,n==="getOobCode");return r(s,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(s,t){const n=vh(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Hr(u,t??{}))return l;Jn(l,"already-initialized")}return n.initialize({options:t})}function DR(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ns);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function NR(s,t,n){const r=uo(s);gt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,u=CT(t),{host:d,port:p}=OR(t),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(Hr(y,r.config.emulator)&&Hr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Xr(d)?(Vm(`${u}//${d}${g}`),xm("Auth",!0)):MR()}function CT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function OR(s){const t=CT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Iv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Iv(d)}}}function Iv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function MR(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(t){return es("not implemented")}_linkToIdToken(t,n){return es("not implemented")}_getReauthenticationResolver(t){return es("not implemented")}}async function VR(s,t){return ar(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(s,t){return Eh(s,"POST","/v1/accounts:signInWithPassword",Zr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(s,t){return Eh(s,"POST","/v1/accounts:signInWithEmailLink",Zr(s,t))}async function PR(s,t){return Eh(s,"POST","/v1/accounts:signInWithEmailLink",Zr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends qm{constructor(t,n,r,l=null){super("password",r),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Ll(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Ll(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wv(t,n,"signInWithPassword",xR);case"emailLink":return kR(t,{email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wv(t,r,"signUpPassword",VR);case"emailLink":return PR(t,{idToken:n,email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(s,t){return Eh(s,"POST","/v1/accounts:signInWithIdp",Zr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="http://localhost";class Gr extends qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Gr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new Gr(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Ja(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ja(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ja(t,n)}buildRequest(){const t={requestUri:UR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Kl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zR(s){const t=Sl(bl(s)).link,n=t?Sl(bl(t)).deep_link_id:null,r=Sl(bl(s)).deep_link_id;return(r?Sl(bl(r)).link:null)||r||n||t||s}class Hm{constructor(t){const n=Sl(bl(t)),r=n.apiKey??null,l=n.oobCode??null,u=LR(n.mode??null);gt(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=zR(t);try{return new Hm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(t,n){return Ll._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Hm.parseLink(n);return gt(r,"argument-error"),Ll._fromEmailAndCode(t,r.code,r.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends DT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Xl{constructor(){super("facebook.com")}static credential(t){return Gr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Gr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Xl{constructor(){super("github.com")}static credential(t){return Gr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Xl{constructor(){super("twitter.com")}static credential(t,n){return Gr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const u=await $n._fromIdTokenResponse(t,r,l),d=Cv(r);return new no({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=Cv(r);return new no({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function Cv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends xi{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new eh(t,n,r,l)}}function NT(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(s,u,t,r):u})}async function jR(s,t,n=!1){const r=await Ul(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return no._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(s,t,n=!1){const{auth:r}=s;if(Pn(r.app))return Promise.reject(Xs(r));const l="reauthenticate";try{const u=await Ul(s,NT(r,l,t,s),n);gt(u.idToken,r,"internal-error");const d=jm(u.idToken);gt(d,r,"internal-error");const{sub:p}=d;return gt(s.uid===p,r,"user-mismatch"),no._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Jn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(s,t,n=!1){if(Pn(s.app))return Promise.reject(Xs(s));const r="signIn",l=await NT(s,r,t),u=await no._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function qR(s,t){return OT(uo(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(s){const t=uo(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function FR(s,t,n){return Pn(s.app)?Promise.reject(Xs(s)):qR(ke(s),co.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HR(s),r})}function GR(s,t,n,r){return ke(s).onIdTokenChanged(t,n,r)}function QR(s,t,n){return ke(s).beforeAuthStateChanged(t,n)}function KR(s,t,n,r){return ke(s).onAuthStateChanged(t,n,r)}function YR(s){return ke(s).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1e3,$R=10;class VT extends MT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);mR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,$R):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}VT.type="LOCAL";const ZR=VT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends MT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}xT.type="SESSION";const kT=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new Ah(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,u)),g=await JR(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=Fm("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(D.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function tw(s){wi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function ew(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nw(){return navigator?.serviceWorker?.controller||null}function iw(){return PT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firebaseLocalStorageDb",sw=1,ih="firebaseLocalStorage",LT="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sh(s,t){return s.transaction([ih],t?"readwrite":"readonly").objectStore(ih)}function rw(){const s=indexedDB.deleteDatabase(UT);return new $l(s).toPromise()}function fm(){const s=indexedDB.open(UT,sw);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ih,{keyPath:LT})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ih)?t(r):(r.close(),await rw(),t(await fm()))})})}async function Dv(s,t,n){const r=Sh(s,!0).put({[LT]:t,value:n});return new $l(r).toPromise()}async function aw(s,t){const n=Sh(s,!1).get(t),r=await new $l(n).toPromise();return r===void 0?null:r.value}function Nv(s,t){const n=Sh(s,!0).delete(t);return new $l(n).toPromise()}const ow=800,lw=3;class zT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>lw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(iw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ew(),!this.activeServiceWorker)return;this.sender=new WR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fm();return await Dv(t,nh,"1"),await Nv(t,nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Dv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>aw(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Sh(l,!1).getAll();return new $l(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zT.type="LOCAL";const uw=zT;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(s,t){return t?ns(t):(gt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends qm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ja(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function hw(s){return OT(s.auth,new Gm(s),s.bypassAuthState)}function fw(s){const{auth:t,user:n}=s;return gt(n,t,"internal-error"),BR(n,new Gm(s),s.bypassAuthState)}async function dw(s){const{auth:t,user:n}=s;return gt(n,t,"internal-error"),jR(n,new Gm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,n,r,l,u=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hw;case"linkViaPopup":case"linkViaRedirect":return dw;case"reauthViaPopup":case"reauthViaRedirect":return fw;default:Jn(this.auth,"internal-error")}}resolve(t){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new Yl(2e3,1e4);class Xa extends jT{constructor(t,n,r,l,u){super(t,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const t=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mw.get())};t()}}Xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="pendingRedirect",qc=new Map;class gw extends jT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const r=await yw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yw(s,t){const n=Ew(t),r=vw(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function _w(s,t){qc.set(s._key(),t)}function vw(s){return ns(s._redirectPersistence)}function Ew(s){return Bc(pw,s.config.apiKey,s.name)}async function Tw(s,t,n=!1){if(Pn(s.app))return Promise.reject(Xs(s));const r=uo(s),l=cw(r,t),d=await new gw(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=600*1e3;class Sw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!BT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ri(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Aw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ov(t))}saveEventToCache(t){this.cachedEventUids.add(Ov(t)),this.lastProcessedEventTime=Date.now()}}function Ov(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function BT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function bw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(s,t={}){return ar(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iw=/^https?/;async function Cw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Rw(s);for(const n of t)try{if(Dw(n))return}catch{}Jn(s,"unauthorized-domain")}function Dw(s){const t=cm(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!Iw.test(n))return!1;if(ww.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Yl(3e4,6e4);function Mv(){const s=wi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Ow(s){return new Promise((t,n)=>{function r(){Mv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Mv(),n(Ri(s,"network-request-failed"))},timeout:Nw.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)r();else{const l=SR("iframefcb");return wi()[l]=()=>{gapi.load?r():n(Ri(s,"network-request-failed"))},wT(`${AR()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Hc=null,t})}let Hc=null;function Mw(s){return Hc=Hc||Ow(s),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Yl(5e3,15e3),xw="__/auth/iframe",kw="emulator/auth/iframe",Pw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lw(s){const t=s.config;gt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?zm(t,kw):`https://${s.config.authDomain}/${xw}`,r={apiKey:t.apiKey,appName:s.name,v:$r},l=Uw.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Kl(r).slice(1)}`}async function zw(s){const t=await Mw(s),n=wi().gapi;return gt(n,s,"internal-error"),t.open({where:document.body,url:Lw(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pw,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ri(s,"network-request-failed"),p=wi().setTimeout(()=>{u(d)},Vw.get());function g(){wi().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bw=500,qw=600,Hw="_blank",Fw="http://localhost";class Vv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gw(s,t,n,r=Bw,l=qw){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...jw,width:r.toString(),height:l.toString(),top:u,left:d},y=We().toLowerCase();n&&(p=vT(y)?Hw:n),yT(y)&&(t=t||Fw,g.scrollbars="yes");const T=Object.entries(g).reduce((D,[H,Z])=>`${D}${H}=${Z},`,"");if(dR(y)&&p!=="_self")return Qw(t||"",p),new Vv(null);const S=window.open(t||"",p,T);gt(S,s,"popup-blocked");try{S.focus()}catch{}return new Vv(S)}function Qw(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="__/auth/handler",Yw="emulator/auth/handler",Xw=encodeURIComponent("fac");async function xv(s,t,n,r,l,u){gt(s.config.authDomain,s,"auth-domain-config-required"),gt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:$r,eventId:l};if(t instanceof DT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",k1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Xl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${Xw}=${encodeURIComponent(g)}`:"";return`${$w(s)}?${Kl(p).slice(1)}${y}`}function $w({config:s}){return s.emulator?zm(s,Yw):`https://${s.authDomain}/${Kw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="webStorageSupport";class Zw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=Tw,this._overrideRedirectResult=_w}async _openPopup(t,n,r,l){ss(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await xv(t,n,r,cm(),l);return Gw(t,u,Fm())}async _openRedirect(t,n,r,l){await this._originValidation(t);const u=await xv(t,n,r,cm(),l);return tw(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(ss(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await zw(t),r=new Sw(t);return n.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Zd,{type:Zd},l=>{const u=l?.[0]?.[Zd];u!==void 0&&n(!!u),Jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Cw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return bT()||_T()||Bm()}}const Jw=Zw;var kv="@firebase/auth",Pv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eI(s){Fr(new Ws("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RT(s)},y=new vR(r,l,u,g);return DR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Fr(new Ws("auth-internal",t=>{const n=uo(t.getProvider("auth").getImmediate());return(r=>new Ww(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(kv,Pv,tI(s)),bi(kv,Pv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=300,iI=nT("authIdTokenMaxAge")||nI;let Uv=null;const sI=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iI)return;const l=n?.token;Uv!==l&&(Uv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function rI(s=Um()){const t=vh(s,"auth");if(t.isInitialized())return t.getImmediate();const n=CR(s,{popupRedirectResolver:Jw,persistence:[uw,ZR,kT]}),r=nT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=sI(u.toString());QR(n,d,()=>d(n.currentUser)),GR(n,p=>d(p))}}const l=WE("auth");return l&&NR(n,`http://${l}`),n}function aI(){return document.getElementsByTagName("head")?.[0]??document}ER({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const u=Ri("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",aI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eI("Browser");var oI="firebase",lI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(oI,lI,"app");var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,qT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(R,b){function I(){}I.prototype=b.prototype,R.F=b.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(V,N,P){for(var w=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)w[Gt-2]=arguments[Gt];return b.prototype[N].apply(V,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,b,I){I||(I=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=R.g[0],I=R.g[1],N=R.g[2];let P=R.g[3],w;w=b+(P^I&(N^P))+V[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=P+(N^b&(I^N))+V[1]+3905402710&4294967295,P=b+(w<<12&4294967295|w>>>20),w=N+(I^P&(b^I))+V[2]+606105819&4294967295,N=P+(w<<17&4294967295|w>>>15),w=I+(b^N&(P^b))+V[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(P^I&(N^P))+V[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=P+(N^b&(I^N))+V[5]+1200080426&4294967295,P=b+(w<<12&4294967295|w>>>20),w=N+(I^P&(b^I))+V[6]+2821735955&4294967295,N=P+(w<<17&4294967295|w>>>15),w=I+(b^N&(P^b))+V[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(P^I&(N^P))+V[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=P+(N^b&(I^N))+V[9]+2336552879&4294967295,P=b+(w<<12&4294967295|w>>>20),w=N+(I^P&(b^I))+V[10]+4294925233&4294967295,N=P+(w<<17&4294967295|w>>>15),w=I+(b^N&(P^b))+V[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(P^I&(N^P))+V[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=P+(N^b&(I^N))+V[13]+4254626195&4294967295,P=b+(w<<12&4294967295|w>>>20),w=N+(I^P&(b^I))+V[14]+2792965006&4294967295,N=P+(w<<17&4294967295|w>>>15),w=I+(b^N&(P^b))+V[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(N^P&(I^N))+V[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=P+(I^N&(b^I))+V[6]+3225465664&4294967295,P=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(P^b))+V[11]+643717713&4294967295,N=P+(w<<14&4294967295|w>>>18),w=I+(P^b&(N^P))+V[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^P&(I^N))+V[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=P+(I^N&(b^I))+V[10]+38016083&4294967295,P=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(P^b))+V[15]+3634488961&4294967295,N=P+(w<<14&4294967295|w>>>18),w=I+(P^b&(N^P))+V[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^P&(I^N))+V[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=P+(I^N&(b^I))+V[14]+3275163606&4294967295,P=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(P^b))+V[3]+4107603335&4294967295,N=P+(w<<14&4294967295|w>>>18),w=I+(P^b&(N^P))+V[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^P&(I^N))+V[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=P+(I^N&(b^I))+V[2]+4243563512&4294967295,P=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(P^b))+V[7]+1735328473&4294967295,N=P+(w<<14&4294967295|w>>>18),w=I+(P^b&(N^P))+V[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(I^N^P)+V[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=P+(b^I^N)+V[8]+2272392833&4294967295,P=b+(w<<11&4294967295|w>>>21),w=N+(P^b^I)+V[11]+1839030562&4294967295,N=P+(w<<16&4294967295|w>>>16),w=I+(N^P^b)+V[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^P)+V[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=P+(b^I^N)+V[4]+1272893353&4294967295,P=b+(w<<11&4294967295|w>>>21),w=N+(P^b^I)+V[7]+4139469664&4294967295,N=P+(w<<16&4294967295|w>>>16),w=I+(N^P^b)+V[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^P)+V[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=P+(b^I^N)+V[0]+3936430074&4294967295,P=b+(w<<11&4294967295|w>>>21),w=N+(P^b^I)+V[3]+3572445317&4294967295,N=P+(w<<16&4294967295|w>>>16),w=I+(N^P^b)+V[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^P)+V[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=P+(b^I^N)+V[12]+3873151461&4294967295,P=b+(w<<11&4294967295|w>>>21),w=N+(P^b^I)+V[15]+530742520&4294967295,N=P+(w<<16&4294967295|w>>>16),w=I+(N^P^b)+V[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(N^(I|~P))+V[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=P+(I^(b|~N))+V[7]+1126891415&4294967295,P=b+(w<<10&4294967295|w>>>22),w=N+(b^(P|~I))+V[14]+2878612391&4294967295,N=P+(w<<15&4294967295|w>>>17),w=I+(P^(N|~b))+V[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~P))+V[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=P+(I^(b|~N))+V[3]+2399980690&4294967295,P=b+(w<<10&4294967295|w>>>22),w=N+(b^(P|~I))+V[10]+4293915773&4294967295,N=P+(w<<15&4294967295|w>>>17),w=I+(P^(N|~b))+V[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~P))+V[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=P+(I^(b|~N))+V[15]+4264355552&4294967295,P=b+(w<<10&4294967295|w>>>22),w=N+(b^(P|~I))+V[6]+2734768916&4294967295,N=P+(w<<15&4294967295|w>>>17),w=I+(P^(N|~b))+V[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~P))+V[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=P+(I^(b|~N))+V[11]+3174756917&4294967295,P=b+(w<<10&4294967295|w>>>22),w=N+(b^(P|~I))+V[2]+718787259&4294967295,N=P+(w<<15&4294967295|w>>>17),w=I+(P^(N|~b))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+P&4294967295}r.prototype.v=function(R,b){b===void 0&&(b=R.length);const I=b-this.blockSize,V=this.C;let N=this.h,P=0;for(;P<b;){if(N==0)for(;P<=I;)l(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<b;)if(V[N++]=R.charCodeAt(P++),N==this.blockSize){l(this,V),N=0;break}}else for(;P<b;)if(V[N++]=R[P++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)R[b++]=this.g[I]>>>V&255;return R};function u(R,b){var I=p;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=b(R)}function d(R,b){this.h=b;const I=[];let V=!0;for(let N=R.length-1;N>=0;N--){const P=R[N]|0;V&&P==b||(I[N]=P,V=!1)}this.g=I}var p={};function g(R){return-128<=R&&R<128?u(R,function(b){return new d([b|0],b<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return S;if(R<0)return J(y(-R));const b=[];let I=1;for(let V=0;R>=I;V++)b[V]=R/I|0,I*=4294967296;return new d(b,0)}function T(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return J(T(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let V=S;for(let P=0;P<R.length;P+=8){var N=Math.min(8,R.length-P);const w=parseInt(R.substring(P,P+N),b);N<8?(N=y(Math.pow(b,N)),V=V.j(N).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var S=g(0),D=g(1),H=g(16777216);s=d.prototype,s.m=function(){if(W(this))return-J(this).m();let R=0,b=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);R+=(V>=0?V:4294967296+V)*b,b*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Z(this))return"0";if(W(this))return"-"+J(this).toString(R);const b=y(Math.pow(R,6));var I=this;let V="";for(;;){const N=Tt(I,b).g;I=it(I,N.j(b));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=N,Z(I))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Z(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function W(R){return R.h==-1}s.l=function(R){return R=it(this,R),W(R)?-1:Z(R)?0:1};function J(R){const b=R.g.length,I=[];for(let V=0;V<b;V++)I[V]=~R.g[V];return new d(I,~R.h).add(D)}s.abs=function(){return W(this)?J(this):this},s.add=function(R){const b=Math.max(this.g.length,R.g.length),I=[];let V=0;for(let N=0;N<=b;N++){let P=V+(this.i(N)&65535)+(R.i(N)&65535),w=(P>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);V=w>>>16,P&=65535,w&=65535,I[N]=w<<16|P}return new d(I,I[I.length-1]&-2147483648?-1:0)};function it(R,b){return R.add(J(b))}s.j=function(R){if(Z(this)||Z(R))return S;if(W(this))return W(R)?J(this).j(J(R)):J(J(this).j(R));if(W(R))return J(this.j(J(R)));if(this.l(H)<0&&R.l(H)<0)return y(this.m()*R.m());const b=this.g.length+R.g.length,I=[];for(var V=0;V<2*b;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<R.g.length;N++){const P=this.i(V)>>>16,w=this.i(V)&65535,Gt=R.i(N)>>>16,he=R.i(N)&65535;I[2*V+2*N]+=w*he,dt(I,2*V+2*N),I[2*V+2*N+1]+=P*he,dt(I,2*V+2*N+1),I[2*V+2*N+1]+=w*Gt,dt(I,2*V+2*N+1),I[2*V+2*N+2]+=P*Gt,dt(I,2*V+2*N+2)}for(R=0;R<b;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=b;R<2*b;R++)I[R]=0;return new d(I,0)};function dt(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function lt(R,b){this.g=R,this.h=b}function Tt(R,b){if(Z(b))throw Error("division by zero");if(Z(R))return new lt(S,S);if(W(R))return b=Tt(J(R),b),new lt(J(b.g),J(b.h));if(W(b))return b=Tt(R,J(b)),new lt(J(b.g),b.h);if(R.g.length>30){if(W(R)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var I=D,V=b;V.l(R)<=0;)I=vt(I),V=vt(V);var N=mt(I,1),P=mt(V,1);for(V=mt(V,2),I=mt(I,2);!Z(V);){var w=P.add(V);w.l(R)<=0&&(N=N.add(I),P=w),V=mt(V,1),I=mt(I,1)}return b=it(R,N.j(b)),new lt(N,b)}for(N=S;R.l(b)>=0;){for(I=Math.max(1,Math.floor(R.m()/b.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=y(I),w=P.j(b);W(w)||w.l(R)>0;)I-=V,P=y(I),w=P.j(b);Z(P)&&(P=D),N=N.add(P),R=it(R,w)}return new lt(N,R)}s.B=function(R){return Tt(this,R).h},s.and=function(R){const b=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)&R.i(V);return new d(I,this.h&R.h)},s.or=function(R){const b=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)|R.i(V);return new d(I,this.h|R.h)},s.xor=function(R){const b=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)^R.i(V);return new d(I,this.h^R.h)};function vt(R){const b=R.g.length+1,I=[];for(let V=0;V<b;V++)I[V]=R.i(V)<<1|R.i(V-1)>>>31;return new d(I,R.h)}function mt(R,b){const I=b>>5;b%=32;const V=R.g.length-I,N=[];for(let P=0;P<V;P++)N[P]=b>0?R.i(P+I)>>>b|R.i(P+I+1)<<32-b:R.i(P+I);return new d(N,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,$s=d}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HT,Rl,FT,Fc,dm,GT,QT,KT;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)t:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break t;v=v[U]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,B){for(var tt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)tt[Rt-2]=arguments[Rt];return m.prototype[U].apply(A,tt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function H(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function Z(c,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const B=U.length||0;c.length=v+B;for(let tt=0;tt<B;tt++)c[v+tt]=U[tt]}else c.push(U)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(c){d.setTimeout(()=>{throw c},0)}function it(){var c=R;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,v){const A=lt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new W(()=>new Tt,c=>c.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,mt=!1,R=new dt,b=()=>{const c=Promise.resolve(void 0);vt=()=>{c.then(I)}};function I(){for(var c;c=it();){try{c.h.call(c.g)}catch(v){J(v)}var m=lt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}mt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function Gt(c,m){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(Gt,N),Gt.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Gt.Z.h.call(this)},Gt.prototype.h=function(){Gt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(c,m,v,A,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++F,this.da=this.fa=!1}function ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pt(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Qt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function at(c){this.src=c,this.g={},this.h=0}at.prototype.add=function(c,m,v,A,U){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const tt=It(c,m,A,U);return tt>-1?(m=c[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!A,U),m.fa=v,c.push(m)),m};function Et(c,m){const v=m.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(A,U,1),B&&(ct(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function It(c,m,v,A){for(let U=0;U<c.length;++U){const B=c[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return U}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ne={};function re(c,m,v,A,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(c,m[B],v,A,U);return null}return v=vo(v),c&&c[he]?c.J(m,v,p(A)?!!A.capture:!1,U):cr(c,m,v,!1,A,U)}function cr(c,m,v,A,U,B){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let Rt=hr(c);if(Rt||(c[Lt]=Rt=new at(c)),v=Rt.add(m,v,A,tt,B),v.proxy)return v;if(A=ta(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)P||(U=tt),U===void 0&&(U=!1),c.addEventListener(m.toString(),A,U);else if(c.attachEvent)c.attachEvent(ti(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function c(v){return m.call(c.src,c.listener,v)}const m=yo;return c}function ea(c,m,v,A,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)ea(c,m[B],v,A,U);else A=p(A)?!!A.capture:!!A,v=vo(v),c&&c[he]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=It(m,v,A,U),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=hr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=It(m,v,A,U)),(v=c>-1?m[c]:null)&&na(v))}function na(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[he])Et(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(ti(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=hr(m))?(Et(v,c),v.h==0&&(v.src=null,m[Lt]=null)):ct(c)}}}function ti(c){return c in Ne?Ne[c]:Ne[c]="on"+c}function yo(c,m){if(c.da)c=!0;else{m=new Gt(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&na(c),c=v.call(A,m)}return c}function hr(c){return c=c[Lt],c instanceof at?c:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(c){return typeof c=="function"?c:(c[_o]||(c[_o]=function(m){return c.handleEvent(m)}),c[_o])}function ye(){V.call(this),this.i=new at(this),this.M=this,this.G=null}S(ye,V),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(c,m,v,A){ea(this,c,m,v,A)};function Oe(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new N(m,c);else if(m instanceof N)m.target=m.target||c;else{var U=m;m=new N(A,c),nt(m,U)}U=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],U=os(B,A,!0,m)&&U;if(B=m.g=c,U=os(B,A,!0,m)&&U,U=os(B,A,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],U=os(B,A,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)ct(v[A]);delete c.g[m],c.h--}}this.G=null},ye.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},ye.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function os(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Rt=tt.listener,de=tt.ha||tt.src;tt.fa&&Et(c.i,tt),U=Rt.call(de,A)!==!1&&U}}return U&&!A.defaultPrevented}function jh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function iu(c){c.g=jh(()=>{c.g=null,c.i&&(c.i=!1,iu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(c){V.call(this),this.h=c,this.g={}}S(fr,V);var Eo=[];function To(c){Pt(c.g,function(m,v){this.g.hasOwnProperty(v)&&na(m)},c),c.g={}}fr.prototype.N=function(){fr.Z.N.call(this),To(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,Bh=d.JSON.parse,su=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ru(){}function au(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){N.call(this,"d")}S(je,N);function Sn(){N.call(this,"c")}S(Sn,N);var fe={},ou=null;function ia(){return ou=ou||new ye}fe.Ia="serverreachability";function lu(c){N.call(this,fe.Ia,c)}S(lu,N);function ei(c){const m=ia();Oe(m,new lu(m))}fe.STAT_EVENT="statevent";function dr(c,m){N.call(this,fe.STAT_EVENT,c),this.stat=m}S(dr,N);function _e(c){const m=ia();Oe(m,new dr(m,c))}fe.Ja="timingevent";function ni(c,m){N.call(this,fe.Ja,c),this.size=m}S(ni,N);function ii(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function qh(c,m,v,A,U,B){c.info(function(){if(c.g)if(B){var tt="",Rt=B.split("&");for(let qt=0;qt<Rt.length;qt++){var de=Rt[qt].split("=");if(de.length>1){const ae=de[0];de=de[1];const In=ae.split("_");tt=In.length>=2&&In[1]=="type"?tt+(ae+"="+de+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function uu(c,m,v,A,U,B,tt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+tt})}function si(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hh(c,v)+(A?" "+A:"")})}function mr(c,m){c.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Hh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return ls(B)}catch{return m}}var pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function gr(){}S(gr,ru),gr.prototype.g=function(){return new XMLHttpRequest},So=new gr;function Pi(c){return encodeURIComponent(String(c))}function cu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function jn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var ve={},Pe={};function ri(c,m,v){c.M=1,c.A=yr(Te(m)),c.u=v,c.R=!0,sa(c,null)}function sa(c,m){c.F=Date.now(),ai(c),c.B=Te(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),la(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Bn,c.g=Ru(c.j,v?m:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Eo[0]=U.toString()),U=Eo);for(let B=0;B<U.length;B++){const tt=re(v,U[B],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ei(),qh(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Fn(c)==3?m.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)t:{const Rt=Fn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Rt!=4||de==7||(de==8||qt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=Fh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var B=A;break e}}B=null}if(c=B)si(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,_e(12),dn(this),bn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=fu(this,v),ae==Pe){Rt==4&&(this.m=4,_e(14),c=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),si(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else si(this.i,this.l,ae,null),li(this,ae);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),c=!1),this.o=this.o&&c,!c)si(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(tt),tt.P=!0,_e(11))}}else si(this.i,this.l,v,null),li(this,v);Rt==4&&dn(this),this.o&&!this.K&&(Rt==4?Tu(this.j,this):(this.o=!1,ai(this)))}else Li(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),bn(this)}}}catch{}finally{}};function Fh(c){if(!hu(c))return c.g.la();const m=Be(c.g);if(m==="")return"";let v="";const A=m.length,U=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),bn(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<A;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(U&&B==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function hu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function fu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Pe:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?Pe:(m=m.slice(A,A+v),c.C=A+v,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function ai(c){c.T=Date.now()+c.H,ra(c,c.H)}function ra(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(y(c.aa,c),m)}function oi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(mr(this.i,this.B),this.M!=2&&(ei(),_e(17)),dn(this),this.m=2,bn(this)):ra(this,this.T-c)};function bn(c){c.j.I==0||c.K||Tu(c.j,c)}function dn(c){oi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,To(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function li(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)da(v),gs(v);else break t;br(v),_e(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((c.L||v.g==c)&&da(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let qt=U[m];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const In=qt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const yi=qt[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Gn=qt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(A=1.5*Gn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=c.g;if(Qn){const Rr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var B=A.h;B.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(wo(B,B.h),B.h=null))}if(A.G){const ma=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(A.wa=ma,Kt(A.J,A.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=c;if(A.na=bu(A,A.L?A.ba:null,A.W),tt.L){Io(A.h,tt);var Rt=tt,de=A.O;de&&(Rt.H=de),Rt.D&&(oi(Rt),ai(Rt)),A.g=tt}else vu(A);v.i.length>0&&pi(v)}else qt[0]!="stop"&&qt[0]!="close"||gi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?gi(v,7):Po(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ei(4)}catch{}}var Ee=class{constructor(c,m){this.g=c,this.map=m}};function bo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function wo(c,m){c.g?c.g.add(m):c.h=m}function Io(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return H(c.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,B=null;A>=0?(U=c[v].substring(0,A),B=c[v].substring(A+1)):U=c[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof mn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,us(this,c.u),this.h=c.h,Do(this,yu(c.i)),this.m=c.m):c&&(m=String(c).match(du))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),us(this,m[4]),this.h=hi(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}mn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(_r(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(_r(m,oa,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_r(v,v.charAt(0)=="/"?No:mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_r(v,pu)),c.join("")},mn.prototype.resolve=function(c){const m=Te(this);let v=!!c.j;v?Ue(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)us(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let tt=0;tt<U.length;){const Rt=U[tt++];Rt=="."?A&&tt==U.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&tt==U.length&&B.push("")):(B.push(Rt),A=!0)}A=B.join("/")}else A=U}return v?m.h=A:v=c.i.toString()!=="",v?Do(m,yu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Te(c){return new mn(c)}function Ue(c,m,v){c.j=v?hi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function us(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Do(c,m,v){m instanceof hs?(c.i=m,ua(c.i,c.l)):(v||(m=_r(m,cs)),c.i=new hs(m,c.l))}function Kt(c,m,v){c.i.set(m,v)}function yr(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _r(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oa=/[#\/\?@]/g,mu=/[#\?:]/g,No=/[#\?]/g,cs=/[#\?@]/g,pu=/#/g;function hs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&aa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=hs.prototype,s.add=function(c,m){rn(this),this.i=null,c=fs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function gu(c,m){rn(c),m=fs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Oo(c,m){return rn(c),m=fs(c,m),c.g.has(m)}s.forEach=function(c,m){rn(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(m,U,A,this)},this)},this)};function Mo(c,m){rn(c);let v=[];if(typeof m=="string")Oo(c,m)&&(v=v.concat(c.g.get(fs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return rn(this),this.i=null,c=fs(this,c),Oo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Mo(this,c),c.length>0?String(c[0]):m):m};function la(c,m,v){gu(c,m),v.length>0&&(c.i=null,c.g.set(fs(c,m),H(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const U=Pi(v);v=Mo(this,v);for(let B=0;B<v.length;B++){let tt=U;v[B]!==""&&(tt+="="+Pi(v[B])),c.push(tt)}}return this.i=c.join("&")};function yu(c){const m=new hs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function fs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ua(c,m){m&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(gu(this,A),la(this,U,v))},c)),c.j=m}function qn(c,m){const v=new zn;if(d.Image){const A=new Image;A.onload=T(Rn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Rn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Rn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Rn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Vo(c,m){const v=new zn,A=new AbortController,U=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(B=>{clearTimeout(U),B.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Rn(v,"TestPingServer: error",!1,m)})}function Rn(c,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function ds(){this.g=new su}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(fi,ru),fi.prototype.g=function(){return new vr(this.i,this.h)};function vr(c,m){ye.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(vr,ye),s=vr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Hn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ms(this):Hn(this),this.readyState==3&&ca(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,ms(this))},s.Na=function(c){this.g&&(this.response=c,ms(this))},s.ga=function(){this.g&&ms(this)};function ms(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wn(c){let m="";return Pt(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Er(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=wn(v),typeof c=="string"?v!=null&&Pi(v):Kt(c,m,v))}function $t(c){ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($t,ye);var di=/^https?$/i,xo=["POST","PUT"];s=$t.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){Tr(this,B);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(xo,m,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Tr(this,B)}};function Tr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,ko(c),Ui(c)}function ko(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let tt=String(c.D).match(du)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),A=!di.test(tt?tt.toLowerCase():"")}v=A}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var U=Fn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",ko(c)}}finally{Ui(c)}}}}function Ui(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Bh(m)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const m={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(w(c[A]))continue;var v=cu(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Qt(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function ps(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(c&&c.concurrentRequestLimit),this.Ba=new ds,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ps.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,A){_e(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=bu(this,null,this.W),pi(this)};function Po(c){if(ha(c),c.I==3){var m=c.V++,v=Te(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Sr(c,v),m=new jn(c,c.j,m),m.M=2,m.A=yr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}Su(c)}function gs(c){c.g&&(Lo(c),c.g.cancel(),c.g=null)}function ha(c){gs(c),c.v&&(d.clearTimeout(c.v),c.v=null),da(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function pi(c){if(!Ro(c.h)&&!c.m){c.m=!0;var m=c.Ea;vt||b(),mt||(vt(),mt=!0),R.add(m,c),c.D=0}}function fa(c,m){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(y(c.Ea,c,m),Au(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new jn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=_u(this,U,m),v=Te(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Sr(this,v),B&&(this.R?m="headers="+Pi(wn(B))+"&"+m:this.u&&Er(v,this.u,B)),wo(this.h,U),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),U.U=!0,ri(U,v,null)):ri(U,v,m),this.I=2}}else this.I==3&&(c?Uo(this,c):this.i.length==0||Ro(this.h)||Uo(this))};function Uo(c,m){var v;m?v=m.l:v=c.V++;const A=Te(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),Sr(c,A),c.u&&c.o&&Er(A,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=_u(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),wo(c.h,v),ri(v,A,m)}function Sr(c,m){c.H&&Pt(c.H,function(v,A){Kt(m,A,v)}),c.l&&Pt({},function(v,A){Kt(m,A,v)})}function _u(c,m,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let Rt=-1;for(;;){const de=["count="+v];Rt==-1?v>0?(Rt=U[0].g,de.push("ofs="+Rt)):Rt=0:de.push("ofs="+Rt);let qt=!0;for(let ae=0;ae<v;ae++){var B=U[ae].g;const In=U[ae].map;if(B-=Rt,B<0)Rt=Math.max(0,U[ae].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var tt=In instanceof Map?In:Object.entries(In);for(const[yi,Gn]of tt){let Qn=Gn;p(Gn)&&(Qn=ls(Gn)),de.push(B+yi+"="+encodeURIComponent(Qn))}}catch(yi){throw de.push(B+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(In)}}if(qt){tt=de.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),m.G=c,tt}function vu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;vt||b(),mt||(vt(),mt=!0),R.add(m,c),c.A=0}}function br(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(y(c.Da,c),Au(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),gs(this),Eu(this))};function Lo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Eu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Te(c.na);Kt(m,"RID","rpc"),Kt(m,"SID",c.M),Kt(m,"AID",c.K),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(m,"TO",c.ia),Kt(m,"TYPE","xmlhttp"),Sr(c,m),c.u&&c.o&&Er(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=yr(Te(m)),v.u=null,v.R=!0,sa(v,c)}s.Va=function(){this.C!=null&&(this.C=null,gs(this),br(this),_e(19))};function da(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Tu(c,m){var v=null;if(c.g==m){da(c),Lo(c),c.g=null;var A=2}else if(ci(c.h,m))v=m.G,Io(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;A=ia(),Oe(A,new ni(A,v)),pi(c)}else vu(c);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&fa(c,m)||A==2&&br(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),U){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function Au(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function gi(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),A=c.Ua;const U=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(A,"https"),yr(A),U?qn(A.toString(),v):Vo(A.toString(),v)}else _e(2);c.I=0,c.l&&c.l.pa(m),Su(c),ha(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Su(c){if(c.I=0,c.ja=[],c.l){const m=Co(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.oa()}}function bu(c,m,v){var A=v instanceof mn?Te(v):new mn(v);if(A.g!="")m&&(A.g=m+"."+A.g),us(A,A.u);else{var U=d.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new mn(null);A&&Ue(B,A),m&&(B.g=m),U&&us(B,U),v&&(B.h=v),A=B}return v=c.G,m=c.wa,v&&m&&Kt(A,v,m),Kt(A,"VER",c.ka),Sr(c,A),A}function Ru(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $t(new fi({ab:v})):new $t(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ys(){}ys.prototype.g=function(c,m){return new en(c,m)};function en(c,m){ye.call(this),this.g=new ps(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new zi(this)}S(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Po(this.g)},en.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ls(c),c=v);m.i.push(new Ee(m.Ya++,c)),m.I==3&&pi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,en.Z.N.call(this)};function Iu(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Iu,je);function Cu(){Sn.call(this),this.status=1}S(Cu,Sn);function zi(c){this.g=c}S(zi,wu),zi.prototype.ra=function(){Oe(this.g,"a")},zi.prototype.qa=function(c){Oe(this.g,new Iu(c))},zi.prototype.pa=function(c){Oe(this.g,new Cu)},zi.prototype.oa=function(){Oe(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,KT=function(){return new ys},QT=function(){return ia()},GT=fe,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,Fc=pr,Ao.COMPLETE="complete",FT=Ao,au.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Rl=au,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,HT=$t}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const zv="@firebase/firestore",jv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new km("@firebase/firestore");function Ga(){return Qr.logLevel}function rt(s,...t){if(Qr.logLevel<=Vt.DEBUG){const n=t.map(Qm);Qr.debug(`Firestore (${ho}): ${s}`,...n)}}function rs(s,...t){if(Qr.logLevel<=Vt.ERROR){const n=t.map(Qm);Qr.error(`Firestore (${ho}): ${s}`,...n)}}function io(s,...t){if(Qr.logLevel<=Vt.WARN){const n=t.map(Qm);Qr.warn(`Firestore (${ho}): ${s}`,...n)}}function Qm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,YT(s,r,n)}function YT(s,t,n){let r=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw rs(r),new Error(r)}function Ft(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||YT(t,l,r)}function bt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends xi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ze.UNAUTHENTICATED)))}shutdown(){}}class cI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hI{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zs)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new XT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class fI{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new fI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const r=u=>{u.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Bv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=pI(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=t.charAt(l[u]%62))}return r}}function xt(s,t){return s<t?-1:s>t?1:0}function mm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=t.charAt(r);if(l!==u)return Jd(l)===Jd(u)?xt(l,u):Jd(l)?1:-1}return xt(s.length,t.length)}const gI=55296,yI=57343;function Jd(s){const t=s.charCodeAt(0);return t>=gI&&t<=yI}function so(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="__name__";class Ai{constructor(t,n,r){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&yt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const u=Ai.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const r=Ai.isNumericId(t),l=Ai.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(n)):mm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $s.fromString(t.substring(4,t.length-2))}}class ee extends Ai{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new st(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const _I=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ai{construct(t,n,r){return new Ke(t,n,r)}static isValidIdentifier(t){return _I.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qv}static keyField(){return new Ke([qv])}static fromServerFormat(t){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new st(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new st(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new st(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ee.fromString(t))}static fromName(t){return new ft(ee.fromString(t).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(s,t,n){if(!n)throw new st(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function vI(s,t,n,r){if(t===!0&&r===!0)throw new st(Y.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Hv(s){if(!ft.isDocumentKey(s))throw new st(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Fv(s){if(ft.isDocumentKey(s))throw new st(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ZT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function bh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Kr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new st(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bh(s);throw new st(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(s,t){const n={typeString:s};return t&&(n.value=t),n}function Zl(s,t){if(!ZT(s))throw new st(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new st(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=-62135596800,Qv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Qv);return new se(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Gv)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Gv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new se(0,0))}static max(){return new At(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=-1;function EI(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new se(n+1,0):new se(n,r));return new tr(l,ft.empty(),t)}function TI(s){return new tr(s.readTime,s.key,zl)}class tr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new tr(At.min(),ft.empty(),zl)}static max(){return new tr(At.max(),ft.empty(),zl)}}function AI(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(s.documentKey,t.documentKey),n!==0?n:xt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==SI)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,r)=>{n(t)}))}static reject(t){return new $(((n,r)=>{r(t)}))}static waitFor(t){return new $(((n,r)=>{let l=0,u=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(g=>r(g)))})),d=!0,u===l&&n()}))}static or(t){let n=$.resolve(!1);for(const r of t)n=n.next((l=>l?$.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(t,n){return new $(((r,l)=>{const u=t.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((T=>{d[y]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(t,n){return new $(((r,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):r()};u()}))}}function RI(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=-1;function wh(s){return s==null}function sh(s){return s===0&&1/s==-1/0}function wI(s){return typeof s=="number"&&Number.isInteger(s)&&!sh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="";function II(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Kv(t)),t=CI(s.get(n),t);return Kv(t)}function CI(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case JT:n+="";break;default:n+=u}}return n}function Kv(s){return s+JT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function or(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function WT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,r,l,u){this.key=t,this.value=n,this.color=r??Qe.RED,this.left=l??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,u){return new Qe(t??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,r,l,u){return this}insert(t,n,r){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xv(this.data.getIterator())}getIteratorFrom(t){return new Xv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class Xv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new An([])}unionWith(t){let n=new xe(Ke.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new An(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new t0("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const DI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const n=DI.exec(s);if(Ft(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function nr(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="server_timestamp",n0="__type__",i0="__previous_value__",s0="__local_write_time__";function Xm(s){return(s?.mapValue?.fields||{})[n0]?.stringValue===e0}function Ih(s){const t=s.mapValue.fields[i0];return Xm(t)?Ih(t):t}function jl(s){const t=er(s.mapValue.fields[s0].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n,r,l,u,d,p,g,y,T){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const rh="(default)";class Bl{constructor(t,n){this.projectId=t,this.database=n||rh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="__type__",OI="__max__",kc={mapValue:{}},a0="__vector__",ah="value";function ir(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Xm(s)?4:VI(s)?9007199254740991:MI(s)?10:11:yt(28295,{value:s})}function Mi(s,t){if(s===t)return!0;const n=ir(s);if(n!==ir(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return jl(s).isEqual(jl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=er(l.timestampValue),p=er(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,u){return nr(l.bytesValue).isEqual(nr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,u){return ge(l.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(s,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ge(l.integerValue)===ge(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ge(l.doubleValue),p=ge(u.doubleValue);return d===p?sh(d)===sh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return so(s.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(Yv(d)!==Yv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Mi(d[g],p[g])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function ql(s,t){return(s.values||[]).find((n=>Mi(n,t)))!==void 0}function ro(s,t){if(s===t)return 0;const n=ir(s),r=ir(t);if(n!==r)return xt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(s.booleanValue,t.booleanValue);case 2:return(function(u,d){const p=ge(u.integerValue||u.doubleValue),g=ge(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,t);case 3:return $v(s.timestampValue,t.timestampValue);case 4:return $v(jl(s),jl(t));case 5:return mm(s.stringValue,t.stringValue);case 6:return(function(u,d){const p=nr(u),g=nr(d);return p.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=xt(p[y],g[y]);if(T!==0)return T}return xt(p.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,d){const p=xt(ge(u.latitude),ge(d.latitude));return p!==0?p:xt(ge(u.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Zv(s.arrayValue,t.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[ah]?.arrayValue,T=g[ah]?.arrayValue,S=xt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:Zv(y,T)})(s.mapValue,t.mapValue);case 11:return(function(u,d){if(u===kc.mapValue&&d===kc.mapValue)return 0;if(u===kc.mapValue)return 1;if(d===kc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const D=mm(g[S],T[S]);if(D!==0)return D;const H=ro(p[g[S]],y[T[S]]);if(H!==0)return H}return xt(g.length,T.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function $v(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return xt(s,t);const n=er(s),r=er(t),l=xt(n.seconds,r.seconds);return l!==0?l:xt(n.nanos,r.nanos)}function Zv(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=ro(n[l],r[l]);if(u)return u}return xt(n.length,r.length)}function ao(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=er(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return nr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ft.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=pm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${pm(n.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function Gc(s){switch(ir(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ih(s);return t?16+Gc(t):16;case 5:return 2*s.stringValue.length;case 6:return nr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Gc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return or(r.fields,((u,d)=>{l+=u.length+Gc(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function Jv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function gm(s){return!!s&&"integerValue"in s}function $m(s){return!!s&&"arrayValue"in s}function Wv(s){return!!s&&"nullValue"in s}function tE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qc(s){return!!s&&"mapValue"in s}function MI(s){return(s?.mapValue?.fields||{})[r0]?.stringValue===a0}function Nl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return or(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Nl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nl(s.arrayValue.values[n]);return t}return{...s}}function VI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===OI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Qc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(n)}setAll(t){let n=Ke.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=Nl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(t){const n=this.field(t.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];Qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){or(n,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new fn(Nl(this.value))}}function o0(s){const t=[];return or(s.fields,((n,r)=>{const l=new Ke([n]);if(Qc(r)){const u=o0(r.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new An(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n,r,l,u,d,p){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,At.min(),At.min(),At.min(),fn.empty(),0)}static newFoundDocument(t,n,r,l){return new Je(t,1,n,At.min(),r,l,0)}static newNoDocument(t,n){return new Je(t,2,n,At.min(),At.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,At.min(),At.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n){this.position=t,this.inclusive=n}}function eE(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const u=t[l],d=s.position[l];if(u.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),n.key):r=ro(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function nE(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Mi(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n="asc"){this.field=t,this.dir=n}}function xI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{}class Ie extends l0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new PI(t,n,r):n==="array-contains"?new zI(t,r):n==="in"?new jI(t,r):n==="not-in"?new BI(t,r):n==="array-contains-any"?new qI(t,r):new Ie(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new UI(t,r):new LI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&ir(this.value)===ir(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends l0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Wn(t,n)}matches(t){return u0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function u0(s){return s.op==="and"}function c0(s){return kI(s)&&u0(s)}function kI(s){for(const t of s.filters)if(t instanceof Wn)return!1;return!0}function ym(s){if(s instanceof Ie)return s.field.canonicalString()+s.op.toString()+ao(s.value);if(c0(s))return s.filters.map((t=>ym(t))).join(",");{const t=s.filters.map((n=>ym(n))).join(",");return`${s.op}(${t})`}}function h0(s,t){return s instanceof Ie?(function(r,l){return l instanceof Ie&&r.op===l.op&&r.field.isEqual(l.field)&&Mi(r.value,l.value)})(s,t):s instanceof Wn?(function(r,l){return l instanceof Wn&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&h0(d,l.filters[p])),!0):!1})(s,t):void yt(19439)}function f0(s){return s instanceof Ie?(function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`})(s):s instanceof Wn?(function(n){return n.op.toString()+" {"+n.getFilters().map(f0).join(" ,")+"}"})(s):"Filter"}class PI extends Ie{constructor(t,n,r){super(t,n,r),this.key=ft.fromName(r.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class UI extends Ie{constructor(t,n){super(t,"in",n),this.keys=d0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class LI extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=d0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function d0(s,t){return(t.arrayValue?.values||[]).map((n=>ft.fromName(n.referenceValue)))}class zI extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return $m(n)&&ql(n.arrayValue,this.value)}}class jI extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class BI extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ql(this.value.arrayValue,n)}}class qI extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!$m(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ql(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,n=null,r=[],l=[],u=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function iE(s,t=null,n=[],r=[],l=null,u=null,d=null){return new HI(s,t,n,r,l,u,d)}function Zm(s){const t=bt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>ym(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),wh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>ao(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>ao(r))).join(",")),t.Te=n}return t.Te}function Jm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!xI(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!h0(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!nE(s.startAt,t.startAt)&&nE(s.endAt,t.endAt)}function _m(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t,n=null,r=[],l=[],u=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FI(s,t,n,r,l,u,d,p){return new po(s,t,n,r,l,u,d,p)}function m0(s){return new po(s)}function sE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function p0(s){return s.collectionGroup!==null}function Ol(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new xe(Ke.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Hl(u,r))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new Hl(Ke.keyField(),r))}return t.Ie}function Ii(s){const t=bt(s);return t.Ee||(t.Ee=GI(t,Ol(s))),t.Ee}function GI(s,t){if(s.limitType==="F")return iE(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Hl(l.field,u)}));const n=s.endAt?new oh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new oh(s.startAt.position,s.startAt.inclusive):null;return iE(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function vm(s,t){const n=s.filters.concat([t]);return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function lh(s,t,n){return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Ch(s,t){return Jm(Ii(s),Ii(t))&&s.limitType===t.limitType}function g0(s){return`${Zm(Ii(s))}|lt:${s.limitType}`}function Qa(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>f0(l))).join(", ")}]`),wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>ao(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>ao(l))).join(",")),`Target(${r})`})(Ii(s))}; limitType=${s.limitType})`}function Dh(s,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ft.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,l){for(const u of Ol(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=eE(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,Ol(r),l)||r.endAt&&!(function(d,p,g){const y=eE(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,Ol(r),l))})(s,t)}function QI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function y0(s){return(t,n)=>{let r=!1;for(const l of Ol(s)){const u=KI(l,t,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function KI(s,t,n){const r=s.field.isKeyField()?ft.comparator(t.key,n.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?ro(g,y):yt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){or(this.inner,((n,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return WT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new le(ft.comparator);function as(){return YI}const _0=new le(ft.comparator);function wl(...s){let t=_0;for(const n of s)t=t.insert(n.key,n);return t}function v0(s){let t=_0;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function qr(){return Ml()}function E0(){return Ml()}function Ml(){return new Jr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const XI=new le(ft.comparator),$I=new xe(ft.comparator);function kt(...s){let t=$I;for(const n of s)t=t.add(n);return t}const ZI=new xe(xt);function JI(){return ZI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(t)?"-0":t}}function T0(s){return{integerValue:""+s}}function WI(s,t){return wI(t)?T0(t):Wm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function tC(s,t,n){return s instanceof uh?(function(l,u){const d={fields:{[n0]:{stringValue:e0},[s0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Xm(u)&&(u=Ih(u)),u&&(d.fields[i0]=u),{mapValue:d}})(n,t):s instanceof Fl?S0(s,t):s instanceof Gl?b0(s,t):(function(l,u){const d=A0(l,u),p=rE(d)+rE(l.Ae);return gm(d)&&gm(l.Ae)?T0(p):Wm(l.serializer,p)})(s,t)}function eC(s,t,n){return s instanceof Fl?S0(s,t):s instanceof Gl?b0(s,t):n}function A0(s,t){return s instanceof ch?(function(r){return gm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class uh extends Nh{}class Fl extends Nh{constructor(t){super(),this.elements=t}}function S0(s,t){const n=R0(t);for(const r of s.elements)n.some((l=>Mi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Gl extends Nh{constructor(t){super(),this.elements=t}}function b0(s,t){let n=R0(t);for(const r of s.elements)n=n.filter((l=>!Mi(l,r)));return{arrayValue:{values:n}}}class ch extends Nh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function rE(s){return ge(s.integerValue||s.doubleValue)}function R0(s){return $m(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function nC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Fl&&l instanceof Fl||r instanceof Gl&&l instanceof Gl?so(r.elements,l.elements,Mi):r instanceof ch&&l instanceof ch?Mi(r.Ae,l.Ae):r instanceof uh&&l instanceof uh})(s.transform,t.transform)}class iC{constructor(t,n){this.version=t,this.transformResults=n}}class Ci{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ci}static exists(t){return new Ci(void 0,t)}static updateTime(t){return new Ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Oh{}function w0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new C0(s.key,Ci.none()):new Jl(s.key,s.data,Ci.none());{const n=s.data,r=fn.empty();let l=new xe(Ke.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new lr(s.key,r,new An(l.toArray()),Ci.none())}}function sC(s,t,n){s instanceof Jl?(function(l,u,d){const p=l.value.clone(),g=oE(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,n):s instanceof lr?(function(l,u,d){if(!Kc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=oE(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(I0(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Vl(s,t,n,r){return s instanceof Jl?(function(u,d,p,g){if(!Kc(u.precondition,d))return p;const y=u.value.clone(),T=lE(u.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,n,r):s instanceof lr?(function(u,d,p,g){if(!Kc(u.precondition,d))return p;const y=lE(u.fieldTransforms,g,d),T=d.data;return T.setAll(I0(u)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,t,n,r):(function(u,d,p){return Kc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,n)}function rC(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),u=A0(r.transform,l||null);u!=null&&(n===null&&(n=fn.empty()),n.set(r.field,u))}return n||null}function aE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&so(r,l,((u,d)=>nC(u,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Jl extends Oh{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class lr extends Oh{constructor(t,n,r,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function I0(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function oE(s,t,n){const r=new Map;Ft(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,p=t.data.field(u.field);r.set(u.field,eC(d,p,n[l]))}return r}function lE(s,t,n){const r=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);r.set(l.field,tC(u,d,t))}return r}class C0 extends Oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aC extends Oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&sC(u,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Vl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Vl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=E0();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const g=w0(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((n,r)=>aE(n,r)))&&so(this.baseMutations,t.baseMutations,((n,r)=>aE(n,r)))}}class tp{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){Ft(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return XI})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new tp(t,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,zt;function cC(s){switch(s){case Y.OK:return yt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function D0(s){if(s===void 0)return rs("GRPC error has no .code"),Y.UNKNOWN;switch(s){case we.OK:return Y.OK;case we.CANCELLED:return Y.CANCELLED;case we.UNKNOWN:return Y.UNKNOWN;case we.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case we.INTERNAL:return Y.INTERNAL;case we.UNAVAILABLE:return Y.UNAVAILABLE;case we.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case we.NOT_FOUND:return Y.NOT_FOUND;case we.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case we.ABORTED:return Y.ABORTED;case we.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case we.DATA_LOSS:return Y.DATA_LOSS;default:return yt(39323,{code:s})}}(zt=we||(we={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new $s([4294967295,4294967295],0);function uE(s){const t=hC().encode(s),n=new qT;return n.update(t),new Uint8Array(n.digest())}function cE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new $s([n,r],0),new $s([l,u],0)]}class ep{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=$s.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply($s.fromNumber(r)));return l.compare(fC)===1&&(l=new $s([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=uE(t),[r,l]=cE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new ep(u,l,n);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=uE(t),[r,l]=cE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,n,r,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Mh(At.min(),l,new le(xt),as(),kt())}}class Wl{constructor(t,n,r,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Wl(r,n,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n,r,l){this.be=t,this.removedTargetIds=n,this.key=r,this.De=l}}class N0{constructor(t,n){this.targetId=t,this.Ce=n}}class O0{constructor(t,n,r=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class hE{constructor(){this.ve=0,this.Fe=fE(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),r=kt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:u})}})),new Wl(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=fE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dC{constructor(t){this.Ge=t,this.ze=new Map,this.je=as(),this.Je=Pc(),this.He=Pc(),this.Ye=new le(xt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(_m(u))if(r===0){const d=new ft(u.path);this.et(n,d,Je.newNoDocument(d,At.min()))}else Ft(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(t),g=p?this.ct(p,t,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=nr(r).toUint8Array()}catch(g){if(g instanceof t0)return io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ep(d,l,u)}catch(g){return io(g instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&_m(p.target)){const g=new ft(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Je.newNoDocument(g,t))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let r=kt();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new Mh(t,n,this.Ye,this.je,r);return this.je=as(),this.Je=Pc(),this.He=Pc(),this.Ye=new le(xt),l}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new hE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new xe(xt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new xe(xt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new hE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Pc(){return new le(ft.comparator)}function fE(){return new le(ft.comparator)}const mC={asc:"ASCENDING",desc:"DESCENDING"},pC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gC={and:"AND",or:"OR"};class yC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Em(s,t){return s.useProto3Json||wh(t)?t:{value:t}}function hh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function M0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function _C(s,t){return hh(s,t.toTimestamp())}function Di(s){return Ft(!!s,49232),At.fromTimestamp((function(n){const r=er(n);return new se(r.seconds,r.nanos)})(s))}function np(s,t){return Tm(s,t).canonicalString()}function Tm(s,t){const n=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function V0(s){const t=ee.fromString(s);return Ft(L0(t),10190,{key:t.toString()}),t}function Am(s,t){return np(s.databaseId,t.path)}function Wd(s,t){const n=V0(t);if(n.get(1)!==s.databaseId.projectId)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ft(k0(n))}function x0(s,t){return np(s.databaseId,t)}function vC(s){const t=V0(s);return t.length===4?ee.emptyPath():k0(t)}function Sm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function k0(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function dE(s,t,n){return{name:Am(s,t),fields:n.value.mapValue.fields}}function EC(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?Y.UNKNOWN:D0(y.code);return new st(T,y.message||"")})(d);n=new O0(r,l,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Wd(s,r.document.name),u=Di(r.document.updateTime),d=r.document.createTime?Di(r.document.createTime):At.min(),p=new fn({mapValue:{fields:r.document.fields}}),g=Je.newFoundDocument(l,u,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];n=new Yc(y,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Wd(s,r.document),u=r.readTime?Di(r.readTime):At.min(),d=Je.newNoDocument(l,u),p=r.removedTargetIds||[];n=new Yc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Wd(s,r.document),u=r.removedTargetIds||[];n=new Yc([],u,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new uC(l,u),p=r.targetId;n=new N0(p,d)}}return n}function TC(s,t){let n;if(t instanceof Jl)n={update:dE(s,t.key,t.value)};else if(t instanceof C0)n={delete:Am(s,t.key)};else if(t instanceof lr)n={update:dE(s,t.key,t.data),updateMask:NC(t.fieldMask)};else{if(!(t instanceof aC))return yt(16599,{Vt:t.type});n={verify:Am(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof uh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:_C(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(s,t.precondition)),n}function AC(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?Di(l.updateTime):Di(u);return d.isEqual(At.min())&&(d=Di(u)),new iC(d,l.transformResults||[])})(n,t)))):[]}function SC(s,t){return{documents:[x0(s,t.path)]}}function bC(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=x0(s,l);const u=(function(y){if(y.length!==0)return U0(Wn.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((T=>(function(D){return{field:Ka(D.field),direction:IC(D.dir)}})(T)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Em(s,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:l}}function RC(s){let t=vC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ft(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const D=P0(S);return D instanceof Wn&&c0(D)?D.getFilters():[D]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((D=>(function(Z){return new Hl(Ya(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,wh(D)?null:D})(n.limit));let g=null;n.startAt&&(g=(function(S){const D=!!S.before,H=S.values||[];return new oh(H,D)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const D=!S.before,H=S.values||[];return new oh(H,D)})(n.endAt)),FI(t,l,d,u,p,"F",g,y)}function wC(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function P0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ya(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(n.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(n.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ie.create(Ya(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Wn.create(n.compositeFilter.filters.map((r=>P0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(s):yt(30097,{filter:s})}function IC(s){return mC[s]}function CC(s){return pC[s]}function DC(s){return gC[s]}function Ka(s){return{fieldPath:s.canonicalString()}}function Ya(s){return Ke.fromServerFormat(s.fieldPath)}function U0(s){return s instanceof Ie?(function(n){if(n.op==="=="){if(tE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(Wv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(Wv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:CC(n.op),value:n.value}}})(s):s instanceof Wn?(function(n){const r=n.getFilters().map((l=>U0(l)));return r.length===1?r[0]:{compositeFilter:{op:DC(n.op),filters:r}}})(s):yt(54877,{filter:s})}function NC(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function L0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n,r,l,u=At.min(),d=At.min(),p=Ye.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.yt=t}}function MC(s){const t=RC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?lh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.Cn=new xC}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(tr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(tr.min())}updateCollectionGroup(t,n,r){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class xC{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new xe(ee.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new xe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z0=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(z0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="LruGarbageCollector",kC=1048576;function gE([s,t],[n,r]){const l=xt(s,n);return l===0?xt(t,r):l}class PC{constructor(t){this.Ir=t,this.buffer=new xe(gE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UC{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(pE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mo(n)?rt(pE,"Ignoring IndexedDB error during garbage collection: ",n):await fo(n)}await this.Vr(3e5)}))}}class LC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Rh.ce);const r=new PC(n);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(mE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,l,u,d,p,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),Ga()<=Vt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function zC(s,t){return new LC(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.changes=new Jr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&Vl(r.mutation,l,An.empty(),se.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=kt()){const l=qr();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((u=>{let d=wl();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const r=qr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,kt())))}populateOverlays(t,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,r,l){let u=as();const d=Ml(),p=(function(){return Ml()})();return n.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof lr)?u=u.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Vl(T.mutation,y,T.mutation.getFieldMask(),se.now())):d.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>p.set(y,new BC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const r=Ml();let l=new le(((d,p)=>d-p)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||An.empty();T=p.applyToLocalView(y,T),r.set(g,T);const S=(l.get(p.batchId)||kt()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,S=E0();T.forEach((D=>{if(!u.has(D)){const H=w0(n.get(D),r.get(D));H!==null&&S.set(D,H),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):p0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-u.size):$.resolve(qr());let p=zl,g=u;return d.next((y=>$.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next((D=>{g=g.insert(T,D)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,kt()))).next((T=>({batchId:p,changes:v0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next((r=>{let l=wl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const u=n.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,u).next((p=>$.forEach(p,(g=>{const y=(function(S,D){return new po(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((T=>{T.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,l)))).next((d=>{u.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Je.newInvalidDocument(T)))}));let p=wl();return d.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&Vl(T.mutation,y,An.empty(),se.now()),Dh(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:MC(l.bundledQuery),readTime:Di(l.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.overlays=new le(ft.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const r=qr();return $.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,u)=>{this.St(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,n,r){const l=qr(),u=n.length+1,d=new ft(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let u=new le(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=qr(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=qr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return $.resolve(p)}St(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new lC(n,r));let u=this.qr.get(n);u===void 0&&(u=kt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.Qr=new xe(ze.$r),this.Ur=new xe(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new ze(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new ze(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new ft(new ee([])),r=new ze(n,t),l=new ze(n,t+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ft(new ee([])),r=new ze(n,t),l=new ze(n,t+1);let u=kt();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new ze(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ze{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ft.comparator(t.key,n.key)||xt(t.Yr,n.Yr)}static Kr(t,n){return xt(t.Yr,n.Yr)||ft.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xe(ze.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oC(u,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new ze(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ze(n,0),l=new ze(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new xe(xt);return n.forEach((l=>{const u=new ze(l,0),d=new ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let u=r;ft.isDocumentKey(u)||(u=u.child(""));const d=new ze(new ft(u),0);let p=new xe(xt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,(l=>{const u=new ze(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new ze(n,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.ri=t,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let r=as();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let u=as();const d=n.path,p=new ft(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||AI(TI(T),r)<=0||(l.has(T.key)||Dh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,r,l){yt(9500)}ii(t,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new YC(this)}getSize(t){return $.resolve(this.size)}}class YC extends jC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.persistence=t,this.si=new Jr((n=>Zm(n)),Jm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new ip,this.targetCount=0,this.ai=oo.ur()}forEachTarget(t,n){return this.si.forEach(((r,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new oo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,n){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new GC,this.referenceDelegate=t(this),this.Pi=new XC(this),this.indexManager=new VC,this.remoteDocumentCache=(function(l){return new KC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new OC(n),this.Ii=new HC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new FC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new QC(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){rt("MemoryPersistence","Starting transaction:",t);const l=new $C(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class $C extends bI{constructor(t){super(),this.currentSequenceNumber=t}}class sp{constructor(t){this.persistence=t,this.Ri=new ip,this.Vi=null}static mi(t){return new sp(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=ft.fromPath(r);return this.gi(t,l).next((u=>{u||n.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class fh{constructor(t,n){this.persistence=t,this.pi=new Jr((r=>II(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=zC(this,n)}static mi(t,n){return new fh(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((u=>u?$.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((p=>{p||(r++,u.removeEntry(d,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Gc(t.data.value)),n}br(t,n,r){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=l}static As(t,n){let r=kt(),l=kt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new rp(t,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return D1()?8:RI(We())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const u={result:null};return this.ys(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new ZC;return this.Ss(t,n,d).next((p=>{if(u.result=p,this.Vs)return this.bs(t,n,d,p.size)}))})).next((()=>u.result))}bs(t,n,r,l){return r.documentReadCount<this.fs?(Ga()<=Vt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ga()<=Vt.DEBUG&&rt("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ga()<=Vt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(n))):$.resolve())}ys(t,n){if(sE(n))return $.resolve(null);let r=Ii(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=lh(n,null,"F"),r=Ii(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const d=kt(...u);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(t,lh(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,r,l){return sE(n)||l.isEqual(At.min())?$.resolve(null):this.ps.getDocuments(t,r).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,r,l)?$.resolve(null):(Ga()<=Vt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(n)),this.vs(t,d,n,EI(l,zl)).next((p=>p)))}))}Ds(t,n){let r=new xe(y0(t));return n.forEach(((l,u)=>{Dh(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,r){return Ga()<=Vt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ps.getDocumentsMatchingQuery(t,n,tr.min(),r)}vs(t,n,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="LocalStore",WC=3e8;class t2{constructor(t,n,r,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new le(xt),this.xs=new Jr((u=>Zm(u)),Jm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function e2(s,t,n,r){return new t2(s,t,n,r)}async function B0(s,t){const n=bt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=kt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function n2(s,t){const n=bt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const S=y.batch,D=S.keys();let H=$.resolve();return D.forEach((Z=>{H=H.next((()=>T.getEntry(g,Z))).next((W=>{const J=y.docVersions.get(Z);Ft(J!==null,48541),W.version.compareTo(J)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=kt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function q0(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function i2(s,t){const n=bt(s),r=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];t.targetChanges.forEach(((T,S)=>{const D=l.get(S);if(!D)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let H=D.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?H=H.withResumeToken(Ye.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,r)),l=l.insert(S,H),(function(W,J,it){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=WC?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(D,H,T)&&p.push(n.Pi.updateTargetData(u,H))}));let g=as(),y=kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(s2(u,d,t.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(At.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return $.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function s2(s,t,n){let r=kt(),l=kt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let d=as();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(At.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):rt(ap,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function r2(s,t){const n=bt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Ym),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function a2(s,t){const n=bt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,t).next((u=>u?(l=u,$.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new Gs(t,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function bm(s,t,n){const r=bt(s),l=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;rt(ap,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function yE(s,t,n){const r=bt(s);let l=At.min(),u=kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const S=bt(g),D=S.xs.get(T);return D!==void 0?$.resolve(S.Ms.get(D)):S.Pi.getTargetData(y,T)})(r,d,Ii(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,n?l:At.min(),n?u:kt()))).next((p=>(o2(r,QI(t),p),{documents:p,Qs:u})))))}function o2(s,t,n){let r=s.Os.get(t)||At.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class _E{constructor(){this.activeTargetIds=JI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class l2{constructor(){this.Mo=new _E,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new _E,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="ConnectivityMonitor";class EE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(vE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(vE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Rm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",c2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===rh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,n,r,l,u){const d=Rm(),p=this.zo(t,n.toUriEncodedString());rt(tm,`Sending RPC '${t}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),T=Xr(y);return this.Jo(t,p,g,r,T).then((S=>(rt(tm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw io(tm,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(t,n,r,l,u,d){return this.Go(t,n,r,l,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const r=c2[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class d2 extends h2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,l,u){const d=Rm();return new Promise(((p,g)=>{const y=new HT;y.setWithCredentials(!0),y.listenOnce(FT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Fc.NO_ERROR:const S=y.getResponseJson();rt($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Fc.TIMEOUT:rt($e,`RPC '${t}' ${d} timed out`),g(new st(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const D=y.getStatus();if(rt($e,`RPC '${t}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const W=(function(it){const dt=it.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(dt)>=0?dt:Y.UNKNOWN})(Z.status);g(new st(W,Z.message))}else g(new st(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new st(Y.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt($e,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);rt($e,`RPC '${t}' ${d} sending request:`,l),y.send(n,"POST",T,r,15)}))}T_(t,n,r){const l=Rm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=KT(),p=QT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=u.join("");rt($e,`Creating RPC '${t}' stream ${l}: ${T}`,g);const S=d.createWebChannel(T,g);this.I_(S);let D=!1,H=!1;const Z=new f2({Yo:J=>{H?rt($e,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(D||(rt($e,`Opening RPC '${t}' stream ${l} transport.`),S.open(),D=!0),rt($e,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),W=(J,it,dt)=>{J.listen(it,(lt=>{try{dt(lt)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return W(S,Rl.EventType.OPEN,(()=>{H||(rt($e,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),W(S,Rl.EventType.CLOSE,(()=>{H||(H=!0,rt($e,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),W(S,Rl.EventType.ERROR,(J=>{H||(H=!0,io($e,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new st(Y.UNAVAILABLE,"The operation could not be completed")))})),W(S,Rl.EventType.MESSAGE,(J=>{if(!H){const it=J.data[0];Ft(!!it,16349);const dt=it,lt=dt?.error||dt[0]?.error;if(lt){rt($e,`RPC '${t}' stream ${l} received error:`,lt);const Tt=lt.status;let vt=(function(b){const I=we[b];if(I!==void 0)return D0(I)})(Tt),mt=lt.message;vt===void 0&&(vt=Y.INTERNAL,mt="Unknown error status: "+Tt+" with message "+lt.message),H=!0,Z.a_(new st(vt,mt)),S.close()}else rt($e,`RPC '${t}' stream ${l} received:`,it),Z.u_(it)}})),W(p,GT.STAT_EVENT,(J=>{J.stat===dm.PROXY?rt($e,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===dm.NOPROXY&&rt($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(s){return new yC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(t,n,r=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="PersistentStream";class F0{constructor(t,n,r,l,u,d,p,g){this.Mi=t,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new H0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new st(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(TE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(rt(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class m2 extends F0{constructor(t,n,r,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=EC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Di(d.readTime):At.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Sm(this.serializer),n.addTarget=(function(u,d){let p;const g=d.target;if(p=_m(g)?{documents:SC(u,g)}:{query:bC(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=M0(u,d.resumeToken);const y=Em(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=hh(u,d.snapshotVersion.toTimestamp());const y=Em(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=wC(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Sm(this.serializer),n.removeTarget=t,this.q_(n)}}class p2 extends F0{constructor(t,n,r,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=AC(t.writeResults,t.commitTime),r=Di(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Sm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>TC(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{}class y2 extends g2{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,Tm(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new st(Y.UNKNOWN,u.toString())}))}Ho(t,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Tm(n,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(n),this.aa=!1):rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="RemoteStore";class v2{constructor(t,n,r,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Wr(this)&&(rt(Yr,"Restarting streams for network reachability change."),await(async function(g){const y=bt(g);y.Ea.add(4),await tu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await xh(y)})(this))}))})),this.Ra=new _2(r,l)}}async function xh(s){if(Wr(s))for(const t of s.da)await t(!0)}async function tu(s){for(const t of s.da)await t(!1)}function G0(s,t){const n=bt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),cp(n)?up(n):go(n).O_()&&lp(n,t))}function op(s,t){const n=bt(s),r=go(n);n.Ia.delete(t),r.O_()&&Q0(n,t),n.Ia.size===0&&(r.O_()?r.L_():Wr(n)&&n.Ra.set("Unknown"))}function lp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}go(s).Y_(t)}function Q0(s,t){s.Va.Ue(t),go(s).Z_(t)}function up(s){s.Va=new dC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),go(s).start(),s.Ra.ua()}function cp(s){return Wr(s)&&!go(s).x_()&&s.Ia.size>0}function Wr(s){return bt(s).Ea.size===0}function K0(s){s.Va=void 0}async function E2(s){s.Ra.set("Online")}async function T2(s){s.Ia.forEach(((t,n)=>{lp(s,t)}))}async function A2(s,t){K0(s),cp(s)?(s.Ra.ha(t),up(s)):s.Ra.set("Unknown")}async function S2(s,t,n){if(s.Ra.set("Online"),t instanceof O0&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){rt(Yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await dh(s,r)}else if(t instanceof Yc?s.Va.Ze(t):t instanceof N0?s.Va.st(t):s.Va.tt(t),!n.isEqual(At.min()))try{const r=await q0(s.localStore);n.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),Q0(u,g);const S=new Gs(T.target,g,y,T.sequenceNumber);lp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){rt(Yr,"Failed to raise snapshot:",r),await dh(s,r)}}async function dh(s,t,n){if(!mo(t))throw t;s.Ea.add(1),await tu(s),s.Ra.set("Offline"),n||(n=()=>q0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(Yr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await xh(s)}))}function Y0(s,t){return t().catch((n=>dh(s,n,t)))}async function kh(s){const t=bt(s),n=sr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ym;for(;b2(t);)try{const l=await r2(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,R2(t,l)}catch(l){await dh(t,l)}X0(t)&&$0(t)}function b2(s){return Wr(s)&&s.Ta.length<10}function R2(s,t){s.Ta.push(t);const n=sr(s);n.O_()&&n.X_&&n.ea(t.mutations)}function X0(s){return Wr(s)&&!sr(s).x_()&&s.Ta.length>0}function $0(s){sr(s).start()}async function w2(s){sr(s).ra()}async function I2(s){const t=sr(s);for(const n of s.Ta)t.ea(n.mutations)}async function C2(s,t,n){const r=s.Ta.shift(),l=tp.from(r,t,n);await Y0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await kh(s)}async function D2(s,t){t&&sr(s).X_&&await(async function(r,l){if((function(d){return cC(d)&&d!==Y.ABORTED})(l.code)){const u=r.Ta.shift();sr(r).B_(),await Y0(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await kh(r)}})(s,t),X0(s)&&$0(s)}async function AE(s,t){const n=bt(s);n.asyncQueue.verifyOperationInProgress(),rt(Yr,"RemoteStore received new credentials");const r=Wr(n);n.Ea.add(3),await tu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await xh(n)}async function N2(s,t){const n=bt(s);t?(n.Ea.delete(2),await xh(n)):t||(n.Ea.add(2),await tu(n),n.Ra.set("Unknown"))}function go(s){return s.ma||(s.ma=(function(n,r,l){const u=bt(n);return u.sa(),new m2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:E2.bind(null,s),t_:T2.bind(null,s),r_:A2.bind(null,s),H_:S2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),cp(s)?up(s):s.Ra.set("Unknown")):(await s.ma.stop(),K0(s))}))),s.ma}function sr(s){return s.fa||(s.fa=(function(n,r,l){const u=bt(n);return u.sa(),new p2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:w2.bind(null,s),r_:D2.bind(null,s),ta:I2.bind(null,s),na:C2.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(Yr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,n,r,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,u){const d=Date.now()+r,p=new hp(t,n,d,l,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(s,t){if(rs("AsyncQueue",`${t}: ${s}`),mo(s))return new st(Y.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ft.comparator(n.key,r.key):(n,r)=>ft.comparator(n.key,r.key),this.keyedMap=wl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Wa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.ga=new le(ft.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class lo{constructor(t,n,r,l,u,d,p,g,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new lo(t,n,Wa.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class M2{constructor(){this.queries=bE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=bt(n),u=l.queries;l.queries=bE(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new st(Y.ABORTED,"Firestore shutting down"))}}function bE(){return new Jr((s=>g0(s)),Ch)}async function V2(s,t){const n=bt(s);let r=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(r=2):(u=new O2,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=fp(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&dp(n)}async function x2(s,t){const n=bt(s),r=t.query;let l=3;const u=n.queries.get(r);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function k2(s,t){const n=bt(s);let r=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&dp(n)}function P2(s,t,n){const r=bt(s),l=r.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(t)}function dp(s){s.Ca.forEach((t=>{t.next()}))}var wm,RE;(RE=wm||(wm={})).Ma="default",RE.Cache="cache";class U2{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new lo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t){this.key=t}}class J0{constructor(t){this.key=t}}class L2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=y0(t),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new SE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const D=l.get(T),H=Dh(this.query,S)?S:null,Z=!!D&&this.mutatedKeys.has(D.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;D&&H?D.data.isEqual(H.data)?Z!==W&&(r.track({type:3,doc:H}),J=!0):this.su(D,H)||(r.track({type:2,doc:H}),J=!0,(g&&this.eu(H,g)>0||y&&this.eu(H,y)<0)&&(p=!0)):!D&&H?(r.track({type:0,doc:H}),J=!0):D&&!H&&(r.track({type:1,doc:D}),J=!0,(g||y)&&(p=!0)),J&&(H?(d=d.add(H),u=W?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(H,Z){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:J})}};return W(H)-W(Z)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new lo(this.query,t.tu,u,d,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new SE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new J0(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new Z0(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mp="SyncEngine";class z2{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class j2{constructor(t){this.key=t,this.hu=!1}}class B2{constructor(t,n,r,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Jr((p=>g0(p)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new le(ft.comparator),this.Au=new Map,this.Ru=new ip,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function q2(s,t,n=!0){const r=sA(s);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await W0(r,t,n,!0),l}async function H2(s,t){const n=sA(s);await W0(n,t,!0,!1)}async function W0(s,t,n,r){const l=await a2(s.localStore,Ii(t)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await F2(s,t,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&G0(s.remoteStore,l),p}async function F2(s,t,n,r,l){s.pu=(S,D,H)=>(async function(W,J,it,dt){let lt=J.view.ru(it);lt.Cs&&(lt=await yE(W.localStore,J.query,!1).then((({documents:R})=>J.view.ru(R,lt))));const Tt=dt&&dt.targetChanges.get(J.targetId),vt=dt&&dt.targetMismatches.get(J.targetId)!=null,mt=J.view.applyChanges(lt,W.isPrimaryClient,Tt,vt);return IE(W,J.targetId,mt.au),mt.snapshot})(s,S,D,H);const u=await yE(s.localStore,t,!0),d=new L2(t,u.Qs),p=d.ru(u.documents),g=Wl.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);IE(s,n,y.au);const T=new z2(t,n,d);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),y.snapshot}async function G2(s,t,n){const r=bt(s),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Ch(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&op(r.remoteStore,l.targetId),Im(r,l.targetId)})).catch(fo)):(Im(r,l.targetId),await bm(r.localStore,l.targetId,!0))}async function Q2(s,t){const n=bt(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),op(n.remoteStore,r.targetId))}async function K2(s,t,n){const r=tD(s);try{const l=await(function(d,p){const g=bt(d),y=se.now(),T=p.reduce(((H,Z)=>H.add(Z.key)),kt());let S,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=as(),W=kt();return g.Ns.getEntries(H,T).next((J=>{Z=J,Z.forEach(((it,dt)=>{dt.isValidDocument()||(W=W.add(it))}))})).next((()=>g.localDocuments.getOverlayedDocuments(H,Z))).next((J=>{S=J;const it=[];for(const dt of p){const lt=rC(dt,S.get(dt.key).overlayedDocument);lt!=null&&it.push(new lr(dt.key,lt,o0(lt.value.mapValue),Ci.exists(!0)))}return g.mutationQueue.addMutationBatch(H,y,it,p)})).next((J=>{D=J;const it=J.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(H,J.batchId,it)}))})).then((()=>({batchId:D.batchId,changes:v0(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(xt)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,n),await eu(r,l.changes),await kh(r.remoteStore)}catch(l){const u=fp(l,"Failed to persist write");n.reject(u)}}async function tA(s,t){const n=bt(s);try{const r=await i2(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await eu(n,r,t)}catch(r){await fo(r)}}function wE(s,t,n){const r=bt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=bt(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,S)=>{for(const D of S.Sa)D.va(p)&&(y=!0)})),y&&dp(g)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Y2(s,t,n){const r=bt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),u=l&&l.key;if(u){let d=new le(ft.comparator);d=d.insert(u,Je.newNoDocument(u,At.min()));const p=kt().add(u),g=new Mh(At.min(),new Map,new le(xt),d,p);await tA(r,g),r.du=r.du.remove(u),r.Au.delete(t),pp(r)}else await bm(r.localStore,t,!1).then((()=>Im(r,t,n))).catch(fo)}async function X2(s,t){const n=bt(s),r=t.batch.batchId;try{const l=await n2(n.localStore,t);nA(n,r,null),eA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eu(n,l)}catch(l){await fo(l)}}async function $2(s,t,n){const r=bt(s);try{const l=await(function(d,p){const g=bt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ft(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,t);nA(r,t,n),eA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await eu(r,l)}catch(l){await fo(l)}}function eA(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function nA(s,t,n){const r=bt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Im(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||iA(s,r)}))}function iA(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(op(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),pp(s))}function IE(s,t,n){for(const r of n)r instanceof Z0?(s.Ru.addReference(r.key,t),Z2(s,r)):r instanceof J0?(rt(mp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||iA(s,r.key)):yt(19791,{wu:r})}function Z2(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(rt(mp,"New document in limbo: "+n),s.Eu.add(r),pp(s))}function pp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new ft(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new j2(n)),s.du=s.du.insert(n,r),G0(s.remoteStore,new Gs(Ii(m0(n.path)),r,"TargetPurposeLimboResolution",Rh.ce))}}async function eu(s,t,n){const r=bt(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,t,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=rp.As(g.targetId,y);u.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const T=bt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(D=>$.forEach(D.Es,(H=>T.persistence.referenceDelegate.addReference(S,D.targetId,H))).next((()=>$.forEach(D.ds,(H=>T.persistence.referenceDelegate.removeReference(S,D.targetId,H)))))))))}catch(S){if(!mo(S))throw S;rt(ap,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const H=T.Ms.get(D),Z=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(Z);T.Ms=T.Ms.insert(D,W)}}})(r.localStore,u))}async function J2(s,t){const n=bt(s);if(!n.currentUser.isEqual(t)){rt(mp,"User change. New user:",t.toKey());const r=await B0(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new st(Y.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await eu(n,r.Ls)}}function W2(s,t){const n=bt(s),r=n.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let l=kt();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function sA(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=tA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=W2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Y2.bind(null,t),t.Pu.H_=k2.bind(null,t.eventManager),t.Pu.yu=P2.bind(null,t.eventManager),t}function tD(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=X2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$2.bind(null,t),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return e2(this.persistence,new JC,t.initialUser,this.serializer)}Cu(t){return new j0(sp.mi,this.serializer)}Du(t){return new l2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class eD extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UC(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new j0((r=>fh.mi(r,n)),this.serializer)}}class Cm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=J2.bind(null,this.syncEngine),await N2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new M2})()}createDatastore(t){const n=Vh(t.databaseInfo.databaseId),r=(function(u){return new d2(u)})(t.databaseInfo);return(function(u,d,p,g){return new y2(u,d,p,g)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,u,d,p){return new v2(r,l,u,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>wE(this.syncEngine,n,0)),(function(){return EE.v()?new EE:new u2})())}createSyncEngine(t,n){return(function(l,u,d,p,g,y,T){const S=new B2(l,u,d,p,g,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=bt(n);rt(Yr,"RemoteStore shutting down."),r.Ea.add(5),await tu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="FirestoreClient";class iD{constructor(t,n,r,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{rt(rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(rt(rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=fp(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function nm(s,t){s.asyncQueue.verifyOperationInProgress(),rt(rr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await B0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function CE(s,t){s.asyncQueue.verifyOperationInProgress();const n=await sD(s);rt(rr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>AE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>AE(t.remoteStore,l))),s._onlineComponents=t}async function sD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(rr,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await nm(s,new mh)}}else rt(rr,"Using default OfflineComponentProvider"),await nm(s,new eD(void 0));return s._offlineComponents}async function rA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(rr,"Using user provided OnlineComponentProvider"),await CE(s,s._uninitializedComponentsProvider._online)):(rt(rr,"Using default OnlineComponentProvider"),await CE(s,new Cm))),s._onlineComponents}function rD(s){return rA(s).then((t=>t.syncEngine))}async function aD(s){const t=await rA(s),n=t.eventManager;return n.onListen=q2.bind(null,t.syncEngine),n.onUnlisten=G2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=H2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Q2.bind(null,t.syncEngine),n}function oD(s,t,n={}){const r=new Zs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const T=new nD({next:D=>{T.Nu(),d.enqueueAndForget((()=>x2(u,S))),D.fromCache&&g.source==="server"?y.reject(new st(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new U2(p,T,{includeMetadataChanges:!0,qa:!0});return V2(u,S)})(await aD(s),s.asyncQueue,t,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="firestore.googleapis.com",NE=!0;class OE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oA,this.ssl=NE}else this.host=t.host,this.ssl=t.ssl??NE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=z0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kC)throw new st(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ph{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new uI;switch(r.type){case"firstParty":return new dI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=DE.get(n);r&&(rt("ComponentProvider","Removing Datastore"),DE.delete(n),r.terminate())})(this),Promise.resolve()}}function lD(s,t,n,r={}){s=Kr(s,Ph);const l=Xr(t),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${n}`;l&&(Vm(`https://${p}`),xm("Firestore",!0)),u.host!==oA&&u.host!==p&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!Hr(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Ze.MOCK_USER;else{y=iT(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new st(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ze(S)}s._authCredentials=new cI(new XT(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ur(this.firestore,t,this._query)}}class De{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new De(this.firestore,t,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Zl(n,De._jsonSchema))return new De(t,r||null,new ft(ee.fromString(n.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ce("string",De._jsonSchemaVersion),referencePath:Ce("string")};class Js extends ur{constructor(t,n,r){super(t,n,m0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new De(this.firestore,null,new ft(t))}withConverter(t){return new Js(this.firestore,t,this._path)}}function xl(s,t,...n){if(s=ke(s),$T("collection","path",t),s instanceof Ph){const r=ee.fromString(t,...n);return Fv(r),new Js(s,null,r)}{if(!(s instanceof De||s instanceof Js))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return Fv(r),new Js(s.firestore,null,r)}}function Dm(s,t,...n){if(s=ke(s),arguments.length===1&&(t=Km.newId()),$T("doc","path",t),s instanceof Ph){const r=ee.fromString(t,...n);return Hv(r),new De(s,null,new ft(r))}{if(!(s instanceof De||s instanceof Js))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return Hv(r),new De(s.firestore,s instanceof Js?s.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="AsyncQueue";class VE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new H0(this,"async_queue_retry"),this._c=()=>{const r=em();r&&rt(ME,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;rt(ME,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",xE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=hp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:xE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function xE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Uh extends Ph{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new VE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new VE(t),this._firestoreClient=void 0,await t}}}function uD(s,t){const n=typeof s=="object"?s:Um(),r=typeof s=="string"?s:rh,l=vh(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=tT("firestore");u&&lD(l,...u)}return l}function lA(s){if(s._terminated)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||cD(s),s._firestoreClient}function cD(s){const t=s._freezeSettings(),n=(function(l,u,d,p){return new NI(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,aA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new iD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ye.fromBase64String(t))}catch(n){throw new st(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Un(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ce("string",Un._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ce("string",Ni._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,Oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Oi(t.vectorValues);throw new st(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Ce("string",Oi._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=/^__.*__$/;class fD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new lr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(t,this.data,n,this.fieldTransforms)}}class uA{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new lr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function cA(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class yp{constructor(t,n,r,l,u,d){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new yp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ph(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(cA(this.Ac)&&hD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class dD{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Vh(t)}Cc(t,n,r,l=!1){return new yp({Ac:t,methodName:n,Dc:r,path:Ke.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _p(s){const t=s._freezeSettings(),n=Vh(s._databaseId);return new dD(s._databaseId,!!t.ignoreUndefinedProperties,n)}function mD(s,t,n,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,t,n,l);vp("Data must be an object, but it was:",d,r);const p=hA(r,d);let g,y;if(u.merge)g=new An(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const D=Nm(t,S,n);if(!d.contains(D))throw new st(Y.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);dA(T,D)||T.push(D)}g=new An(T),y=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=d.fieldTransforms;return new fD(new fn(p),g,y)}class zh extends gp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zh}}function pD(s,t,n,r){const l=s.Cc(1,t,n);vp("Data must be an object, but it was:",l,r);const u=[],d=fn.empty();or(r,((g,y)=>{const T=Ep(t,g,n);y=ke(y);const S=l.yc(T);if(y instanceof zh)u.push(T);else{const D=nu(y,S);D!=null&&(u.push(T),d.set(T,D))}}));const p=new An(u);return new uA(d,p,l.fieldTransforms)}function gD(s,t,n,r,l,u){const d=s.Cc(1,t,n),p=[Nm(t,r,n)],g=[l];if(u.length%2!=0)throw new st(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)p.push(Nm(t,u[D])),g.push(u[D+1]);const y=[],T=fn.empty();for(let D=p.length-1;D>=0;--D)if(!dA(y,p[D])){const H=p[D];let Z=g[D];Z=ke(Z);const W=d.yc(H);if(Z instanceof zh)y.push(H);else{const J=nu(Z,W);J!=null&&(y.push(H),T.set(H,J))}}const S=new An(y);return new uA(T,S,d.fieldTransforms)}function yD(s,t,n,r=!1){return nu(n,s.Cc(r?4:3,t))}function nu(s,t){if(fA(s=ke(s)))return vp("Unsupported field value:",t,s),hA(s,t);if(s instanceof gp)return(function(r,l){if(!cA(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let g=nu(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,t)}return(function(r,l){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=se.fromDate(r);return{timestampValue:hh(l.serializer,u)}}if(r instanceof se){const u=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(l.serializer,u)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:M0(l.serializer,r._byteString)};if(r instanceof De){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:np(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Oi)return(function(d,p){return{mapValue:{fields:{[r0]:{stringValue:a0},[ah]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Wm(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${bh(r)}`)})(s,t)}function hA(s,t){const n={};return WT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):or(s,((r,l)=>{const u=nu(l,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function fA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Ni||s instanceof Un||s instanceof De||s instanceof gp||s instanceof Oi)}function vp(s,t,n){if(!fA(n)||!ZT(n)){const r=bh(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Nm(s,t,n){if((t=ke(t))instanceof Lh)return t._internalPath;if(typeof t=="string")return Ep(s,t);throw ph("Field path arguments must be of type string or ",s,!1,void 0,n)}const _D=new RegExp("[~\\*/\\[\\]]");function Ep(s,t,n){if(t.search(_D)>=0)throw ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Lh(...t.split("."))._internalPath}catch{throw ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function ph(s,t,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new st(Y.INVALID_ARGUMENT,p+s+g)}function dA(s,t){return s.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t,n,r,l,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new vD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Tp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vD extends mA{data(){return super.data()}}function Tp(s,t){return typeof t=="string"?Ep(s,t):t instanceof Lh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ap{}class Sp extends Ap{}function kE(s,t,...n){let r=[];t instanceof Ap&&r.push(t),r=r.concat(n),(function(u){const d=u.filter((g=>g instanceof Rp)).length,p=u.filter((g=>g instanceof bp)).length;if(d>1||d>0&&p>0)throw new st(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class bp extends Sp{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new bp(t,n,r)}_apply(t){const n=this._parse(t);return pA(t._query,n),new ur(t.firestore,t.converter,vm(t._query,n))}_parse(t){const n=_p(t.firestore);return(function(u,d,p,g,y,T,S){let D;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new st(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){zE(S,T);const Z=[];for(const W of S)Z.push(LE(g,u,W));D={arrayValue:{values:Z}}}else D=LE(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||zE(S,T),D=yD(p,d,S,T==="in"||T==="not-in");return Ie.create(y,T,D)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Rp extends Ap{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Rp(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const g of p)pA(d,g),d=vm(d,g)})(t._query,n),new ur(t.firestore,t.converter,vm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wp extends Sp{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new wp(t,n)}_apply(t){const n=(function(l,u,d){if(l.startAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(u,d)})(t._query,this._field,this._direction);return new ur(t.firestore,t.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new po(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function PE(s,t="asc"){const n=t,r=Tp("orderBy",s);return wp._create(r,n)}class Ip extends Sp{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new Ip(t,n,r)}_apply(t){return new ur(t.firestore,t.converter,lh(t._query,this._limit,this._limitType))}}function UE(s){return Ip._create("limit",s,"F")}function LE(s,t,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new st(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p0(t)&&n.indexOf("/")!==-1)throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ee.fromString(n));if(!ft.isDocumentKey(r))throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jv(s,new ft(r))}if(n instanceof De)return Jv(s,n._key);throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(n)}.`)}function zE(s,t){if(!Array.isArray(s)||s.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function pA(s,t){const n=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class TD{convertValue(t,n="none"){switch(ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return or(t,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[ah].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new Oi(n)}convertGeoPoint(t){return new Ni(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Ih(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jl(t));default:return null}}convertTimestamp(t){const n=er(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);Ft(L0(r),9688,{name:t});const l=new Bl(r.get(1),r.get(3)),u=new ft(r.popFirst(5));return l.isEqual(n)||rs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class Lc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class to extends mA{constructor(t,n,r,l,u,d){super(t,n,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Tp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=to._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}to._jsonSchemaVersion="firestore/documentSnapshot/1.0",to._jsonSchema={type:Ce("string",to._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Xc extends to{data(t={}){return super.data(t)}}class eo{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Lc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Xc(this._firestore,this._userDataWriter,r.key,r,new Lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Lc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Lc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:SD(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function SD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Ce("string",eo._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class bD extends TD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new De(this.firestore,null,n)}}function kl(s){s=Kr(s,ur);const t=Kr(s.firestore,Uh),n=lA(t),r=new bD(t);return ED(s._query),oD(n,s._query).then((l=>new eo(t,r,s,l)))}function RD(s,t,n){s=Kr(s,De);const r=Kr(s.firestore,Uh),l=AD(s.converter,t);return gA(r,[mD(_p(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Ci.none())])}function jE(s,t,n,...r){s=Kr(s,De);const l=Kr(s.firestore,Uh),u=_p(l);let d;return d=typeof(t=ke(t))=="string"||t instanceof Lh?gD(u,"updateDoc",s._key,t,n,r):pD(u,"updateDoc",s._key,t),gA(l,[d.toMutation(s._key,Ci.exists(!0))])}function gA(s,t){return(function(r,l){const u=new Zs;return r.asyncQueue.enqueueAndForget((async()=>K2(await rD(r),l,u))),u.promise})(lA(s),t)}(function(t,n=!0){(function(l){ho=l})($r),Fr(new Ws("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new Uh(new hI(r.getProvider("auth-internal")),new mI(d,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new st(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(y.options.projectId,T)})(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),bi(zv,jv,t),bi(zv,jv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firebasestorage.googleapis.com",wD="storageBucket",ID=120*1e3,CD=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends xi{constructor(t,n,r=0){super(im(t),`Firebase Storage: ${n} (${im(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ki.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return im(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vi;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vi||(Vi={}));function im(s){return"storage/"+s}function DD(){const s="An unknown error occurred, please check the error payload for server response.";return new ki(Vi.UNKNOWN,s)}function ND(){return new ki(Vi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OD(){return new ki(Vi.CANCELED,"User canceled the upload/download.")}function MD(s){return new ki(Vi.INVALID_URL,"Invalid URL '"+s+"'.")}function VD(s){return new ki(Vi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function BE(s){return new ki(Vi.INVALID_ARGUMENT,s)}function _A(){return new ki(Vi.APP_DELETED,"The Firebase app was deleted.")}function xD(s){return new ki(Vi.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Zn.makeFromUrl(t,n)}catch{return new Zn(t,"")}if(r.path==="")return r;throw VD(t)}static makeFromUrl(t,n){let r=null;const l="([A-Za-z0-9.\\-_]+)";function u(Tt){Tt.path.charAt(Tt.path.length-1)==="/"&&(Tt.path_=Tt.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+l+d,"i"),g={bucket:1,path:3};function y(Tt){Tt.path_=decodeURIComponent(Tt.path)}const T="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),D="(/([^?#]*).*)?$",H=new RegExp(`^https?://${S}/${T}/b/${l}/o${D}`,"i"),Z={bucket:1,path:3},W=n===yA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,J="([^?#]*)",it=new RegExp(`^https?://${W}/${l}/${J}`,"i"),lt=[{regex:p,indices:g,postModify:u},{regex:H,indices:Z,postModify:y},{regex:it,indices:{bucket:1,path:2},postModify:y}];for(let Tt=0;Tt<lt.length;Tt++){const vt=lt[Tt],mt=vt.regex.exec(t);if(mt){const R=mt[vt.indices.bucket];let b=mt[vt.indices.path];b||(b=""),r=new Zn(R,b),vt.postModify(r);break}}if(r==null)throw MD(t);return r}}class kD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(s,t,n){let r=1,l=null,u=null,d=!1,p=0;function g(){return p===2}let y=!1;function T(...J){y||(y=!0,t.apply(null,J))}function S(J){l=setTimeout(()=>{l=null,s(H,g())},J)}function D(){u&&clearTimeout(u)}function H(J,...it){if(y){D();return}if(J){D(),T.call(null,J,...it);return}if(g()||d){D(),T.call(null,J,...it);return}r<64&&(r*=2);let lt;p===1?(p=2,lt=0):lt=(r+Math.random())*1e3,S(lt)}let Z=!1;function W(J){Z||(Z=!0,D(),!y&&(l!==null?(J||(p=2),clearTimeout(l),S(0)):J||(p=1)))}return S(0),u=setTimeout(()=>{d=!0,W(!0)},n),W}function UD(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(s){return s!==void 0}function qE(s,t,n,r){if(r<t)throw BE(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw BE(`Invalid value for '${s}'. Expected ${n} or less.`)}function zD(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const l=t(r)+"="+t(s[r]);n=n+l+"&"}return n=n.slice(0,-1),n}var gh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(gh||(gh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(s,t){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return n||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,n,r,l,u,d,p,g,y,T,S,D=!0,H=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=S,this.retry=D,this.isUsingEmulator=H,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Z,W)=>{this.resolve_=Z,this.reject_=W,this.start_()})}start_(){const t=(r,l)=>{if(l){r(!1,new zc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===gh.NO_ERROR,g=u.getStatus();if(!p||jD(g,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===gh.ABORT;r(!1,new zc(!1,null,T));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new zc(y,u))})},n=(r,l)=>{const u=this.resolve_,d=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());LD(g)?u(g):u()}catch(g){d(g)}else if(p!==null){const g=DD();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(l.canceled){const g=this.appDelete_?_A():OD();d(g)}else{const g=ND();d(g)}};this.canceled_?n(!1,new zc(!1,null,!0)):this.backoffId_=PD(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&UD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function qD(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function HD(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function FD(s,t){t&&(s["X-Firebase-GMPID"]=t)}function GD(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function QD(s,t,n,r,l,u,d=!0,p=!1){const g=zD(s.urlParams),y=s.url+g,T=Object.assign({},s.headers);return FD(T,t),qD(T,n),HD(T,u),GD(T,r),new BD(y,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function YD(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n){this._service=t,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new yh(t,n)}get root(){const t=new Zn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YD(this._location.path)}get storage(){return this._service}get parent(){const t=KD(this._location.path);if(t===null)return null;const n=new Zn(this._location.bucket,t);return new yh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw xD(t)}}function HE(s,t){const n=t?.[wD];return n==null?null:Zn.makeFromBucketSpec(n,s)}function XD(s,t,n,r={}){s.host=`${t}:${n}`;const l=Xr(t);l&&(Vm(`https://${s.host}/b`),xm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:iT(u,s.app.options.projectId))}class $D{constructor(t,n,r,l,u,d=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=yA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ID,this._maxUploadRetryTime=CD,this._requests=new Set,l!=null?this._bucket=Zn.makeFromBucketSpec(l,this._host):this._bucket=HE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,t):this._bucket=HE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){qE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){qE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new yh(this,t)}_makeRequest(t,n,r,l,u=!0){if(this._deleted)return new kD(_A());{const d=QD(t,this._appId,r,l,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,n){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,l).getPromise()}}const FE="@firebase/storage",GE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="storage";function ZD(s=Um(),t){s=ke(s);const r=vh(s,vA).getImmediate({identifier:t}),l=tT("storage");return l&&JD(r,...l),r}function JD(s,t,n,r={}){XD(s,t,n,r)}function WD(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new $D(n,r,l,t,$r)}function tN(){Fr(new Ws(vA,WD,"PUBLIC").setMultipleInstances(!0)),bi(FE,GE,""),bi(FE,GE,"esm2020")}tN();const eN={apiKey:"AIzaSyAsRvsb-_QY_JAVz2GaRWifR95aCRiddLA",authDomain:"footballsanci.firebaseapp.com",databaseURL:"https://footballsanci-default-rtdb.europe-west1.firebasedatabase.app",projectId:"footballsanci",storageBucket:"footballsanci.appspot.com",messagingSenderId:"108108129157",appId:"1:108108129157:web:c881c7b4d787677c43daec",measurementId:"G-VESXDYD12H"},Cp=aT(eN),sm=rI(Cp),Qs=uD(Cp);ZD(Cp);const EA=_t.createContext(),Dp=()=>{const s=_t.useContext(EA);if(!s)throw new Error("useAuth must be used within AuthProvider");return s};function nN({children:s}){const[t,n]=_t.useState(null),[r,l]=_t.useState(!0);_t.useEffect(()=>KR(sm,g=>{n(g),l(!1)}),[]);const u=async(p,g)=>await FR(sm,p.trim(),g),d=async()=>{try{await YR(sm)}catch(p){console.error("Logout error:",p)}};return x.jsx(EA.Provider,{value:{currentUser:t,authLoading:r,login:u,logout:d},children:s})}const TA=_t.createContext();function iN({children:s}){const[t,n]=_t.useState([]),[r,l]=_t.useState(""),[u,d]=_t.useState(!0);return _t.useEffect(()=>{(async()=>{try{const y=(await kl(xl(Qs,"seasons"))).docs.map(T=>T.id).sort();n(y),y.length>0&&l(y[y.length-1])}catch(g){console.error("Error loading seasons:",g)}finally{d(!1)}})()},[]),x.jsx(TA.Provider,{value:{seasons:t,selectedSeason:r,setSelectedSeason:l,loadingSeasons:u},children:s})}function Np(){return _t.useContext(TA)}function sN(){const{seasons:s,selectedSeason:t,setSelectedSeason:n,loadingSeasons:r}=Np(),[l,u]=_t.useState("ranking"),d=g=>{const y=document.getElementById(g);if(y){const D=y.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:D,behavior:"smooth"})}u(g)};_t.useEffect(()=>{const g=["ranking","history","draw","statistics"],y=()=>{const T=window.scrollY+80;for(let S=g.length-1;S>=0;S--){const D=document.getElementById(g[S]);if(D&&T>=D.offsetTop){u(g[S]);break}}};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]);const p=g=>{const y=g.match(/\d+/);return y?`S${y[0]}`:g};return x.jsx("header",{style:Fa.header,children:x.jsxs("div",{style:Fa.leftContainer,children:[x.jsx("div",{style:Fa.customSelectLabel,children:p(t)}),x.jsx("select",{style:Fa.select,value:t,onChange:g=>n(g.target.value),disabled:r,children:s.map(g=>x.jsx("option",{value:g,children:g},g))}),["ranking","history","draw","statistics"].map(g=>x.jsx("button",{style:{...Fa.navBtn,...l===g?Fa.activeNavBtn:{}},onClick:()=>d(g),children:g.charAt(0).toUpperCase()+g.slice(1)},g))]})})}const Fa={header:{position:"fixed",top:0,left:0,right:0,display:"flex",justifyContent:"flex-start",alignItems:"center",padding:"12px 0",color:"#fff",background:"rgba(8, 8, 10, 0.5)",backdropFilter:"blur(12px)",borderBottom:"1px solid rgba(255,255,255,0.08)",zIndex:1e3},leftContainer:{display:"flex",alignItems:"center",gap:"0.3rem",margin:0,padding:0,position:"relative"},customSelectLabel:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",pointerEvents:"none",color:"#fff",fontSize:"clamp(1.05rem, 2.4vw, 1.15rem)",fontWeight:500,userSelect:"none",zIndex:10},select:{background:"transparent",color:"transparent",border:"none",borderRadius:"8px",padding:"12px 0px 12px 0px",fontSize:"clamp(1.05rem, 2.4vw, 1.15rem)",fontWeight:500,cursor:"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 6" fill="white"><path d="M0 0l5 6 5-6H0z"/></svg>')`,backgroundRepeat:"no-repeat",backgroundPosition:"left 40px center",backgroundSize:"10px 6px",transition:"opacity 0.2s ease"},navBtn:{background:"transparent",border:"none",color:"#fff",letterSpacing:"0.5px",cursor:"pointer",transition:"color 0.2s ease, opacity 0.2s ease",opacity:.8,minWidth:"22px",fontSize:"clamp(1.05rem, 2.4vw, 1.15rem)",fontWeight:500,padding:"4px 6px",whiteSpace:"nowrap",textDecoration:"none"},activeNavBtn:{color:"#10B981",opacity:1,fontWeight:600}};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),QE=s=>{const t=aN(s);return t.charAt(0).toUpperCase()+t.slice(1)},AA=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),oN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=_t.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},g)=>_t.createElement("svg",{ref:g,...lN,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:AA("lucide",l),...!u&&!oN(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>_t.createElement(y,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=(s,t)=>{const n=_t.forwardRef(({className:r,...l},u)=>_t.createElement(uN,{ref:u,iconNode:t,className:AA(`lucide-${rN(QE(s))}`,`lucide-${s}`,r),...l}));return n.displayName=QE(s),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fN=cN("log-out",hN);function dN(){const{currentUser:s,login:t,logout:n}=Dp(),[r,l]=_t.useState(!1),[u,d]=_t.useState(""),[p,g]=_t.useState(""),[y,T]=_t.useState(!1),[S,D]=_t.useState(""),H=async()=>{D(""),T(!0);try{await t(u,p),l(!1),d(""),g("")}catch(it){D(it.message||"Login failed")}finally{T(!1)}},Z=async()=>{await n()},W=()=>{l(!1),d(""),g(""),D("")},J=it=>{it.key==="Enter"&&u&&p&&!y&&H()};return x.jsxs(x.Fragment,{children:[x.jsx("footer",{style:Ve.footer,children:x.jsxs("p",{children:[s?x.jsx("span",{onClick:Z,style:Ve.logoutIcon,role:"button",tabIndex:0,onKeyPress:it=>it.key==="Enter"&&Z(),children:x.jsx(fN,{color:"red",size:20})}):x.jsx("span",{onClick:()=>l(!0),style:Ve.copyright,role:"button",tabIndex:0,onKeyPress:it=>it.key==="Enter"&&l(!0),children:""})," ",new Date().getFullYear()," FootballSanci. All rights reserved."]})}),r&&x.jsx("div",{style:Ve.overlay,onClick:W,children:x.jsxs("div",{style:Ve.modal,onClick:it=>it.stopPropagation(),children:[x.jsx("button",{style:Ve.closeButton,onClick:W,"aria-label":"Close",children:""}),x.jsxs("div",{style:Ve.modalHeader,children:[x.jsx("h2",{style:Ve.title,children:"Login"}),x.jsx("p",{style:Ve.subtitle,children:"Welcome  Please log in to continue."})]}),x.jsxs("div",{style:Ve.formContainer,children:[x.jsxs("div",{style:Ve.inputGroup,children:[x.jsx("label",{style:Ve.label,htmlFor:"email",children:"Email"}),x.jsx("input",{id:"email",type:"email",value:u,onChange:it=>d(it.target.value),onKeyPress:J,style:Ve.input,placeholder:"you@example.com"})]}),x.jsxs("div",{style:Ve.inputGroup,children:[x.jsx("label",{style:Ve.label,htmlFor:"password",children:"Password"}),x.jsx("input",{id:"password",type:"password",value:p,onChange:it=>g(it.target.value),onKeyPress:J,style:Ve.input,placeholder:""})]}),S&&x.jsx("div",{style:Ve.error,children:S}),x.jsx("button",{onClick:H,disabled:y||!u||!p,style:{...Ve.submitButton,...y||!u||!p?Ve.submitButtonDisabled:{}},children:y?"Logging in...":"Log in"})]})]})})]})}const Ve={footer:{textAlign:"center",padding:"20px 0",color:"#ccc",background:"rgba(10, 10, 10, 0.4)",backdropFilter:"blur(10px)",position:"relative",zIndex:1},copyright:{cursor:"pointer",padding:"2px 6px",borderRadius:"4px",display:"inline-block",fontWeight:"600"},logoutIcon:{cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"2px 4px",borderRadius:"4px"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{background:"rgba(10, 10, 10, 0.95)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"32px",width:"90%",maxWidth:"420px",boxShadow:"0 0 40px rgba(16, 185, 129, 0.2)",position:"relative",transition:"none"},closeButton:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",color:"rgba(255, 255, 255, 0.6)",fontSize:"24px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",lineHeight:1},modalHeader:{marginBottom:"28px",textAlign:"center"},title:{fontSize:"28px",fontWeight:"700",color:"#fff",margin:"0 0 12px 0",textTransform:"uppercase",letterSpacing:"1px"},subtitle:{fontSize:"15px",color:"rgba(255, 255, 255, 0.7)",margin:0},formContainer:{display:"flex",flexDirection:"column",gap:"20px"},inputGroup:{display:"flex",flexDirection:"column",gap:"8px"},label:{fontSize:"14px",fontWeight:"600",color:"rgba(16, 185, 129, 1)",textTransform:"uppercase",letterSpacing:"0.5px"},input:{background:"rgba(6, 78, 59, 0.15)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",padding:"12px 16px",fontSize:"15px",color:"#fff",outline:"none",fontFamily:"inherit"},error:{background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.4)",borderRadius:"8px",padding:"12px 16px",color:"rgba(239, 68, 68, 1)",fontSize:"14px",textAlign:"center"},submitButton:{marginTop:"8px",padding:"14px 24px",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.3), rgba(6, 78, 59, 0.4))",border:"2px solid rgba(16, 185, 129, 0.5)",borderRadius:"8px",color:"#fff",fontSize:"16px",fontWeight:"700",cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 4px 15px rgba(16, 185, 129, 0.2)"},submitButtonDisabled:{opacity:.5,cursor:"not-allowed"}};function mN(){return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:`
                .app-bg {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    pointer-events: none; /* Ne bloque pas les clics */
                    z-index: 0; /* Derrire tout le contenu */
                    overflow: hidden;
                }

                /* Fond noir de base */
                .bg-dark {
                    position: absolute;
                    width: 100%;
                    height: 100%;
                    background-color: #0a0a0a; /* noir profond */
                }

                /* Nuances vert fonc en overlay */
                .bg-green-overlay {
                    position: absolute;
                    width: 100%;
                    height: 100%;
                    background: radial-gradient(circle at 20% 30%, #064e3b, transparent 70%),
                                radial-gradient(circle at 80% 70%, #065f46, transparent 70%);
                    opacity: 0.4; /* ajuste lintensit */
                }
                `}),x.jsxs("div",{className:"app-bg","aria-hidden":"true",children:[x.jsx("div",{className:"bg-dark"}),x.jsx("div",{className:"bg-green-overlay"})]})]})}const KE={1:"rank-gold",2:"rank-silver",3:"rank-bronze",default:"rank-default"},pN=[{label:"Winrate",field:"winrate",editable:!1,format:s=>`${s}%`},{label:"Matches",field:"matches",editable:!1},{label:"Wins",field:"wins",editable:!0},{label:"Losses",field:"losses",editable:!0},{label:"Draws",field:"draws",editable:!0},{label:"Bonus 5 Goal",field:"bonus5goal",editable:!0}],gN=(s=0,t=0,n=0,r=0)=>{const l=s+t+n,u=l>0?(s/l*100).toFixed(1):0,d=s*3+t+r,p=l>0?(10*(.9*((3*s+t)/(3*l))+.1*Math.min(r/l,1))).toFixed(2):0;return{matches:l,winrate:parseFloat(u),points:d,value:parseFloat(p)}},SA=s=>KE[s]||KE.default,yN=()=>x.jsx("div",{className:"ranking-container",children:x.jsxs("div",{className:"loading-state",children:[x.jsx("div",{className:"loading-spinner"}),x.jsx("p",{children:"Loading rankings..."})]})}),_N=()=>x.jsx("div",{className:"ranking-container",children:x.jsx("div",{className:"empty-state",children:x.jsx("p",{children:"No players found for this season."})})}),vN=({rank:s})=>x.jsx("div",{className:"rank-badge",children:x.jsx("span",{className:"rank-number",children:s})}),EN=({name:s})=>x.jsx("div",{className:"player-info",children:x.jsx("h3",{className:"player-name",children:s})}),TN=({playerId:s,fame:t,currentUser:n,onUpdate:r})=>{const l=_t.useRef(null),u=_t.useRef(null),[d,p]=_t.useState(!1);return _t.useEffect(()=>{const g=()=>{if(l.current&&u.current){const y=l.current.offsetWidth,S=u.current.scrollWidth>y;p(S),S&&u.current.style.setProperty("--container-width",`${y}px`)}};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[t]),x.jsx("div",{className:"player-fame-container",ref:l,children:n?x.jsx("input",{type:"text",className:"player-fame fame-input",value:t||"",onChange:g=>r(s,g.target.value),placeholder:"Enter fame...",onClick:g=>g.stopPropagation()}):t&&x.jsx("p",{ref:u,className:`player-fame ${d?"scrolling":""}`,children:t})})},AN=({points:s,value:t,rank:n})=>{const r=SA(n);return x.jsxs("div",{className:"player-points",children:[x.jsxs("div",{className:"points-group",children:[x.jsx("span",{className:`points-value ${r}`,children:s||0}),x.jsx("span",{className:"points-label",children:"Points"})]}),t!==void 0&&x.jsxs("div",{className:"value-group",children:[x.jsx("span",{className:`points-value ${r}`,children:t}),x.jsx("span",{className:"points-label",children:"Value"})]})]})},SN=({onIncrement:s,onDecrement:t})=>x.jsxs("div",{className:"stat-controls",onClick:n=>n.stopPropagation(),children:[x.jsx("button",{className:"stat-btn stat-btn-minus",onClick:t,children:""}),x.jsx("button",{className:"stat-btn stat-btn-plus",onClick:s,children:"+"})]}),bN=({label:s,value:t,editable:n,currentUser:r,onUpdate:l,format:u})=>x.jsxs("div",{className:"stat-item",children:[x.jsx("span",{className:"stat-label",children:s}),x.jsxs("div",{className:"stat-value-row",children:[x.jsx("span",{className:"stat-value",children:u?u(t):t}),r&&n&&x.jsx(SN,{onIncrement:()=>l(1),onDecrement:()=>l(-1)})]})]}),RN=({player:s,currentUser:t,onUpdateField:n})=>x.jsx("div",{className:"ranking-item-details",children:x.jsx("div",{className:"stats-grid",children:pN.map(({label:r,field:l,editable:u,format:d})=>x.jsx(bN,{label:r,value:s[l]||0,editable:u,currentUser:t,onUpdate:p=>n(s.id,l,p),format:d},l))})}),wN=({player:s,rank:t,isExpanded:n,onToggle:r,currentUser:l,onUpdateField:u,onUpdateFame:d})=>{const p=SA(t),g=y=>{!y.target.closest(".stat-controls")&&!y.target.closest(".fame-input")&&r(s.id)};return x.jsxs("div",{className:`ranking-item ${p} ${n?"expanded":""}`,onClick:g,children:[x.jsxs("div",{className:"ranking-item-main",children:[x.jsx(vN,{rank:t}),x.jsx(EN,{name:s.name}),x.jsx(TN,{playerId:s.id,fame:s.fame,currentUser:l,onUpdate:d}),x.jsx(AN,{points:s.points,value:s.value,rank:t})]}),n&&x.jsx(RN,{player:s,currentUser:l,onUpdateField:u})]})};function IN(){const{selectedSeason:s}=Np(),{currentUser:t}=Dp(),[n,r]=_t.useState([]),[l,u]=_t.useState(!0),[d,p]=_t.useState(null);_t.useEffect(()=>{if(!s)return;(async()=>{u(!0);try{const H=(await kl(xl(Qs,`seasons/${s}/players`))).docs.map(Z=>({id:Z.id,...Z.data()})).sort((Z,W)=>(W.points||0)-(Z.points||0)||(W.value||0)-(Z.value||0));r(H),p(null)}catch(D){console.error("Error loading players:",D)}finally{u(!1)}})()},[s]);const g=_t.useCallback(async(S,D,H)=>{const Z=n.find(dt=>dt.id===S);if(!Z)return;const W=Math.max(0,(Z[D]||0)+H),J={...Z,[D]:W},it=gN(J.wins,J.draws,J.losses,J.bonus5goal);r(dt=>dt.map(lt=>lt.id===S?{...lt,[D]:W,...it}:lt).sort((lt,Tt)=>(Tt.points||0)-(lt.points||0)||(Tt.value||0)-(lt.value||0)));try{const dt=Dm(Qs,`seasons/${s}/players/${S}`);await jE(dt,{[D]:W,...it})}catch(dt){console.error("Error updating player:",dt)}},[n,s]),y=_t.useCallback(async(S,D)=>{r(H=>H.map(Z=>Z.id===S?{...Z,fame:D}:Z));try{const H=Dm(Qs,`seasons/${s}/players/${S}`);await jE(H,{fame:D})}catch(H){console.error("Error updating fame:",H)}},[s]),T=_t.useCallback(S=>{p(D=>D===S?null:S)},[]);return l?x.jsx(yN,{}):n.length===0?x.jsx(_N,{}):x.jsxs("div",{className:"ranking-container",children:[x.jsx("h1",{className:"section-title",children:"FootballSanci"}),x.jsx("div",{className:"ranking-list",children:n.map((S,D)=>x.jsx(wN,{player:S,rank:D+1,isExpanded:d===S.id,onToggle:T,currentUser:t,onUpdateField:g,onUpdateFame:y},S.id))})]})}function bA({title:s,children:t}){return x.jsxs("div",{style:YE.container,children:[s&&x.jsx("h2",{style:YE.title,children:s}),x.jsx("div",{children:t})]})}const YE={container:{padding:"100px 20px",minHeight:"100vh",background:"transparent",color:"inherit",zIndex:1,position:"relative"},title:{textAlign:"center",marginBottom:"30px"}};function CN(){return x.jsx(bA,{title:"Match History",children:x.jsx("p",{children:"Coming soon: list of past matches here."})})}function DN(){return x.jsx(bA,{title:"Statistics",children:x.jsx("p",{children:"Coming soon: global and player statistics."})})}const NN={date:new Date().toISOString().split("T")[0],startTime:"21:00",endTime:"22:00",location:"Fit Five",gap:1.5},ON=["Fit Five","Halle"],XE=.1,MN=0,VN=s=>{const t=new Date(s),n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getFullYear());return`${n}-${r}-${l}`},Om=s=>s.reduce((t,n)=>t+(n.value||0),0),xN=()=>x.jsx("div",{className:"draw-container",children:x.jsxs("div",{className:"loading-state",children:[x.jsx("div",{className:"loading-spinner"}),x.jsx("p",{children:"Loading..."})]})}),kN=()=>x.jsxs("div",{className:"empty-state",children:[x.jsx("div",{className:"empty-state-icon",children:""}),x.jsx("p",{children:"No live match available. Check back soon!"})]}),Si=({label:s,children:t})=>x.jsxs("div",{className:"match-row",children:[x.jsxs("label",{children:[s,":"]}),t]}),PN=({value:s,onChange:t})=>x.jsxs("div",{className:"gap-control",children:[x.jsx("button",{type:"button",onClick:()=>t(Math.max(MN,parseFloat((s-XE).toFixed(1)))),"aria-label":"Decrease gap",children:""}),x.jsx("span",{children:s.toFixed(1)}),x.jsx("button",{type:"button",onClick:()=>t(parseFloat((s+XE).toFixed(1))),"aria-label":"Increase gap",children:"+"})]}),RA=({title:s,children:t})=>x.jsxs("div",{className:"match-box",children:[x.jsx("h3",{className:"match-info-title",children:s}),x.jsx("div",{className:"match-section",children:t})]}),UN=({matchDetails:s,onChange:t})=>x.jsxs(RA,{title:"Live Draw",children:[x.jsx(Si,{label:"Date",children:x.jsx("input",{type:"date",value:s.date,onChange:n=>t("date",n.target.value)})}),x.jsx(Si,{label:"Start",children:x.jsx("input",{type:"time",value:s.startTime,onChange:n=>t("startTime",n.target.value)})}),x.jsx(Si,{label:"End",children:x.jsx("input",{type:"time",value:s.endTime,readOnly:!0})}),x.jsx(Si,{label:"Location",children:x.jsx("select",{value:s.location,onChange:n=>t("location",n.target.value),children:ON.map(n=>x.jsx("option",{value:n,children:n},n))})}),x.jsx(Si,{label:"Gap",children:x.jsx(PN,{value:s.gap,onChange:n=>t("gap",n)})})]}),LN=({matchData:s})=>x.jsx(RA,{title:"Match Info",children:s?x.jsxs(x.Fragment,{children:[x.jsx(Si,{label:"Date",children:x.jsx("span",{className:"match-value",children:s.date})}),x.jsx(Si,{label:"Start",children:x.jsx("span",{className:"match-value",children:s.startTime})}),x.jsx(Si,{label:"End",children:x.jsx("span",{className:"match-value",children:s.endTime})}),x.jsx(Si,{label:"Location",children:x.jsx("span",{className:"match-value",children:s.location})}),x.jsx(Si,{label:"Gap",children:x.jsx("span",{className:"match-value",children:s.gap})})]}):x.jsx("div",{className:"match-row",children:x.jsx("p",{className:"empty-message",children:"No match info available."})})}),zN=({player:s,isSelected:t,onToggle:n})=>x.jsxs("button",{className:`player-card ${t?"selected":""}`,onClick:n,"aria-pressed":t,children:[x.jsx("h4",{className:"player-card-name",children:s.name}),x.jsx("span",{className:"player-card-value",children:s.value})]}),jN=({players:s,selectedPlayers:t,onToggle:n})=>x.jsx("div",{className:"players-grid",children:s.map(r=>x.jsx(zN,{player:r,isSelected:t.some(l=>l.id===r.id),onToggle:()=>n(r)},r.id))}),BN=({selectedCount:s,totalCount:t,onGenerate:n,disabled:r})=>x.jsxs("div",{className:"generate-section",children:[x.jsxs("div",{className:"selected-counter",children:[x.jsx("span",{className:"selected-counter-number",children:s})," / ",t," players selected"]}),x.jsx("button",{className:"generate-button",onClick:n,disabled:r,children:"Generate Teams"})]}),qN=({team:s,index:t})=>{const n=_t.useMemo(()=>Om(s),[s]);return x.jsxs("div",{className:`team-card team-${t+1}`,children:[x.jsxs("div",{className:"team-header",children:[x.jsxs("h3",{className:"team-title",children:["Team ",t+1]}),x.jsx("div",{className:"team-total",children:n.toFixed(2)})]}),x.jsx("ul",{className:"team-players",children:s.map(r=>x.jsxs("li",{className:"team-player-item",children:[x.jsx("span",{className:"team-player-name",children:r.name}),x.jsx("span",{className:"team-player-value",children:r.value})]},r.id||r.name))})]})},HN=({teams:s,matchData:t})=>x.jsxs("div",{className:"teams-wrapper",children:[x.jsx(LN,{matchData:t}),x.jsx("div",{className:"teams-container",children:s.map((n,r)=>x.jsx(qN,{team:n,index:r},r))})]});function FN(){const{selectedSeason:s}=Np(),{currentUser:t}=Dp(),[n,r]=_t.useState([]),[l,u]=_t.useState([]),[d,p]=_t.useState([]),[g,y]=_t.useState(!0),[T,S]=_t.useState(NN),[D,H]=_t.useState(null),Z=_t.useCallback(async()=>{if(s){y(!0);try{if(t){const b=(await kl(xl(Qs,`seasons/${s}/players`))).docs.map(I=>({id:I.id,...I.data()}));r(b)}const vt=kE(xl(Qs,`seasons/${s}/matches`),PE("date","desc"),UE(1)),mt=await kl(vt);if(mt.empty)p([]),H(null);else{const R=mt.docs[0].data();p([R.team1,R.team2]),H(R)}}catch(vt){console.error("Error loading data:",vt)}finally{y(!1)}}},[s,t]);_t.useEffect(()=>{Z()},[Z]);const W=_t.useCallback(vt=>{u(mt=>mt.find(R=>R.id===vt.id)?mt.filter(R=>R.id!==vt.id):[...mt,vt])},[]),J=_t.useCallback(vt=>{const mt=T.gap;let R=[],b=[],I=1/0;const V=vt.length<=10?1e3:500;for(let N=0;N<V;N++){const P=[...vt].sort(()=>Math.random()-.5),w=[],Gt=[];P.forEach((ct,Pt)=>{(Pt%2===0?w:Gt).push(ct)});const he=Om(w),F=Om(Gt),et=Math.abs(he-F);if(et<=mt)return[w,Gt];et<I&&(I=et,R=w,b=Gt)}return[R,b]},[T.gap]),it=_t.useCallback(async()=>{if(l.length<2)return;const[vt,mt]=J(l);p([vt,mt]);try{const R=VN(T.date),b=Dm(Qs,`seasons/${s}/matches/${R}`),I={team1:vt.map(N=>({name:N.name,value:N.value||0})),team2:mt.map(N=>({name:N.name,value:N.value||0})),date:R,startTime:T.startTime,endTime:T.endTime,location:T.location,gap:T.gap??1.5};await RD(b,I);const V=await kl(kE(xl(Qs,`seasons/${s}/matches`),PE("date","desc"),UE(1)));if(!V.empty){const N=V.docs[0].data();H(N),p([N.team1,N.team2])}}catch(R){console.error("Error saving match:",R)}},[l,T,J,s]),dt=_t.useCallback((vt,mt)=>{S(R=>({...R,[vt]:mt})),vt==="date"&&(u([]),p([]))},[]);if(g)return x.jsx(xN,{});const lt=d.length===2,Tt=l.length>=2;return x.jsxs("div",{className:"draw-container",children:[t&&x.jsxs(x.Fragment,{children:[x.jsx(UN,{matchDetails:T,onChange:dt}),n.length>0&&x.jsxs(x.Fragment,{children:[x.jsx(jN,{players:n,selectedPlayers:l,onToggle:W}),x.jsx(BN,{selectedCount:l.length,totalCount:n.length,onGenerate:it,disabled:!Tt})]})]}),lt&&x.jsx(HN,{teams:d,matchData:D}),!t&&!lt&&x.jsx(kN,{})]})}function GN(){return x.jsx(nN,{children:x.jsxs(iN,{children:[x.jsx(mN,{}),x.jsx(sN,{}),x.jsxs("main",{style:{position:"relative",zIndex:1},children:[x.jsx("section",{id:"ranking",children:x.jsx(IN,{})}),x.jsx("section",{id:"history",children:x.jsx(CN,{})}),x.jsx("section",{id:"draw",children:x.jsx(FN,{})}),x.jsx("section",{id:"statistics",children:x.jsx(DN,{})})]}),x.jsx(dN,{})]})})}h1.createRoot(document.getElementById("root")).render(x.jsx(_t.StrictMode,{children:x.jsx(GN,{})}));
