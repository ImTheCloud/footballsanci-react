(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var sd={exports:{}},ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function RS(){if(s_)return ao;s_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return ao.Fragment=t,ao.jsx=i,ao.jsxs=i,ao}var r_;function wS(){return r_||(r_=1,sd.exports=RS()),sd.exports}var X=wS(),rd={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function CS(){if(a_)return pt;a_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,Z={};function dt(M,Y,et){this.props=M,this.context=Y,this.refs=Z,this.updater=et||$}dt.prototype.isReactComponent={},dt.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},dt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function bt(){}bt.prototype=dt.prototype;function ht(M,Y,et){this.props=M,this.context=Y,this.refs=Z,this.updater=et||$}var At=ht.prototype=new bt;At.constructor=ht,nt(At,dt.prototype),At.isPureReactComponent=!0;var qt=Array.isArray;function Rt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(M,Y,et){var it=et.ref;return{$$typeof:r,type:M,key:Y,ref:it!==void 0?it:null,props:et}}function V(M,Y){return C(M.type,Y,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return Y[et]})}var R=/\/+/g;function te(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):Y.toString(36)}function we(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Rt,Rt):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,Y,et,it,gt){var Tt=typeof M;(Tt==="undefined"||Tt==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(Tt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case r:case t:Vt=!0;break;case A:return Vt=M._init,H(Vt(M._payload),Y,et,it,gt)}}if(Vt)return gt=gt(M),Vt=it===""?"."+te(M,0):it,qt(gt)?(et="",Vt!=null&&(et=Vt.replace(R,"$&/")+"/"),H(gt,Y,et,"",function(Zs){return Zs})):gt!=null&&(N(gt)&&(gt=V(gt,et+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+Vt)),Y.push(gt)),1;Vt=0;var Ce=it===""?".":it+":";if(qt(M))for(var ee=0;ee<M.length;ee++)it=M[ee],Tt=Ce+te(it,ee),Vt+=H(it,Y,et,Tt,gt);else if(ee=G(M),typeof ee=="function")for(M=ee.call(M),ee=0;!(it=M.next()).done;)it=it.value,Tt=Ce+te(it,ee++),Vt+=H(it,Y,et,Tt,gt);else if(Tt==="object"){if(typeof M.then=="function")return H(we(M),Y,et,it,gt);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function tt(M,Y,et){if(M==null)return M;var it=[],gt=0;return H(M,it,"","",function(Tt){return Y.call(et,Tt,gt++)}),it}function ut(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:tt,forEach:function(M,Y,et){tt(M,function(){Y.apply(this,arguments)},et)},count:function(M){var Y=0;return tt(M,function(){Y++}),Y},toArray:function(M){return tt(M,function(Y){return Y})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return pt.Activity=S,pt.Children=Ht,pt.Component=dt,pt.Fragment=i,pt.Profiler=o,pt.PureComponent=ht,pt.StrictMode=a,pt.Suspense=_,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,pt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},pt.cache=function(M){return function(){return M.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function(M,Y,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var it=nt({},M.props),gt=M.key;if(Y!=null)for(Tt in Y.key!==void 0&&(gt=""+Y.key),Y)!b.call(Y,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Y.ref===void 0||(it[Tt]=Y[Tt]);var Tt=arguments.length-2;if(Tt===1)it.children=et;else if(1<Tt){for(var Vt=Array(Tt),Ce=0;Ce<Tt;Ce++)Vt[Ce]=arguments[Ce+2];it.children=Vt}return C(M.type,gt,it)},pt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},pt.createElement=function(M,Y,et){var it,gt={},Tt=null;if(Y!=null)for(it in Y.key!==void 0&&(Tt=""+Y.key),Y)b.call(Y,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=Y[it]);var Vt=arguments.length-2;if(Vt===1)gt.children=et;else if(1<Vt){for(var Ce=Array(Vt),ee=0;ee<Vt;ee++)Ce[ee]=arguments[ee+2];gt.children=Ce}if(M&&M.defaultProps)for(it in Vt=M.defaultProps,Vt)gt[it]===void 0&&(gt[it]=Vt[it]);return C(M,Tt,gt)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(M){return{$$typeof:p,render:M}},pt.isValidElement=N,pt.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ut}},pt.memo=function(M,Y){return{$$typeof:v,type:M,compare:Y===void 0?null:Y}},pt.startTransition=function(M){var Y=I.T,et={};I.T=et;try{var it=M(),gt=I.S;gt!==null&&gt(et,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Rt,Lt)}catch(Tt){Lt(Tt)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),I.T=Y}},pt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},pt.use=function(M){return I.H.use(M)},pt.useActionState=function(M,Y,et){return I.H.useActionState(M,Y,et)},pt.useCallback=function(M,Y){return I.H.useCallback(M,Y)},pt.useContext=function(M){return I.H.useContext(M)},pt.useDebugValue=function(){},pt.useDeferredValue=function(M,Y){return I.H.useDeferredValue(M,Y)},pt.useEffect=function(M,Y){return I.H.useEffect(M,Y)},pt.useEffectEvent=function(M){return I.H.useEffectEvent(M)},pt.useId=function(){return I.H.useId()},pt.useImperativeHandle=function(M,Y,et){return I.H.useImperativeHandle(M,Y,et)},pt.useInsertionEffect=function(M,Y){return I.H.useInsertionEffect(M,Y)},pt.useLayoutEffect=function(M,Y){return I.H.useLayoutEffect(M,Y)},pt.useMemo=function(M,Y){return I.H.useMemo(M,Y)},pt.useOptimistic=function(M,Y){return I.H.useOptimistic(M,Y)},pt.useReducer=function(M,Y,et){return I.H.useReducer(M,Y,et)},pt.useRef=function(M){return I.H.useRef(M)},pt.useState=function(M){return I.H.useState(M)},pt.useSyncExternalStore=function(M,Y,et){return I.H.useSyncExternalStore(M,Y,et)},pt.useTransition=function(){return I.H.useTransition()},pt.version="19.2.0",pt}var l_;function Zd(){return l_||(l_=1,rd.exports=CS()),rd.exports}var Le=Zd(),ad={exports:{}},lo={},ld={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function IS(){return o_||(o_=1,(function(r){function t(H,tt){var ut=H.length;H.push(tt);t:for(;0<ut;){var Lt=ut-1>>>1,Ht=H[Lt];if(0<o(Ht,tt))H[Lt]=tt,H[ut]=Ht,ut=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],ut=H.pop();if(ut!==tt){H[0]=ut;t:for(var Lt=0,Ht=H.length,M=Ht>>>1;Lt<M;){var Y=2*(Lt+1)-1,et=H[Y],it=Y+1,gt=H[it];if(0>o(et,ut))it<Ht&&0>o(gt,et)?(H[Lt]=gt,H[it]=ut,Lt=it):(H[Lt]=et,H[Y]=ut,Lt=Y);else if(it<Ht&&0>o(gt,ut))H[Lt]=gt,H[it]=ut,Lt=it;else break t}}return tt}function o(H,tt){var ut=H.sortIndex-tt.sortIndex;return ut!==0?ut:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,S=null,O=3,G=!1,$=!1,nt=!1,Z=!1,dt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function At(H){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=H)a(v),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(v)}}function qt(H){if(nt=!1,At(H),!$)if(i(_)!==null)$=!0,Rt||(Rt=!0,U());else{var tt=i(v);tt!==null&&we(qt,tt.startTime-H)}}var Rt=!1,I=-1,b=5,C=-1;function V(){return Z?!0:!(r.unstable_now()-C<b)}function N(){if(Z=!1,Rt){var H=r.unstable_now();C=H;var tt=!0;try{t:{$=!1,nt&&(nt=!1,bt(I),I=-1),G=!0;var ut=O;try{e:{for(At(H),S=i(_);S!==null&&!(S.expirationTime>H&&V());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,O=S.priorityLevel;var Ht=Lt(S.expirationTime<=H);if(H=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,At(H),tt=!0;break e}S===i(_)&&a(_),At(H)}else a(_);S=i(_)}if(S!==null)tt=!0;else{var M=i(v);M!==null&&we(qt,M.startTime-H),tt=!1}}break t}finally{S=null,O=ut,G=!1}tt=void 0}}finally{tt?U():Rt=!1}}}var U;if(typeof ht=="function")U=function(){ht(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,te=R.port2;R.port1.onmessage=N,U=function(){te.postMessage(null)}}else U=function(){dt(N,0)};function we(H,tt){I=dt(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(H){switch(O){case 1:case 2:case 3:var tt=3;break;default:tt=O}var ut=O;O=tt;try{return H()}finally{O=ut}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=O;O=H;try{return tt()}finally{O=ut}},r.unstable_scheduleCallback=function(H,tt,ut){var Lt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,H={id:A++,callback:tt,priorityLevel:H,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>Lt?(H.sortIndex=ut,t(v,H),i(_)===null&&H===i(v)&&(nt?(bt(I),I=-1):nt=!0,we(qt,ut-Lt))):(H.sortIndex=Ht,t(_,H),$||G||($=!0,Rt||(Rt=!0,U()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var tt=O;return function(){var ut=O;O=tt;try{return H.apply(this,arguments)}finally{O=ut}}}})(od)),od}var u_;function DS(){return u_||(u_=1,ld.exports=IS()),ld.exports}var ud={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function NS(){if(c_)return Fe;c_=1;var r=Zd();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(_,v,null,A)},Fe.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},Fe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Fe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Fe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,S=p(A,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:G}):A==="script"&&a.d.X(_,{crossOrigin:S,integrity:O,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Fe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Fe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,S=p(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Fe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Fe.requestFormReset=function(_){a.d.r(_)},Fe.unstable_batchedUpdates=function(_,v){return _(v)},Fe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.0",Fe}var h_;function OS(){if(h_)return ud.exports;h_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ud.exports=NS(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function MS(){if(f_)return lo;f_=1;var r=DS(),t=Zd(),i=OS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(h(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return _(c),e;if(f===l)return _(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),qt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case dt:return"Profiler";case Z:return"StrictMode";case qt:return"Suspense";case Rt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ht:return e.displayName||"Context";case bt:return(e._context.displayName||"Context")+".Consumer";case At:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var we=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function M(e){return{current:e}}function Y(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function et(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var it=M(null),gt=M(null),Tt=M(null),Vt=M(null);function Ce(e,n){switch(et(Tt,n),et(gt,e),et(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Cy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Cy(n),e=Iy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(it),et(it,e)}function ee(){Y(it),Y(gt),Y(Tt)}function Zs(e){e.memoizedState!==null&&et(Vt,e);var n=it.current,s=Iy(n,e.type);n!==s&&(et(gt,e),et(it,s))}function Br(e){gt.current===e&&(Y(it),Y(gt)),Vt.current===e&&(Y(Vt),no._currentValue=ut)}var jr,qr;function Yn(e){if(jr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);jr=n&&n[1]||"",qr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+e+qr}var nl=!1;function Js(e,n){if(!e||nl)return"";nl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var z=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){z=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){z=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),P=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===P.length)for(l=w.length-1,c=P.length-1;1<=l&&0<=c&&w[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==P[c]){var q=`
`+w[l].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=l&&0<=c);break}}}finally{nl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Yn(s):""}function il(e,n){switch(e.tag){case 26:case 27:case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return e.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Js(e.type,!1);case 11:return Js(e.type.render,!1);case 1:return Js(e.type,!0);case 31:return Yn("Activity");default:return""}}function sl(e){try{var n="",s=null;do n+=il(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,Ie=r.unstable_scheduleCallback,Ji=r.unstable_cancelCallback,rh=r.unstable_shouldYield,xo=r.unstable_requestPaint,$e=r.unstable_now,Ws=r.unstable_getCurrentPriorityLevel,rl=r.unstable_ImmediatePriority,al=r.unstable_UserBlockingPriority,Wi=r.unstable_NormalPriority,ah=r.unstable_LowPriority,Uo=r.unstable_IdlePriority,Lo=r.log,ko=r.unstable_setDisableYieldValue,Mn=null,ke=null;function _n(e){if(typeof Lo=="function"&&ko(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Mn,e)}catch{}}var oe=Math.clz32?Math.clz32:zo,Po=Math.log,Hr=Math.LN2;function zo(e){return e>>>=0,e===0?32:31-(Po(e)/Hr|0)|0}var Kn=256,tr=262144,ge=4194304;function Xn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $n(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Xn(l):(g&=E,g!==0?c=Xn(g):s||(s=E&~e,s!==0&&(c=Xn(s))))):(E=l&~f,E!==0?c=Xn(E):g!==0?c=Xn(g):s||(s=l&~e,s!==0&&(c=Xn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Vn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function lh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var e=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),e}function Zn(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function er(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oh(e,n,s,l,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var q=31-oe(s),Q=1<<q;E[q]=0,w[q]=-1;var z=P[q];if(z!==null)for(P[q]=null,q=0;q<z.length;q++){var j=z[q];j!==null&&(j.lane&=-536870913)}s&=~Q}l!==0&&nr(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function nr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-oe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function ll(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-oe(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}function ol(e,n){var s=n&-n;return s=(s&42)!==0?1:ir(s),(s&(e.suspendedLanes|n))!==0?0:s}function ir(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jo(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:Zy(e.type))}function xn(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Un=Math.random().toString(36).slice(2),pe="__reactFiber$"+Un,Me="__reactProps$"+Un,Jn="__reactContainer$"+Un,Gr="__reactEvents$"+Un,uh="__reactListeners$"+Un,qo="__reactHandles$"+Un,Ho="__reactResources$"+Un,Wn="__reactMarker$"+Un;function Fr(e){delete e[pe],delete e[Me],delete e[Gr],delete e[uh],delete e[qo]}function ti(e){var n=e[pe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Jn]||s[pe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Uy(e);e!==null;){if(s=e[pe])return s;e=Uy(e)}return n}e=s,s=e.parentNode}return null}function vn(e){if(e=e[pe]||e[Jn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function un(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ei(e){var n=e[Ho];return n||(n=e[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(e){e[Wn]=!0}var ul=new Set,cl={};function ni(e,n){ii(e,n),ii(e+"Capture",n)}function ii(e,n){for(cl[e]=n,e=0;e<n.length;e++)ul.add(n[e])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},dl={};function Go(e){return me.call(dl,e)?!0:me.call(fl,e)?!1:hl.test(e)?dl[e]=!0:(fl[e]=!0,!1)}function Qr(e,n,s){if(Go(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function cn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function _e(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ts(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ml(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ts(e)?"checked":"value";e._valueTracker=ml(e,n,""+e[n])}}function sr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ts(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rr=/[\n"\\]/g;function tn(e){return e.replace(rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yr(e,n,s,l,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ve(n)):e.value!==""+Ve(n)&&(e.value=""+Ve(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?gl(e,g,Ve(n)):s!=null?gl(e,g,Ve(s)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ve(E):e.removeAttribute("name")}function Fo(e,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+Ve(s):"",n=n!=null?""+Ve(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function gl(e,n,s){n==="number"&&si(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function es(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ve(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Qo(e,n,s){if(n!=null&&(n=""+Ve(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ve(s):""}function ns(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(we(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ve(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Gt(e)}function en(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Yo.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function yl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&pl(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&pl(e,f,n[f])}function Kr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(e){return is.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ln(){}var _l=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ss=null,ri=null;function ar(e){var n=vn(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Yr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=l[Me]||null;if(!c)throw Error(a(90));Yr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&sr(l)}break t;case"textarea":Qo(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&es(e,!!s.multiple,n,!1)}}}var $r=!1;function rs(e,n,s){if($r)return e(n,s);$r=!0;try{var l=e(n);return l}finally{if($r=!1,(ss!==null||ri!==null)&&(ju(),ss&&(n=ss,e=ri,ri=ss=null,ar(n),e)))for(n=0;n<e.length;n++)ar(e[n])}}function kn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Me]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(Tn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{lr=!1}var ai=null,vl=null,or=null;function El(){if(or)return or;var e,n=vl,s=n.length,l,c="value"in ai?ai.value:ai.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return or=c.slice(e,1<l?1-l:void 0)}function ur(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function Pn(){return!1}function Pe(e){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:Pn,this.isPropagationStopped=Pn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Pe(Di),as=S({},Di,{view:0,detail:0}),Tl=Pe(as),ls,Zr,oi,Jr=S({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(ls=e.screenX-oi.screenX,Zr=e.screenY-oi.screenY):Zr=ls=0,oi=e),ls)},movementY:function(e){return"movementY"in e?e.movementY:Zr}}),Sl=Pe(Jr),cr=S({},Jr,{dataTransfer:0}),Xo=Pe(cr),$o=S({},as,{relatedTarget:0}),hr=Pe($o),Al=S({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),Zo=Pe(Al),Wr=S({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jo=Pe(Wr),Wo=S({},Di,{data:0}),ui=Pe(Wo),tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=nu[e])?!!n[e]:!1}function os(){return iu}var Ze=S({},as,{key:function(e){if(e.key){var n=tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ur(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(e){return e.type==="keypress"?ur(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ur(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),su=Pe(Ze),ru=S({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=Pe(ru),u=S({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),m=Pe(u),y=S({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(y),L=S({},Jr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(L),J=S({},Di,{newState:0,oldState:0}),vt=Pe(J),ue=[9,13,27,32],Bt=Tn&&"CompositionEvent"in window,ne=null;Tn&&"documentMode"in document&&(ne=document.documentMode);var Sn=Tn&&"TextEvent"in window&&!ne,ci=Tn&&(!Bt||ne&&8<ne&&11>=ne),zn=" ",Bn=!1;function fr(e,n){switch(e){case"keyup":return ue.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ta(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ea=!1;function XT(e,n){switch(e){case"compositionend":return ta(n);case"keypress":return n.which!==32?null:(Bn=!0,zn);case"textInput":return e=n.data,e===zn&&Bn?null:e;default:return null}}function $T(e,n){if(ea)return e==="compositionend"||!Bt&&fr(e,n)?(e=El(),or=vl=ai=null,ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ZT[e.type]:n==="textarea"}function zm(e,n,s,l){ss?ri?ri.push(l):ri=[l]:ss=l,n=Ku(n,"onChange"),0<n.length&&(s=new li("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var bl=null,Rl=null;function JT(e){Ty(e,0)}function au(e){var n=un(e);if(sr(n))return e}function Bm(e,n){if(e==="change")return n}var jm=!1;if(Tn){var ch;if(Tn){var hh="oninput"in document;if(!hh){var qm=document.createElement("div");qm.setAttribute("oninput","return;"),hh=typeof qm.oninput=="function"}ch=hh}else ch=!1;jm=ch&&(!document.documentMode||9<document.documentMode)}function Hm(){bl&&(bl.detachEvent("onpropertychange",Gm),Rl=bl=null)}function Gm(e){if(e.propertyName==="value"&&au(Rl)){var n=[];zm(n,Rl,e,En(e)),rs(JT,n)}}function WT(e,n,s){e==="focusin"?(Hm(),bl=n,Rl=s,bl.attachEvent("onpropertychange",Gm)):e==="focusout"&&Hm()}function t0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return au(Rl)}function e0(e,n){if(e==="click")return au(n)}function n0(e,n){if(e==="input"||e==="change")return au(n)}function i0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:i0;function wl(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!me.call(n,c)||!hn(e[c],n[c]))return!1}return!0}function Fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qm(e,n){var s=Fm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Fm(s)}}function Ym(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ym(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Km(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=si(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=si(e.document)}return n}function fh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var s0=Tn&&"documentMode"in document&&11>=document.documentMode,na=null,dh=null,Cl=null,mh=!1;function Xm(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;mh||na==null||na!==si(l)||(l=na,"selectionStart"in l&&fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&wl(Cl,l)||(Cl=l,l=Ku(dh,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=na)))}function dr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ia={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},gh={},$m={};Tn&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function mr(e){if(gh[e])return gh[e];if(!ia[e])return e;var n=ia[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in $m)return gh[e]=n[s];return e}var Zm=mr("animationend"),Jm=mr("animationiteration"),Wm=mr("animationstart"),r0=mr("transitionrun"),a0=mr("transitionstart"),l0=mr("transitioncancel"),tg=mr("transitionend"),eg=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function jn(e,n){eg.set(e,n),ni(n,[e])}var lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},An=[],sa=0,yh=0;function ou(){for(var e=sa,n=yh=sa=0;n<e;){var s=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&ng(s,c,f)}}function uu(e,n,s,l){An[sa++]=e,An[sa++]=n,An[sa++]=s,An[sa++]=l,yh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function _h(e,n,s,l){return uu(e,n,s,l),cu(e)}function gr(e,n){return uu(e,null,null,n),cu(e)}function ng(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-oe(s),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function cu(e){if(50<Xl)throw Xl=0,If=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ra={};function o0(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,n,s,l){return new o0(e,n,s,l)}function vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var s=e.alternate;return s===null?(s=fn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function ig(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function hu(e,n,s,l,c,f){var g=0;if(l=e,typeof e=="function")vh(e)&&(g=1);else if(typeof e=="string")g=dS(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=fn(31,s,n,c),e.elementType=C,e.lanes=f,e;case nt:return pr(s.children,c,f,n);case Z:g=8,c|=24;break;case dt:return e=fn(12,s,n,c|2),e.elementType=dt,e.lanes=f,e;case qt:return e=fn(13,s,n,c),e.elementType=qt,e.lanes=f,e;case Rt:return e=fn(19,s,n,c),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:g=10;break t;case bt:g=9;break t;case At:g=11;break t;case I:g=14;break t;case b:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=fn(g,s,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function pr(e,n,s,l){return e=fn(7,e,l,n),e.lanes=s,e}function Eh(e,n,s){return e=fn(6,e,null,n),e.lanes=s,e}function sg(e){var n=fn(18,null,null,0);return n.stateNode=e,n}function Th(e,n,s){return n=fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var rg=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var s=rg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:sl(n)},rg.set(e,n),n)}return{value:e,source:n,stack:sl(n)}}var aa=[],la=0,fu=null,Il=0,Rn=[],wn=0,us=null,hi=1,fi="";function Mi(e,n){aa[la++]=Il,aa[la++]=fu,fu=e,Il=n}function ag(e,n,s){Rn[wn++]=hi,Rn[wn++]=fi,Rn[wn++]=us,us=e;var l=hi;e=fi;var c=32-oe(l)-1;l&=~(1<<c),s+=1;var f=32-oe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-oe(n)+c|s<<c|l,fi=f+e}else hi=1<<f|s<<c|l,fi=e}function Sh(e){e.return!==null&&(Mi(e,1),ag(e,1,0))}function Ah(e){for(;e===fu;)fu=aa[--la],aa[la]=null,Il=aa[--la],aa[la]=null;for(;e===us;)us=Rn[--wn],Rn[wn]=null,fi=Rn[--wn],Rn[wn]=null,hi=Rn[--wn],Rn[wn]=null}function lg(e,n){Rn[wn++]=hi,Rn[wn++]=fi,Rn[wn++]=us,hi=n.id,fi=n.overflow,us=e}var ze=null,Jt=null,Ot=!1,cs=null,Cn=!1,bh=Error(a(519));function hs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dl(bn(n,e)),bh}function og(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[pe]=e,n[Me]=l,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<Zl.length;s++)Ct(Zl[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Fo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ns(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Ry(n.textContent,s)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||hs(e,!0)}function ug(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:ze=ze.return}}function oa(e){if(e!==ze)return!1;if(!Ot)return ug(e),Ot=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Hf(e.type,e.memoizedProps)),s=!s),s&&Jt&&hs(e),ug(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Jt=xy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Jt=xy(e)}else n===27?(n=Jt,Rs(e.type)?(e=Kf,Kf=null,Jt=e):Jt=n):Jt=ze?Dn(e.stateNode.nextSibling):null;return!0}function yr(){Jt=ze=null,Ot=!1}function Rh(){var e=cs;return e!==null&&(an===null?an=e:an.push.apply(an,e),cs=null),e}function Dl(e){cs===null?cs=[e]:cs.push(e)}var wh=M(null),_r=null,Vi=null;function fs(e,n,s){et(wh,n._currentValue),n._currentValue=s}function xi(e){e._currentValue=wh.current,Y(wh)}function Ch(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Ih(e,n,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Ch(f.return,s,e),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Ch(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ua(e,n,s,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===Vt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(no):e=[no])}c=c.return}e!==null&&Ih(n,e,s,l),n.flags|=262144}function du(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vr(e){_r=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return cg(_r,e)}function mu(e,n){return _r===null&&vr(e),cg(e,n)}function cg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Vi===null){if(e===null)throw Error(a(308));Vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vi=Vi.next=n;return s}var u0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},c0=r.unstable_scheduleCallback,h0=r.unstable_NormalPriority,ve={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dh(){return{controller:new u0,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&c0(h0,function(){e.controller.abort()})}var Ol=null,Nh=0,ca=0,ha=null;function f0(e,n){if(Ol===null){var s=Ol=[];Nh=0,ca=xf(),ha={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Nh++,n.then(hg,hg),n}function hg(){if(--Nh===0&&Ol!==null){ha!==null&&(ha.status="fulfilled");var e=Ol;Ol=null,ca=0,ha=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function d0(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var fg=H.S;H.S=function(e,n){Xp=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&f0(e,n),fg!==null&&fg(e,n)};var Er=M(null);function Oh(){var e=Er.current;return e!==null?e:Zt.pooledCache}function gu(e,n){n===null?et(Er,Er.current):et(Er,n.pool)}function dg(){var e=Oh();return e===null?null:{parent:ve._currentValue,pool:e}}var fa=Error(a(460)),Mh=Error(a(474)),pu=Error(a(542)),yu={then:function(){}};function mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Ln,Ln),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yg(e),e;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yg(e),e}throw Sr=n,fa}}function Tr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Sr=s,fa):s}}var Sr=null;function pg(){if(Sr===null)throw Error(a(459));var e=Sr;return Sr=null,e}function yg(e){if(e===fa||e===pu)throw Error(a(483))}var da=null,Ml=0;function _u(e){var n=Ml;return Ml+=1,da===null&&(da=[]),gg(da,e,n)}function Vl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function vu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function _g(e){function n(x,D){if(e){var k=x.deletions;k===null?(x.deletions=[D],x.flags|=16):k.push(D)}}function s(x,D){if(!e)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function l(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=Oi(x,D),x.index=0,x.sibling=null,x}function f(x,D,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<D?(x.flags|=67108866,D):k):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,k,F){return D===null||D.tag!==6?(D=Eh(k,x.mode,F),D.return=x,D):(D=c(D,k),D.return=x,D)}function w(x,D,k,F){var ot=k.type;return ot===nt?q(x,D,k.props.children,F,k.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Tr(ot)===D.type)?(D=c(D,k.props),Vl(D,k),D.return=x,D):(D=hu(k.type,k.key,k.props,null,x.mode,F),Vl(D,k),D.return=x,D)}function P(x,D,k,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=Th(k,x.mode,F),D.return=x,D):(D=c(D,k.children||[]),D.return=x,D)}function q(x,D,k,F,ot){return D===null||D.tag!==7?(D=pr(k,x.mode,F,ot),D.return=x,D):(D=c(D,k),D.return=x,D)}function Q(x,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Eh(""+D,x.mode,k),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return k=hu(D.type,D.key,D.props,null,x.mode,k),Vl(k,D),k.return=x,k;case $:return D=Th(D,x.mode,k),D.return=x,D;case b:return D=Tr(D),Q(x,D,k)}if(we(D)||U(D))return D=pr(D,x.mode,k,null),D.return=x,D;if(typeof D.then=="function")return Q(x,_u(D),k);if(D.$$typeof===ht)return Q(x,mu(x,D),k);vu(x,D)}return null}function z(x,D,k,F){var ot=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ot!==null?null:E(x,D,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case G:return k.key===ot?w(x,D,k,F):null;case $:return k.key===ot?P(x,D,k,F):null;case b:return k=Tr(k),z(x,D,k,F)}if(we(k)||U(k))return ot!==null?null:q(x,D,k,F,null);if(typeof k.then=="function")return z(x,D,_u(k),F);if(k.$$typeof===ht)return z(x,D,mu(x,k),F);vu(x,k)}return null}function j(x,D,k,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(k)||null,E(D,x,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return x=x.get(F.key===null?k:F.key)||null,w(D,x,F,ot);case $:return x=x.get(F.key===null?k:F.key)||null,P(D,x,F,ot);case b:return F=Tr(F),j(x,D,k,F,ot)}if(we(F)||U(F))return x=x.get(k)||null,q(D,x,F,ot,null);if(typeof F.then=="function")return j(x,D,k,_u(F),ot);if(F.$$typeof===ht)return j(x,D,k,mu(D,F),ot);vu(D,F)}return null}function rt(x,D,k,F){for(var ot=null,Pt=null,at=D,St=D=0,Dt=null;at!==null&&St<k.length;St++){at.index>St?(Dt=at,at=null):Dt=at.sibling;var zt=z(x,at,k[St],F);if(zt===null){at===null&&(at=Dt);break}e&&at&&zt.alternate===null&&n(x,at),D=f(zt,D,St),Pt===null?ot=zt:Pt.sibling=zt,Pt=zt,at=Dt}if(St===k.length)return s(x,at),Ot&&Mi(x,St),ot;if(at===null){for(;St<k.length;St++)at=Q(x,k[St],F),at!==null&&(D=f(at,D,St),Pt===null?ot=at:Pt.sibling=at,Pt=at);return Ot&&Mi(x,St),ot}for(at=l(at);St<k.length;St++)Dt=j(at,x,St,k[St],F),Dt!==null&&(e&&Dt.alternate!==null&&at.delete(Dt.key===null?St:Dt.key),D=f(Dt,D,St),Pt===null?ot=Dt:Pt.sibling=Dt,Pt=Dt);return e&&at.forEach(function(Ns){return n(x,Ns)}),Ot&&Mi(x,St),ot}function ct(x,D,k,F){if(k==null)throw Error(a(151));for(var ot=null,Pt=null,at=D,St=D=0,Dt=null,zt=k.next();at!==null&&!zt.done;St++,zt=k.next()){at.index>St?(Dt=at,at=null):Dt=at.sibling;var Ns=z(x,at,zt.value,F);if(Ns===null){at===null&&(at=Dt);break}e&&at&&Ns.alternate===null&&n(x,at),D=f(Ns,D,St),Pt===null?ot=Ns:Pt.sibling=Ns,Pt=Ns,at=Dt}if(zt.done)return s(x,at),Ot&&Mi(x,St),ot;if(at===null){for(;!zt.done;St++,zt=k.next())zt=Q(x,zt.value,F),zt!==null&&(D=f(zt,D,St),Pt===null?ot=zt:Pt.sibling=zt,Pt=zt);return Ot&&Mi(x,St),ot}for(at=l(at);!zt.done;St++,zt=k.next())zt=j(at,x,St,zt.value,F),zt!==null&&(e&&zt.alternate!==null&&at.delete(zt.key===null?St:zt.key),D=f(zt,D,St),Pt===null?ot=zt:Pt.sibling=zt,Pt=zt);return e&&at.forEach(function(bS){return n(x,bS)}),Ot&&Mi(x,St),ot}function $t(x,D,k,F){if(typeof k=="object"&&k!==null&&k.type===nt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case G:t:{for(var ot=k.key;D!==null;){if(D.key===ot){if(ot=k.type,ot===nt){if(D.tag===7){s(x,D.sibling),F=c(D,k.props.children),F.return=x,x=F;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Tr(ot)===D.type){s(x,D.sibling),F=c(D,k.props),Vl(F,k),F.return=x,x=F;break t}s(x,D);break}else n(x,D);D=D.sibling}k.type===nt?(F=pr(k.props.children,x.mode,F,k.key),F.return=x,x=F):(F=hu(k.type,k.key,k.props,null,x.mode,F),Vl(F,k),F.return=x,x=F)}return g(x);case $:t:{for(ot=k.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){s(x,D.sibling),F=c(D,k.children||[]),F.return=x,x=F;break t}else{s(x,D);break}else n(x,D);D=D.sibling}F=Th(k,x.mode,F),F.return=x,x=F}return g(x);case b:return k=Tr(k),$t(x,D,k,F)}if(we(k))return rt(x,D,k,F);if(U(k)){if(ot=U(k),typeof ot!="function")throw Error(a(150));return k=ot.call(k),ct(x,D,k,F)}if(typeof k.then=="function")return $t(x,D,_u(k),F);if(k.$$typeof===ht)return $t(x,D,mu(x,k),F);vu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(s(x,D.sibling),F=c(D,k),F.return=x,x=F):(s(x,D),F=Eh(k,x.mode,F),F.return=x,x=F),g(x)):s(x,D)}return function(x,D,k,F){try{Ml=0;var ot=$t(x,D,k,F);return da=null,ot}catch(at){if(at===fa||at===pu)throw at;var Pt=fn(29,at,null,x.mode);return Pt.lanes=F,Pt.return=x,Pt}finally{}}}var Ar=_g(!0),vg=_g(!1),ds=!1;function Vh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function gs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=cu(e),ng(e,null,s),n}return uu(e,l,n,s),cu(e)}function xl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ll(e,s)}}function Uh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Lh=!1;function Ul(){if(Lh){var e=ha;if(e!==null)throw e}}function Ll(e,n,s,l){Lh=!1;var c=e.updateQueue;ds=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,P=w.next;w.next=null,g===null?f=P:g.next=P,g=w;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==g&&(E===null?q.firstBaseUpdate=P:E.next=P,q.lastBaseUpdate=w))}if(f!==null){var Q=c.baseState;g=0,q=P=w=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(It&z)===z:(l&z)===z){z!==0&&z===ca&&(Lh=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,ct=E;z=n;var $t=s;switch(ct.tag){case 1:if(rt=ct.payload,typeof rt=="function"){Q=rt.call($t,Q,z);break t}Q=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ct.payload,z=typeof rt=="function"?rt.call($t,Q,z):rt,z==null)break t;Q=S({},Q,z);break t;case 2:ds=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(P=q=j,w=Q):q=q.next=j,g|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);q===null&&(w=Q),c.baseState=w,c.firstBaseUpdate=P,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),Es|=g,e.lanes=g,e.memoizedState=Q}}function Eg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Tg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Eg(s[e],n)}var ma=M(null),Eu=M(0);function Sg(e,n){e=Hi,et(Eu,e),et(ma,n),Hi=e|n.baseLanes}function kh(){et(Eu,Hi),et(ma,ma.current)}function Ph(){Hi=Eu.current,Y(ma),Y(Eu)}var dn=M(null),In=null;function ps(e){var n=e.alternate;et(ce,ce.current&1),et(dn,e),In===null&&(n===null||ma.current!==null||n.memoizedState!==null)&&(In=e)}function zh(e){et(ce,ce.current),et(dn,e),In===null&&(In=e)}function Ag(e){e.tag===22?(et(ce,ce.current),et(dn,e),In===null&&(In=e)):ys()}function ys(){et(ce,ce.current),et(dn,dn.current)}function mn(e){Y(dn),In===e&&(In=null),Y(ce)}var ce=M(0);function Tu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Qf(s)||Yf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,Et=null,Kt=null,Ee=null,Su=!1,ga=!1,br=!1,Au=0,kl=0,pa=null,m0=0;function ae(){throw Error(a(321))}function Bh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!hn(e[s],n[s]))return!1;return!0}function jh(e,n,s,l,c,f){return Ui=f,Et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?ap:nf,br=!1,f=s(l,c),br=!1,ga&&(f=Rg(n,s,l,c)),bg(e),f}function bg(e){H.H=Bl;var n=Kt!==null&&Kt.next!==null;if(Ui=0,Ee=Kt=Et=null,Su=!1,kl=0,pa=null,n)throw Error(a(300));e===null||Te||(e=e.dependencies,e!==null&&du(e)&&(Te=!0))}function Rg(e,n,s,l){Et=e;var c=0;do{if(ga&&(pa=null),kl=0,ga=!1,25<=c)throw Error(a(301));if(c+=1,Ee=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=lp,f=n(s,l)}while(ga);return f}function g0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Pl(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Et.flags|=1024),n}function qh(){var e=Au!==0;return Au=0,e}function Hh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Gh(e){if(Su){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Su=!1}Ui=0,Ee=Kt=Et=null,ga=!1,kl=Au=0,pa=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Et.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function he(){if(Kt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Ee===null?Et.memoizedState:Ee.next;if(n!==null)Ee=n,Kt=e;else{if(e===null)throw Et.alternate===null?Error(a(467)):Error(a(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ee===null?Et.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(e){var n=kl;return kl+=1,pa===null&&(pa=[]),e=gg(pa,e,n),n=Et,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ap:nf),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===ht)return Be(e)}throw Error(a(438,String(e)))}function Fh(e){var n=null,s=Et.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Et.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=bu(),Et.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function Li(e,n){return typeof n=="function"?n(e):n}function wu(e){var n=he();return Qh(n,Kt,e)}function Qh(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,w=null,P=n,q=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(It&Q)===Q:(Ui&Q)===Q){var z=P.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===ca&&(q=!0);else if((Ui&z)===z){P=P.next,z===ca&&(q=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},w===null?(E=w=Q,g=f):w=w.next=Q,Et.lanes|=z,Es|=z;Q=P.action,br&&s(f,Q),f=P.hasEagerState?P.eagerState:s(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},w===null?(E=w=z,g=f):w=w.next=z,Et.lanes|=Q,Es|=Q;P=P.next}while(P!==null&&P!==n);if(w===null?g=f:w.next=E,!hn(f,e.memoizedState)&&(Te=!0,q&&(s=ha,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Yh(e){var n=he(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(Te=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function wg(e,n,s){var l=Et,c=he(),f=Ot;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!hn((Kt||c).memoizedState,s);if(g&&(c.memoizedState=s,Te=!0),c=c.queue,$h(Dg.bind(null,l,c,e),[e]),c.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,ya(9,{destroy:void 0},Ig.bind(null,l,c,s,n),null),Zt===null)throw Error(a(349));f||(Ui&127)!==0||Cg(l,n,s)}return s}function Cg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Et.updateQueue,n===null?(n=bu(),Et.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Ig(e,n,s,l){n.value=s,n.getSnapshot=l,Ng(n)&&Og(e)}function Dg(e,n,s){return s(function(){Ng(n)&&Og(e)})}function Ng(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!hn(e,s)}catch{return!0}}function Og(e){var n=gr(e,2);n!==null&&ln(n,e,2)}function Kh(e){var n=Je();if(typeof e=="function"){var s=e;if(e=s(),br){_n(!0);try{s()}finally{_n(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function Mg(e,n,s,l){return e.baseState=s,Qh(e,Kt,typeof l=="function"?l:Li)}function p0(e,n,s,l,c){if(Du(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Vg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Vg(e,n){var s=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(c,l),w=H.S;w!==null&&w(g,E),xg(e,n,E)}catch(P){Xh(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(c,l),xg(e,n,f)}catch(P){Xh(e,n,P)}}function xg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ug(e,n,l)},function(l){return Xh(e,n,l)}):Ug(e,n,s)}function Ug(e,n,s){n.status="fulfilled",n.value=s,Lg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Vg(e,s)))}function Xh(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Lg(n),n=n.next;while(n!==l)}e.action=null}function Lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function kg(e,n){return n}function Pg(e,n){if(Ot){var s=Zt.formState;if(s!==null){t:{var l=Et;if(Ot){if(Jt){e:{for(var c=Jt,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Jt=Dn(c.nextSibling),l=c.data==="F!";break t}}hs(l)}l=!1}l&&(n=s[0])}}return s=Je(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:n},s.queue=l,s=ip.bind(null,Et,l),l.dispatch=s,l=Kh(!1),f=ef.bind(null,Et,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,s=p0.bind(null,Et,c,f,s),c.dispatch=s,l.memoizedState=e,[n,s,!1]}function zg(e){var n=he();return Bg(n,Kt,e)}function Bg(e,n,s){if(n=Qh(e,n,kg)[0],e=wu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Pl(n)}catch(g){throw g===fa?pu:g}else l=n;n=he();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Et.flags|=2048,ya(9,{destroy:void 0},y0.bind(null,c,s),null)),[l,f,e]}function y0(e,n){e.action=n}function jg(e){var n=he(),s=Kt;if(s!==null)return Bg(n,s,e);he(),n=n.memoizedState,s=he();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ya(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Et.updateQueue,n===null&&(n=bu(),Et.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function qg(){return he().memoizedState}function Cu(e,n,s,l){var c=Je();Et.flags|=e,c.memoizedState=ya(1|n,{destroy:void 0},s,l===void 0?null:l)}function Iu(e,n,s,l){var c=he();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&Bh(l,Kt.memoizedState.deps)?c.memoizedState=ya(n,f,s,l):(Et.flags|=e,c.memoizedState=ya(1|n,f,s,l))}function Hg(e,n){Cu(8390656,8,e,n)}function $h(e,n){Iu(2048,8,e,n)}function _0(e){Et.flags|=4;var n=Et.updateQueue;if(n===null)n=bu(),Et.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Gg(e){var n=he().memoizedState;return _0({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Fg(e,n){return Iu(4,2,e,n)}function Qg(e,n){return Iu(4,4,e,n)}function Yg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Kg(e,n,s){s=s!=null?s.concat([e]):null,Iu(4,4,Yg.bind(null,n,e),s)}function Zh(){}function Xg(e,n){var s=he();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Bh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function $g(e,n){var s=he();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Bh(n,l[1]))return l[0];if(l=e(),br){_n(!0);try{e()}finally{_n(!1)}}return s.memoizedState=[l,n],l}function Jh(e,n,s){return s===void 0||(Ui&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Zp(),Et.lanes|=e,Es|=e,s)}function Zg(e,n,s,l){return hn(s,n)?s:ma.current!==null?(e=Jh(e,s,l),hn(e,n)||(Te=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(It&261930)===0?(Te=!0,e.memoizedState=s):(e=Zp(),Et.lanes|=e,Es|=e,n)}function Jg(e,n,s,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,ef(e,!1,n,s);try{var w=c(),P=H.S;if(P!==null&&P(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var q=d0(w,l);zl(e,n,q,yn(e))}else zl(e,n,l,yn(e))}catch(Q){zl(e,n,{then:function(){},status:"rejected",reason:Q},yn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function v0(){}function Wh(e,n,s,l){if(e.tag!==5)throw Error(a(476));var c=Wg(e).queue;Jg(e,c,n,ut,s===null?v0:function(){return tp(e),s(l)})}function Wg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function tp(e){var n=Wg(e);n.next===null&&(n=e.alternate.memoizedState),zl(e,n.next.queue,{},yn())}function tf(){return Be(no)}function ep(){return he().memoizedState}function np(){return he().memoizedState}function E0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=yn();e=ms(s);var l=gs(n,e,s);l!==null&&(ln(l,n,s),xl(l,n,s)),n={cache:Dh()},e.payload=n;return}n=n.return}}function T0(e,n,s){var l=yn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Du(e)?sp(n,s):(s=_h(e,n,s,l),s!==null&&(ln(s,e,l),rp(s,n,l)))}function ip(e,n,s){var l=yn();zl(e,n,s,l)}function zl(e,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Du(e))sp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return uu(e,n,c,0),Zt===null&&ou(),!1}catch{}finally{}if(s=_h(e,n,c,l),s!==null)return ln(s,e,l),rp(s,n,l),!0}return!1}function ef(e,n,s,l){if(l={lane:2,revertLane:xf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Du(e)){if(n)throw Error(a(479))}else n=_h(e,s,l,2),n!==null&&ln(n,e,2)}function Du(e){var n=e.alternate;return e===Et||n!==null&&n===Et}function sp(e,n){ga=Su=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function rp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ll(e,s)}}var Bl={readContext:Be,use:Ru,useCallback:ae,useContext:ae,useEffect:ae,useImperativeHandle:ae,useLayoutEffect:ae,useInsertionEffect:ae,useMemo:ae,useReducer:ae,useRef:ae,useState:ae,useDebugValue:ae,useDeferredValue:ae,useTransition:ae,useSyncExternalStore:ae,useId:ae,useHostTransitionStatus:ae,useFormState:ae,useActionState:ae,useOptimistic:ae,useMemoCache:ae,useCacheRefresh:ae};Bl.useEffectEvent=ae;var ap={readContext:Be,use:Ru,useCallback:function(e,n){return Je().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:Hg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Cu(4194308,4,Yg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Cu(4194308,4,e,n)},useInsertionEffect:function(e,n){Cu(4,2,e,n)},useMemo:function(e,n){var s=Je();n=n===void 0?null:n;var l=e();if(br){_n(!0);try{e()}finally{_n(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=Je();if(s!==void 0){var c=s(n);if(br){_n(!0);try{s(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=T0.bind(null,Et,e),[l.memoizedState,e]},useRef:function(e){var n=Je();return e={current:e},n.memoizedState=e},useState:function(e){e=Kh(e);var n=e.queue,s=ip.bind(null,Et,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Zh,useDeferredValue:function(e,n){var s=Je();return Jh(s,e,n)},useTransition:function(){var e=Kh(!1);return e=Jg.bind(null,Et,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Et,c=Je();if(Ot){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Zt===null)throw Error(a(349));(It&127)!==0||Cg(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Hg(Dg.bind(null,l,f,e),[e]),l.flags|=2048,ya(9,{destroy:void 0},Ig.bind(null,l,f,s,n),null),s},useId:function(){var e=Je(),n=Zt.identifierPrefix;if(Ot){var s=fi,l=hi;s=(l&~(1<<32-oe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Au++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=m0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:tf,useFormState:Pg,useActionState:Pg,useOptimistic:function(e){var n=Je();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=ef.bind(null,Et,!0,s),s.dispatch=n,[e,n]},useMemoCache:Fh,useCacheRefresh:function(){return Je().memoizedState=E0.bind(null,Et)},useEffectEvent:function(e){var n=Je(),s={impl:e};return n.memoizedState=s,function(){if((jt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},nf={readContext:Be,use:Ru,useCallback:Xg,useContext:Be,useEffect:$h,useImperativeHandle:Kg,useInsertionEffect:Fg,useLayoutEffect:Qg,useMemo:$g,useReducer:wu,useRef:qg,useState:function(){return wu(Li)},useDebugValue:Zh,useDeferredValue:function(e,n){var s=he();return Zg(s,Kt.memoizedState,e,n)},useTransition:function(){var e=wu(Li)[0],n=he().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:wg,useId:ep,useHostTransitionStatus:tf,useFormState:zg,useActionState:zg,useOptimistic:function(e,n){var s=he();return Mg(s,Kt,e,n)},useMemoCache:Fh,useCacheRefresh:np};nf.useEffectEvent=Gg;var lp={readContext:Be,use:Ru,useCallback:Xg,useContext:Be,useEffect:$h,useImperativeHandle:Kg,useInsertionEffect:Fg,useLayoutEffect:Qg,useMemo:$g,useReducer:Yh,useRef:qg,useState:function(){return Yh(Li)},useDebugValue:Zh,useDeferredValue:function(e,n){var s=he();return Kt===null?Jh(s,e,n):Zg(s,Kt.memoizedState,e,n)},useTransition:function(){var e=Yh(Li)[0],n=he().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:wg,useId:ep,useHostTransitionStatus:tf,useFormState:jg,useActionState:jg,useOptimistic:function(e,n){var s=he();return Kt!==null?Mg(s,Kt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:np};lp.useEffectEvent=Gg;function sf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var rf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=yn(),c=ms(l);c.payload=n,s!=null&&(c.callback=s),n=gs(e,c,l),n!==null&&(ln(n,e,l),xl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=yn(),c=ms(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=gs(e,c,l),n!==null&&(ln(n,e,l),xl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=yn(),l=ms(s);l.tag=2,n!=null&&(l.callback=n),n=gs(e,l,s),n!==null&&(ln(n,e,s),xl(n,e,s))}};function op(e,n,s,l,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!wl(s,l)||!wl(c,f):!0}function up(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&rf.enqueueReplaceState(n,n.state,null)}function Rr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function cp(e){lu(e)}function hp(e){console.error(e)}function fp(e){lu(e)}function Nu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function dp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function af(e,n,s){return s=ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Nu(e,n)},s}function mp(e){return e=ms(e),e.tag=3,e}function gp(e,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){dp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){dp(n,s,l),typeof c!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function S0(e,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ua(n,s,c,!0),s=dn.current,s!==null){switch(s.tag){case 31:case 13:return In===null?qu():s.alternate===null&&le===0&&(le=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===yu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Of(e,l,c)),!1;case 22:return s.flags|=65536,l===yu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Of(e,l,c)),!1}throw Error(a(435,s.tag))}return Of(e,l,c),qu(),!1}if(Ot)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==bh&&(e=Error(a(422),{cause:l}),Dl(bn(e,s)))):(l!==bh&&(n=Error(a(423),{cause:l}),Dl(bn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=bn(l,s),c=af(e.stateNode,l,c),Uh(e,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=bn(f,s),Kl===null?Kl=[f]:Kl.push(f),le!==4&&(le=2),n===null)return!0;l=bn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=af(s.stateNode,l,e),Uh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ts===null||!Ts.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=mp(c),gp(c,e,s,l),Uh(s,c),!1}s=s.return}while(s!==null);return!1}var lf=Error(a(461)),Te=!1;function je(e,n,s,l){n.child=e===null?vg(n,null,s,l):Ar(n,e.child,s,l)}function pp(e,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return vr(n),l=jh(e,n,s,g,f,c),E=qh(),e!==null&&!Te?(Hh(e,n,c),ki(e,n,c)):(Ot&&E&&Sh(n),n.flags|=1,je(e,n,l,c),n.child)}function yp(e,n,s,l,c){if(e===null){var f=s.type;return typeof f=="function"&&!vh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,_p(e,n,f,l,c)):(e=hu(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!gf(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:wl,s(g,l)&&e.ref===n.ref)return ki(e,n,c)}return n.flags|=1,e=Oi(f,l),e.ref=n.ref,e.return=n,n.child=e}function _p(e,n,s,l,c){if(e!==null){var f=e.memoizedProps;if(wl(f,l)&&e.ref===n.ref)if(Te=!1,n.pendingProps=l=f,gf(e,c))(e.flags&131072)!==0&&(Te=!0);else return n.lanes=e.lanes,ki(e,n,c)}return of(e,n,s,l,c)}function vp(e,n,s,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Ep(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(n,f!==null?f.cachePool:null),f!==null?Sg(n,f):kh(),Ag(n);else return l=n.lanes=536870912,Ep(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(gu(n,f.cachePool),Sg(n,f),ys(),n.memoizedState=null):(e!==null&&gu(n,null),kh(),ys());return je(e,n,c,s),n.child}function jl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ep(e,n,s,l,c){var f=Oh();return f=f===null?null:{parent:ve._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&gu(n,null),kh(),Ag(n),e!==null&&ua(e,n,l,!0),n.childLanes=c,null}function Ou(e,n){return n=Vu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Tp(e,n,s){return Ar(n,e.child,null,s),e=Ou(n,n.pendingProps),e.flags|=2,mn(n),n.memoizedState=null,e}function A0(e,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ot){if(l.mode==="hidden")return e=Ou(n,l),n.lanes=536870912,jl(null,e);if(zh(n),(e=Jt)?(e=Vy(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:us!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},s=sg(e),s.return=n,n.child=s,ze=n,Jt=null)):e=null,e===null)throw hs(n);return n.lanes=536870912,null}return Ou(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(zh(n),c)if(n.flags&256)n.flags&=-257,n=Tp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Te||ua(e,n,s,!1),c=(s&e.childLanes)!==0,Te||c){if(l=Zt,l!==null&&(g=ol(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,gr(e,g),ln(l,e,g),lf;qu(),n=Tp(e,n,s)}else e=f.treeContext,Jt=Dn(g.nextSibling),ze=n,Ot=!0,cs=null,Cn=!1,e!==null&&lg(n,e),n=Ou(n,l),n.flags|=4096;return n}return e=Oi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Mu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function of(e,n,s,l,c){return vr(n),s=jh(e,n,s,l,void 0,c),l=qh(),e!==null&&!Te?(Hh(e,n,c),ki(e,n,c)):(Ot&&l&&Sh(n),n.flags|=1,je(e,n,s,c),n.child)}function Sp(e,n,s,l,c,f){return vr(n),n.updateQueue=null,s=Rg(n,l,s,c),bg(e),l=qh(),e!==null&&!Te?(Hh(e,n,f),ki(e,n,f)):(Ot&&l&&Sh(n),n.flags|=1,je(e,n,s,f),n.child)}function Ap(e,n,s,l,c){if(vr(n),n.stateNode===null){var f=ra,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Vh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ra,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(sf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&rf.enqueueReplaceState(f,f.state,null),Ll(n,l,f,c),Ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=Rr(s,E);f.props=w;var P=f.context,q=s.contextType;g=ra,typeof q=="object"&&q!==null&&(g=Be(q));var Q=s.getDerivedStateFromProps;q=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&up(n,f,l,g),ds=!1;var z=n.memoizedState;f.state=z,Ll(n,l,f,c),Ul(),P=n.memoizedState,E||z!==P||ds?(typeof Q=="function"&&(sf(n,s,Q,l),P=n.memoizedState),(w=ds||op(n,s,w,l,z,P,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,xh(e,n),g=n.memoizedProps,q=Rr(s,g),f.props=q,Q=n.pendingProps,z=f.context,P=s.contextType,w=ra,typeof P=="object"&&P!==null&&(w=Be(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==w)&&up(n,f,l,w),ds=!1,z=n.memoizedState,f.state=z,Ll(n,l,f,c),Ul();var j=n.memoizedState;g!==Q||z!==j||ds||e!==null&&e.dependencies!==null&&du(e.dependencies)?(typeof E=="function"&&(sf(n,s,E,l),j=n.memoizedState),(q=ds||op(n,s,q,l,z,j,w)||e!==null&&e.dependencies!==null&&du(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=w,l=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Mu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ar(n,e.child,null,c),n.child=Ar(n,null,s,c)):je(e,n,s,c),n.memoizedState=f.state,e=n.child):e=ki(e,n,c),e}function bp(e,n,s,l){return yr(),n.flags|=256,je(e,n,s,l),n.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(e){return{baseLanes:e,cachePool:dg()}}function hf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=pn),e}function Rp(e,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ce.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ot){if(c?ps(n):ys(),(e=Jt)?(e=Vy(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:us!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},s=sg(e),s.return=n,n.child=s,ze=n,Jt=null)):e=null,e===null)throw hs(n);return Yf(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ys(),c=n.mode,E=Vu({mode:"hidden",children:E},c),l=pr(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=cf(s),l.childLanes=hf(e,g,s),n.memoizedState=uf,jl(null,l)):(ps(n),ff(n,E))}var w=e.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(ps(n),n.flags&=-257,n=df(e,n,s)):n.memoizedState!==null?(ys(),n.child=e.child,n.flags|=128,n=null):(ys(),E=l.fallback,c=n.mode,l=Vu({mode:"visible",children:l.children},c),E=pr(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ar(n,e.child,null,s),l=n.child,l.memoizedState=cf(s),l.childLanes=hf(e,g,s),n.memoizedState=uf,n=jl(null,l));else if(ps(n),Yf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,Dl({value:l,source:null,stack:null}),n=df(e,n,s)}else if(Te||ua(e,n,s,!1),g=(s&e.childLanes)!==0,Te||g){if(g=Zt,g!==null&&(l=ol(g,s),l!==0&&l!==w.retryLane))throw w.retryLane=l,gr(e,l),ln(g,e,l),lf;Qf(E)||qu(),n=df(e,n,s)}else Qf(E)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,Jt=Dn(E.nextSibling),ze=n,Ot=!0,cs=null,Cn=!1,e!==null&&lg(n,e),n=ff(n,l.children),n.flags|=4096);return n}return c?(ys(),E=l.fallback,c=n.mode,w=e.child,P=w.sibling,l=Oi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,P!==null?E=Oi(P,E):(E=pr(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,jl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=cf(s):(c=E.cachePool,c!==null?(w=ve._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=dg(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=hf(e,g,s),n.memoizedState=uf,jl(e.child,l)):(ps(n),s=e.child,e=s.sibling,s=Oi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function ff(e,n){return n=Vu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Vu(e,n){return e=fn(22,e,null,n),e.lanes=0,e}function df(e,n,s){return Ar(n,e.child,null,s),e=ff(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ch(e.return,n,s)}function mf(e,n,s,l,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Cp(e,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=ce.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(ce,g),je(e,n,l,s),l=Ot?Il:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wp(e,s,n);else if(e.tag===19)wp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Tu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),mf(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Tu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}mf(n,!0,s,null,f,l);break;case"together":mf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ki(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Es|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ua(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Oi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Oi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function gf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&du(e)))}function b0(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),fs(n,ve,e.memoizedState.cache),yr();break;case 27:case 5:Zs(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ps(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Rp(e,n,s):(ps(n),e=ki(e,n,s),e!==null?e.sibling:null);ps(n);break;case 19:var c=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ua(e,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Cp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(ce,ce.current),l)break;return null;case 22:return n.lanes=0,vp(e,n,s,n.pendingProps);case 24:fs(n,ve,e.memoizedState.cache)}return ki(e,n,s)}function Ip(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Te=!0;else{if(!gf(e,s)&&(n.flags&128)===0)return Te=!1,b0(e,n,s);Te=(e.flags&131072)!==0}else Te=!1,Ot&&(n.flags&1048576)!==0&&ag(n,Il,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Tr(n.elementType),n.type=e,typeof e=="function")vh(e)?(l=Rr(e,l),n.tag=1,n=Ap(null,n,e,l,s)):(n.tag=0,n=of(null,n,e,l,s));else{if(e!=null){var c=e.$$typeof;if(c===At){n.tag=11,n=pp(null,n,e,l,s);break t}else if(c===I){n.tag=14,n=yp(null,n,e,l,s);break t}}throw n=te(e)||e,Error(a(306,n,""))}}return n;case 0:return of(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Rr(l,n.pendingProps),Ap(e,n,l,c,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,xh(e,n),Ll(n,l,null,s);var g=n.memoizedState;if(l=g.cache,fs(n,ve,l),l!==f.cache&&Ih(n,[ve],s,!0),Ul(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=bp(e,n,l,s);break t}else if(l!==c){c=bn(Error(a(424)),n),Dl(c),n=bp(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Jt=Dn(e.firstChild),ze=n,Ot=!0,cs=null,Cn=!0,s=vg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(yr(),l===c){n=ki(e,n,s);break t}je(e,n,l,s)}n=n.child}return n;case 26:return Mu(e,n),e===null?(s=zy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ot||(s=n.type,e=n.pendingProps,l=Xu(Tt.current).createElement(s),l[pe]=n,l[Me]=e,qe(l,s,e),ye(l),n.stateNode=l):n.memoizedState=zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Zs(n),e===null&&Ot&&(l=n.stateNode=Ly(n.type,n.pendingProps,Tt.current),ze=n,Cn=!0,c=Jt,Rs(n.type)?(Kf=c,Jt=Dn(l.firstChild)):Jt=c),je(e,n,n.pendingProps.children,s),Mu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ot&&((c=l=Jt)&&(l=tS(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,ze=n,Jt=Dn(l.firstChild),Cn=!1,c=!0):c=!1),c||hs(n)),Zs(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,Hf(c,f)?l=null:g!==null&&Hf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=jh(e,n,g0,null,null,s),no._currentValue=c),Mu(e,n),je(e,n,l,s),n.child;case 6:return e===null&&Ot&&((e=s=Jt)&&(s=eS(s,n.pendingProps,Cn),s!==null?(n.stateNode=s,ze=n,Jt=null,e=!0):e=!1),e||hs(n)),null;case 13:return Rp(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ar(n,null,l,s):je(e,n,l,s),n.child;case 11:return pp(e,n,n.type,n.pendingProps,s);case 7:return je(e,n,n.pendingProps,s),n.child;case 8:return je(e,n,n.pendingProps.children,s),n.child;case 12:return je(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,fs(n,n.type,l.value),je(e,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,vr(n),c=Be(c),l=l(c),n.flags|=1,je(e,n,l,s),n.child;case 14:return yp(e,n,n.type,n.pendingProps,s);case 15:return _p(e,n,n.type,n.pendingProps,s);case 19:return Cp(e,n,s);case 31:return A0(e,n,s);case 22:return vp(e,n,s,n.pendingProps);case 24:return vr(n),l=Be(ve),e===null?(c=Oh(),c===null&&(c=Zt,f=Dh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Vh(n),fs(n,ve,c)):((e.lanes&s)!==0&&(xh(e,n),Ll(n,null,null,s),Ul()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),fs(n,ve,l)):(l=f.cache,fs(n,ve,l),l!==c.cache&&Ih(n,[ve],s,!0))),je(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(e){e.flags|=4}function pf(e,n,s,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(ey())e.flags|=8192;else throw Sr=yu,Mh}else e.flags&=-16777217}function Dp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gy(n))if(ey())e.flags|=8192;else throw Sr=yu,Mh}function xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bo():536870912,e.lanes|=n,Ta|=n)}function ql(e,n){if(!Ot)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function R0(e,n,s){var l=n.pendingProps;switch(Ah(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),xi(ve),ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(oa(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rh())),Wt(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(Wt(n),Dp(n,f)):(Wt(n),pf(n,c,null,l,s))):f?f!==e.memoizedState?(Pi(n),Wt(n),Dp(n,f)):(Wt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Pi(n),Wt(n),pf(n,c,e,l,s)),null;case 27:if(Br(n),s=Tt.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Wt(n),null}e=it.current,oa(n)?og(n):(e=Ly(c,l,s),n.stateNode=e,Pi(n))}return Wt(n),null;case 5:if(Br(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Wt(n),null}if(f=it.current,oa(n))og(n);else{var g=Xu(Tt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[pe]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Pi(n)}}return Wt(n),pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=Tt.current,oa(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,c=ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[pe]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Ry(e.nodeValue,s)),e||hs(n,!0)}else e=Xu(e).createTextNode(l),e[pe]=n,n.stateNode=e}return Wt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=oa(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[pe]=n}else yr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),e=!1}else s=Rh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Wt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=oa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[pe]=n}else yr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=Rh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),xu(n,n.updateQueue),Wt(n),null);case 4:return ee(),e===null&&Pf(n.stateNode.containerInfo),Wt(n),null;case 10:return xi(n.type),Wt(n),null;case 19:if(Y(ce),l=n.memoizedState,l===null)return Wt(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)ql(l,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Tu(e),f!==null){for(n.flags|=128,ql(l,!1),e=f.updateQueue,n.updateQueue=e,xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)ig(s,e),s=s.sibling;return et(ce,ce.current&1|2),Ot&&Mi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&$e()>zu&&(n.flags|=128,c=!0,ql(l,!1),n.lanes=4194304)}else{if(!c)if(e=Tu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,xu(n,e),ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return Wt(n),null}else 2*$e()-l.renderingStartTime>zu&&s!==536870912&&(n.flags|=128,c=!0,ql(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=$e(),e.sibling=null,s=ce.current,et(ce,c?s&1|2:s&1),Ot&&Mi(n,l.treeForkCount),e):(Wt(n),null);case 22:case 23:return mn(n),Ph(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),s=n.updateQueue,s!==null&&xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(Er),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),xi(ve),Wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function w0(e,n){switch(Ah(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xi(ve),ee(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Br(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(a(340));yr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));yr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(ce),null;case 4:return ee(),null;case 10:return xi(n.type),null;case 22:case 23:return mn(n),Ph(),e!==null&&Y(Er),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xi(ve),null;case 25:return null;default:return null}}function Np(e,n){switch(Ah(n),n.tag){case 3:xi(ve),ee();break;case 26:case 27:case 5:Br(n);break;case 4:ee();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Y(ce);break;case 10:xi(n.type);break;case 22:case 23:mn(n),Ph(),e!==null&&Y(Er);break;case 24:xi(ve)}}function Hl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Qt(n,n.return,E)}}function _s(e,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=s,P=E;try{P()}catch(q){Qt(c,w,q)}}}l=l.next}while(l!==f)}}catch(q){Qt(n,n.return,q)}}function Op(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Tg(n,s)}catch(l){Qt(e,e.return,l)}}}function Mp(e,n,s){s.props=Rr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Qt(e,n,l)}}function Gl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){Qt(e,n,c)}}function di(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Qt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Qt(e,n,c)}else s.current=null}function Vp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Qt(e,e.return,c)}}function yf(e,n,s){try{var l=e.stateNode;K0(l,e.type,s,n),l[Me]=n}catch(c){Qt(e,e.return,c)}}function xp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rs(e.type)||e.tag===4}function _f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&Rs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(vf(e,n,s),e=e.sibling;e!==null;)vf(e,n,s),e=e.sibling}function Uu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Rs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Uu(e,n,s),e=e.sibling;e!==null;)Uu(e,n,s),e=e.sibling}function Up(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,s),n[pe]=e,n[Me]=s}catch(f){Qt(e,e.return,f)}}var zi=!1,Se=!1,Ef=!1,Lp=typeof WeakSet=="function"?WeakSet:Set,xe=null;function C0(e,n){if(e=e.containerInfo,jf=nc,e=Km(e),fh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,w=-1,P=0,q=0,Q=e,z=null;e:for(;;){for(var j;Q!==s||c!==0&&Q.nodeType!==3||(E=g+c),Q!==f||l!==0&&Q.nodeType!==3||(w=g+l),Q.nodeType===3&&(g+=Q.nodeValue.length),(j=Q.firstChild)!==null;)z=Q,Q=j;for(;;){if(Q===e)break e;if(z===s&&++P===c&&(E=g),z===f&&++q===l&&(w=g),(j=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=j}s=E===-1||w===-1?null:{start:E,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(qf={focusedElem:e,selectionRange:s},nc=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var rt=Rr(s.type,c);e=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ct){Qt(s,s.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Ff(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ff(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function kp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ji(e,s),l&4&&Hl(5,s);break;case 1:if(ji(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var c=Rr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}l&64&&Op(s),l&512&&Gl(s,s.return);break;case 3:if(ji(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Tg(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&l&4&&Up(s);case 26:case 5:ji(e,s),n===null&&l&4&&Vp(s),l&512&&Gl(s,s.return);break;case 12:ji(e,s);break;case 31:ji(e,s),l&4&&Bp(e,s);break;case 13:ji(e,s),l&4&&jp(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=L0.bind(null,s),nS(e,s))));break;case 22:if(l=s.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||Se,c=zi;var f=Se;zi=l,(Se=n)&&!f?qi(e,s,(s.subtreeFlags&8772)!==0):ji(e,s),zi=c,Se=f}break;case 30:break;default:ji(e,s)}}function Pp(e){var n=e.alternate;n!==null&&(e.alternate=null,Pp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Fr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,nn=!1;function Bi(e,n,s){for(s=s.child;s!==null;)zp(e,n,s),s=s.sibling}function zp(e,n,s){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Mn,s)}catch{}switch(s.tag){case 26:Se||di(s,n),Bi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||di(s,n);var l=ie,c=nn;Rs(s.type)&&(ie=s.stateNode,nn=!1),Bi(e,n,s),Wl(s.stateNode),ie=l,nn=c;break;case 5:Se||di(s,n);case 6:if(l=ie,c=nn,ie=null,Bi(e,n,s),ie=l,nn=c,ie!==null)if(nn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ie.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ie!==null&&(nn?(e=ie,Oy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Da(e)):Oy(ie,s.stateNode));break;case 4:l=ie,c=nn,ie=s.stateNode.containerInfo,nn=!0,Bi(e,n,s),ie=l,nn=c;break;case 0:case 11:case 14:case 15:_s(2,s,n),Se||_s(4,s,n),Bi(e,n,s);break;case 1:Se||(di(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Mp(s,n,l)),Bi(e,n,s);break;case 21:Bi(e,n,s);break;case 22:Se=(l=Se)||s.memoizedState!==null,Bi(e,n,s),Se=l;break;default:Bi(e,n,s)}}function Bp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Da(e)}catch(s){Qt(n,n.return,s)}}}function jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Da(e)}catch(s){Qt(n,n.return,s)}}function I0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Lp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Lp),n;default:throw Error(a(435,e.tag))}}function Lu(e,n){var s=I0(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=k0.bind(null,e,l);l.then(c,c)}})}function sn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Rs(E.type)){ie=E.stateNode,nn=!1;break t}break;case 5:ie=E.stateNode,nn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ie===null)throw Error(a(160));zp(f,g,c),ie=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)qp(n,e),n=n.sibling}var qn=null;function qp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),rn(e),l&4&&(_s(3,e,e.return),Hl(3,e),_s(5,e,e.return));break;case 1:sn(n,e),rn(e),l&512&&(Se||s===null||di(s,s.return)),l&64&&zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=qn;if(sn(n,e),rn(e),l&512&&(Se||s===null||di(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wn]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,l,s),f[pe]=e,ye(f),l=f;break t;case"link":var g=qy("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;case"meta":if(g=qy("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[pe]=e,ye(f),l=f}e.stateNode=l}else Hy(c,e.type,e.stateNode);else e.stateNode=jy(c,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Hy(c,e.type,e.stateNode):jy(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&yf(e,e.memoizedProps,s.memoizedProps)}break;case 27:sn(n,e),rn(e),l&512&&(Se||s===null||di(s,s.return)),s!==null&&l&4&&yf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(sn(n,e),rn(e),l&512&&(Se||s===null||di(s,s.return)),e.flags&32){c=e.stateNode;try{en(c,"")}catch(rt){Qt(e,e.return,rt)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,yf(e,c,s!==null?s.memoizedProps:c)),l&1024&&(Ef=!0);break;case 6:if(sn(n,e),rn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(rt){Qt(e,e.return,rt)}}break;case 3:if(Ju=null,c=qn,qn=$u(n.containerInfo),sn(n,e),qn=c,rn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Da(n.containerInfo)}catch(rt){Qt(e,e.return,rt)}Ef&&(Ef=!1,Hp(e));break;case 4:l=qn,qn=$u(e.stateNode.containerInfo),sn(n,e),rn(e),qn=l;break;case 12:sn(n,e),rn(e);break;case 31:sn(n,e),rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lu(e,l)));break;case 13:sn(n,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Pu=$e()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lu(e,l)));break;case 22:c=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,P=zi,q=Se;if(zi=P||c,Se=q||w,sn(n,e),Se=q,zi=P,rn(e),l&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||w||zi||Se||wr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){w=s=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var Q=w.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Qt(w,w.return,rt)}}}else if(n.tag===6){if(s===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(rt){Qt(w,w.return,rt)}}}else if(n.tag===18){if(s===null){w=n;try{var j=w.stateNode;c?My(j,!0):My(w.stateNode,!1)}catch(rt){Qt(w,w.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Lu(e,s))));break;case 19:sn(n,e),rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lu(e,l)));break;case 30:break;case 21:break;default:sn(n,e),rn(e)}}function rn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(xp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=_f(e);Uu(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(en(g,""),s.flags&=-33);var E=_f(e);Uu(e,E,g);break;case 3:case 4:var w=s.stateNode.containerInfo,P=_f(e);vf(e,P,w);break;default:throw Error(a(161))}}catch(q){Qt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kp(e,n.alternate,n),n=n.sibling}function wr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:_s(4,n,n.return),wr(n);break;case 1:di(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Mp(n,n.return,s),wr(n);break;case 27:Wl(n.stateNode);case 26:case 5:di(n,n.return),wr(n);break;case 22:n.memoizedState===null&&wr(n);break;case 30:wr(n);break;default:wr(n)}e=e.sibling}}function qi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:qi(c,f,s),Hl(4,f);break;case 1:if(qi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Qt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Eg(w[c],E)}catch(P){Qt(l,l.return,P)}}s&&g&64&&Op(f),Gl(f,f.return);break;case 27:Up(f);case 26:case 5:qi(c,f,s),s&&l===null&&g&4&&Vp(f),Gl(f,f.return);break;case 12:qi(c,f,s);break;case 31:qi(c,f,s),s&&g&4&&Bp(c,f);break;case 13:qi(c,f,s),s&&g&4&&jp(c,f);break;case 22:f.memoizedState===null&&qi(c,f,s),Gl(f,f.return);break;case 30:break;default:qi(c,f,s)}n=n.sibling}}function Tf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Nl(s))}function Sf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e))}function Hn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gp(e,n,s,l),n=n.sibling}function Gp(e,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Hn(e,n,s,l),c&2048&&Hl(9,n);break;case 1:Hn(e,n,s,l);break;case 3:Hn(e,n,s,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e)));break;case 12:if(c&2048){Hn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Qt(n,n.return,w)}}else Hn(e,n,s,l);break;case 31:Hn(e,n,s,l);break;case 13:Hn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Hn(e,n,s,l):Fl(e,n):f._visibility&2?Hn(e,n,s,l):(f._visibility|=2,_a(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Tf(g,n);break;case 24:Hn(e,n,s,l),c&2048&&Sf(n.alternate,n);break;default:Hn(e,n,s,l)}}function _a(e,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,w=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:_a(f,g,E,w,c),Hl(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?_a(f,g,E,w,c):Fl(f,g):(q._visibility|=2,_a(f,g,E,w,c)),c&&P&2048&&Tf(g.alternate,g);break;case 24:_a(f,g,E,w,c),c&&P&2048&&Sf(g.alternate,g);break;default:_a(f,g,E,w,c)}n=n.sibling}}function Fl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,c=l.flags;switch(l.tag){case 22:Fl(s,l),c&2048&&Tf(l.alternate,l);break;case 24:Fl(s,l),c&2048&&Sf(l.alternate,l);break;default:Fl(s,l)}n=n.sibling}}var Ql=8192;function va(e,n,s){if(e.subtreeFlags&Ql)for(e=e.child;e!==null;)Fp(e,n,s),e=e.sibling}function Fp(e,n,s){switch(e.tag){case 26:va(e,n,s),e.flags&Ql&&e.memoizedState!==null&&mS(s,qn,e.memoizedState,e.memoizedProps);break;case 5:va(e,n,s);break;case 3:case 4:var l=qn;qn=$u(e.stateNode.containerInfo),va(e,n,s),qn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ql,Ql=16777216,va(e,n,s),Ql=l):va(e,n,s));break;default:va(e,n,s)}}function Qp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];xe=l,Kp(l,e)}Qp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yp(e),e=e.sibling}function Yp(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&_s(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ku(e)):Yl(e);break;default:Yl(e)}}function ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];xe=l,Kp(l,e)}Qp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:_s(8,n,n.return),ku(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ku(n));break;default:ku(n)}e=e.sibling}}function Kp(e,n){for(;xe!==null;){var s=xe;switch(s.tag){case 0:case 11:case 15:_s(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,xe=l;else t:for(s=e;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(Pp(l),l===s){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var D0={getCacheForType:function(e){var n=Be(ve),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(ve).controller.signal}},N0=typeof WeakMap=="function"?WeakMap:Map,jt=0,Zt=null,wt=null,It=0,Ft=0,gn=null,vs=!1,Ea=!1,Af=!1,Hi=0,le=0,Es=0,Cr=0,bf=0,pn=0,Ta=0,Kl=null,an=null,Rf=!1,Pu=0,Xp=0,zu=1/0,Bu=null,Ts=null,De=0,Ss=null,Sa=null,Gi=0,wf=0,Cf=null,$p=null,Xl=0,If=null;function yn(){return(jt&2)!==0&&It!==0?It&-It:H.T!==null?xf():jo()}function Zp(){if(pn===0)if((It&536870912)===0||Ot){var e=tr;tr<<=1,(tr&3932160)===0&&(tr=262144),pn=e}else pn=536870912;return e=dn.current,e!==null&&(e.flags|=32),pn}function ln(e,n,s){(e===Zt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Aa(e,0),As(e,It,pn,!1)),er(e,s),((jt&2)===0||e!==Zt)&&(e===Zt&&((jt&2)===0&&(Cr|=s),le===4&&As(e,It,pn,!1)),mi(e))}function Jp(e,n,s){if((jt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Vn(e,n),c=l?V0(e,n):Nf(e,n,!0),f=l;do{if(c===0){Ea&&!l&&As(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!O0(s)){c=Nf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=Kl;var w=E.current.memoizedState.isDehydrated;if(w&&(Aa(E,g).flags|=256),g=Nf(E,g,!1),g!==2){if(Af&&!w){E.errorRecoveryDisabledLanes|=f,Cr|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Aa(e,0),As(e,n,0,!0);break}t:{switch(l=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:As(l,n,pn,!vs);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Pu+300-$e(),10<c)){if(As(l,n,pn,!vs),$n(l,0,!0)!==0)break t;Gi=n,l.timeoutHandle=Dy(Wp.bind(null,l,s,an,Bu,Rf,n,pn,Cr,Ta,vs,f,"Throttled",-0,0),c);break t}Wp(l,s,an,Bu,Rf,n,pn,Cr,Ta,vs,f,null,-0,0)}}break}while(!0);mi(e)}function Wp(e,n,s,l,c,f,g,E,w,P,q,Q,z,j){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},Fp(n,f,Q);var rt=(f&62914560)===f?Pu-$e():(f&4194048)===f?Xp-$e():0;if(rt=gS(Q,rt),rt!==null){Gi=f,e.cancelPendingCommit=rt(ly.bind(null,e,n,f,s,l,c,g,E,w,q,Q,null,z,j)),As(e,f,g,!P);return}}ly(e,n,f,s,l,c,g,E,w)}function O0(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function As(e,n,s,l){n&=~bf,n&=~Cr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-oe(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&nr(e,s,n)}function ju(){return(jt&6)===0?($l(0),!1):!0}function Df(){if(wt!==null){if(Ft===0)var e=wt.return;else e=wt,Vi=_r=null,Gh(e),da=null,Ml=0,e=wt;for(;e!==null;)Np(e.alternate,e),e=e.return;wt=null}}function Aa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Z0(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Gi=0,Df(),Zt=e,wt=s=Oi(e.current,null),It=n,Ft=0,gn=null,vs=!1,Ea=Vn(e,n),Af=!1,Ta=pn=bf=Cr=Es=le=0,an=Kl=null,Rf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-oe(l),f=1<<c;n|=e[c],l&=~f}return Hi=n,ou(),s}function ty(e,n){Et=null,H.H=Bl,n===fa||n===pu?(n=pg(),Ft=3):n===Mh?(n=pg(),Ft=4):Ft=n===lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,wt===null&&(le=1,Nu(e,bn(n,e.current)))}function ey(){var e=dn.current;return e===null?!0:(It&4194048)===It?In===null:(It&62914560)===It||(It&536870912)!==0?e===In:!1}function ny(){var e=H.H;return H.H=Bl,e===null?Bl:e}function iy(){var e=H.A;return H.A=D0,e}function qu(){le=4,vs||(It&4194048)!==It&&dn.current!==null||(Ea=!0),(Es&134217727)===0&&(Cr&134217727)===0||Zt===null||As(Zt,It,pn,!1)}function Nf(e,n,s){var l=jt;jt|=2;var c=ny(),f=iy();(Zt!==e||It!==n)&&(Bu=null,Aa(e,n)),n=!1;var g=le;t:do try{if(Ft!==0&&wt!==null){var E=wt,w=gn;switch(Ft){case 8:Df(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var P=Ft;if(Ft=0,gn=null,ba(e,E,w,P),s&&Ea){g=0;break t}break;default:P=Ft,Ft=0,gn=null,ba(e,E,w,P)}}M0(),g=le;break}catch(q){ty(e,q)}while(!0);return n&&e.shellSuspendCounter++,Vi=_r=null,jt=l,H.H=c,H.A=f,wt===null&&(Zt=null,It=0,ou()),g}function M0(){for(;wt!==null;)sy(wt)}function V0(e,n){var s=jt;jt|=2;var l=ny(),c=iy();Zt!==e||It!==n?(Bu=null,zu=$e()+500,Aa(e,n)):Ea=Vn(e,n);t:do try{if(Ft!==0&&wt!==null){n=wt;var f=gn;e:switch(Ft){case 1:Ft=0,gn=null,ba(e,n,f,1);break;case 2:case 9:if(mg(f)){Ft=0,gn=null,ry(n);break}n=function(){Ft!==2&&Ft!==9||Zt!==e||(Ft=7),mi(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:mg(f)?(Ft=0,gn=null,ry(n)):(Ft=0,gn=null,ba(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?Gy(g):E.stateNode.complete){Ft=0,gn=null;var w=E.sibling;if(w!==null)wt=w;else{var P=E.return;P!==null?(wt=P,Hu(P)):wt=null}break e}}Ft=0,gn=null,ba(e,n,f,5);break;case 6:Ft=0,gn=null,ba(e,n,f,6);break;case 8:Df(),le=6;break t;default:throw Error(a(462))}}x0();break}catch(q){ty(e,q)}while(!0);return Vi=_r=null,H.H=l,H.A=c,jt=s,wt!==null?0:(Zt=null,It=0,ou(),le)}function x0(){for(;wt!==null&&!rh();)sy(wt)}function sy(e){var n=Ip(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,n===null?Hu(e):wt=n}function ry(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Sp(s,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Sp(s,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Gh(n);default:Np(s,n),n=wt=ig(n,Hi),n=Ip(s,n,Hi)}e.memoizedProps=e.pendingProps,n===null?Hu(e):wt=n}function ba(e,n,s,l){Vi=_r=null,Gh(n),da=null,Ml=0;var c=n.return;try{if(S0(e,c,n,s,It)){le=1,Nu(e,bn(s,e.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;le=1,Nu(e,bn(s,e.current)),wt=null;return}n.flags&32768?(Ot||l===1?e=!0:Ea||(It&536870912)!==0?e=!1:(vs=e=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ay(n,e)):Hu(n)}function Hu(e){var n=e;do{if((n.flags&32768)!==0){ay(n,vs);return}e=n.return;var s=R0(n.alternate,n,Hi);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);le===0&&(le=5)}function ay(e,n){do{var s=w0(e.alternate,e);if(s!==null){s.flags&=32767,wt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=s}while(e!==null);le=6,wt=null}function ly(e,n,s,l,c,f,g,E,w){e.cancelPendingCommit=null;do Gu();while(De!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=yh,oh(e,s,f,g,E,w),e===Zt&&(wt=Zt=null,It=0),Sa=n,Ss=e,Gi=s,wf=f,Cf=c,$p=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,P0(Wi,function(){return fy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,g=jt,jt|=4;try{C0(e,n,s)}finally{jt=g,tt.p=c,H.T=l}}De=1,oy(),uy(),cy()}}function oy(){if(De===1){De=0;var e=Ss,n=Sa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=tt.p;tt.p=2;var c=jt;jt|=4;try{qp(n,e);var f=qf,g=Km(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Ym(E.ownerDocument.documentElement,E)){if(w!==null&&fh(E)){var P=w.start,q=w.end;if(q===void 0&&(q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(q,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var j=z.getSelection(),rt=E.textContent.length,ct=Math.min(w.start,rt),$t=w.end===void 0?ct:Math.min(w.end,rt);!j.extend&&ct>$t&&(g=$t,$t=ct,ct=g);var x=Qm(E,ct),D=Qm(E,$t);if(x&&D&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==D.node||j.focusOffset!==D.offset)){var k=Q.createRange();k.setStart(x.node,x.offset),j.removeAllRanges(),ct>$t?(j.addRange(k),j.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),j.addRange(k))}}}}for(Q=[],j=E;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}nc=!!jf,qf=jf=null}finally{jt=c,tt.p=l,H.T=s}}e.current=n,De=2}}function uy(){if(De===2){De=0;var e=Ss,n=Sa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=tt.p;tt.p=2;var c=jt;jt|=4;try{kp(e,n.alternate,n)}finally{jt=c,tt.p=l,H.T=s}}De=3}}function cy(){if(De===4||De===3){De=0,xo();var e=Ss,n=Sa,s=Gi,l=$p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Sa=Ss=null,hy(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ts=null),Ci(s),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(Gi&3)!==0&&Gu(),mi(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===If?Xl++:(Xl=0,If=e):Xl=0,$l(0)}}function hy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Nl(n)))}function Gu(){return oy(),uy(),cy(),fy()}function fy(){if(De!==5)return!1;var e=Ss,n=wf;wf=0;var s=Ci(Gi),l=H.T,c=tt.p;try{tt.p=32>s?32:s,H.T=null,s=Cf,Cf=null;var f=Ss,g=Gi;if(De=0,Sa=Ss=null,Gi=0,(jt&6)!==0)throw Error(a(331));var E=jt;if(jt|=4,Yp(f.current),Gp(f,f.current,g,s),jt=E,$l(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{tt.p=c,H.T=l,hy(e,n)}}function dy(e,n,s){n=bn(s,n),n=af(e.stateNode,n,2),e=gs(e,n,2),e!==null&&(er(e,2),mi(e))}function Qt(e,n,s){if(e.tag===3)dy(e,e,s);else for(;n!==null;){if(n.tag===3){dy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ts===null||!Ts.has(l))){e=bn(s,e),s=mp(2),l=gs(n,s,2),l!==null&&(gp(s,l,n,e),er(l,2),mi(l));break}}n=n.return}}function Of(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new N0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Af=!0,c.add(s),e=U0.bind(null,e,n,s),n.then(e,e))}function U0(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Zt===e&&(It&s)===s&&(le===4||le===3&&(It&62914560)===It&&300>$e()-Pu?(jt&2)===0&&Aa(e,0):bf|=s,Ta===It&&(Ta=0)),mi(e)}function my(e,n){n===0&&(n=Bo()),e=gr(e,n),e!==null&&(er(e,n),mi(e))}function L0(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),my(e,s)}function k0(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),my(e,s)}function P0(e,n){return Ie(e,n)}var Fu=null,Ra=null,Mf=!1,Qu=!1,Vf=!1,bs=0;function mi(e){e!==Ra&&e.next===null&&(Ra===null?Fu=Ra=e:Ra=Ra.next=e),Qu=!0,Mf||(Mf=!0,B0())}function $l(e,n){if(!Vf&&Qu){Vf=!0;do for(var s=!1,l=Fu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-oe(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,_y(l,f))}else f=It,f=$n(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Vn(l,f)||(s=!0,_y(l,f));l=l.next}while(s);Vf=!1}}function z0(){gy()}function gy(){Qu=Mf=!1;var e=0;bs!==0&&$0()&&(e=bs);for(var n=$e(),s=null,l=Fu;l!==null;){var c=l.next,f=py(l,n);f===0?(l.next=null,s===null?Fu=c:s.next=c,c===null&&(Ra=s)):(s=l,(e!==0||(f&3)!==0)&&(Qu=!0)),l=c}De!==0&&De!==5||$l(e),bs!==0&&(bs=0)}function py(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-oe(f),E=1<<g,w=c[g];w===-1?((E&s)===0||(E&l)!==0)&&(c[g]=lh(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,s=It,s=$n(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ji(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Vn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Ji(l),Ci(s)){case 2:case 8:s=al;break;case 32:s=Wi;break;case 268435456:s=Uo;break;default:s=Wi}return l=yy.bind(null,e),s=Ie(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Ji(l),e.callbackPriority=2,e.callbackNode=null,2}function yy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Gu()&&e.callbackNode!==s)return null;var l=It;return l=$n(e,e===Zt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Jp(e,l,n),py(e,$e()),e.callbackNode!=null&&e.callbackNode===s?yy.bind(null,e):null)}function _y(e,n){if(Gu())return null;Jp(e,n,!0)}function B0(){J0(function(){(jt&6)!==0?Ie(rl,z0):gy()})}function xf(){if(bs===0){var e=ca;e===0&&(e=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),bs=e}return bs}function vy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xr(""+e)}function Ey(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function j0(e,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=vy((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?vy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new li("action","action",null,l,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(bs!==0){var w=g?Ey(c,g):new FormData(c);Wh(s,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Ey(c,g):new FormData(c),Wh(s,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var Uf=0;Uf<ph.length;Uf++){var Lf=ph[Uf],q0=Lf.toLowerCase(),H0=Lf[0].toUpperCase()+Lf.slice(1);jn(q0,"on"+H0)}jn(Zm,"onAnimationEnd"),jn(Jm,"onAnimationIteration"),jn(Wm,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(r0,"onTransitionRun"),jn(a0,"onTransitionStart"),jn(l0,"onTransitionCancel"),jn(tg,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function Ty(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,P=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(q){lu(q)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,P=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(q){lu(q)}c.currentTarget=null,f=w}}}}function Ct(e,n){var s=n[Gr];s===void 0&&(s=n[Gr]=new Set);var l=e+"__bubble";s.has(l)||(Sy(n,e,2,!1),s.add(l))}function kf(e,n,s){var l=0;n&&(l|=4),Sy(s,e,l,n)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Pf(e){if(!e[Yu]){e[Yu]=!0,ul.forEach(function(s){s!=="selectionchange"&&(G0.has(s)||kf(s,!1,e),kf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yu]||(n[Yu]=!0,kf("selectionchange",!1,n))}}function Sy(e,n,s,l){switch(Zy(n)){case 2:var c=_S;break;case 8:c=vS;break;default:c=Wf}s=c.bind(null,n,s,e),c=void 0,!lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function zf(e,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}E=E.parentNode}}l=l.return}rs(function(){var P=f,q=En(s),Q=[];t:{var z=eg.get(e);if(z!==void 0){var j=li,rt=e;switch(e){case"keypress":if(ur(s)===0)break t;case"keydown":case"keyup":j=su;break;case"focusin":rt="focus",j=hr;break;case"focusout":rt="blur",j=hr;break;case"beforeblur":case"afterblur":j=hr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Xo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case Zm:case Jm:case Wm:j=Zo;break;case tg:j=T;break;case"scroll":case"scrollend":j=Tl;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=Jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ni;break;case"toggle":case"beforetoggle":j=vt}var ct=(n&4)!==0,$t=!ct&&(e==="scroll"||e==="scrollend"),x=ct?z!==null?z+"Capture":null:z;ct=[];for(var D=P,k;D!==null;){var F=D;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||x===null||(F=kn(D,x),F!=null&&ct.push(Jl(D,F,k))),$t)break;D=D.return}0<ct.length&&(z=new j(z,rt,null,s,q),Q.push({event:z,listeners:ct}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&s!==_l&&(rt=s.relatedTarget||s.fromElement)&&(ti(rt)||rt[Jn]))break t;if((j||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,j?(rt=s.relatedTarget||s.toElement,j=P,rt=rt?ti(rt):null,rt!==null&&($t=h(rt),ct=rt.tag,rt!==$t||ct!==5&&ct!==27&&ct!==6)&&(rt=null)):(j=null,rt=P),j!==rt)){if(ct=Sl,F="onMouseLeave",x="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ct=Ni,F="onPointerLeave",x="onPointerEnter",D="pointer"),$t=j==null?z:un(j),k=rt==null?z:un(rt),z=new ct(F,D+"leave",j,s,q),z.target=$t,z.relatedTarget=k,F=null,ti(q)===P&&(ct=new ct(x,D+"enter",rt,s,q),ct.target=k,ct.relatedTarget=$t,F=ct),$t=F,j&&rt)e:{for(ct=F0,x=j,D=rt,k=0,F=x;F;F=ct(F))k++;F=0;for(var ot=D;ot;ot=ct(ot))F++;for(;0<k-F;)x=ct(x),k--;for(;0<F-k;)D=ct(D),F--;for(;k--;){if(x===D||D!==null&&x===D.alternate){ct=x;break e}x=ct(x),D=ct(D)}ct=null}else ct=null;j!==null&&Ay(Q,z,j,ct,!1),rt!==null&&$t!==null&&Ay(Q,$t,rt,ct,!0)}}t:{if(z=P?un(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Pt=Bm;else if(Pm(z))if(jm)Pt=n0;else{Pt=t0;var at=WT}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Kr(P.elementType)&&(Pt=Bm):Pt=e0;if(Pt&&(Pt=Pt(e,P))){zm(Q,Pt,s,q);break t}at&&at(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&gl(z,"number",z.value)}switch(at=P?un(P):window,e){case"focusin":(Pm(at)||at.contentEditable==="true")&&(na=at,dh=P,Cl=null);break;case"focusout":Cl=dh=na=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Xm(Q,s,q);break;case"selectionchange":if(s0)break;case"keydown":case"keyup":Xm(Q,s,q)}var St;if(Bt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else ea?fr(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(ci&&s.locale!=="ko"&&(ea||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ea&&(St=El()):(ai=q,vl="value"in ai?ai.value:ai.textContent,ea=!0)),at=Ku(P,Dt),0<at.length&&(Dt=new ui(Dt,e,null,s,q),Q.push({event:Dt,listeners:at}),St?Dt.data=St:(St=ta(s),St!==null&&(Dt.data=St)))),(St=Sn?XT(e,s):$T(e,s))&&(Dt=Ku(P,"onBeforeInput"),0<Dt.length&&(at=new ui("onBeforeInput","beforeinput",null,s,q),Q.push({event:at,listeners:Dt}),at.data=St)),j0(Q,e,P,s,q)}Ty(Q,n)})}function Jl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ku(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=kn(e,s),c!=null&&l.unshift(Jl(e,c,f)),c=kn(e,n),c!=null&&l.push(Jl(e,c,f))),e.tag===3)return l;e=e.return}return[]}function F0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ay(e,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,w=E.alternate,P=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||P===null||(w=P,c?(P=kn(s,f),P!=null&&g.unshift(Jl(s,P,w))):c||(P=kn(s,f),P!=null&&g.push(Jl(s,P,w)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var Q0=/\r\n?/g,Y0=/\u0000|\uFFFD/g;function by(e){return(typeof e=="string"?e:""+e).replace(Q0,`
`).replace(Y0,"")}function Ry(e,n){return n=by(n),by(e)===n}function Xt(e,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(e,""+l);break;case"className":cn(e,"class",l);break;case"tabIndex":cn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(e,s,l);break;case"style":yl(e,l,f);break;case"data":if(n!=="object"){cn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Xr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",c.name,c,null),Xt(e,n,"formEncType",c.formEncType,c,null),Xt(e,n,"formMethod",c.formMethod,c,null),Xt(e,n,"formTarget",c.formTarget,c,null)):(Xt(e,n,"encType",c.encType,c,null),Xt(e,n,"method",c.method,c,null),Xt(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Xr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Ln);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Xr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Qr(e,"popover",l);break;case"xlinkActuate":_e(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_e(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_e(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_e(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_e(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_e(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_e(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ko.get(s)||s,Qr(e,s,l))}}function Bf(e,n,s,l,c,f){switch(s){case"style":yl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?en(e,l):(typeof l=="number"||typeof l=="bigint")&&en(e,""+l);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,c);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Qr(e,s,l)}}}function qe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,g,s,null)}}c&&Xt(e,n,"srcSet",s.srcSet,s,null),l&&Xt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=g=c=null,w=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var q=s[l];if(q!=null)switch(l){case"name":c=q;break;case"type":g=q;break;case"checked":w=q;break;case"defaultChecked":P=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Xt(e,n,l,q,s,null)}}Fo(e,f,E,w,P,g,c,!1);return;case"select":Ct("invalid",e),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(e,n,c,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?es(e,!!l,n,!1):s!=null&&es(e,!!l,s,!0);return;case"textarea":Ct("invalid",e),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,g,E,s,null)}ns(e,l,c,f);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(l=s[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,n,w,l,s,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(l=0;l<Zl.length;l++)Ct(Zl[l],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,P,l,s,null)}return;default:if(Kr(n)){for(q in s)s.hasOwnProperty(q)&&(l=s[q],l!==void 0&&Bf(e,n,q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(e,n,E,l,s,null))}function K0(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,P=null,q=null;for(j in s){var Q=s[j];if(s.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=Q;default:l.hasOwnProperty(j)||Xt(e,n,j,null,l,Q)}}for(var z in l){var j=l[z];if(Q=s[z],l.hasOwnProperty(z)&&(j!=null||Q!=null))switch(z){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":q=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==Q&&Xt(e,n,z,j,l,Q)}}Yr(e,g,E,w,P,q,f,c);return;case"select":j=g=E=z=null;for(f in s)if(w=s[f],s.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":j=w;default:l.hasOwnProperty(f)||Xt(e,n,f,null,l,w)}for(c in l)if(f=l[c],w=s[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Xt(e,n,c,f,l,w)}n=E,s=g,l=j,z!=null?es(e,!!s,z,!1):!!l!=!!s&&(n!=null?es(e,!!s,n,!0):es(e,!!s,s?[]:"",!1));return;case"textarea":j=z=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Xt(e,n,g,c,l,f)}Qo(e,z,j);return;case"option":for(var rt in s)if(z=s[rt],s.hasOwnProperty(rt)&&z!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Xt(e,n,rt,null,l,z)}for(w in l)if(z=l[w],j=s[w],l.hasOwnProperty(w)&&z!==j&&(z!=null||j!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,n,w,z,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in s)z=s[ct],s.hasOwnProperty(ct)&&z!=null&&!l.hasOwnProperty(ct)&&Xt(e,n,ct,null,l,z);for(P in l)if(z=l[P],j=s[P],l.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Xt(e,n,P,z,l,j)}return;default:if(Kr(n)){for(var $t in s)z=s[$t],s.hasOwnProperty($t)&&z!==void 0&&!l.hasOwnProperty($t)&&Bf(e,n,$t,void 0,l,z);for(q in l)z=l[q],j=s[q],!l.hasOwnProperty(q)||z===j||z===void 0&&j===void 0||Bf(e,n,q,z,l,j);return}}for(var x in s)z=s[x],s.hasOwnProperty(x)&&z!=null&&!l.hasOwnProperty(x)&&Xt(e,n,x,null,l,z);for(Q in l)z=l[Q],j=s[Q],!l.hasOwnProperty(Q)||z===j||z==null&&j==null||Xt(e,n,Q,z,l,j)}function wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&wy(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var w=s[l],P=w.startTime;if(P>E)break;var q=w.transferSize,Q=w.initiatorType;q&&wy(Q)&&(w=w.responseEnd,g+=q*(w<E?1:(E-P)/(w-P)))}if(--l,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jf=null,qf=null;function Xu(e){return e.nodeType===9?e:e.ownerDocument}function Cy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Hf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gf=null;function $0(){var e=window.event;return e&&e.type==="popstate"?e===Gf?!1:(Gf=e,!0):(Gf=null,!1)}var Dy=typeof setTimeout=="function"?setTimeout:void 0,Z0=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(e){return Ny.resolve(null).then(e).catch(W0)}:Dy;function W0(e){setTimeout(function(){throw e})}function Rs(e){return e==="head"}function Oy(e,n){var s=n,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(c),Da(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Wl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Wl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Wl(e.ownerDocument.body);s=c}while(s);Da(n)}function My(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Ff(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ff(s),Fr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function tS(e,n,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Wn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function eS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Dn(e.nextSibling),e===null))return null;return e}function Vy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function Qf(e){return e.data==="$?"||e.data==="$~"}function Yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Kf=null;function xy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Dn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Uy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Ly(e,n,s){switch(n=Xu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Wl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Fr(e)}var Nn=new Map,ky=new Set;function $u(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=tt.d;tt.d={f:iS,r:sS,D:rS,C:aS,L:lS,m:oS,X:cS,S:uS,M:hS};function iS(){var e=Fi.f(),n=ju();return e||n}function sS(e){var n=vn(e);n!==null&&n.tag===5&&n.type==="form"?tp(n):Fi.r(e)}var wa=typeof document>"u"?null:document;function Py(e,n,s){var l=wa;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),ky.has(c)||(ky.add(c),e={rel:e,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",e),ye(n),l.head.appendChild(n)))}}function rS(e){Fi.D(e),Py("dns-prefetch",e,null)}function aS(e,n){Fi.C(e,n),Py("preconnect",e,n)}function lS(e,n,s){Fi.L(e,n,s);var l=wa;if(l&&e&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+tn(s.imageSizes)+'"]')):c+='[href="'+tn(e)+'"]';var f=c;switch(n){case"style":f=Ca(e);break;case"script":f=Ia(e)}Nn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Nn.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(to(f))||n==="script"&&l.querySelector(eo(f))||(n=l.createElement("link"),qe(n,"link",e),ye(n),l.head.appendChild(n)))}}function oS(e,n){Fi.m(e,n);var s=wa;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ia(e)}if(!Nn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Nn.set(f,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(eo(f)))return}l=s.createElement("link"),qe(l,"link",e),ye(l),s.head.appendChild(l)}}}function uS(e,n,s){Fi.S(e,n,s);var l=wa;if(l&&e){var c=ei(l).hoistableStyles,f=Ca(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(to(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Nn.get(f))&&Xf(e,s);var w=g=l.createElement("link");ye(w),qe(w,"link",e),w._p=new Promise(function(P,q){w.onload=P,w.onerror=q}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Zu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function cS(e,n){Fi.X(e,n);var s=wa;if(s&&e){var l=ei(s).hoistableScripts,c=Ia(e),f=l.get(c);f||(f=s.querySelector(eo(c)),f||(e=S({src:e,async:!0},n),(n=Nn.get(c))&&$f(e,n),f=s.createElement("script"),ye(f),qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function hS(e,n){Fi.M(e,n);var s=wa;if(s&&e){var l=ei(s).hoistableScripts,c=Ia(e),f=l.get(c);f||(f=s.querySelector(eo(c)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Nn.get(c))&&$f(e,n),f=s.createElement("script"),ye(f),qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function zy(e,n,s,l){var c=(c=Tt.current)?$u(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ca(s.href),s=ei(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ca(s.href);var f=ei(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(to(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Nn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Nn.set(e,s),f||fS(c,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ia(s),s=ei(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ca(e){return'href="'+tn(e)+'"'}function to(e){return'link[rel="stylesheet"]['+e+"]"}function By(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function fS(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",s),ye(n),e.head.appendChild(n))}function Ia(e){return'[src="'+tn(e)+'"]'}function eo(e){return"script[async]"+e}function jy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+tn(s.href)+'"]');if(l)return n.instance=l,ye(l),l;var c=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ye(l),qe(l,"style",c),Zu(l,s.precedence,e),n.instance=l;case"stylesheet":c=Ca(s.href);var f=e.querySelector(to(c));if(f)return n.state.loading|=4,n.instance=f,ye(f),f;l=By(s),(c=Nn.get(c))&&Xf(l,c),f=(e.ownerDocument||e).createElement("link"),ye(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),qe(f,"link",l),n.state.loading|=4,Zu(f,s.precedence,e),n.instance=f;case"script":return f=Ia(s.src),(c=e.querySelector(eo(f)))?(n.instance=c,ye(c),c):(l=s,(c=Nn.get(f))&&(l=S({},s),$f(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),ye(c),qe(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Zu(l,s.precedence,e));return n.instance}function Zu(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function $f(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ju=null;function qy(e,n,s){if(Ju===null){var l=new Map,c=Ju=new Map;c.set(s,l)}else c=Ju,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[Wn]||f[pe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function Hy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function dS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mS(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ca(l.href),f=n.querySelector(to(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Wu.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ye(f);return}f=n.ownerDocument||n,l=By(l),(c=Nn.get(c))&&Xf(l,c),f=f.createElement("link"),ye(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),qe(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Wu.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Zf=0;function gS(e,n){return e.stylesheets&&e.count===0&&ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Zf===0&&(Zf=62500*X0());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Zf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tc=null;function ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tc=new Map,n.forEach(pS,e),tc=null,Wu.call(e))}function pS(e,n){if(!(n.state.loading&4)){var s=tc.get(e);if(s)var l=s.get(null);else{s=new Map,tc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Wu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var no={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function yS(e,n,s,l,c,f,g,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Fy(e,n,s,l,c,f,g,E,w,P,q,Q){return e=new yS(e,n,s,g,w,P,q,Q,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),e.current=f,f.stateNode=e,n=Dh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Vh(f),e}function Qy(e){return e?(e=ra,e):ra}function Yy(e,n,s,l,c,f){c=Qy(c),l.context===null?l.context=c:l.pendingContext=c,l=ms(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=gs(e,l,n),s!==null&&(ln(s,e,n),xl(s,e,n))}function Ky(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Jf(e,n){Ky(e,n),(e=e.alternate)&&Ky(e,n)}function Xy(e){if(e.tag===13||e.tag===31){var n=gr(e,67108864);n!==null&&ln(n,e,67108864),Jf(e,67108864)}}function $y(e){if(e.tag===13||e.tag===31){var n=yn();n=ir(n);var s=gr(e,n);s!==null&&ln(s,e,n),Jf(e,n)}}var nc=!0;function _S(e,n,s,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,Wf(e,n,s,l)}finally{tt.p=f,H.T=c}}function vS(e,n,s,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,Wf(e,n,s,l)}finally{tt.p=f,H.T=c}}function Wf(e,n,s,l){if(nc){var c=td(l);if(c===null)zf(e,n,l,ic,s),Jy(e,l);else if(TS(c,e,n,s,l))l.stopPropagation();else if(Jy(e,l),n&4&&-1<ES.indexOf(e)){for(;c!==null;){var f=vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Xn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-oe(g);E.entanglements[1]|=w,g&=~w}mi(f),(jt&6)===0&&(zu=$e()+500,$l(0))}}break;case 31:case 13:E=gr(f,2),E!==null&&ln(E,f,2),ju(),Jf(f,2)}if(f=td(l),f===null&&zf(e,n,l,ic,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else zf(e,n,l,null,s)}}function td(e){return e=En(e),ed(e)}var ic=null;function ed(e){if(ic=null,e=ti(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ic=e,null}function Zy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ws()){case rl:return 2;case al:return 8;case Wi:case ah:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var nd=!1,ws=null,Cs=null,Is=null,io=new Map,so=new Map,Ds=[],ES="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(e,n){switch(e){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(n.pointerId)}}function ro(e,n,s,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=vn(n),n!==null&&Xy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function TS(e,n,s,l,c){switch(n){case"focusin":return ws=ro(ws,e,n,s,l,c),!0;case"dragenter":return Cs=ro(Cs,e,n,s,l,c),!0;case"mouseover":return Is=ro(Is,e,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return io.set(f,ro(io.get(f)||null,e,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,so.set(f,ro(so.get(f)||null,e,n,s,l,c)),!0}return!1}function Wy(e){var n=ti(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,xn(e.priority,function(){$y(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,xn(e.priority,function(){$y(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=td(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);_l=l,s.target.dispatchEvent(l),_l=null}else return n=vn(s),n!==null&&Xy(n),e.blockedOn=s,!1;n.shift()}return!0}function t_(e,n,s){sc(e)&&s.delete(n)}function SS(){nd=!1,ws!==null&&sc(ws)&&(ws=null),Cs!==null&&sc(Cs)&&(Cs=null),Is!==null&&sc(Is)&&(Is=null),io.forEach(t_),so.forEach(t_)}function rc(e,n){e.blockedOn===n&&(e.blockedOn=null,nd||(nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,SS)))}var ac=null;function e_(e){ac!==e&&(ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ac===e&&(ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(ed(l||s)===null)continue;break}var f=vn(s);f!==null&&(e.splice(n,3),n-=3,Wh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Da(e){function n(w){return rc(w,e)}ws!==null&&rc(ws,e),Cs!==null&&rc(Cs,e),Is!==null&&rc(Is,e),io.forEach(n),so.forEach(n);for(var s=0;s<Ds.length;s++){var l=Ds[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ds.length&&(s=Ds[0],s.blockedOn===null);)Wy(s),s.blockedOn===null&&Ds.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Me]||null;if(typeof f=="function")g||e_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(ed(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),e_(s)}}}function n_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function id(e){this._internalRoot=e}lc.prototype.render=id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=yn();Yy(s,l,e,n,null,null)},lc.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Yy(e.current,2,null,e,null,null),ju(),n[Jn]=null}};function lc(e){this._internalRoot=e}lc.prototype.unstable_scheduleHydration=function(e){if(e){var n=jo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ds.length&&n!==0&&n<Ds[s].priority;s++);Ds.splice(s,0,e),s===0&&Wy(e)}};var i_=t.version;if(i_!=="19.2.0")throw Error(a(527,i_,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var AS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Mn=oc.inject(AS),ke=oc}catch{}}return lo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",c=cp,f=hp,g=fp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Fy(e,1,!1,null,null,s,l,null,c,f,g,n_),e[Jn]=n.current,Pf(e),new id(n)},lo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,c="",f=cp,g=hp,E=fp,w=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),n=Fy(e,1,!0,n,s??null,l,c,w,f,g,E,n_),n.context=Qy(null),s=n.current,l=yn(),l=ir(l),c=ms(l),c.callback=null,gs(s,c,l),s=l,n.current.lanes=s,er(n,s),mi(n),e[Jn]=n.current,Pf(e),new lc(n)},lo.version="19.2.0",lo}var d_;function VS(){if(d_)return ad.exports;d_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ad.exports=MS(),ad.exports}var xS=VS();const US=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},LS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];t[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],p=r[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const h=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return t.join("")},Qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,p=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,A=h>>2,S=(h&3)<<4|p>>4;let O=(p&15)<<2|v>>6,G=v&63;_||(G=64,d||(O=64)),a.push(i[A],i[S],i[O],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Fv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):LS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||p==null||v==null||S==null)throw new kS;const O=h<<2|p>>4;if(a.push(O),v!==64){const G=p<<4&240|v>>2;if(a.push(G),S!==64){const $=v<<6&192|S;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PS=function(r){const t=Fv(r);return Qv.encodeByteArray(t,!0)},wc=function(r){return PS(r).replace(/\./g,"")},Yv=function(r){try{return Qv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=()=>zS().__FIREBASE_DEFAULTS__,jS=()=>{if(typeof process>"u"||typeof m_>"u")return;const r=m_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Yv(r[1]);return t&&JSON.parse(t)},Hc=()=>{try{return US()||BS()||jS()||qS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Kv=r=>Hc()?.emulatorHosts?.[r],Xv=r=>{const t=Kv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},$v=()=>Hc()?.config,Zv=r=>Hc()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jd(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[wc(JSON.stringify(i)),wc(JSON.stringify(d)),""].join(".")}const ho={};function GS(){const r={prod:[],emulator:[]};for(const t of Object.keys(ho))ho[t]?r.emulator.push(t):r.prod.push(t);return r}function FS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let g_=!1;function Wd(r,t){if(typeof window>"u"||typeof document>"u"||!kr(window.location.host)||ho[r]===t||ho[r]||g_)return;ho[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",h=GS().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{g_=!0,d()},O}function A(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=FS(a),G=i("text"),$=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),dt=i("preprendIcon"),bt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ht=O.element;p(ht),A(Z,nt);const At=v();_(bt,dt),ht.append(bt,$,Z,At),document.body.appendChild(ht)}h?($.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function YS(){const r=Hc()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZS(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function JS(){return!YS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WS(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="FirebaseError";class Ri extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=eA,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bo.prototype.create)}}class bo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,h=this.errors[t],d=h?nA(h,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ri(o,p,a)}}function nA(r,t){return r.replace(iA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const iA=/\{\$([^}]+)}/g;function sA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=t[o];if(p_(h)&&p_(d)){if(!Vr(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function p_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function rA(r,t){const i=new aA(r,t);return i.subscribe.bind(i)}class aA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");lA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=cd),o.error===void 0&&(o.error=cd),o.complete===void 0&&(o.complete=cd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(r){return r&&r._delegate?r._delegate:r}class Hs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new HS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cA(t))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(t=Ir){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ir){return this.instances.has(t)}getOptions(t=Ir){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&t(h,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:uA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ir){return this.component?this.component.multipleInstances?t:Ir:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uA(r){return r===Ir?void 0:r}function cA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new oA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const fA={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},dA=Nt.INFO,mA={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},gA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=mA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tm{constructor(t){this.name=t,this._logLevel=dA,this._logHandler=gA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const pA=(r,t)=>t.some(i=>r instanceof i);let y_,__;function yA(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _A(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wv=new WeakMap,bd=new WeakMap,tE=new WeakMap,hd=new WeakMap,em=new WeakMap;function vA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ps(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Wv.set(i,r)}).catch(()=>{}),em.set(t,r),t}function EA(r){if(bd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});bd.set(r,t)}let Rd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return bd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||tE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ps(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function TA(r){Rd=r(Rd)}function SA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(fd(this),t,...i);return tE.set(a,t.sort?t.sort():[t]),Ps(a)}:_A().includes(r)?function(...t){return r.apply(fd(this),t),Ps(Wv.get(this))}:function(...t){return Ps(r.apply(fd(this),t))}}function AA(r){return typeof r=="function"?SA(r):(r instanceof IDBTransaction&&EA(r),pA(r,yA())?new Proxy(r,Rd):r)}function Ps(r){if(r instanceof IDBRequest)return vA(r);if(hd.has(r))return hd.get(r);const t=AA(r);return t!==r&&(hd.set(r,t),em.set(t,r)),t}const fd=r=>em.get(r);function bA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,t),p=Ps(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Ps(d.result),_.oldVersion,_.newVersion,Ps(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const RA=["get","getKey","getAll","getAllKeys","count"],wA=["put","add","delete","clear"],dd=new Map;function v_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(dd.get(t))return dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=wA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||RA.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return dd.set(t,h),h}TA(r=>({...r,get:(t,i,a)=>v_(t,i)||r.get(t,i,a),has:(t,i)=>!!v_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(IA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function IA(r){return r.getComponent()?.type==="VERSION"}const wd="@firebase/app",E_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new tm("@firebase/app"),DA="@firebase/app-compat",NA="@firebase/analytics-compat",OA="@firebase/analytics",MA="@firebase/app-check-compat",VA="@firebase/app-check",xA="@firebase/auth",UA="@firebase/auth-compat",LA="@firebase/database",kA="@firebase/data-connect",PA="@firebase/database-compat",zA="@firebase/functions",BA="@firebase/functions-compat",jA="@firebase/installations",qA="@firebase/installations-compat",HA="@firebase/messaging",GA="@firebase/messaging-compat",FA="@firebase/performance",QA="@firebase/performance-compat",YA="@firebase/remote-config",KA="@firebase/remote-config-compat",XA="@firebase/storage",$A="@firebase/storage-compat",ZA="@firebase/firestore",JA="@firebase/ai",WA="@firebase/firestore-compat",t1="firebase",e1="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",n1={[wd]:"fire-core",[DA]:"fire-core-compat",[OA]:"fire-analytics",[NA]:"fire-analytics-compat",[VA]:"fire-app-check",[MA]:"fire-app-check-compat",[xA]:"fire-auth",[UA]:"fire-auth-compat",[LA]:"fire-rtdb",[kA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[zA]:"fire-fn",[BA]:"fire-fn-compat",[jA]:"fire-iid",[qA]:"fire-iid-compat",[HA]:"fire-fcm",[GA]:"fire-fcm-compat",[FA]:"fire-perf",[QA]:"fire-perf-compat",[YA]:"fire-rc",[KA]:"fire-rc-compat",[XA]:"fire-gcs",[$A]:"fire-gcs-compat",[ZA]:"fire-fst",[WA]:"fire-fst-compat",[JA]:"fire-vertex","fire-js":"fire-js",[t1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,i1=new Map,Id=new Map;function T_(r,t){try{r.container.addComponent(t)}catch(i){Ki.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function xr(r){const t=r.name;if(Id.has(t))return Ki.debug(`There were multiple attempts to register component ${t}.`),!1;Id.set(t,r);for(const i of Cc.values())T_(i,r);for(const i of i1.values())T_(i,r);return!0}function Gc(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Gn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new bo("app","Firebase",s1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=e1;function eE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Cd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw zs.create("bad-app-name",{appName:String(o)});if(i||(i=$v()),!i)throw zs.create("no-options");const h=Cc.get(o);if(h){if(Vr(i,h.options)&&Vr(a,h.config))return h;throw zs.create("duplicate-app",{appName:o})}const d=new hA(o);for(const _ of Id.values())d.addComponent(_);const p=new r1(i,a,d);return Cc.set(o,p),p}function nm(r=Cd){const t=Cc.get(r);if(!t&&r===Cd&&$v())return eE();if(!t)throw zs.create("no-app",{appName:r});return t}function _i(r,t,i){let a=n1[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=t.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ki.warn(d.join(" "));return}xr(new Hs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="firebase-heartbeat-database",l1=1,_o="firebase-heartbeat-store";let md=null;function nE(){return md||(md=bA(a1,l1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(_o)}catch(i){console.warn(i)}}}}).catch(r=>{throw zs.create("idb-open",{originalErrorMessage:r.message})})),md}async function o1(r){try{const i=(await nE()).transaction(_o),a=await i.objectStore(_o).get(iE(r));return await i.done,a}catch(t){if(t instanceof Ri)Ki.warn(t.message);else{const i=zs.create("idb-get",{originalErrorMessage:t?.message});Ki.warn(i.message)}}}async function S_(r,t){try{const a=(await nE()).transaction(_o,"readwrite");await a.objectStore(_o).put(t,iE(r)),await a.done}catch(i){if(i instanceof Ri)Ki.warn(i.message);else{const a=zs.create("idb-set",{originalErrorMessage:i?.message});Ki.warn(a.message)}}}function iE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=1024,c1=30;class h1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new d1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=A_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>c1){const o=m1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ki.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=A_(),{heartbeatsToSend:i,unsentEntries:a}=f1(this._heartbeatsCache.heartbeats),o=wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ki.warn(t),""}}}function A_(){return new Date().toISOString().substring(0,10)}function f1(r,t=u1){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),b_(i)>t){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),b_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class d1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WS()?tA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await o1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return S_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return S_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function b_(r){return wc(JSON.stringify({version:2,heartbeats:r})).length}function m1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r){xr(new Hs("platform-logger",t=>new CA(t),"PRIVATE")),xr(new Hs("heartbeat",t=>new h1(t),"PRIVATE")),_i(wd,E_,r),_i(wd,E_,"esm2020"),_i("fire-js","")}g1("");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,sE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,U){for(var R=Array(arguments.length-2),te=2;te<arguments.length;te++)R[te-2]=arguments[te];return b.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,C){C||(C=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],N=I.g[2];let U=I.g[3],R;R=b+(U^C&(N^U))+V[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(N^b&(C^N))+V[1]+3905402710&4294967295,U=b+(R<<12&4294967295|R>>>20),R=N+(C^U&(b^C))+V[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(b^N&(U^b))+V[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(U^C&(N^U))+V[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(N^b&(C^N))+V[5]+1200080426&4294967295,U=b+(R<<12&4294967295|R>>>20),R=N+(C^U&(b^C))+V[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(b^N&(U^b))+V[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(U^C&(N^U))+V[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(N^b&(C^N))+V[9]+2336552879&4294967295,U=b+(R<<12&4294967295|R>>>20),R=N+(C^U&(b^C))+V[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(b^N&(U^b))+V[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(U^C&(N^U))+V[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(N^b&(C^N))+V[13]+4254626195&4294967295,U=b+(R<<12&4294967295|R>>>20),R=N+(C^U&(b^C))+V[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(b^N&(U^b))+V[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(N^U&(C^N))+V[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(b^C))+V[6]+3225465664&4294967295,U=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(U^b))+V[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(N^U))+V[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(N^U&(C^N))+V[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(b^C))+V[10]+38016083&4294967295,U=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(U^b))+V[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(N^U))+V[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(N^U&(C^N))+V[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(b^C))+V[14]+3275163606&4294967295,U=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(U^b))+V[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(N^U))+V[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(N^U&(C^N))+V[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(b^C))+V[2]+4243563512&4294967295,U=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(U^b))+V[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(N^U))+V[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(C^N^U)+V[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^N)+V[8]+2272392833&4294967295,U=b+(R<<11&4294967295|R>>>21),R=N+(U^b^C)+V[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^b)+V[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(C^N^U)+V[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^N)+V[4]+1272893353&4294967295,U=b+(R<<11&4294967295|R>>>21),R=N+(U^b^C)+V[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^b)+V[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(C^N^U)+V[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^N)+V[0]+3936430074&4294967295,U=b+(R<<11&4294967295|R>>>21),R=N+(U^b^C)+V[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^b)+V[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(C^N^U)+V[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^N)+V[12]+3873151461&4294967295,U=b+(R<<11&4294967295|R>>>21),R=N+(U^b^C)+V[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^b)+V[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(N^(C|~U))+V[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~N))+V[7]+1126891415&4294967295,U=b+(R<<10&4294967295|R>>>22),R=N+(b^(U|~C))+V[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~b))+V[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=b+(N^(C|~U))+V[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~N))+V[3]+2399980690&4294967295,U=b+(R<<10&4294967295|R>>>22),R=N+(b^(U|~C))+V[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~b))+V[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=b+(N^(C|~U))+V[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~N))+V[15]+4264355552&4294967295,U=b+(R<<10&4294967295|R>>>22),R=N+(b^(U|~C))+V[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~b))+V[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=b+(N^(C|~U))+V[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~N))+V[11]+3174756917&4294967295,U=b+(R<<10&4294967295|R>>>22),R=N+(b^(U|~C))+V[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~b))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<b;){if(N==0)for(;U<=C;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<b;)if(V[N++]=I.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<b;)if(V[N++]=I[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=b},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[b++]=this.g[C]>>>V&255;return I};function h(I,b){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;V&&U==b||(C[N]=U,V=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?h(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return Z(v(-I));const b=[];let C=1;for(let V=0;I>=C;V++)b[V]=I/C|0,C*=4294967296;return new d(b,0)}function A(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return Z(A(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(b,8));let V=S;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const R=parseInt(I.substring(U,U+N),b);N<8?(N=v(Math.pow(b,N)),V=V.j(N).add(v(R))):(V=V.j(C),V=V.add(v(R)))}return V}var S=_(0),O=_(1),G=_(16777216);r=d.prototype,r.m=function(){if(nt(this))return-Z(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(nt(this))return"-"+Z(this).toString(I);const b=v(Math.pow(I,6));var C=this;let V="";for(;;){const N=At(C,b).g;C=dt(C,N.j(b));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,$(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function nt(I){return I.h==-1}r.l=function(I){return I=dt(this,I),nt(I)?-1:$(I)?0:1};function Z(I){const b=I.g.length,C=[];for(let V=0;V<b;V++)C[V]=~I.g[V];return new d(C,~I.h).add(O)}r.abs=function(){return nt(this)?Z(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=b;N++){let U=V+(this.i(N)&65535)+(I.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,U&=65535,R&=65535,C[N]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(I,b){return I.add(Z(b))}r.j=function(I){if($(this)||$(I))return S;if(nt(this))return nt(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(nt(I))return Z(this.j(Z(I)));if(this.l(G)<0&&I.l(G)<0)return v(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var V=0;V<2*b;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const U=this.i(V)>>>16,R=this.i(V)&65535,te=I.i(N)>>>16,we=I.i(N)&65535;C[2*V+2*N]+=R*we,bt(C,2*V+2*N),C[2*V+2*N+1]+=U*we,bt(C,2*V+2*N+1),C[2*V+2*N+1]+=R*te,bt(C,2*V+2*N+1),C[2*V+2*N+2]+=U*te,bt(C,2*V+2*N+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function bt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function ht(I,b){this.g=I,this.h=b}function At(I,b){if($(b))throw Error("division by zero");if($(I))return new ht(S,S);if(nt(I))return b=At(Z(I),b),new ht(Z(b.g),Z(b.h));if(nt(b))return b=At(I,Z(b)),new ht(Z(b.g),b.h);if(I.g.length>30){if(nt(I)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var C=O,V=b;V.l(I)<=0;)C=qt(C),V=qt(V);var N=Rt(C,1),U=Rt(V,1);for(V=Rt(V,2),C=Rt(C,2);!$(V);){var R=U.add(V);R.l(I)<=0&&(N=N.add(C),U=R),V=Rt(V,1),C=Rt(C,1)}return b=dt(I,N.j(b)),new ht(N,b)}for(N=S;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=v(C),R=U.j(b);nt(R)||R.l(I)>0;)C-=V,U=v(C),R=U.j(b);$(U)&&(U=O),N=N.add(U),I=dt(I,R)}return new ht(N,I)}r.B=function(I){return At(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function qt(I){const b=I.g.length+1,C=[];for(let V=0;V<b;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Rt(I,b){const C=b>>5;b%=32;const V=I.g.length-C,N=[];for(let U=0;U<V;U++)N[U]=b>0?I.i(U+C)>>>b|I.i(U+C+1)<<32-b:I.i(U+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,sE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Bs=d}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rE,oo,aE,yc,Dd,lE,oE,uE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var J=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)J[vt-2]=arguments[vt];return m.prototype[L].apply(T,J)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const B=L.length||0;u.length=y+B;for(let J=0;J<B;J++)u[y+J]=L[J]}else u.push(L)}}class nt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,y){const T=ht.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new nt(()=>new At,u=>u.reset());class At{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let qt,Rt=!1,I=new bt,b=()=>{const u=Promise.resolve(void 0);qt=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(y){Z(y)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(te,N),te.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ht(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function M(u){const m={};for(const y in u)m[y]=u[y];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let B=0;B<Y.length;B++)y=Y[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,y,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=Tt(u,m,T,L);return J>-1?(m=u[J],y||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,L),m.fa=y,u.push(m)),m};function gt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Tt(u,m,y,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ee(u,m,y,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ee(u,m[B],y,T,L);return null}return y=sl(y),u&&u[we]?u.J(m,y,p(T)?!!T.capture:!1,L):Zs(u,m,y,!1,T,L)}function Zs(u,m,y,T,L,B){if(!m)throw Error("Invalid event type");const J=p(L)?!!L.capture:!!L;let vt=Js(u);if(vt||(u[Vt]=vt=new it(u)),y=vt.add(m,y,T,J,B),y.proxy)return y;if(T=Br(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)U||(L=J),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Br(){function u(y){return m.call(u.src,u.listener,y)}const m=nl;return u}function jr(u,m,y,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)jr(u,m[B],y,T,L);else T=p(T)?!!T.capture:!!T,y=sl(y),u&&u[we]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=Tt(m,y,T,L),y>-1&&(ut(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Js(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tt(m,y,T,L)),(y=u>-1?m[u]:null)&&qr(y))}function qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])gt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Yn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Js(m))?(gt(y,u),y.h==0&&(y.src=null,m[Vt]=null)):ut(u)}}}function Yn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function nl(u,m){if(u.da)u=!0;else{m=new te(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&qr(u),u=y.call(T,m)}return u}function Js(u){return u=u[Vt],u instanceof it?u:null}var il="__closure_events_fn_"+(Math.random()*1e9>>>0);function sl(u){return typeof u=="function"?u:(u[il]||(u[il]=function(m){return u.handleEvent(m)}),u[il])}function me(){V.call(this),this.i=new it(this),this.M=this,this.G=null}S(me,V),me.prototype[we]=!0,me.prototype.removeEventListener=function(u,m,y,T){jr(this,u,m,y,T)};function Ie(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),et(m,L)}L=!0;let B,J;if(y)for(J=y.length-1;J>=0;J--)B=m.g=y[J],L=Ji(B,T,!0,m)&&L;if(B=m.g=u,L=Ji(B,T,!0,m)&&L,L=Ji(B,T,!1,m)&&L,y)for(J=0;J<y.length;J++)B=m.g=y[J],L=Ji(B,T,!1,m)&&L}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ut(y[T]);delete u.g[m],u.h--}}this.G=null},me.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},me.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Ji(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==y){const vt=J.listener,ue=J.ha||J.src;J.fa&&gt(u.i,J),L=vt.call(ue,T)!==!1&&L}}return L&&!T.defaultPrevented}function rh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function xo(u){u.g=rh(()=>{u.g=null,u.i&&(u.i=!1,xo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(u){V.call(this),this.h=u,this.g={}}S(Ws,V);var rl=[];function al(u){Lt(u.g,function(m,y){this.g.hasOwnProperty(y)&&qr(m)},u),u.g={}}Ws.prototype.N=function(){Ws.Z.N.call(this),al(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wi=d.JSON.stringify,ah=d.JSON.parse,Uo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Lo(){}function ko(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){N.call(this,"d")}S(ke,N);function _n(){N.call(this,"c")}S(_n,N);var oe={},Po=null;function Hr(){return Po=Po||new me}oe.Ia="serverreachability";function zo(u){N.call(this,oe.Ia,u)}S(zo,N);function Kn(u){const m=Hr();Ie(m,new zo(m))}oe.STAT_EVENT="statevent";function tr(u,m){N.call(this,oe.STAT_EVENT,u),this.stat=m}S(tr,N);function ge(u){const m=Hr();Ie(m,new tr(m,u))}oe.Ja="timingevent";function Xn(u,m){N.call(this,oe.Ja,u),this.size=m}S(Xn,N);function $n(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Vn(){this.g=!0}Vn.prototype.ua=function(){this.g=!1};function lh(u,m,y,T,L,B){u.info(function(){if(u.g)if(B){var J="",vt=B.split("&");for(let Bt=0;Bt<vt.length;Bt++){var ue=vt[Bt].split("=");if(ue.length>1){const ne=ue[0];ue=ue[1];const Sn=ne.split("_");J=Sn.length>=2&&Sn[1]=="type"?J+(ne+"="+ue+"&"):J+(ne+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+J})}function Bo(u,m,y,T,L,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+B+" "+J})}function Zn(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+oh(u,y)+(T?" "+T:"")})}function er(u,m){u.info(function(){return"TIMEOUT: "+m})}Vn.prototype.info=function(){};function oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return Wi(B)}catch{return m}}var nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function ir(){}S(ir,Lo),ir.prototype.g=function(){return new XMLHttpRequest},ol=new ir;function Ci(u){return encodeURIComponent(String(u))}function jo(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function xn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new Ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var pe={},Me={};function Jn(u,m,y){u.M=1,u.A=sr(_e(m)),u.u=y,u.R=!0,Gr(u,null)}function Gr(u,m){u.F=Date.now(),Wn(u),u.B=_e(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Kr(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Un,u.g=nu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new $e(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(rl[0]=L.toString()),L=rl);for(let B=0;B<L.length;B++){const J=ee(y,L[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Kn(),lh(u.i,u.v,u.B,u.l,u.S,u.u)}xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Pn(u)==3?m.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)t:{const vt=Pn(this.g),ue=this.g.ya(),Bt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||vt!=4||ue==7||(ue==8||Bt<=0?Kn(3):Kn(2)),ti(this);var m=this.g.ca();this.X=m;var y=uh(this);if(this.o=m==200,Bo(this.i,this.v,this.B,this.l,this.S,vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)Zn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,u);else{this.o=!1,this.m=3,ge(12),un(this),vn(this);break t}}if(this.R){u=!0;let ne;for(;!this.K&&this.C<y.length;)if(ne=Ho(this,y),ne==Me){vt==4&&(this.m=4,ge(14),u=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(ne==pe){this.m=4,ge(15),Zn(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else Zn(this.i,this.l,ne,null),ei(this,ne);if(qo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||y.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)Zn(this.i,this.l,y,"[Invalid Chunked Response]"),un(this),vn(this);else if(y.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Al(J),J.P=!0,ge(11))}}else Zn(this.i,this.l,y,null),ei(this,y);vt==4&&un(this),this.o&&!this.K&&(vt==4?Jo(this.j,this):(this.o=!1,Wn(this)))}else Di(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),un(this),vn(this)}}}catch{}finally{}};function uh(u){if(!qo(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let y="";const T=m.length,L=Pn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),vn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function qo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ho(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Me:(y=Number(m.substring(y,T)),isNaN(y)?pe:(T+=1,T+y>m.length?Me:(m=m.slice(T,T+y),u.C=T+y,m)))}xn.prototype.cancel=function(){this.K=!0,un(this)};function Wn(u){u.T=Date.now()+u.H,Fr(u,u.H)}function Fr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=$n(v(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(er(this.i,this.B),this.M!=2&&(Kn(),ge(17)),un(this),this.m=2,vn(this)):Fr(this,this.T-u)};function vn(u){u.j.I==0||u.K||Jo(u.j,u)}function un(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,al(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ei(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ii(y.h,u))){if(!u.L&&ii(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Wr(y),ls(y);else break t;hr(y),ge(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=$n(v(y.Va,y),6e3));ni(y.h)<=1&&y.ta&&(y.ta=void 0)}else ui(y,11)}else if((u.L||y.g==u)&&Wr(y),!R(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const ne=Bt[0];if(!(ne<=y.K))if(y.K=ne,Bt=Bt[1],y.I==2)if(Bt[0]=="c"){y.M=Bt[1],y.ba=Bt[2];const Sn=Bt[3];Sn!=null&&(y.ka=Sn,y.j.info("VER="+y.ka));const ci=Bt[4];ci!=null&&(y.za=ci,y.j.info("SVER="+y.za));const zn=Bt[5];zn!=null&&typeof zn=="number"&&zn>0&&(T=1.5*zn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Bn=u.g;if(Bn){const fr=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fr){var B=T.h;B.g||fr.indexOf("spdy")==-1&&fr.indexOf("quic")==-1&&fr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(hl(B,B.h),B.h=null))}if(T.G){const ta=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;ta&&(T.wa=ta,Gt(T.J,T.G,ta))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var J=u;if(T.na=eu(T,T.L?T.ba:null,T.W),J.L){fl(T.h,J);var vt=J,ue=T.O;ue&&(vt.H=ue),vt.D&&(ti(vt),Wn(vt)),T.g=J}else $o(T);y.i.length>0&&oi(y)}else Bt[0]!="stop"&&Bt[0]!="close"||ui(y,7);else y.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?ui(y,7):Tl(y):Bt[0]!="noop"&&y.l&&y.l.qa(Bt),y.A=0)}}Kn(4)}catch{}}var ye=class{constructor(u,m){this.g=u,this.map=m}};function ul(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ni(u){return u.h?1:u.g?u.g.size:0}function ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function hl(u,m){u.g?u.g.add(m):u.h=m}function fl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ul.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function dl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return G(u.i)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qr(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,B=null;T>=0?(L=u[y].substring(0,T),B=u[y].substring(T+1)):L=u[y],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Ve(this,u.j),this.o=u.o,this.g=u.g,ts(this,u.u),this.h=u.h,ml(this,Ko(u.i)),this.m=u.m):u&&(m=String(u).match(Go))?(this.l=!1,Ve(this,m[1]||"",!0),this.o=si(m[2]||""),this.g=si(m[3]||"",!0),ts(this,m[4]),this.h=si(m[5]||"",!0),ml(this,m[6]||"",!0),this.m=si(m[7]||"")):(this.l=!1,this.i=new ns(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(rr(m,Yr,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(rr(m,Yr,!0),"@"),u.push(Ci(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(rr(y,y.charAt(0)=="/"?gl:Fo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",rr(y,Qo)),u.join("")},cn.prototype.resolve=function(u){const m=_e(this);let y=!!u.j;y?Ve(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)ts(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let J=0;J<L.length;){const vt=L[J++];vt=="."?T&&J==L.length&&B.push(""):vt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==L.length&&B.push("")):(B.push(vt),T=!0)}T=B.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?ml(m,Ko(u.i)):y=!!u.m,y&&(m.m=u.m),m};function _e(u){return new cn(u)}function Ve(u,m,y){u.j=y?si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ml(u,m,y){m instanceof ns?(u.i=m,Xr(u.i,u.l)):(y||(m=rr(m,es)),u.i=new ns(m,u.l))}function Gt(u,m,y){u.i.set(m,y)}function sr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function rr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yr=/[#\/\?@]/g,Fo=/[#\?:]/g,gl=/[#\?]/g,es=/[#\?@]/g,Qo=/#/g;function ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Qr(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=ns.prototype,r.add=function(u,m){en(this),this.i=null,u=is(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Yo(u,m){en(u),m=is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pl(u,m){return en(u),m=is(u,m),u.g.has(m)}r.forEach=function(u,m){en(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function yl(u,m){en(u);let y=[];if(typeof m=="string")pl(u,m)&&(y=y.concat(u.g.get(is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return en(this),this.i=null,u=is(this,u),pl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=yl(this,u),u.length>0?String(u[0]):m):m};function Kr(u,m,y){Yo(u,m),y.length>0&&(u.i=null,u.g.set(is(u,m),G(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=Ci(y);y=yl(this,y);for(let B=0;B<y.length;B++){let J=L;y[B]!==""&&(J+="="+Ci(y[B])),u.push(J)}}return this.i=u.join("&")};function Ko(u){const m=new ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Xr(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(Yo(this,T),Kr(this,L,y))},u)),u.j=m}function Ln(u,m){const y=new Vn;if(d.Image){const T=new Image;T.onload=A(En,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(En,y,"TestLoadImage: error",!1,m,T),T.onabort=A(En,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(En,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function _l(u,m){const y=new Vn,T=new AbortController,L=setTimeout(()=>{T.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function ss(){this.g=new Uo}function ri(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ri,Lo),ri.prototype.g=function(){return new ar(this.i,this.h)};function ar(u,m){me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ar,me),r=ar.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$r(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function $r(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?rs(this):kn(this),this.readyState==3&&$r(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,rs(this))},r.Na=function(u){this.g&&(this.response=u,rs(this))},r.ga=function(){this.g&&rs(this)};function rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,kn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tn(u){let m="";return Lt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function lr(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Tn(y),typeof u=="string"?y!=null&&Ci(y):Gt(u,m,y))}function Yt(u){me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,me);var ai=/^https?$/i,vl=["POST","PUT"];r=Yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=O(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){or(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(vl,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of y)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){or(this,B)}};function or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,El(u),Ii(u)}function El(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ur(this):this.Xa())},r.Xa=function(){ur(this)};function ur(u){if(u.h&&typeof h<"u"){if(u.v&&Pn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),Pn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let J=String(u.D).match(Go)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!ai.test(J?J.toLowerCase():"")}y=T}if(y)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=Pn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",El(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ie(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Pn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Pn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ah(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Pn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=jo(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[L]||[];m[L]=B,B.push(y)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function as(u){this.za=0,this.i=[],this.j=new Vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ul(u&&u.concurrentRequestLimit),this.Ba=new ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=as.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,T){ge(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=eu(this,null,this.W),oi(this)};function Tl(u){if(Zr(u),u.I==3){var m=u.V++,y=_e(u.J);if(Gt(y,"SID",u.M),Gt(y,"RID",m),Gt(y,"TYPE","terminate"),cr(u,y),m=new xn(u,u.j,m),m.M=2,m.A=sr(_e(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}tu(u)}function ls(u){u.g&&(Al(u),u.g.cancel(),u.g=null)}function Zr(u){ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),Wr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!cl(u.h)&&!u.m){u.m=!0;var m=u.Ea;qt||b(),Rt||(qt(),Rt=!0),I.add(m,u),u.D=0}}function Jr(u,m){return ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=$n(v(u.Ea,u,m),Wo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new xn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Xo(this,L,m),y=_e(this.J),Gt(y,"RID",u),Gt(y,"CVER",22),this.G&&Gt(y,"X-HTTP-Session-Id",this.G),cr(this,y),B&&(this.R?m="headers="+Ci(Tn(B))+"&"+m:this.u&&lr(y,this.u,B)),hl(this.h,L),this.Ra&&Gt(y,"TYPE","init"),this.S?(Gt(y,"$req",m),Gt(y,"SID","null"),L.U=!0,Jn(L,y,null)):Jn(L,y,m),this.I=2}}else this.I==3&&(u?Sl(this,u):this.i.length==0||cl(this.h)||Sl(this))};function Sl(u,m){var y;m?y=m.l:y=u.V++;const T=_e(u.J);Gt(T,"SID",u.M),Gt(T,"RID",y),Gt(T,"AID",u.K),cr(u,T),u.u&&u.o&&lr(T,u.u,u.o),y=new xn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Xo(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),hl(u.h,y),Jn(y,T,m)}function cr(u,m){u.H&&Lt(u.H,function(y,T){Gt(m,T,y)}),u.l&&Lt({},function(y,T){Gt(m,T,y)})}function Xo(u,m,y){y=Math.min(u.i.length,y);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let vt=-1;for(;;){const ue=["count="+y];vt==-1?y>0?(vt=L[0].g,ue.push("ofs="+vt)):vt=0:ue.push("ofs="+vt);let Bt=!0;for(let ne=0;ne<y;ne++){var B=L[ne].g;const Sn=L[ne].map;if(B-=vt,B<0)vt=Math.max(0,L[ne].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var J=Sn instanceof Map?Sn:Object.entries(Sn);for(const[ci,zn]of J){let Bn=zn;p(zn)&&(Bn=Wi(zn)),ue.push(B+ci+"="+encodeURIComponent(Bn))}}catch(ci){throw ue.push(B+"type="+encodeURIComponent("_badmap")),ci}}catch{T&&T(Sn)}}if(Bt){J=ue.join("&");break t}}J=void 0}return u=u.i.splice(0,y),m.G=u,J}function $o(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;qt||b(),Rt||(qt(),Rt=!0),I.add(m,u),u.A=0}}function hr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=$n(v(u.Da,u),Wo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Zo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=$n(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),ls(this),Zo(this))};function Al(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Zo(u){u.g=new xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=_e(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),cr(u,m),u.u&&u.o&&lr(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=sr(_e(m)),y.u=null,y.R=!0,Gr(y,u)}r.Va=function(){this.C!=null&&(this.C=null,ls(this),hr(this),ge(19))};function Wr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Jo(u,m){var y=null;if(u.g==m){Wr(u),Al(u),u.g=null;var T=2}else if(ii(u.h,m))y=m.G,fl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Hr(),Ie(T,new Xn(T,y)),oi(u)}else $o(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Jr(u,m)||T==2&&hr(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function Wo(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function ui(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),T=u.Ua;const L=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ve(T,"https"),sr(T),L?Ln(T.toString(),y):_l(T.toString(),y)}else ge(2);u.I=0,u.l&&u.l.pa(m),tu(u),Zr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function tu(u){if(u.I=0,u.ja=[],u.l){const m=dl(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function eu(u,m,y){var T=y instanceof cn?_e(y):new cn(y);if(T.g!="")m&&(T.g=m+"."+T.g),ts(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new cn(null);T&&Ve(B,T),m&&(B.g=m),L&&ts(B,L),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Gt(T,y,m),Gt(T,"VER",u.ka),cr(u,T),T}function nu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ri({ab:y})):new Yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}r=iu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function os(){}os.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){me.call(this),this.g=new as(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}S(Ze,me),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Tl(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Wi(u),u=y);m.i.push(new ye(m.Ya++,u)),m.I==3&&oi(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,Ze.Z.N.call(this)};function su(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(su,ke);function ru(){_n.call(this),this.status=1}S(ru,_n);function Ni(u){this.g=u}S(Ni,iu),Ni.prototype.ra=function(){Ie(this.g,"a")},Ni.prototype.qa=function(u){Ie(this.g,new su(u))},Ni.prototype.pa=function(u){Ie(this.g,new ru)},Ni.prototype.oa=function(){Ie(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,uE=function(){return new os},oE=function(){return Hr()},lE=oe,Dd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,yc=nr,ll.COMPLETE="complete",aE=ll,ko.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",me.prototype.listen=me.prototype.J,oo=ko,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,rE=Yt}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});const w_="@firebase/firestore",C_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new tm("@firebase/firestore");function Oa(){return Ur.logLevel}function st(r,...t){if(Ur.logLevel<=Nt.DEBUG){const i=t.map(im);Ur.debug(`Firestore (${Ja}): ${r}`,...i)}}function Xi(r,...t){if(Ur.logLevel<=Nt.ERROR){const i=t.map(im);Ur.error(`Firestore (${Ja}): ${r}`,...i)}}function Ga(r,...t){if(Ur.logLevel<=Nt.WARN){const i=t.map(im);Ur.warn(`Firestore (${Ja}): ${r}`,...i)}}function im(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,cE(r,a,i)}function cE(r,t,i){let a=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Xi(a),new Error(a)}function re(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||cE(t,o,a)}function Ut(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ri{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class p1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class y1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _1{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){re(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Nr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=h;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Nr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(re(typeof a.accessToken=="string",31837,{l:a}),new hE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class v1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new v1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){re(this.o===void 0,3512);const a=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(re(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new I_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=S1(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=t.charAt(o[h]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function Nd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=t.charAt(a);if(o!==h)return gd(o)===gd(h)?Mt(o,h):gd(o)?1:-1}return Mt(r.length,t.length)}const A1=55296,b1=57343;function gd(r){const t=r.charCodeAt(0);return t>=A1&&t<=b1}function Fa(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="__name__";class gi{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return gi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof gi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const h=gi.compareSegments(t.get(o),i.get(o));if(h!==0)return h}return Mt(t.length,i.length)}static compareSegments(t,i){const a=gi.isNumericId(t),o=gi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?gi.extractNumericId(t).compare(gi.extractNumericId(i)):Nd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Bs.fromString(t.substring(4,t.length-2))}}class se extends gi{construct(t,i,a){return new se(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const R1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends gi{construct(t,i,a){return new We(t,i,a)}static isValidIdentifier(t){return R1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new We([D_])}static fromServerFormat(t){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new lt(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new lt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(h(),o++)}if(h(),d)throw new lt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(se.fromString(t))}static fromName(t){return new ft(se.fromString(t).popFirst(5))}static empty(){return new ft(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r,t,i){if(!i)throw new lt(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function C1(r,t,i,a){if(t===!0&&a===!0)throw new lt(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function N_(r){if(ft.isDocumentKey(r))throw new lt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function I1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function D1(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Od(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=D1(r);throw new lt(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,t){const i={typeString:r};return t&&(i.value=t),i}function wo(r,t){if(!I1(r))throw new lt(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new lt(W.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=-62135596800,M_=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*M_);return new be(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<O_)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wo(t,be._jsonSchema))return new be(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-O_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:Re("string",be._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new be(0,0))}static max(){return new yt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=-1;function N1(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(a===1e9?new be(i+1,0):new be(i,a));return new Gs(o,ft.empty(),t)}function O1(r){return new Gs(r.readTime,r.key,vo)}class Gs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Gs(yt.min(),ft.empty(),vo)}static max(){return new Gs(yt.max(),ft.empty(),vo)}}function M1(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==V1)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):K.reject(i)}static resolve(t){return new K(((i,a)=>{i(t)}))}static reject(t){return new K(((i,a)=>{a(t)}))}static waitFor(t){return new K(((i,a)=>{let o=0,h=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(_=>a(_)))})),d=!0,h===o&&i()}))}static or(t){let i=K.resolve(!1);for(const a of t)i=i.next((o=>o?K.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(t,i){return new K(((a,o)=>{const h=t.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(t[v]).next((A=>{d[v]=A,++p,p===h&&a(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new K(((a,o)=>{const h=()=>{t()===!0?i().next((()=>{h()}),o):a()};h()}))}}function U1(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Wa(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Qc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=-1;function Yc(r){return r==null}function Md(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="";function k1(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=V_(t)),t=P1(r.get(i),t);return V_(t)}function P1(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case dE:i+="";break;default:i+=h}}return i}function V_(r){return r+dE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Co(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function z1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cc(this.root,t,this.comparator,!0)}}class cc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,o,h){this.key=t,this.value=i,this.color=a??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,h){return new He(t??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const h=a(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,o,h){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(t){return new U_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class U_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Ls([])}unionWith(t){let i=new Oe(We.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Ls(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new mE("Invalid base64 string: "+h):h}})(t);return new Ge(i)}static fromUint8Array(t){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const B1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(r){if(re(!!r,39018),typeof r=="string"){let t=0;const i=B1.exec(r);if(re(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qs(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="server_timestamp",pE="__type__",yE="__previous_value__",_E="__local_write_time__";function sm(r){return(r?.mapValue?.fields||{})[pE]?.stringValue===gE}function Kc(r){const t=r.mapValue.fields[yE];return sm(t)?Kc(t):t}function Eo(r){const t=Fs(r.mapValue.fields[_E].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,i,a,o,h,d,p,_,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Ic="(default)";class To{constructor(t,i){this.projectId=t,this.database=i||Ic}static empty(){return new To("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(t){return t instanceof To&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="__type__",H1="__max__",hc={mapValue:{}},G1="__vector__",Vd="value";function Ys(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sm(r)?4:Q1(r)?9007199254740991:F1(r)?10:11:_t(28295,{value:r})}function Si(r,t){if(r===t)return!0;const i=Ys(r);if(i!==Ys(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Eo(r).isEqual(Eo(t));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Fs(o.timestampValue),p=Fs(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,h){return Qs(o.bytesValue).isEqual(Qs(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)})(r,t);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),p=fe(h.doubleValue);return d===p?Md(d)===Md(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Fa(r.arrayValue.values||[],t.arrayValue.values||[],Si);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(x_(d)!==x_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Si(d[_],p[_])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function So(r,t){return(r.values||[]).find((i=>Si(i,t)))!==void 0}function Qa(r,t){if(r===t)return 0;const i=Ys(r),a=Ys(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=fe(h.integerValue||h.doubleValue),_=fe(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return L_(r.timestampValue,t.timestampValue);case 4:return L_(Eo(r),Eo(t));case 5:return Nd(r.stringValue,t.stringValue);case 6:return(function(h,d){const p=Qs(h),_=Qs(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=Mt(p[v],_[v]);if(A!==0)return A}return Mt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=Mt(fe(h.latitude),fe(d.latitude));return p!==0?p:Mt(fe(h.longitude),fe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return k_(r.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},_=d.fields||{},v=p[Vd]?.arrayValue,A=_[Vd]?.arrayValue,S=Mt(v?.values?.length||0,A?.values?.length||0);return S!==0?S:k_(v,A)})(r.mapValue,t.mapValue);case 11:return(function(h,d){if(h===hc.mapValue&&d===hc.mapValue)return 0;if(h===hc.mapValue)return 1;if(d===hc.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const O=Nd(_[S],A[S]);if(O!==0)return O;const G=Qa(p[_[S]],v[A[S]]);if(G!==0)return G}return Mt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function L_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Fs(r),a=Fs(t),o=Mt(i.seconds,a.seconds);return o!==0?o:Mt(i.nanos,a.nanos)}function k_(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Qa(i[o],a[o]);if(h)return h}return Mt(i.length,a.length)}function Ya(r){return xd(r)}function xd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Fs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Qs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=xd(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${xd(i.fields[d])}`;return o+"}"})(r.mapValue):_t(61005,{value:r})}function _c(r){switch(Ys(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kc(r);return t?16+_c(t):16;case 5:return 2*r.stringValue.length;case 6:return Qs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+_c(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Co(a.fields,((h,d)=>{o+=h.length+_c(d)})),o})(r.mapValue);default:throw _t(13486,{value:r})}}function Ud(r){return!!r&&"integerValue"in r}function rm(r){return!!r&&"arrayValue"in r}function P_(r){return!!r&&"nullValue"in r}function z_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function pd(r){return!!r&&"mapValue"in r}function F1(r){return(r?.mapValue?.fields||{})[q1]?.stringValue===G1}function fo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Co(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=fo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=fo(r.arrayValue.values[i]);return t}return{...r}}function Q1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===H1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this.value=t}static empty(){return new pi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!pd(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=fo(i)}setAll(t){let i=We.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=fo(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(t){const i=this.field(t.popLast());pd(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Si(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];pd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Co(i,((o,h)=>t[o]=h));for(const o of a)delete t[o]}clone(){return new pi(fo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,i,a,o,h,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ke(t,0,yt.min(),yt.min(),yt.min(),pi.empty(),0)}static newFoundDocument(t,i,a,o){return new Ke(t,1,i,yt.min(),a,o,0)}static newNoDocument(t,i){return new Ke(t,2,i,yt.min(),yt.min(),pi.empty(),0)}static newUnknownDocument(t,i){return new Ke(t,3,i,yt.min(),yt.min(),pi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,i){this.position=t,this.inclusive=i}}function B_(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const h=t[o],d=r.position[o];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Qa(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function j_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Si(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Y1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{}class Ne extends vE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new X1(t,i,a):i==="array-contains"?new J1(t,a):i==="in"?new W1(t,a):i==="not-in"?new tb(t,a):i==="array-contains-any"?new eb(t,a):new Ne(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new $1(t,a):new Z1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&Ys(this.value)===Ys(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends vE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ai(t,i)}matches(t){return EE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EE(r){return r.op==="and"}function TE(r){return K1(r)&&EE(r)}function K1(r){for(const t of r.filters)if(t instanceof Ai)return!1;return!0}function Ld(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+Ya(r.value);if(TE(r))return r.filters.map((t=>Ld(t))).join(",");{const t=r.filters.map((i=>Ld(i))).join(",");return`${r.op}(${t})`}}function SE(r,t){return r instanceof Ne?(function(a,o){return o instanceof Ne&&a.op===o.op&&a.field.isEqual(o.field)&&Si(a.value,o.value)})(r,t):r instanceof Ai?(function(a,o){return o instanceof Ai&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,p)=>h&&SE(d,o.filters[p])),!0):!1})(r,t):void _t(19439)}function AE(r){return r instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(r):r instanceof Ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(AE).join(" ,")+"}"})(r):"Filter"}class X1 extends Ne{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class $1 extends Ne{constructor(t,i){super(t,"in",i),this.keys=bE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Z1 extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=bE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function bE(r,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class J1 extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return rm(i)&&So(i.arrayValue,this.value)}}class W1 extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&So(this.value.arrayValue,i)}}class tb extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!So(this.value.arrayValue,i)}}class eb extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!rm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>So(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,i=null,a=[],o=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function q_(r,t=null,i=[],a=[],o=null,h=null,d=null){return new nb(r,t,i,a,o,h,d)}function am(r){const t=Ut(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Ld(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Yc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ya(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ya(a))).join(",")),t.Te=i}return t.Te}function lm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Y1(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!SE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!j_(r.startAt,t.startAt)&&j_(r.endAt,t.endAt)}function kd(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,i=null,a=[],o=[],h=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ib(r,t,i,a,o,h,d,p){return new Xc(r,t,i,a,o,h,d,p)}function RE(r){return new Xc(r)}function H_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sb(r){return r.collectionGroup!==null}function mo(r){const t=Ut(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Oe(We.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Nc(h,a))})),i.has(We.keyField().canonicalString())||t.Ie.push(new Nc(We.keyField(),a))}return t.Ie}function vi(r){const t=Ut(r);return t.Ee||(t.Ee=rb(t,mo(r))),t.Ee}function rb(r,t){if(r.limitType==="F")return q_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Nc(o.field,h)}));const i=r.endAt?new Dc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Dc(r.startAt.position,r.startAt.inclusive):null;return q_(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Pd(r,t,i){return new Xc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function $c(r,t){return lm(vi(r),vi(t))&&r.limitType===t.limitType}function wE(r){return`${am(vi(r))}|lt:${r.limitType}`}function Ma(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>AE(o))).join(", ")}]`),Yc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Ya(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Ya(o))).join(",")),`Target(${a})`})(vi(r))}; limitType=${r.limitType})`}function Zc(r,t){return t.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,o){for(const h of mo(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,_){const v=B_(d,p,_);return d.inclusive?v<=0:v<0})(a.startAt,mo(a),o)||a.endAt&&!(function(d,p,_){const v=B_(d,p,_);return d.inclusive?v>=0:v>0})(a.endAt,mo(a),o))})(r,t)}function ab(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function CE(r){return(t,i)=>{let a=!1;for(const o of mo(r)){const h=lb(o,t,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function lb(r,t,i){const a=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?Qa(_,v):_t(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Co(this.inner,((i,a)=>{for(const[o,h]of a)t(o,h)}))}isEmpty(){return z1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new de(ft.comparator);function Ks(){return ob}const IE=new de(ft.comparator);function uo(...r){let t=IE;for(const i of r)t=t.insert(i.key,i);return t}function ub(r){let t=IE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Dr(){return go()}function DE(){return go()}function go(){return new zr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const cb=new Oe(ft.comparator);function kt(...r){let t=cb;for(const i of r)t=t.add(i);return t}const hb=new Oe(Mt);function fb(){return hb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Md(t)?"-0":t}}function mb(r){return{integerValue:""+r}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this._=void 0}}function gb(r,t,i){return r instanceof zd?(function(o,h){const d={fields:{[pE]:{stringValue:gE},[_E]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&sm(h)&&(h=Kc(h)),h&&(d.fields[yE]=h),{mapValue:d}})(i,t):r instanceof Oc?NE(r,t):r instanceof Mc?OE(r,t):(function(o,h){const d=yb(o,h),p=G_(d)+G_(o.Ae);return Ud(d)&&Ud(o.Ae)?mb(p):db(o.serializer,p)})(r,t)}function pb(r,t,i){return r instanceof Oc?NE(r,t):r instanceof Mc?OE(r,t):i}function yb(r,t){return r instanceof Bd?(function(a){return Ud(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class zd extends Jc{}class Oc extends Jc{constructor(t){super(),this.elements=t}}function NE(r,t){const i=ME(t);for(const a of r.elements)i.some((o=>Si(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Mc extends Jc{constructor(t){super(),this.elements=t}}function OE(r,t){let i=ME(t);for(const a of r.elements)i=i.filter((o=>!Si(o,a)));return{arrayValue:{values:i}}}class Bd extends Jc{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function G_(r){return fe(r.integerValue||r.doubleValue)}function ME(r){return rm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _b(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Oc&&o instanceof Oc||a instanceof Mc&&o instanceof Mc?Fa(a.elements,o.elements,Si):a instanceof Bd&&o instanceof Bd?Si(a.Ae,o.Ae):a instanceof zd&&o instanceof zd})(r.transform,t.transform)}class Or{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Or}static exists(t){return new Or(void 0,t)}static updateTime(t){return new Or(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class om{}function VE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Eb(r.key,Or.none()):new um(r.key,r.data,Or.none());{const i=r.data,a=pi.empty();let o=new Oe(We.comparator);for(let h of t.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Wc(r.key,a,new Ls(o.toArray()),Or.none())}}function vb(r,t,i){r instanceof um?(function(o,h,d){const p=o.value.clone(),_=Q_(o.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Wc?(function(o,h,d){if(!vc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Q_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(xE(o)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function po(r,t,i,a){return r instanceof um?(function(h,d,p,_){if(!vc(h.precondition,d))return p;const v=h.value.clone(),A=Y_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof Wc?(function(h,d,p,_){if(!vc(h.precondition,d))return p;const v=Y_(h.fieldTransforms,_,d),A=d.data;return A.setAll(xE(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(h,d,p){return vc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function F_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Fa(a,o,((h,d)=>_b(h,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class um extends om{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Wc extends om{constructor(t,i,a,o,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function xE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Q_(r,t,i){const a=new Map;re(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,p=t.data.field(h.field);a.set(h.field,pb(d,p,i[o]))}return a}function Y_(r,t,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,gb(h,d,t))}return a}class Eb extends om{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&vb(h,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=po(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=po(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=DE();return this.mutations.forEach((o=>{const h=t.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const _=VE(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,((i,a)=>F_(i,a)))&&Fa(this.baseMutations,t.baseMutations,((i,a)=>F_(i,a)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,xt;function UE(r){if(r===void 0)return Xi("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ae.OK:return W.OK;case Ae.CANCELLED:return W.CANCELLED;case Ae.UNKNOWN:return W.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return W.INTERNAL;case Ae.UNAVAILABLE:return W.UNAVAILABLE;case Ae.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ae.NOT_FOUND:return W.NOT_FOUND;case Ae.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ae.ABORTED:return W.ABORTED;case Ae.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ae.DATA_LOSS:return W.DATA_LOSS;default:return _t(39323,{code:r})}}(xt=Ae||(Ae={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new Bs([4294967295,4294967295],0);function K_(r){const t=bb().encode(r),i=new sE;return i.update(t),new Uint8Array(i.digest())}function X_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Bs([i,a],0),new Bs([o,h],0)]}class cm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new co(`Invalid padding: ${i}`);if(a<0)throw new co(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new co(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Bs.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Bs.fromNumber(a)));return o.compare(Rb)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=K_(t),[a,o]=X_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new cm(h,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=K_(t),[a,o]=X_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,i,a,o,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Io.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new th(yt.min(),o,new de(Mt),Ks(),kt())}}class Io{constructor(t,i,a,o,h){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Io(a,i,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class LE{constructor(t,i){this.targetId=t,this.Ce=i}}class kE{constructor(t,i,a=Ge.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class $_{constructor(){this.ve=0,this.Fe=Z_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),a=kt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:_t(38017,{changeType:h})}})),new Io(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Z_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wb{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ks(),this.Je=fc(),this.He=fc(),this.Ye=new de(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const h=o.target;if(kd(h))if(a===0){const d=new ft(h.path);this.et(i,d,Ke.newNoDocument(d,yt.min()))}else re(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Qs(a).toUint8Array()}catch(_){if(_ instanceof mE)return Ga("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new cm(d,o,h)}catch(_){return Ga(_ instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&kd(p.target)){const _=new ft(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ke.newNoDocument(_,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=kt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const o=new th(t,i,this.Ye,this.je,a);return this.je=Ks(),this.Je=fc(),this.He=fc(),this.Ye=new de(Mt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new $_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Oe(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Oe(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new $_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function fc(){return new de(ft.comparator)}function Z_(){return new de(ft.comparator)}const Cb={asc:"ASCENDING",desc:"DESCENDING"},Ib={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Db={and:"AND",or:"OR"};class Nb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function jd(r,t){return r.useProto3Json||Yc(t)?t:{value:t}}function Ob(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function La(r){return re(!!r,49232),yt.fromTimestamp((function(i){const a=Fs(i);return new be(a.seconds,a.nanos)})(r))}function Vb(r,t){return qd(r,t).canonicalString()}function qd(r,t){const i=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function PE(r){const t=se.fromString(r);return re(HE(t),10190,{key:t.toString()}),t}function yd(r,t){const i=PE(t);if(i.get(1)!==r.databaseId.projectId)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(BE(i))}function zE(r,t){return Vb(r.databaseId,t)}function xb(r){const t=PE(r);return t.length===4?se.emptyPath():BE(t)}function J_(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function BE(r){return re(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Ub(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_t(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],h=(function(v,A){return v.useProto3Json?(re(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(re(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?W.UNKNOWN:UE(v.code);return new lt(A,v.message||"")})(d);i=new kE(a,o,h,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=yd(r,a.document.name),h=La(a.document.updateTime),d=a.document.createTime?La(a.document.createTime):yt.min(),p=new pi({mapValue:{fields:a.document.fields}}),_=Ke.newFoundDocument(o,h,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Ec(v,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=yd(r,a.document),h=a.readTime?La(a.readTime):yt.min(),d=Ke.newNoDocument(o,h),p=a.removedTargetIds||[];i=new Ec([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=yd(r,a.document),h=a.removedTargetIds||[];i=new Ec([],h,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new Ab(o,h),p=a.targetId;i=new LE(p,d)}}return i}function Lb(r,t){return{documents:[zE(r,t.path)]}}function kb(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=zE(r,o);const h=(function(v){if(v.length!==0)return qE(Ai.create(v,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((A=>(function(O){return{field:Va(O.field),direction:Bb(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=jd(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:o}}function Pb(r){let t=xb(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){re(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=(function(S){const O=jE(S);return O instanceof Ai&&TE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function($){return new Nc(xa($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let O;return O=typeof S=="object"?S.value:S,Yc(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(S){const O=!!S.before,G=S.values||[];return new Dc(G,O)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const O=!S.before,G=S.values||[];return new Dc(G,O)})(i.endAt)),ib(t,o,d,h,p,"F",_,v)}function zb(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function jE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=xa(i.unaryFilter.field);return Ne.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=xa(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=xa(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xa(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ne.create(xa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ai.create(i.compositeFilter.filters.map((a=>jE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function Bb(r){return Cb[r]}function jb(r){return Ib[r]}function qb(r){return Db[r]}function Va(r){return{fieldPath:r.canonicalString()}}function xa(r){return We.fromServerFormat(r.fieldPath)}function qE(r){return r instanceof Ne?(function(i){if(i.op==="=="){if(z_(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NAN"}};if(P_(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(z_(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NAN"}};if(P_(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(i.field),op:jb(i.op),value:i.value}}})(r):r instanceof Ai?(function(i){const a=i.getFilters().map((o=>qE(o)));return a.length===1?a[0]:{compositeFilter:{op:qb(i.op),filters:a}}})(r):_t(54877,{filter:r})}function HE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t,i,a,o,h=yt.min(),d=yt.min(),p=Ge.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new ks(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t){this.yt=t}}function Gb(r){const t=Pb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.Cn=new Qb}addToCollectionParentIndex(t,i){return this.Cn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Gs.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Gs.min())}updateCollectionGroup(t,i,a){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class Qb{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Oe(se.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Oe(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(GE,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ka(0)}static cr(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="LruGarbageCollector",Yb=1048576;function ev([r,t],[i,a]){const o=Mt(r,i);return o===0?Mt(t,a):o}class Kb{constructor(t){this.Ir=t,this.buffer=new Oe(ev),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ev(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Xb{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(tv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Wa(i)?st(tv,"Ignoring IndexedDB error during garbage collection: ",i):await Fc(i)}await this.Vr(3e5)}))}}class $b{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return K.resolve(Qc.ce);const a=new Kb(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(W_)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,h,d,p,_,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(h=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(v=Date.now(),Oa()<=Nt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function Zb(r,t){return new $b(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.changes=new zr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&po(a.mutation,o,Ls.empty(),be.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=kt()){const o=Dr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((h=>{let d=uo();return h.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Dr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,kt())))}populateOverlays(t,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(t,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let h=Ks();const d=go(),p=(function(){return go()})();return i.forEach(((_,v)=>{const A=a.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Wc)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),po(A.mutation,v,A.mutation.getFieldMask(),be.now())):d.set(v.key,Ls.empty())})),this.recalculateAndSaveOverlays(t,h).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new Wb(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=go();let o=new de(((d,p)=>d-p)),h=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||Ls.empty();A=p.applyToLocalView(v,A),a.set(_,A);const S=(o.get(p.batchId)||kt()).add(_);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,S=DE();A.forEach((O=>{if(!h.has(O)){const G=VE(i.get(O),a.get(O));G!==null&&S.set(O,G),h=h.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,S))}return K.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):sb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-h.size):K.resolve(Dr());let p=vo,_=h;return d.next((v=>K.forEach(v,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{_=_.insert(A,O)}))))).next((()=>this.populateOverlays(t,v,h))).next((()=>this.computeViews(t,_,v,kt()))).next((A=>({batchId:p,changes:ub(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let o=uo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const h=i.collectionGroup;let d=uo();return this.indexManager.getCollectionParents(t,h).next((p=>K.forEach(p,(_=>{const v=(function(S,O){return new Xc(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,a,o).next((A=>{A.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,o)))).next((d=>{h.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))}));let p=uo();return d.forEach(((_,v)=>{const A=h.get(_);A!==void 0&&po(A.mutation,v,Ls.empty(),be.now()),Zc(i,v)&&(p=p.insert(_,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:La(o.createTime)}})(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Gb(o.bundledQuery),readTime:La(o.readTime)}})(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.overlays=new de(ft.comparator),this.qr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Dr();return K.forEach(i,(o=>this.getOverlay(t,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,h)=>{this.St(t,i,h)})),K.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),K.resolve()}getOverlaysForCollection(t,i,a){const o=Dr(),h=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return K.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let h=new de(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=Dr(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=Dr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=o)););return K.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Sb(i,a));let h=this.qr.get(i);h===void 0&&(h=kt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this.Qr=new Oe(Ue.$r),this.Ur=new Oe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ue(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ft(new se([])),a=new Ue(i,t),o=new Ue(i,t+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new se([])),a=new Ue(i,t),o=new Ue(i,t+1);let h=kt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Ue(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Ue.$r)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Tb(h,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Ue(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?L1:this.tr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Oe(Mt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{a=a.add(p.Yr)}))})),K.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ft(h),0);let p=new Oe(Mt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)}),d),K.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){re(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return K.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ue(i,0),o=this.Zr.firstAfterOrEqual(a);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t){this.ri=t,this.docs=(function(){return new de(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(t,i){let a=Ks();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))})),K.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let h=Ks();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||M1(O1(A),a)<=0||(o.has(A.key)||Zc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(t,i,a,o){_t(9500)}ii(t,i){return K.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new aR(this)}getSize(t){return K.resolve(this.size)}}class aR extends Jb{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),K.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this.persistence=t,this.si=new zr((i=>am(i)),lm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new hm,this.targetCount=0,this.ai=Ka.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),K.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ka(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.Pr(i),K.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,a){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),K.waitFor(h).next((()=>o))}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return K.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),K.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(t,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return K.resolve(a)}containsKey(t,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Qc(0),this.li=!1,this.li=!0,this.hi=new iR,this.referenceDelegate=t(this),this.Pi=new lR(this),this.indexManager=new Fb,this.remoteDocumentCache=(function(o){return new rR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Hb(i),this.Ii=new eR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new nR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new sR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const o=new oR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(t,i){return K.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class oR extends x1{constructor(t){super(),this.currentSequenceNumber=t}}class fm{constructor(t){this.persistence=t,this.Ri=new hm,this.Vi=null}static mi(t){return new fm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),K.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(a=>{const o=ft.fromPath(a);return this.gi(t,o).next((h=>{h||i.removeEntry(o,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Vc{constructor(t,i){this.persistence=t,this.pi=new zr((a=>k1(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Zb(this,i)}static mi(t,i){return new Vc(t,i)}Ei(){}di(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return K.forEach(this.pi,((a,o)=>this.br(t,a,o).next((h=>h?K.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),K.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=_c(t.data.value)),i}br(t,i,a){return K.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return K.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=kt(),o=kt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new dm(t,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JS()?8:U1(Xe())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new uR;return this.Ss(t,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>h.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Oa()<=Nt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ma(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Oa()<=Nt.DEBUG&&st("QueryEngine","Query:",Ma(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Oa()<=Nt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ma(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vi(i))):K.resolve())}ys(t,i){if(H_(i))return K.resolve(null);let a=vi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Pd(i,null,"F"),a=vi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=kt(...h);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(t,Pd(i,null,"F")):this.vs(t,v,i,_)}))))})))))}ws(t,i,a,o){return H_(i)||o.isEqual(yt.min())?K.resolve(null):this.ps.getDocuments(t,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?K.resolve(null):(Oa()<=Nt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ma(i)),this.vs(t,d,i,N1(o,vo)).next((p=>p)))}))}Ds(t,i){let a=new Oe(CE(t));return i.forEach(((o,h)=>{Zc(t,h)&&(a=a.add(h))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(t,i,a){return Oa()<=Nt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ma(i)),this.ps.getDocumentsMatchingQuery(t,i,Gs.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="LocalStore",hR=3e8;class fR{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new de(Mt),this.xs=new zr((h=>am(h)),lm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function dR(r,t,i,a){return new fR(r,t,i,a)}async function QE(r,t){const i=Ut(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],p=[];let _=kt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function YE(r){const t=Ut(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function mR(r,t){const i=Ut(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const O=o.get(S);if(!O)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,S))));let G=O.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(Ge.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),o=o.insert(S,G),(function(nt,Z,dt){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=hR?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(O,G,A)&&p.push(i.Pi.updateTargetData(h,G))}));let _=Ks(),v=kt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(gR(h,d,t.documentUpdates).next((A=>{_=A.ks,v=A.qs}))),!a.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((S=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));p.push(A)}return K.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,_,v))).next((()=>_))})).then((h=>(i.Ms=o,h)))}function gR(r,t,i){let a=kt(),o=kt();return i.forEach((h=>a=a.add(h))),t.getEntries(r,a).next((h=>{let d=Ks();return i.forEach(((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(yt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):st(mm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function pR(r,t){const i=Ut(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((h=>h?(o=h,K.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new ks(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Hd(r,t,i){const a=Ut(r),o=a.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Wa(d))throw d;st(mm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function nv(r,t,i){const a=Ut(r);let o=yt.min(),h=kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const S=Ut(_),O=S.xs.get(A);return O!==void 0?K.resolve(S.Ms.get(O)):S.Pi.getTargetData(v,A)})(a,d,vi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{h=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:yt.min(),i?h:kt()))).next((p=>(yR(a,ab(t),p),{documents:p,Qs:h})))))}function yR(r,t,i){let a=r.Os.get(t)||yt.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(t,a)}class iv{constructor(){this.activeTargetIds=fb()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _R{constructor(){this.Mo=new iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new iv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="ConnectivityMonitor";class rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(sv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(sv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function Gd(){return dc===null?dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RestConnection",ER={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Ic?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,h){const d=Gd(),p=this.zo(t,i.toUriEncodedString());st(_d,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,h);const{host:v}=new URL(p),A=kr(v);return this.Jo(t,p,_,a,A).then((S=>(st(_d,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ga(_d,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,o,h,d){return this.Go(t,i,a,o,h)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ja})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>t[h]=o)),a&&a.headers.forEach(((o,h)=>t[h]=o))}zo(t,i){const a=ER[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class AR extends TR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,h){const d=Gd();return new Promise(((p,_)=>{const v=new rE;v.setWithCredentials(!0),v.listenOnce(aE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case yc.NO_ERROR:const S=v.getResponseJson();st(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case yc.TIMEOUT:st(Qe,`RPC '${t}' ${d} timed out`),_(new lt(W.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const O=v.getStatus();if(st(Qe,`RPC '${t}' ${d} failed with status:`,O,"response text:",v.getResponseText()),O>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const nt=(function(dt){const bt=dt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(bt)>=0?bt:W.UNKNOWN})($.status);_(new lt(nt,$.message))}else _(new lt(W.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new lt(W.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{st(Qe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);st(Qe,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",A,a,15)}))}T_(t,i,a){const o=Gd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=uE(),p=oE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");st(Qe,`Creating RPC '${t}' stream ${o}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let O=!1,G=!1;const $=new SR({Yo:Z=>{G?st(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(O||(st(Qe,`Opening RPC '${t}' stream ${o} transport.`),S.open(),O=!0),st(Qe,`RPC '${t}' stream ${o} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),nt=(Z,dt,bt)=>{Z.listen(dt,(ht=>{try{bt(ht)}catch(At){setTimeout((()=>{throw At}),0)}}))};return nt(S,oo.EventType.OPEN,(()=>{G||(st(Qe,`RPC '${t}' stream ${o} transport opened.`),$.o_())})),nt(S,oo.EventType.CLOSE,(()=>{G||(G=!0,st(Qe,`RPC '${t}' stream ${o} transport closed`),$.a_(),this.E_(S))})),nt(S,oo.EventType.ERROR,(Z=>{G||(G=!0,Ga(Qe,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new lt(W.UNAVAILABLE,"The operation could not be completed")))})),nt(S,oo.EventType.MESSAGE,(Z=>{if(!G){const dt=Z.data[0];re(!!dt,16349);const bt=dt,ht=bt?.error||bt[0]?.error;if(ht){st(Qe,`RPC '${t}' stream ${o} received error:`,ht);const At=ht.status;let qt=(function(b){const C=Ae[b];if(C!==void 0)return UE(C)})(At),Rt=ht.message;qt===void 0&&(qt=W.INTERNAL,Rt="Unknown error status: "+At+" with message "+ht.message),G=!0,$.a_(new lt(qt,Rt)),S.close()}else st(Qe,`RPC '${t}' stream ${o} received:`,dt),$.u_(dt)}})),nt(p,lE.STAT_EVENT,(Z=>{Z.stat===Dd.PROXY?st(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===Dd.NOPROXY&&st(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r){return new Nb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,i,a=1e3,o=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="PersistentStream";class bR{constructor(t,i,a,o,h,d,p,_){this.Mi=t,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Xi(i.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new lt(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(av,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RR extends bR{constructor(t,i,a,o,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Ub(this.serializer,t),a=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?La(d.readTime):yt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=J_(this.serializer),i.addTarget=(function(h,d){let p;const _=d.target;if(p=kd(_)?{documents:Lb(h,_)}:{query:kb(h,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Mb(h,d.resumeToken);const v=jd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Ob(h,d.snapshotVersion.toTimestamp());const v=jd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const a=zb(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=J_(this.serializer),i.removeTarget=t,this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{}class CR extends wR{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,qd(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(W.UNKNOWN,h.toString())}))}Ho(t,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,qd(i,a),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="RemoteStore";class DR{constructor(t,i,a,o,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{No(this)&&(st(Xa,"Restarting streams for network reachability change."),await(async function(_){const v=Ut(_);v.Ea.add(4),await Do(v),v.Ra.set("Unknown"),v.Ea.delete(4),await eh(v)})(this))}))})),this.Ra=new IR(a,o)}}async function eh(r){if(No(r))for(const t of r.da)await t(!0)}async function Do(r){for(const t of r.da)await t(!1)}function $E(r,t){const i=Ut(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),_m(i)?ym(i):tl(i).O_()&&pm(i,t))}function gm(r,t){const i=Ut(r),a=tl(i);i.Ia.delete(t),a.O_()&&ZE(i,t),i.Ia.size===0&&(a.O_()?a.L_():No(i)&&i.Ra.set("Unknown"))}function pm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}tl(r).Y_(t)}function ZE(r,t){r.Va.Ue(t),tl(r).Z_(t)}function ym(r){r.Va=new wb({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),tl(r).start(),r.Ra.ua()}function _m(r){return No(r)&&!tl(r).x_()&&r.Ia.size>0}function No(r){return Ut(r).Ea.size===0}function JE(r){r.Va=void 0}async function NR(r){r.Ra.set("Online")}async function OR(r){r.Ia.forEach(((t,i)=>{pm(r,t)}))}async function MR(r,t){JE(r),_m(r)?(r.Ra.ha(t),ym(r)):r.Ra.set("Unknown")}async function VR(r,t,i){if(r.Ra.set("Online"),t instanceof kE&&t.state===2&&t.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(a){st(Xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await lv(r,a)}else if(t instanceof Ec?r.Va.Ze(t):t instanceof LE?r.Va.st(t):r.Va.tt(t),!i.isEqual(yt.min()))try{const a=await YE(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const A=h.Ia.get(_);if(!A)return;h.Ia.set(_,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),ZE(h,_);const S=new ks(A.target,_,v,A.sequenceNumber);pm(h,S)})),h.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){st(Xa,"Failed to raise snapshot:",a),await lv(r,a)}}async function lv(r,t,i){if(!Wa(t))throw t;r.Ea.add(1),await Do(r),r.Ra.set("Offline"),i||(i=()=>YE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Xa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await eh(r)}))}async function ov(r,t){const i=Ut(r);i.asyncQueue.verifyOperationInProgress(),st(Xa,"RemoteStore received new credentials");const a=No(i);i.Ea.add(3),await Do(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await eh(i)}async function xR(r,t){const i=Ut(r);t?(i.Ea.delete(2),await eh(i)):t||(i.Ea.add(2),await Do(i),i.Ra.set("Unknown"))}function tl(r){return r.ma||(r.ma=(function(i,a,o){const h=Ut(i);return h.sa(),new RR(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:NR.bind(null,r),t_:OR.bind(null,r),r_:MR.bind(null,r),H_:VR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),_m(r)?ym(r):r.Ra.set("Unknown")):(await r.ma.stop(),JE(r))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,i,a,o,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,h){const d=Date.now()+a,p=new vm(t,i,d,o,h);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function WE(r,t){if(Xi("AsyncQueue",`${t}: ${r}`),Wa(r))return new lt(W.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{static emptySet(t){return new ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=uo(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.ga=new de(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class $a{constructor(t,i,a,o,h,d,p,_,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new $a(t,i,ka.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$c(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class LR{constructor(){this.queries=cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ut(i),h=o.queries;o.queries=cv(),h.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new lt(W.ABORTED,"Firestore shutting down"))}}function cv(){return new zr((r=>wE(r)),$c)}async function kR(r,t){const i=Ut(r);let a=3;const o=t.query;let h=i.queries.get(o);h?!h.ba()&&t.Da()&&(a=2):(h=new UR,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=WE(d,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Em(i)}async function PR(r,t){const i=Ut(r),a=t.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=t.Da()?0:1:!h.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function zR(r,t){const i=Ut(r);let a=!1;for(const o of t){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&Em(i)}function BR(r,t,i){const a=Ut(r),o=a.queries.get(t);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(t)}function Em(r){r.Ca.forEach((t=>{t.next()}))}var Fd,hv;(hv=Fd||(Fd={})).Ma="default",hv.Cache="cache";class jR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new $a(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=$a.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Fd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t){this.key=t}}class eT{constructor(t){this.key=t}}class qR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=CE(t),this.tu=new ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new uv,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,S)=>{const O=o.get(A),G=Zc(this.query,S)?S:null,$=!!O&&this.mutatedKeys.has(O.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;O&&G?O.data.isEqual(G.data)?$!==nt&&(a.track({type:3,doc:G}),Z=!0):this.su(O,G)||(a.track({type:2,doc:G}),Z=!0,(_&&this.eu(G,_)>0||v&&this.eu(G,v)<0)&&(p=!0)):!O&&G?(a.track({type:0,doc:G}),Z=!0):O&&!G&&(a.track({type:1,doc:O}),Z=!0,(_||v)&&(p=!0)),Z&&(G?(d=d.add(G),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,$){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:Z})}};return nt(G)-nt($)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new $a(this.query,t.tu,h,d,t.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new eT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new tT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return $a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tm="SyncEngine";class HR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class GR{constructor(t){this.key=t,this.hu=!1}}class FR{constructor(t,i,a,o,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new zr((p=>wE(p)),$c),this.Iu=new Map,this.Eu=new Set,this.du=new de(ft.comparator),this.Au=new Map,this.Ru=new hm,this.Vu={},this.mu=new Map,this.fu=Ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QR(r,t,i=!0){const a=aT(r);let o;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await nT(a,t,i,!0),o}async function YR(r,t){const i=aT(r);await nT(i,t,!0,!1)}async function nT(r,t,i,a){const o=await pR(r.localStore,vi(t)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await KR(r,t,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&$E(r.remoteStore,o),p}async function KR(r,t,i,a,o){r.pu=(S,O,G)=>(async function(nt,Z,dt,bt){let ht=Z.view.ru(dt);ht.Cs&&(ht=await nv(nt.localStore,Z.query,!1).then((({documents:I})=>Z.view.ru(I,ht))));const At=bt&&bt.targetChanges.get(Z.targetId),qt=bt&&bt.targetMismatches.get(Z.targetId)!=null,Rt=Z.view.applyChanges(ht,nt.isPrimaryClient,At,qt);return dv(nt,Z.targetId,Rt.au),Rt.snapshot})(r,S,O,G);const h=await nv(r.localStore,t,!0),d=new qR(t,h.Qs),p=d.ru(h.documents),_=Io.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),v=d.applyChanges(p,r.isPrimaryClient,_);dv(r,i,v.au);const A=new HR(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),v.snapshot}async function XR(r,t,i){const a=Ut(r),o=a.Tu.get(t),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!$c(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Hd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&gm(a.remoteStore,o.targetId),Qd(a,o.targetId)})).catch(Fc)):(Qd(a,o.targetId),await Hd(a.localStore,o.targetId,!0))}async function $R(r,t){const i=Ut(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),gm(i.remoteStore,a.targetId))}async function iT(r,t){const i=Ut(r);try{const a=await mR(i.localStore,t);t.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(re(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?re(d.hu,14607):o.removedDocuments.size>0&&(re(d.hu,42227),d.hu=!1))})),await rT(i,a,t)}catch(a){await Fc(a)}}function fv(r,t,i){const a=Ut(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Ut(d);_.onlineState=p;let v=!1;_.queries.forEach(((A,S)=>{for(const O of S.Sa)O.va(p)&&(v=!0)})),v&&Em(_)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function ZR(r,t,i){const a=Ut(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),h=o&&o.key;if(h){let d=new de(ft.comparator);d=d.insert(h,Ke.newNoDocument(h,yt.min()));const p=kt().add(h),_=new th(yt.min(),new Map,new de(Mt),d,p);await iT(a,_),a.du=a.du.remove(h),a.Au.delete(t),Sm(a)}else await Hd(a.localStore,t,!1).then((()=>Qd(a,t,i))).catch(Fc)}function Qd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||sT(r,a)}))}function sT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(gm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Sm(r))}function dv(r,t,i){for(const a of i)a instanceof tT?(r.Ru.addReference(a.key,t),JR(r,a)):a instanceof eT?(st(Tm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||sT(r,a.key)):_t(19791,{wu:a})}function JR(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(st(Tm,"New document in limbo: "+i),r.Eu.add(a),Sm(r))}function Sm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ft(se.fromString(t)),a=r.fu.next();r.Au.set(a,new GR(i)),r.du=r.du.insert(i,a),$E(r.remoteStore,new ks(vi(RE(i.path)),a,"TargetPurposeLimboResolution",Qc.ce))}}async function rT(r,t,i){const a=Ut(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){o.push(v);const A=dm.As(_.targetId,v);h.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,v){const A=Ut(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>K.forEach(v,(O=>K.forEach(O.Es,(G=>A.persistence.referenceDelegate.addReference(S,O.targetId,G))).next((()=>K.forEach(O.ds,(G=>A.persistence.referenceDelegate.removeReference(S,O.targetId,G)))))))))}catch(S){if(!Wa(S))throw S;st(mm,"Failed to update sequence numbers: "+S)}for(const S of v){const O=S.targetId;if(!S.fromCache){const G=A.Ms.get(O),$=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(O,nt)}}})(a.localStore,h))}async function WR(r,t){const i=Ut(r);if(!i.currentUser.isEqual(t)){st(Tm,"User change. New user:",t.toKey());const a=await QE(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt(W.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await rT(i,a.Ls)}}function tw(r,t){const i=Ut(r),a=i.Au.get(t);if(a&&a.hu)return kt().add(a.key);{let o=kt();const h=i.Iu.get(t);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function aT(r){const t=Ut(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=iT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZR.bind(null,t),t.Pu.H_=zR.bind(null,t.eventManager),t.Pu.yu=BR.bind(null,t.eventManager),t}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=KE(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return dR(this.persistence,new cR,t.initialUser,this.serializer)}Cu(t){return new FE(fm.mi,this.serializer)}Du(t){return new _R}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class ew extends xc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){re(this.persistence.referenceDelegate instanceof Vc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Xb(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new FE((a=>Vc.mi(a,i)),this.serializer)}}class Yd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>fv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=WR.bind(null,this.syncEngine),await xR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new LR})()}createDatastore(t){const i=KE(t.databaseInfo.databaseId),a=(function(h){return new AR(h)})(t.databaseInfo);return(function(h,d,p,_){return new CR(h,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,h,d,p){return new DR(a,o,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>fv(this.syncEngine,i,0)),(function(){return rv.v()?new rv:new vR})())}createSyncEngine(t,i){return(function(o,h,d,p,_,v,A){const S=new FR(o,h,d,p,_,v);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ut(i);st(Xa,"RemoteStore shutting down."),a.Ea.add(5),await Do(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yd.provider={build:()=>new Yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Xi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class iw{constructor(t,i,a,o,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=fE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{st(Xs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(Xs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=WE(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Ed(r,t){r.asyncQueue.verifyOperationInProgress(),st(Xs,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await QE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function mv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await sw(r);st(Xs,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>ov(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>ov(t.remoteStore,o))),r._onlineComponents=t}async function sw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Xs,"Using user provided OfflineComponentProvider");try{await Ed(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ga("Error using user provided cache. Falling back to memory cache: "+i),await Ed(r,new xc)}}else st(Xs,"Using default OfflineComponentProvider"),await Ed(r,new ew(void 0));return r._offlineComponents}async function rw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Xs,"Using user provided OnlineComponentProvider"),await mv(r,r._uninitializedComponentsProvider._online)):(st(Xs,"Using default OnlineComponentProvider"),await mv(r,new Yd))),r._onlineComponents}async function aw(r){const t=await rw(r),i=t.eventManager;return i.onListen=QR.bind(null,t.syncEngine),i.onUnlisten=XR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=YR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$R.bind(null,t.syncEngine),i}function lw(r,t,i={}){const a=new Nr;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,_,v){const A=new nw({next:O=>{A.Nu(),d.enqueueAndForget((()=>PR(h,S))),O.fromCache&&_.source==="server"?v.reject(new lt(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(O)},error:O=>v.reject(O)}),S=new jR(p,A,{includeMetadataChanges:!0,qa:!0});return kR(h,S)})(await aw(r),r.asyncQueue,t,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="firestore.googleapis.com",pv=!0;class yv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oT,this.ssl=pv}else this.host=t.host,this.ssl=t.ssl??pv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Yb)throw new lt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}C1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Am{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new p1;switch(a.type){case"firstParty":return new E1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=gv.get(i);a&&(st("ComponentProvider","Removing Datastore"),gv.delete(i),a.terminate())})(this),Promise.resolve()}}function ow(r,t,i,a={}){r=Od(r,Am);const o=kr(t),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(Jd(`https://${p}`),Wd("Firestore",!0)),h.host!==oT&&h.host!==p&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:p,ssl:o,emulatorOptions:a};if(!Vr(_,d)&&(r._setSettings(_),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Ye.MOCK_USER;else{v=Jv(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new lt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(S)}r._authCredentials=new y1(new hE(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new nh(this.firestore,t,this._query)}}class On{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new On(this.firestore,t,this._key)}toJSON(){return{type:On._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(wo(i,On._jsonSchema))return new On(t,a||null,new ft(se.fromString(i.referencePath)))}}On._jsonSchemaVersion="firestore/documentReference/1.0",On._jsonSchema={type:Re("string",On._jsonSchemaVersion),referencePath:Re("string")};class Pa extends nh{constructor(t,i,a){super(t,i,RE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new On(this.firestore,null,new ft(t))}withConverter(t){return new Pa(this.firestore,t,this._path)}}function bm(r,t,...i){if(r=$s(r),w1("collection","path",t),r instanceof Am){const a=se.fromString(t,...i);return N_(a),new Pa(r,null,a)}{if(!(r instanceof On||r instanceof Pa))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return N_(a),new Pa(r.firestore,null,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="AsyncQueue";class vv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XE(this,"async_queue_retry"),this._c=()=>{const a=vd();a&&st(_v,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=vd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=vd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Wa(t))throw t;st(_v,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",Ev(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=vm.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:Ev(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Ev(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class uT extends Am{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new vv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new vv(t),this._firestoreClient=void 0,await t}}}function uw(r,t){const i=typeof r=="object"?r:nm(),a=typeof r=="string"?r:Ic,o=Gc(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=Xv("firestore");h&&ow(o,...h)}return o}function cw(r){if(r._terminated)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||hw(r),r._firestoreClient}function hw(r){const t=r._freezeSettings(),i=(function(o,h,d,p){return new j1(o,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,lT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new iw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yi(Ge.fromBase64String(t))}catch(i){throw new lt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new yi(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wo(t,yi._jsonSchema))return yi.fromBase64String(t.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:Re("string",yi._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:js._jsonSchemaVersion}}static fromJSON(t){if(wo(t,js._jsonSchema))return new js(t.latitude,t.longitude)}}js._jsonSchemaVersion="firestore/geoPoint/1.0",js._jsonSchema={type:Re("string",js._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wo(t,qs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new qs(t.vectorValues);throw new lt(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qs._jsonSchemaVersion="firestore/vectorValue/1.0",qs._jsonSchema={type:Re("string",qs._jsonSchemaVersion),vectorValues:Re("object")};const fw=new RegExp("[~\\*/\\[\\]]");function dw(r,t,i){if(t.search(fw)>=0)throw Tv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new cT(...t.split("."))._internalPath}catch{throw Tv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function Tv(r,t,i,a,o){let h=`Function ${t}() called with invalid data`;h+=". ";let d="";return new lt(W.INVALID_ARGUMENT,h+r+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,i,a,o,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(fT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class mw extends hT{data(){return super.data()}}function fT(r,t){return typeof t=="string"?dw(r,t):t instanceof cT?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pw{convertValue(t,i="none"){switch(Ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Qs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Co(t,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(t){const i=t.fields?.[Vd].arrayValue?.values?.map((a=>fe(a.doubleValue)));return new qs(i)}convertGeoPoint(t){return new js(fe(t.latitude),fe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Kc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Eo(t));default:return null}}convertTimestamp(t){const i=Fs(t);return new be(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=se.fromString(t);re(HE(a),9688,{name:t});const o=new To(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return o.isEqual(i)||Xi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class mc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class za extends hT{constructor(t,i,a,o,h,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(fT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=za._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:Re("string",za._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Tc extends za{data(t={}){return super.data(t)}}class Ba{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new mc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Tc(this._firestore,this._userDataWriter,a.key,a,new mc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Tc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const _=new Tc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:yw(p.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ba._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=fE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function yw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}Ba._jsonSchemaVersion="firestore/querySnapshot/1.0",Ba._jsonSchema={type:Re("string",Ba._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class _w extends pw{constructor(t){super(),this.firestore=t}convertBytes(t){return new yi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new On(this.firestore,null,i)}}function Rm(r){r=Od(r,nh);const t=Od(r.firestore,uT),i=cw(t),a=new _w(t);return gw(r._query),lw(i,r._query).then((o=>new Ba(t,a,r,o)))}(function(t,i=!0){(function(o){Ja=o})(Pr),xr(new Hs("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new uT(new _1(a.getProvider("auth-internal")),new T1(d,a.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(v.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),_i(w_,C_,t),_i(w_,C_,"esm2020")})();var vw="firebase",Ew="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(vw,Ew,"app");function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tw=dT,mT=new bo("auth","Firebase",dT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new tm("@firebase/auth");function Sw(r,...t){Uc.logLevel<=Nt.WARN&&Uc.warn(`Auth (${Pr}): ${r}`,...t)}function Sc(r,...t){Uc.logLevel<=Nt.ERROR&&Uc.error(`Auth (${Pr}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(r,...t){throw wm(r,...t)}function Ei(r,...t){return wm(r,...t)}function gT(r,t,i){const a={...Tw(),[t]:i};return new bo("auth","Firebase",a).create(t,{appName:r.name})}function Mr(r){return gT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return mT.create(r,...t)}function mt(r,t,...i){if(!r)throw wm(t,...i)}function Qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Sc(t),new Error(t)}function Zi(r,t){r||Qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(){return typeof self<"u"&&self.location?.href||""}function Aw(){return Sv()==="http:"||Sv()==="https:"}function Sv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Aw()||XS()||"connection"in navigator)?navigator.onLine:!0}function Rw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,i){this.shortDelay=t,this.longDelay=i,Zi(i>t,"Short delay should be less than long delay!"),this.isMobile=QS()||$S()}get(){return bw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(r,t){Zi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Iw=new Oo(3e4,6e4);function Im(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function el(r,t,i,a,o={}){return yT(r,o,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const p=Ro({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const v={method:t,headers:_,...h};return KS()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&kr(r.emulatorConfig.host)&&(v.credentials="include"),pT.fetch()(await _T(r,r.config.apiHost,i,p),v)})}async function yT(r,t,i){r._canInitEmulator=!1;const a={...ww,...t};try{const o=new Nw(r),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw gc(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw gc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw gc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw gT(r,A,v);$i(r,A)}}catch(o){if(o instanceof Ri)throw o;$i(r,"network-request-failed",{message:String(o)})}}async function Dw(r,t,i,a,o={}){const h=await el(r,t,i,a,o);return"mfaPendingCredential"in h&&$i(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function _T(r,t,i,a){const o=`${t}${i}?${a}`,h=r,d=h.config.emulator?Cm(r.config,o):`${r.config.apiScheme}://${o}`;return Cw.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class Nw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ei(this.auth,"network-request-failed")),Iw.get())})}}function gc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ei(r,t,a);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(r,t){return el(r,"POST","/v1/accounts:delete",t)}async function Lc(r,t){return el(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Mw(r,t=!1){const i=$s(r),a=await i.getIdToken(t),o=Dm(a);mt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:a,authTime:yo(Td(o.auth_time)),issuedAtTime:yo(Td(o.iat)),expirationTime:yo(Td(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Td(r){return Number(r)*1e3}function Dm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Yv(i);return o?JSON.parse(o):(Sc("Failed to decode base64 JWT payload"),null)}catch(o){return Sc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Av(r){const t=Dm(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ri&&Vw(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Vw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=yo(this.lastLoginAt),this.creationTime=yo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(r){const t=r.auth,i=await r.getIdToken(),a=await Ao(r,Lc(t,{idToken:i}));mt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const h=o.providerUserInfo?.length?vT(o.providerUserInfo):[],d=Lw(r.providerData,h),p=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,v=p?_:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Xd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,A)}async function Uw(r){const t=$s(r);await kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Lw(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function vT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(r,t){const i=await yT(r,{},async()=>{const a=Ro({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:h}=r.config,d=await _T(r,o,"/v1/token",`key=${h}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&kr(r.emulatorConfig.host)&&(_.credentials="include"),pT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Pw(r,t){return el(r,"POST","/v2/accounts:revokeToken",Im(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Av(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=Av(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:h}=await kw(t,i);this.updateTokensAndExpiration(a,o,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:h}=i,d=new ja;return a&&(mt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(mt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),h&&(mt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Fn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new xw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Ao(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Mw(this,t)}reload(){return Uw(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Fn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Mr(this.auth));const t=await this.getIdToken();return await Ao(this,Ow(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:G,providerData:$,stsTokenManager:nt}=i;mt(S&&nt,t,"internal-error");const Z=ja.fromJSON(this.name,nt);mt(typeof S=="string",t,"internal-error"),Os(a,t.name),Os(o,t.name),mt(typeof O=="boolean",t,"internal-error"),mt(typeof G=="boolean",t,"internal-error"),Os(h,t.name),Os(d,t.name),Os(p,t.name),Os(_,t.name),Os(v,t.name),Os(A,t.name);const dt=new Fn({uid:S,auth:t,email:o,emailVerified:O,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:Z,createdAt:v,lastLoginAt:A});return $&&Array.isArray($)&&(dt.providerData=$.map(bt=>({...bt}))),_&&(dt._redirectEventId=_),dt}static async _fromIdTokenResponse(t,i,a=!1){const o=new ja;o.updateFromServerResponse(i);const h=new Fn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await kc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];mt(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?vT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,p=new ja;p.updateFromIdToken(a);const _=new Fn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Xd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;function Yi(r){Zi(r instanceof Function,"Expected a class definition");let t=bv.get(r);return t?(Zi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,bv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}ET.type="NONE";const Rv=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r,t,i){return`firebase:${r}:${t}:${i}`}class qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:h}=this.auth;this.fullUserKey=Ac(this.userKey,o.apiKey,h),this.fullPersistenceKey=Ac("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Lc(this.auth,{idToken:t}).catch(()=>{});return i?Fn._fromGetAccountInfoResponse(this.auth,i,t):null}return Fn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new qa(Yi(Rv),t,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=o[0]||Yi(Rv);const d=Ac(a,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let S;if(typeof A=="string"){const O=await Lc(t,{idToken:A}).catch(()=>{});if(!O)break;S=await Fn._fromGetAccountInfoResponse(t,O,A)}else S=Fn._fromJSON(t,A);v!==h&&(p=S),h=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new qa(h,t,a):(h=_[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new qa(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wT(t))return"Blackberry";if(CT(t))return"Webos";if(ST(t))return"Safari";if((t.includes("chrome/")||AT(t))&&!t.includes("edge/"))return"Chrome";if(RT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function TT(r=Xe()){return/firefox\//i.test(r)}function ST(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AT(r=Xe()){return/crios\//i.test(r)}function bT(r=Xe()){return/iemobile/i.test(r)}function RT(r=Xe()){return/android/i.test(r)}function wT(r=Xe()){return/blackberry/i.test(r)}function CT(r=Xe()){return/webos/i.test(r)}function Nm(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function zw(r=Xe()){return Nm(r)&&!!window.navigator?.standalone}function Bw(){return ZS()&&document.documentMode===10}function IT(r=Xe()){return Nm(r)||RT(r)||CT(r)||wT(r)||/windows phone/i.test(r)||bT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r,t=[]){let i;switch(r){case"Browser":i=wv(Xe());break;case"Worker":i=`${wv(Xe())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Pr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,p)=>{try{const _=t(h);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qw(r,t={}){return el(r,"GET","/v2/passwordPolicy",Im(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=6;class Gw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Hw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cv(this),this.idTokenSubscription=new Cv(this),this.beforeStateQueue=new jw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Lc(this,{idToken:t}),a=await Fn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Gn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Rw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gn(this.app))return Promise.reject(Mr(this));const i=t?$s(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gn(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qw(this),i=new Gw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new bo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Pw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Sw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Om(r){return $s(r)}class Cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=rA(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qw(r){Mm=r}function Yw(r){return Mm.loadJS(r)}function Kw(){return Mm.gapiScript}function Xw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r,t){const i=Gc(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(Vr(h,t??{}))return o;$i(o,"already-initialized")}return i.initialize({options:t})}function Zw(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Yi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Jw(r,t,i){const a=Om(r);mt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,h=NT(t),{host:d,port:p}=Ww(t),_=p===null?"":`:${p}`,v={url:`${h}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){mt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),mt(Vr(v,a.config.emulator)&&Vr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,kr(d)?(Jd(`${h}//${d}${_}`),Wd("Auth",!0)):tC()}function NT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Ww(r){const t=NT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const h=o[1];return{host:h,port:Iv(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:Iv(d)}}}function Iv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function tC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,i){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(r,t){return Dw(r,"POST","/v1/accounts:signInWithIdp",Im(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="http://localhost";class Lr extends OT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Lr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):$i("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...h}=i;if(!a||!o)return null;const d=new Lr(a,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ha(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ha(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ha(t,i)}buildRequest(){const t={requestUri:eC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ro(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends MT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Mo{constructor(){super("facebook.com")}static credential(t){return Lr._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ms.credentialFromTaggedObject(t)}static credentialFromError(t){return Ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ms.credential(t.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Mo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Lr._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Vs.credentialFromTaggedObject(t)}static credentialFromError(t){return Vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Vs.credential(i,a)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Mo{constructor(){super("github.com")}static credential(t){return Lr._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xs.credentialFromTaggedObject(t)}static credentialFromError(t){return xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xs.credential(t.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Mo{constructor(){super("twitter.com")}static credential(t,i){return Lr._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Us.credential(i,a)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const h=await Fn._fromIdTokenResponse(t,a,o),d=Dv(a);return new Za({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=Dv(a);return new Za({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function Dv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Ri{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Pc(t,i,a,o)}}function VT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Pc._fromErrorAndOperation(r,h,t,a):h})}async function nC(r,t,i=!1){const a=await Ao(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Za._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r,t,i=!1){const{auth:a}=r;if(Gn(a.app))return Promise.reject(Mr(a));const o="reauthenticate";try{const h=await Ao(r,VT(a,o,t,r),i);mt(h.idToken,a,"internal-error");const d=Dm(h.idToken);mt(d,a,"internal-error");const{sub:p}=d;return mt(r.uid===p,a,"user-mismatch"),Za._forOperation(r,o,h)}catch(h){throw h?.code==="auth/user-not-found"&&$i(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(r,t,i=!1){if(Gn(r.app))return Promise.reject(Mr(r));const a="signIn",o=await VT(r,a,t),h=await Za._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(h.user),h}function rC(r,t,i,a){return $s(r).onIdTokenChanged(t,i,a)}function aC(r,t,i){return $s(r).beforeAuthStateChanged(t,i)}const zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(zc,"1"),this.storage.removeItem(zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=1e3,oC=10;class UT extends xT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);Bw()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,oC):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}UT.type="LOCAL";const uC=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends xT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}LT.type="SESSION";const kT=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new ih(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,h)),_=await cC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((p,_)=>{const v=Vm("",20);o.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const O=S;if(O.data.eventId===v)switch(O.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(O.data.response);break;default:clearTimeout(A),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function fC(r){Ti().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function dC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mC(){return navigator?.serviceWorker?.controller||null}function gC(){return PT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firebaseLocalStorageDb",pC=1,Bc="firebaseLocalStorage",BT="fbase_key";class Vo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function sh(r,t){return r.transaction([Bc],t?"readwrite":"readonly").objectStore(Bc)}function yC(){const r=indexedDB.deleteDatabase(zT);return new Vo(r).toPromise()}function $d(){const r=indexedDB.open(zT,pC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Bc,{keyPath:BT})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Bc)?t(a):(a.close(),await yC(),t(await $d()))})})}async function Nv(r,t,i){const a=sh(r,!0).put({[BT]:t,value:i});return new Vo(a).toPromise()}async function _C(r,t){const i=sh(r,!1).get(t),a=await new Vo(i).toPromise();return a===void 0?null:a.value}function Ov(r,t){const i=sh(r,!0).delete(t);return new Vo(i).toPromise()}const vC=800,EC=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>EC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(gC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dC(),!this.activeServiceWorker)return;this.sender=new hC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $d();return await Nv(t,zc,"1"),await Ov(t,zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Nv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>_C(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ov(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const h=sh(o,!1).getAll();return new Vo(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:h}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const TC=jT;new Oo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(r,t){return t?Yi(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends OT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ha(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ha(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ha(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function AC(r){return sC(r.auth,new xm(r),r.bypassAuthState)}function bC(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),iC(i,new xm(r),r.bypassAuthState)}async function RC(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),nC(i,new xm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,i,a,o,h=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return AC;case"linkViaPopup":case"linkViaRedirect":return RC;case"reauthViaPopup":case"reauthViaRedirect":return bC;default:$i(this.auth,"internal-error")}}resolve(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new Oo(2e3,1e4);class Ua extends qT{constructor(t,i,a,o,h){super(t,i,o,h),this.provider=a,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const t=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wC.get())};t()}}Ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="pendingRedirect",bc=new Map;class IC extends qT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=bc.get(this.auth._key());if(!t){try{const a=await DC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}bc.set(this.auth._key(),t)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DC(r,t){const i=MC(t),a=OC(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function NC(r,t){bc.set(r._key(),t)}function OC(r){return Yi(r._redirectPersistence)}function MC(r){return Ac(CC,r.config.apiKey,r.name)}async function VC(r,t,i=!1){if(Gn(r.app))return Promise.reject(Mr(r));const a=Om(r),o=SC(a,t),d=await new IC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=600*1e3;class UC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!LC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!HT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(t))}saveEventToCache(t){this.cachedEventUids.add(Mv(t)),this.lastProcessedEventTime=Date.now()}}function Mv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function HT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function LC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,t={}){return el(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zC=/^https?/;async function BC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await kC(r);for(const i of t)try{if(jC(i))return}catch{}$i(r,"unauthorized-domain")}function jC(r){const t=Kd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!zC.test(i))return!1;if(PC.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new Oo(3e4,6e4);function Vv(){const r=Ti().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function HC(r){return new Promise((t,i)=>{function a(){Vv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vv(),i(Ei(r,"network-request-failed"))},timeout:qC.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)a();else{const o=Xw("iframefcb");return Ti()[o]=()=>{gapi.load?a():i(Ei(r,"network-request-failed"))},Yw(`${Kw()}?onload=${o}`).catch(h=>i(h))}}).catch(t=>{throw Rc=null,t})}let Rc=null;function GC(r){return Rc=Rc||HC(r),Rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new Oo(5e3,15e3),QC="__/auth/iframe",YC="emulator/auth/iframe",KC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $C(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Cm(t,YC):`https://${r.config.authDomain}/${QC}`,a={apiKey:t.apiKey,appName:r.name,v:Pr},o=XC.get(r.config.apiHost);o&&(a.eid=o);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Ro(a).slice(1)}`}async function ZC(r){const t=await GC(r),i=Ti().gapi;return mt(i,r,"internal-error"),t.open({where:document.body,url:$C(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KC,dontclear:!0},a=>new Promise(async(o,h)=>{await a.restyle({setHideOnLeave:!1});const d=Ei(r,"network-request-failed"),p=Ti().setTimeout(()=>{h(d)},FC.get());function _(){Ti().clearTimeout(p),o(a)}a.ping(_).then(_,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WC=500,t2=600,e2="_blank",n2="http://localhost";class xv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i2(r,t,i,a=WC,o=t2){const h=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...JC,width:a.toString(),height:o.toString(),top:h,left:d},v=Xe().toLowerCase();i&&(p=AT(v)?e2:i),TT(v)&&(t=t||n2,_.scrollbars="yes");const A=Object.entries(_).reduce((O,[G,$])=>`${O}${G}=${$},`,"");if(zw(v)&&p!=="_self")return s2(t||"",p),new xv(null);const S=window.open(t||"",p,A);mt(S,r,"popup-blocked");try{S.focus()}catch{}return new xv(S)}function s2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="__/auth/handler",a2="emulator/auth/handler",l2=encodeURIComponent("fac");async function Uv(r,t,i,a,o,h){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Pr,eventId:o};if(t instanceof MT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",sA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Mo){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),v=_?`#${l2}=${encodeURIComponent(_)}`:"";return`${o2(r)}?${Ro(p).slice(1)}${v}`}function o2({config:r}){return r.emulator?Cm(r,a2):`https://${r.authDomain}/${r2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="webStorageSupport";class u2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=VC,this._overrideRedirectResult=NC}async _openPopup(t,i,a,o){Zi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await Uv(t,i,a,Kd(),o);return i2(t,h,Vm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const h=await Uv(t,i,a,Kd(),o);return fC(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:h}=this.eventManagers[i];return o?Promise.resolve(o):(Zi(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await ZC(t),a=new UC(t);return i.register("authEvent",o=>(mt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Sd,{type:Sd},o=>{const h=o?.[0]?.[Sd];h!==void 0&&i(!!h),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=BC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return IT()||ST()||Nm()}}const c2=u2;var Lv="@firebase/auth",kv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d2(r){xr(new Hs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(r)},v=new Fw(a,o,h,_);return Zw(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),xr(new Hs("auth-internal",t=>{const i=Om(t.getProvider("auth").getImmediate());return(a=>new h2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(Lv,kv,f2(r)),_i(Lv,kv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=300,g2=Zv("authIdTokenMaxAge")||m2;let Pv=null;const p2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>g2)return;const o=i?.token;Pv!==o&&(Pv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function y2(r=nm()){const t=Gc(r,"auth");if(t.isInitialized())return t.getImmediate();const i=$w(r,{popupRedirectResolver:c2,persistence:[TC,uC,kT]}),a=Zv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=p2(h.toString());aC(i,d,()=>d(i.currentUser)),rC(i,p=>d(p))}}const o=Kv("auth");return o&&Jw(i,`http://${o}`),i}function _2(){return document.getElementsByTagName("head")?.[0]??document}Qw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const h=Ei("internal-error");h.customData=o,i(h)},a.type="text/javascript",a.charset="UTF-8",_2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d2("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebasestorage.googleapis.com",v2="storageBucket",E2=120*1e3,T2=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Ri{constructor(t,i,a=0){super(Ad(t),`Firebase Storage: ${i} (${Ad(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ad(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bi||(bi={}));function Ad(r){return"storage/"+r}function S2(){const r="An unknown error occurred, please check the error payload for server response.";return new wi(bi.UNKNOWN,r)}function A2(){return new wi(bi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function b2(){return new wi(bi.CANCELED,"User canceled the upload/download.")}function R2(r){return new wi(bi.INVALID_URL,"Invalid URL '"+r+"'.")}function w2(r){return new wi(bi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function zv(r){return new wi(bi.INVALID_ARGUMENT,r)}function FT(){return new wi(bi.APP_DELETED,"The Firebase app was deleted.")}function C2(r){return new wi(bi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let a;try{a=Qn.makeFromUrl(t,i)}catch{return new Qn(t,"")}if(a.path==="")return a;throw w2(t)}static makeFromUrl(t,i){let a=null;const o="([A-Za-z0-9.\\-_]+)";function h(At){At.path.charAt(At.path.length-1)==="/"&&(At.path_=At.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),_={bucket:1,path:3};function v(At){At.path_=decodeURIComponent(At.path)}const A="v[A-Za-z0-9_]+",S=i.replace(/[.]/g,"\\."),O="(/([^?#]*).*)?$",G=new RegExp(`^https?://${S}/${A}/b/${o}/o${O}`,"i"),$={bucket:1,path:3},nt=i===GT?"(?:storage.googleapis.com|storage.cloud.google.com)":i,Z="([^?#]*)",dt=new RegExp(`^https?://${nt}/${o}/${Z}`,"i"),ht=[{regex:p,indices:_,postModify:h},{regex:G,indices:$,postModify:v},{regex:dt,indices:{bucket:1,path:2},postModify:v}];for(let At=0;At<ht.length;At++){const qt=ht[At],Rt=qt.regex.exec(t);if(Rt){const I=Rt[qt.indices.bucket];let b=Rt[qt.indices.path];b||(b=""),a=new Qn(I,b),qt.postModify(a);break}}if(a==null)throw R2(t);return a}}class I2{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r,t,i){let a=1,o=null,h=null,d=!1,p=0;function _(){return p===2}let v=!1;function A(...Z){v||(v=!0,t.apply(null,Z))}function S(Z){o=setTimeout(()=>{o=null,r(G,_())},Z)}function O(){h&&clearTimeout(h)}function G(Z,...dt){if(v){O();return}if(Z){O(),A.call(null,Z,...dt);return}if(_()||d){O(),A.call(null,Z,...dt);return}a<64&&(a*=2);let ht;p===1?(p=2,ht=0):ht=(a+Math.random())*1e3,S(ht)}let $=!1;function nt(Z){$||($=!0,O(),!v&&(o!==null?(Z||(p=2),clearTimeout(o),S(0)):Z||(p=1)))}return S(0),h=setTimeout(()=>{d=!0,nt(!0)},i),nt}function N2(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(r){return r!==void 0}function Bv(r,t,i,a){if(a<t)throw zv(`Invalid value for '${r}'. Expected ${t} or greater.`);if(a>i)throw zv(`Invalid value for '${r}'. Expected ${i} or less.`)}function M2(r){const t=encodeURIComponent;let i="?";for(const a in r)if(r.hasOwnProperty(a)){const o=t(a)+"="+t(r[a]);i=i+o+"&"}return i=i.slice(0,-1),i}var jc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(jc||(jc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(r,t){const i=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,h=t.indexOf(r)!==-1;return i||o||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t,i,a,o,h,d,p,_,v,A,S,O=!0,G=!1){this.url_=t,this.method_=i,this.headers_=a,this.body_=o,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=_,this.timeout_=v,this.progressCallback_=A,this.connectionFactory_=S,this.retry=O,this.isUsingEmulator=G,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,nt)=>{this.resolve_=$,this.reject_=nt,this.start_()})}start_(){const t=(a,o)=>{if(o){a(!1,new pc(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=p=>{const _=p.loaded,v=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(_,v)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const p=h.getErrorCode()===jc.NO_ERROR,_=h.getStatus();if(!p||V2(_,this.additionalRetryCodes_)&&this.retry){const A=h.getErrorCode()===jc.ABORT;a(!1,new pc(!1,null,A));return}const v=this.successCodes_.indexOf(_)!==-1;a(!0,new pc(v,h))})},i=(a,o)=>{const h=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const _=this.callback_(p,p.getResponse());O2(_)?h(_):h()}catch(_){d(_)}else if(p!==null){const _=S2();_.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,_)):d(_)}else if(o.canceled){const _=this.appDelete_?FT():b2();d(_)}else{const _=A2();d(_)}};this.canceled_?i(!1,new pc(!1,null,!0)):this.backoffId_=D2(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&N2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pc{constructor(t,i,a){this.wasSuccessCode=t,this.connection=i,this.canceled=!!a}}function U2(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function L2(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function k2(r,t){t&&(r["X-Firebase-GMPID"]=t)}function P2(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function z2(r,t,i,a,o,h,d=!0,p=!1){const _=M2(r.urlParams),v=r.url+_,A=Object.assign({},r.headers);return k2(A,t),U2(A,i),L2(A,h),P2(A,a),new x2(v,r.method,A,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function j2(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i){this._service=t,i instanceof Qn?this._location=i:this._location=Qn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new qc(t,i)}get root(){const t=new Qn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return j2(this._location.path)}get storage(){return this._service}get parent(){const t=B2(this._location.path);if(t===null)return null;const i=new Qn(this._location.bucket,t);return new qc(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw C2(t)}}function jv(r,t){const i=t?.[v2];return i==null?null:Qn.makeFromBucketSpec(i,r)}function q2(r,t,i,a={}){r.host=`${t}:${i}`;const o=kr(t);o&&(Jd(`https://${r.host}/b`),Wd("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:h}=a;h&&(r._overrideAuthToken=typeof h=="string"?h:Jv(h,r.app.options.projectId))}class H2{constructor(t,i,a,o,h,d=!1){this.app=t,this._authProvider=i,this._appCheckProvider=a,this._url=o,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=GT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E2,this._maxUploadRetryTime=T2,this._requests=new Set,o!=null?this._bucket=Qn.makeFromBucketSpec(o,this._host):this._bucket=jv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,t):this._bucket=jv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Bv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Bv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new qc(this,t)}_makeRequest(t,i,a,o,h=!0){if(this._deleted)return new I2(FT());{const d=z2(t,this._appId,a,o,i,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,i){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,a,o).getPromise()}}const qv="@firebase/storage",Hv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="storage";function G2(r=nm(),t){r=$s(r);const a=Gc(r,QT).getImmediate({identifier:t}),o=Xv("storage");return o&&F2(a,...o),a}function F2(r,t,i,a={}){q2(r,t,i,a)}function Q2(r,{instanceIdentifier:t}){const i=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new H2(i,a,o,t,Pr)}function Y2(){xr(new Hs(QT,Q2,"PUBLIC").setMultipleInstances(!0)),_i(qv,Hv,""),_i(qv,Hv,"esm2020")}Y2();const K2={apiKey:"AIzaSyAsRvsb-_QY_JAVz2GaRWifR95aCRiddLA",authDomain:"footballsanci.firebaseapp.com",databaseURL:"https://footballsanci-default-rtdb.europe-west1.firebasedatabase.app",projectId:"footballsanci",storageBucket:"footballsanci.appspot.com",messagingSenderId:"108108129157",appId:"1:108108129157:web:c881c7b4d787677c43daec",measurementId:"G-VESXDYD12H"},Um=eE(K2);y2(Um);const Lm=uw(Um);G2(Um);const YT=Le.createContext();function X2({children:r}){const[t,i]=Le.useState([]),[a,o]=Le.useState(""),[h,d]=Le.useState(!0);return Le.useEffect(()=>{(async()=>{try{const v=(await Rm(bm(Lm,"seasons"))).docs.map(A=>A.id).sort();i(v),v.length>0&&o(v[v.length-1])}catch(_){console.error("Error loading seasons:",_)}finally{d(!1)}})()},[]),X.jsx(YT.Provider,{value:{seasons:t,selectedSeason:a,setSelectedSeason:o,loadingSeasons:h},children:r})}function km(){return Le.useContext(YT)}function $2(){const{seasons:r,selectedSeason:t,setSelectedSeason:i,loadingSeasons:a}=km(),[o,h]=Le.useState("ranking"),d=_=>{const v=document.getElementById(_);v&&v.scrollIntoView({behavior:"smooth"}),h(_)};Le.useEffect(()=>{const _=["ranking","history","statistics","draw"],v=()=>{const A=window.scrollY+80;for(let S=_.length-1;S>=0;S--){const O=document.getElementById(_[S]);if(O&&A>=O.offsetTop){h(_[S]);break}}};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]);const p=_=>{const v=_.match(/\d+/);return v?`S${v[0]}`:_};return X.jsx("header",{style:Na.header,children:X.jsxs("div",{style:Na.leftContainer,children:[X.jsx("div",{style:Na.customSelectLabel,children:p(t)}),X.jsx("select",{style:Na.select,value:t,onChange:_=>i(_.target.value),disabled:a,children:r.map(_=>X.jsx("option",{value:_,children:_},_))}),["ranking","history","statistics","draw"].map(_=>X.jsx("button",{style:{...Na.navBtn,...o===_?Na.activeNavBtn:{}},onClick:()=>d(_),children:_.charAt(0).toUpperCase()+_.slice(1)},_))]})})}const Na={header:{position:"fixed",top:0,left:0,right:0,display:"flex",justifyContent:"flex-start",alignItems:"center",padding:"12px 0",color:"#fff",background:"rgba(8, 8, 10, 0.5)",backdropFilter:"blur(12px)",borderBottom:"1px solid rgba(255,255,255,0.08)",zIndex:1e3},leftContainer:{display:"flex",alignItems:"center",gap:"0.3rem",margin:0,padding:0,position:"relative"},customSelectLabel:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",pointerEvents:"none",color:"#fff",fontSize:"clamp(1.05rem, 2.4vw, 1.15rem)",fontWeight:500,userSelect:"none",zIndex:10},select:{background:"transparent",color:"transparent",border:"none",borderRadius:"8px",padding:"12px 0px 12px 0px",fontSize:"clamp(1.05rem, 2.4vw, 1.15rem)",fontWeight:500,outline:"none",cursor:"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 6" fill="white"><path d="M0 0l5 6 5-6H0z"/></svg>')`,backgroundRepeat:"no-repeat",backgroundPosition:"left 40px center",backgroundSize:"10px 6px",transition:"opacity 0.2s ease"},navBtn:{background:"transparent",border:"none",color:"#fff",letterSpacing:"0.5px",cursor:"pointer",transition:"color 0.2s ease, opacity 0.2s ease",opacity:.8,minWidth:"22px",fontSize:"clamp(1.05rem, 2.4vw, 1.15rem)",fontWeight:500,padding:"4px 6px",whiteSpace:"nowrap"},activeNavBtn:{color:"#10B981",opacity:1,fontWeight:600}};function Z2(){return X.jsx("footer",{style:J2.footer,children:X.jsxs("p",{children:[" ",new Date().getFullYear()," FootballSanci. All rights reserved."]})})}const J2={footer:{textAlign:"center",padding:"20px 0",color:"#ccc",background:"rgba(10, 10, 10, 0.4)",backdropFilter:"blur(10px)",position:"relative",zIndex:1}};function W2(){return X.jsxs(X.Fragment,{children:[X.jsx("style",{children:`
                .app-bg {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    pointer-events: none; /* Ne bloque pas les clics */
                    z-index: 0; /* Derrire tout le contenu */
                    overflow: hidden;
                }

                /* Fond noir de base */
                .bg-dark {
                    position: absolute;
                    width: 100%;
                    height: 100%;
                    background-color: #0a0a0a; /* noir profond */
                }

                /* Nuances vert fonc en overlay */
                .bg-green-overlay {
                    position: absolute;
                    width: 100%;
                    height: 100%;
                    background: radial-gradient(circle at 20% 30%, #064e3b, transparent 70%),
                                radial-gradient(circle at 80% 70%, #065f46, transparent 70%);
                    opacity: 0.4; /* ajuste lintensit */
                }
                `}),X.jsxs("div",{className:"app-bg","aria-hidden":"true",children:[X.jsx("div",{className:"bg-dark"}),X.jsx("div",{className:"bg-green-overlay"})]})]})}function tI({text:r}){return X.jsx("div",{style:eI.container,children:r})}const eI={container:{textAlign:"center",fontSize:"32px",fontWeight:"600",color:"white",paddingTop:"50px",paddingBottom:"10px",fontFamily:"'Rale way', sans-serif",letterSpacing:"1.5px",textTransform:"uppercase",opacity:.9}};function nI(){const{selectedSeason:r}=km(),[t,i]=Le.useState([]),[a,o]=Le.useState(!0),[h,d]=Le.useState(null);Le.useEffect(()=>{if(!r)return;(async()=>{o(!0);try{const G=(await Rm(bm(Lm,`seasons/${r}/players`))).docs.map($=>({id:$.id,...$.data()})).sort(($,nt)=>$.rank-nt.rank);i(G),d(null)}catch(O){console.error("Error loading players:",O)}finally{o(!1)}})()},[r]);const p=(S,O)=>S==="Winrate"?`${O}%`:O,_=S=>S===1?"rank-gold":S===2?"rank-silver":S===3?"rank-bronze":"rank-default",v=S=>S===1?"rank-gold":S===2?"rank-silver":S===3?"rank-bronze":"",A=S=>{d(h===S?null:S)};return a?X.jsx("div",{className:"ranking-container",children:X.jsxs("div",{className:"loading-state",children:[X.jsx("div",{className:"loading-spinner"}),X.jsx("p",{children:"Loading rankings..."})]})}):t.length===0?X.jsx("div",{className:"ranking-container",children:X.jsx("div",{className:"empty-state",children:X.jsx("p",{children:"No players found for this season."})})}):X.jsx("div",{className:"ranking-container",children:X.jsx("div",{className:"ranking-list",children:t.map(S=>{const O=h===S.id;return X.jsxs("div",{className:`ranking-item ${_(S.rank)} ${O?"expanded":""}`,onClick:()=>A(S.id),children:[X.jsxs("div",{className:"ranking-item-main",children:[X.jsx("div",{className:"rank-badge",children:X.jsx("span",{className:"rank-number",children:S.rank})}),X.jsx("div",{className:"player-info",children:X.jsx("h3",{className:"player-name",children:S.name})}),X.jsxs("div",{className:"player-points",children:[X.jsxs("div",{className:"points-group",children:[X.jsx("span",{className:`points-value ${v(S.rank)}`,children:S.points||0}),X.jsx("span",{className:"points-label",children:"Points"})]}),S.value!==void 0&&X.jsxs("div",{className:"value-group",children:[X.jsx("span",{className:`points-value ${v(S.rank)}`,children:S.value}),X.jsx("span",{className:"points-label",children:"Value"})]})]})]}),S.fame&&X.jsxs("p",{className:"player-fame",children:[" ",S.fame," "]}),O&&X.jsx("div",{className:"ranking-item-details",children:X.jsx("div",{className:"stats-grid",children:[["Winrate",S.winrate],["Matches",S.matches],["Wins",S.wins],["Losses",S.losses],["Draws",S.draws],["Bonus 5 Goal",S.bonus5goal]].map(([G,$],nt)=>X.jsxs("div",{className:"stat-item",children:[X.jsx("span",{className:"stat-label",children:G}),X.jsx("span",{className:"stat-value",children:p(G,$)})]},nt))})})]},S.id)})})})}function KT({title:r,children:t}){return X.jsxs("div",{style:Gv.container,children:[r&&X.jsx("h2",{style:Gv.title,children:r}),X.jsx("div",{children:t})]})}const Gv={container:{padding:"100px 20px",minHeight:"100vh",background:"transparent",color:"inherit",zIndex:1,position:"relative"},title:{textAlign:"center",marginBottom:"30px"}};function iI(){return X.jsx(KT,{title:"Match History",children:X.jsx("p",{children:"Coming soon: list of past matches here."})})}function sI(){return X.jsx(KT,{title:"Statistics",children:X.jsx("p",{children:"Coming soon: global and player statistics."})})}function rI(){const{selectedSeason:r}=km(),[t,i]=Le.useState([]),[a,o]=Le.useState([]),[h,d]=Le.useState([]),[p,_]=Le.useState(!0);Le.useEffect(()=>{if(!r)return;(async()=>{_(!0);try{const G=(await Rm(bm(Lm,`seasons/${r}/players`))).docs.map($=>({id:$.id,...$.data()}));i(G)}catch(O){console.error("Error loading players:",O)}finally{_(!1)}})()},[r]);const v=S=>{o(O=>O.find(G=>G.id===S.id)?O.filter(G=>G.id!==S.id):[...O,S])},A=()=>{if(a.length<2)return;let S=[...a].sort(()=>Math.random()-.5),O=[],G=[];S.forEach(($,nt)=>{nt%2===0?O.push($):G.push($)}),d([O,G])};return p?X.jsx("div",{className:"draw-container",children:X.jsxs("div",{className:"loading-state",children:[X.jsx("div",{className:"loading-spinner"}),X.jsx("p",{children:"Loading players..."})]})}):t.length===0?X.jsx("div",{className:"draw-container",children:X.jsxs("div",{className:"empty-state",children:[X.jsx("div",{className:"empty-state-icon",children:""}),X.jsx("p",{children:"No players found for this season."})]})}):X.jsxs("div",{className:"draw-container",children:[X.jsx("div",{className:"players-grid",children:t.map(S=>{const O=a.find(G=>G.id===S.id);return X.jsxs("button",{className:`player-card ${O?"selected":""}`,onClick:()=>v(S),onBlur:G=>{O||G.currentTarget.blur()},children:[X.jsx("h4",{className:"player-card-name",children:S.name}),X.jsx("span",{className:"player-card-value",children:S.value})]},S.id)})}),X.jsx("div",{className:"generate-section",children:X.jsxs("button",{className:"generate-button",onClick:A,disabled:a.length<2,children:["Generate Teams",a.length>0&&X.jsx("span",{className:"selected-count",children:a.length})]})}),h.length===2&&X.jsxs("div",{className:"teams-container",children:[X.jsxs("div",{className:"team-card team-1",children:[X.jsxs("div",{className:"team-header",children:[X.jsx("h3",{className:"team-title",children:"Team 1"}),X.jsx("div",{className:"team-total",children:h[0].reduce((S,O)=>S+O.value,0).toFixed(2)})]}),X.jsx("ul",{className:"team-players",children:h[0].map(S=>X.jsxs("li",{className:"team-player-item",children:[X.jsx("span",{className:"team-player-name",children:S.name}),X.jsx("span",{className:"team-player-value",children:S.value})]},S.id))})]}),X.jsxs("div",{className:"team-card team-2",children:[X.jsxs("div",{className:"team-header",children:[X.jsx("h3",{className:"team-title",children:"Team 2"}),X.jsx("div",{className:"team-total",children:h[1].reduce((S,O)=>S+O.value,0).toFixed(2)})]}),X.jsx("ul",{className:"team-players",children:h[1].map(S=>X.jsxs("li",{className:"team-player-item",children:[X.jsx("span",{className:"team-player-name",children:S.name}),X.jsx("span",{className:"team-player-value",children:S.value})]},S.id))})]})]})]})}function aI(){return X.jsxs(X2,{children:[X.jsx(W2,{}),X.jsx($2,{}),X.jsxs("main",{style:{position:"relative",zIndex:1},children:[X.jsx(tI,{text:"Football Sanci"}),X.jsx("section",{id:"ranking",children:X.jsx(nI,{})}),X.jsx("section",{id:"history",children:X.jsx(iI,{})}),X.jsx("section",{id:"statistics",children:X.jsx(sI,{})}),X.jsx("section",{id:"draw",children:X.jsx(rI,{})})]}),X.jsx(Z2,{})]})}xS.createRoot(document.getElementById("root")).render(X.jsx(Le.StrictMode,{children:X.jsx(aI,{})}));
