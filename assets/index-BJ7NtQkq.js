(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Qd={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function Rb(){if(av)return Cl;av=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=t,Cl.jsx=n,Cl.jsxs=n,Cl}var ov;function Ib(){return ov||(ov=1,Qd.exports=Rb()),Qd.exports}var b=Ib(),Xd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function Cb(){if(lv)return wt;lv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function P(x){return x===null||typeof x!="object"?null:(x=R&&x[R]||x["@@iterator"],typeof x=="function"?x:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Q={};function at(x,K,it){this.props=x,this.context=K,this.refs=Q,this.updater=it||G}at.prototype.isReactComponent={},at.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},at.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function pt(){}pt.prototype=at.prototype;function ut(x,K,it){this.props=x,this.context=K,this.refs=Q,this.updater=it||G}var St=ut.prototype=new pt;St.constructor=ut,W(St,at.prototype),St.isPureReactComponent=!0;var Bt=Array.isArray;function xt(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(x,K,it){var et=it.ref;return{$$typeof:s,type:x,key:K,ref:et!==void 0?et:null,props:it}}function V(x,K){return N(x.type,K,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function L(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(it){return K[it]})}var I=/\/+/g;function ie(x,K){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):K.toString(36)}function bt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(xt,xt):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function B(x,K,it,et,ft){var gt=typeof x;(gt==="undefined"||gt==="boolean")&&(x=null);var _t=!1;if(x===null)_t=!0;else switch(gt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(x.$$typeof){case s:case t:_t=!0;break;case E:return _t=x._init,B(_t(x._payload),K,it,et,ft)}}if(_t)return ft=ft(x),_t=et===""?"."+ie(x,0):et,Bt(ft)?(it="",_t!=null&&(it=_t.replace(I,"$&/")+"/"),B(ft,K,it,"",function(Nn){return Nn})):ft!=null&&(M(ft)&&(ft=V(ft,it+(ft.key==null||x&&x.key===ft.key?"":(""+ft.key).replace(I,"$&/")+"/")+_t)),K.push(ft)),1;_t=0;var Zt=et===""?".":et+":";if(Bt(x))for(var Yt=0;Yt<x.length;Yt++)et=x[Yt],gt=Zt+ie(et,Yt),_t+=B(et,K,it,gt,ft);else if(Yt=P(x),typeof Yt=="function")for(x=Yt.call(x),Yt=0;!(et=x.next()).done;)et=et.value,gt=Zt+ie(et,Yt++),_t+=B(et,K,it,gt,ft);else if(gt==="object"){if(typeof x.then=="function")return B(bt(x),K,it,et,ft);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Z(x,K,it){if(x==null)return x;var et=[],ft=0;return B(x,et,"","",function(gt){return K.call(it,gt,ft++)}),et}function rt(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(it){(x._status===0||x._status===-1)&&(x._status=1,x._result=it)},function(it){(x._status===0||x._status===-1)&&(x._status=2,x._result=it)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var vt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},It={map:Z,forEach:function(x,K,it){Z(x,function(){K.apply(this,arguments)},it)},count:function(x){var K=0;return Z(x,function(){K++}),K},toArray:function(x){return Z(x,function(K){return K})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return wt.Activity=A,wt.Children=It,wt.Component=at,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=ut,wt.StrictMode=r,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,wt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},wt.cache=function(x){return function(){return x.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(x,K,it){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var et=W({},x.props),ft=x.key;if(K!=null)for(gt in K.key!==void 0&&(ft=""+K.key),K)!w.call(K,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&K.ref===void 0||(et[gt]=K[gt]);var gt=arguments.length-2;if(gt===1)et.children=it;else if(1<gt){for(var _t=Array(gt),Zt=0;Zt<gt;Zt++)_t[Zt]=arguments[Zt+2];et.children=_t}return N(x.type,ft,et)},wt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},wt.createElement=function(x,K,it){var et,ft={},gt=null;if(K!=null)for(et in K.key!==void 0&&(gt=""+K.key),K)w.call(K,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ft[et]=K[et]);var _t=arguments.length-2;if(_t===1)ft.children=it;else if(1<_t){for(var Zt=Array(_t),Yt=0;Yt<_t;Yt++)Zt[Yt]=arguments[Yt+2];ft.children=Zt}if(x&&x.defaultProps)for(et in _t=x.defaultProps,_t)ft[et]===void 0&&(ft[et]=_t[et]);return N(x,gt,ft)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(x){return{$$typeof:m,render:x}},wt.isValidElement=M,wt.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:rt}},wt.memo=function(x,K){return{$$typeof:g,type:x,compare:K===void 0?null:K}},wt.startTransition=function(x){var K=D.T,it={};D.T=it;try{var et=x(),ft=D.S;ft!==null&&ft(it,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(xt,vt)}catch(gt){vt(gt)}finally{K!==null&&it.types!==null&&(K.types=it.types),D.T=K}},wt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},wt.use=function(x){return D.H.use(x)},wt.useActionState=function(x,K,it){return D.H.useActionState(x,K,it)},wt.useCallback=function(x,K){return D.H.useCallback(x,K)},wt.useContext=function(x){return D.H.useContext(x)},wt.useDebugValue=function(){},wt.useDeferredValue=function(x,K){return D.H.useDeferredValue(x,K)},wt.useEffect=function(x,K){return D.H.useEffect(x,K)},wt.useEffectEvent=function(x){return D.H.useEffectEvent(x)},wt.useId=function(){return D.H.useId()},wt.useImperativeHandle=function(x,K,it){return D.H.useImperativeHandle(x,K,it)},wt.useInsertionEffect=function(x,K){return D.H.useInsertionEffect(x,K)},wt.useLayoutEffect=function(x,K){return D.H.useLayoutEffect(x,K)},wt.useMemo=function(x,K){return D.H.useMemo(x,K)},wt.useOptimistic=function(x,K){return D.H.useOptimistic(x,K)},wt.useReducer=function(x,K,it){return D.H.useReducer(x,K,it)},wt.useRef=function(x){return D.H.useRef(x)},wt.useState=function(x){return D.H.useState(x)},wt.useSyncExternalStore=function(x,K,it){return D.H.useSyncExternalStore(x,K,it)},wt.useTransition=function(){return D.H.useTransition()},wt.version="19.2.0",wt}var uv;function qm(){return uv||(uv=1,Xd.exports=Cb()),Xd.exports}var nt=qm(),$d={exports:{}},Nl={},Zd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function Nb(){return cv||(cv=1,(function(s){function t(B,Z){var rt=B.length;B.push(Z);t:for(;0<rt;){var vt=rt-1>>>1,It=B[vt];if(0<o(It,Z))B[vt]=Z,B[rt]=It,rt=vt;else break t}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Z=B[0],rt=B.pop();if(rt!==Z){B[0]=rt;t:for(var vt=0,It=B.length,x=It>>>1;vt<x;){var K=2*(vt+1)-1,it=B[K],et=K+1,ft=B[et];if(0>o(it,rt))et<It&&0>o(ft,it)?(B[vt]=ft,B[et]=rt,vt=et):(B[vt]=it,B[K]=rt,vt=K);else if(et<It&&0>o(ft,rt))B[vt]=ft,B[et]=rt,vt=et;else break t}}return Z}function o(B,Z){var rt=B.sortIndex-Z.sortIndex;return rt!==0?rt:B.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var y=[],g=[],E=1,A=null,R=3,P=!1,G=!1,W=!1,Q=!1,at=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function St(B){for(var Z=n(g);Z!==null;){if(Z.callback===null)r(g);else if(Z.startTime<=B)r(g),Z.sortIndex=Z.expirationTime,t(y,Z);else break;Z=n(g)}}function Bt(B){if(W=!1,St(B),!G)if(n(y)!==null)G=!0,xt||(xt=!0,L());else{var Z=n(g);Z!==null&&bt(Bt,Z.startTime-B)}}var xt=!1,D=-1,w=5,N=-1;function V(){return Q?!0:!(s.unstable_now()-N<w)}function M(){if(Q=!1,xt){var B=s.unstable_now();N=B;var Z=!0;try{t:{G=!1,W&&(W=!1,pt(D),D=-1),P=!0;var rt=R;try{e:{for(St(B),A=n(y);A!==null&&!(A.expirationTime>B&&V());){var vt=A.callback;if(typeof vt=="function"){A.callback=null,R=A.priorityLevel;var It=vt(A.expirationTime<=B);if(B=s.unstable_now(),typeof It=="function"){A.callback=It,St(B),Z=!0;break e}A===n(y)&&r(y),St(B)}else r(y);A=n(y)}if(A!==null)Z=!0;else{var x=n(g);x!==null&&bt(Bt,x.startTime-B),Z=!1}}break t}finally{A=null,R=rt,P=!1}Z=void 0}}finally{Z?L():xt=!1}}}var L;if(typeof ut=="function")L=function(){ut(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ie=I.port2;I.port1.onmessage=M,L=function(){ie.postMessage(null)}}else L=function(){at(M,0)};function bt(B,Z){D=at(function(){B(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(B){switch(R){case 1:case 2:case 3:var Z=3;break;default:Z=R}var rt=R;R=Z;try{return B()}finally{R=rt}},s.unstable_requestPaint=function(){Q=!0},s.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var rt=R;R=B;try{return Z()}finally{R=rt}},s.unstable_scheduleCallback=function(B,Z,rt){var vt=s.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?vt+rt:vt):rt=vt,B){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=rt+It,B={id:E++,callback:Z,priorityLevel:B,startTime:rt,expirationTime:It,sortIndex:-1},rt>vt?(B.sortIndex=rt,t(g,B),n(y)===null&&B===n(g)&&(W?(pt(D),D=-1):W=!0,bt(Bt,rt-vt))):(B.sortIndex=It,t(y,B),G||P||(G=!0,xt||(xt=!0,L()))),B},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(B){var Z=R;return function(){var rt=R;R=Z;try{return B.apply(this,arguments)}finally{R=rt}}}})(Jd)),Jd}var hv;function Db(){return hv||(hv=1,Zd.exports=Nb()),Zd.exports}var Wd={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function xb(){if(fv)return $e;fv=1;var s=qm();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:g,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$e.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,E)},$e.flushSync=function(y){var g=f.T,E=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=g,r.p=E,r.d.f()}},$e.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},$e.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},$e.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:P}):E==="script"&&r.d.X(y,{crossOrigin:A,integrity:R,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$e.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},$e.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);r.d.L(y,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$e.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},$e.requestFormReset=function(y){r.d.r(y)},$e.unstable_batchedUpdates=function(y,g){return y(g)},$e.useFormState=function(y,g,E){return f.H.useFormState(y,g,E)},$e.useFormStatus=function(){return f.H.useHostTransitionStatus()},$e.version="19.2.0",$e}var dv;function Ob(){if(dv)return Wd.exports;dv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Wd.exports=xb(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function Mb(){if(mv)return Nl;mv=1;var s=Db(),t=qm(),n=Ob();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(r(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),e;if(d===l)return y(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),Bt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case at:return"Profiler";case Q:return"StrictMode";case Bt:return"Suspense";case xt:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case ut:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case St:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:ie(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return ie(e(i))}catch{}}return null}var bt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},vt=[],It=-1;function x(e){return{current:e}}function K(e){0>It||(e.current=vt[It],vt[It]=null,It--)}function it(e,i){It++,vt[It]=e.current,e.current=i}var et=x(null),ft=x(null),gt=x(null),_t=x(null);function Zt(e,i){switch(it(gt,i),it(ft,e),it(et,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?N_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=N_(i),e=D_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(et),it(et,e)}function Yt(){K(et),K(ft),K(gt)}function Nn(e){e.memoizedState!==null&&it(_t,e);var i=et.current,a=D_(i,e.type);i!==a&&(it(ft,e),it(et,a))}function Kn(e){ft.current===e&&(K(et),K(ft)),_t.current===e&&(K(_t),bl._currentValue=rt)}var Bi,Hi;function yn(e){if(Bi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Bi=i&&i[1]||"",Hi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bi+e+Hi}var gs=!1;function qi(e,i){if(!e||gs)return"";gs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var H=F}Reflect.construct(e,[],$)}else{try{$.call()}catch(F){H=F}e.call($.prototype)}}else{try{throw Error()}catch(F){H=F}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),j=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var Y=`
`+C[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{gs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?yn(a):""}function wo(e,i){switch(e.tag){case 26:case 27:case 5:return yn(e.type);case 16:return yn("Lazy");case 13:return e.child!==i&&i!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return qi(e.type,!1);case 11:return qi(e.type.render,!1);case 1:return qi(e.type,!0);case 31:return yn("Activity");default:return""}}function Ro(e){try{var i="",a=null;do i+=wo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,ys=s.unstable_cancelCallback,Xh=s.unstable_shouldYield,fu=s.unstable_requestPaint,en=s.unstable_now,Er=s.unstable_getCurrentPriorityLevel,Io=s.unstable_ImmediatePriority,Co=s.unstable_UserBlockingPriority,_s=s.unstable_NormalPriority,$h=s.unstable_LowPriority,du=s.unstable_IdlePriority,mu=s.log,pu=s.unstable_setDisableYieldValue,Yn=null,Be=null;function Dn(e){if(typeof mu=="function"&&pu(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Yn,e)}catch{}}var de=Math.clz32?Math.clz32:yu,gu=Math.log,ca=Math.LN2;function yu(e){return e>>>=0,e===0?32:31-(gu(e)/ca|0)|0}var li=256,Tr=262144,Ee=4194304;function ui(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ui(l):(_&=T,_!==0?h=ui(_):a||(a=T&~e,a!==0&&(h=ui(a))))):(T=l&~d,T!==0?h=ui(T):_!==0?h=ui(_):a||(a=l&~e,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Qn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Zh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function hi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Sr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-de(a),$=1<<Y;T[Y]=0,C[Y]=-1;var H=j[Y];if(H!==null)for(j[Y]=null,Y=0;Y<H.length;Y++){var F=H[Y];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&Ar(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Ar(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-de(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function No(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-de(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Do(e,i){var a=i&-i;return a=(a&42)!==0?1:br(a),(a&(e.suspendedLanes|i))!==0?0:a}function br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vu(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:W_(e.type))}function Xn(e,i){var a=Z.p;try{return Z.p=e,i()}finally{Z.p=a}}var $n=Math.random().toString(36).slice(2),Te="__reactFiber$"+$n,ke="__reactProps$"+$n,fi="__reactContainer$"+$n,ha="__reactEvents$"+$n,Wh="__reactListeners$"+$n,Eu="__reactHandles$"+$n,Tu="__reactResources$"+$n,di="__reactMarker$"+$n;function fa(e){delete e[Te],delete e[ke],delete e[ha],delete e[Wh],delete e[Eu]}function mi(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[fi]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=P_(e);e!==null;){if(a=e[Te])return a;e=P_(e)}return i}e=a,a=e.parentNode}return null}function xn(e){if(e=e[Te]||e[fi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _n(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function pi(e){var i=e[Tu];return i||(i=e[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Se(e){e[di]=!0}var xo=new Set,Oo={};function gi(e,i){yi(e,i),yi(e+"Capture",i)}function yi(e,i){for(Oo[e]=i,e=0;e<i.length;e++)xo.add(i[e])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},ko={};function Su(e){return ve.call(ko,e)?!0:ve.call(Vo,e)?!1:Mo.test(e)?ko[e]=!0:(Vo[e]=!0,!1)}function da(e,i,a){if(Su(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function vn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ae(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vs(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=vs(e)?"checked":"value";e._valueTracker=Lo(e,i,""+e[i])}}function wr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=vs(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rr=/[\n"\\]/g;function ln(e){return e.replace(Rr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ma(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Po(e,_,Le(i)):a!=null?Po(e,_,Le(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Le(T):e.removeAttribute("name")}function Au(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function Po(e,i,a){i==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Es(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function bu(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function Ts(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(bt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Qt(e)}function un(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||wu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function zo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Uo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Uo(e,d,i[d])}function pa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(e){return Ss.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var jo=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,vi=null;function Ir(e){var i=xn(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(ma(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ke]||null;if(!h)throw Error(r(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&wr(l)}break t;case"textarea":bu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Es(e,!!a.multiple,i,!1)}}}var ya=!1;function bs(e,i,a){if(ya)return e(i,a);ya=!0;try{var l=e(i);return l}finally{if(ya=!1,(As!==null||vi!==null)&&(vc(),As&&(i=As,e=vi,vi=As=null,Ir(i),e)))for(i=0;i<e.length;i++)Ir(e[i])}}function Jn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ke]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Mn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Cr=!1}var Ei=null,Bo=null,Nr=null;function Ho(){if(Nr)return Nr;var e,i=Bo,a=i.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Nr=h.slice(e,1<l?1-l:void 0)}function Dr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function Wn(){return!1}function He(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:Wn,this.isPropagationStopped=Wn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),i}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=He(Ki),ws=A({},Ki,{view:0,detail:0}),qo=He(ws),Rs,_a,Si,va=A({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(Rs=e.screenX-Si.screenX,_a=e.screenY-Si.screenY):_a=Rs=0,Si=e),Rs)},movementY:function(e){return"movementY"in e?e.movementY:_a}}),Fo=He(va),xr=A({},va,{dataTransfer:0}),Iu=He(xr),Cu=A({},ws,{relatedTarget:0}),Or=He(Cu),Go=A({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=He(Go),Ea=A({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Du=He(Ea),xu=A({},Ki,{data:0}),Ai=He(xu),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Vu[e])?!!i[e]:!1}function Is(){return ku}var nn=A({},ws,{key:function(e){if(e.key){var i=Ou[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(e){return e.type==="keypress"?Dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lu=He(nn),Pu=A({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=He(Pu),c=A({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),p=He(c),v=A({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=He(v),U=A({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=He(U),st=A({},Ki,{newState:0,oldState:0}),Ct=He(st),me=[9,13,27,32],Ft=Mn&&"CompositionEvent"in window,le=null;Mn&&"documentMode"in document&&(le=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!le,bi=Mn&&(!Ft||le&&8<le&&11>=le),ti=" ",ei=!1;function Mr(e,i){switch(e){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function $S(e,i){switch(e){case"compositionend":return Ta(i);case"keypress":return i.which!==32?null:(ei=!0,ti);case"textInput":return e=i.data,e===ti&&ei?null:e;default:return null}}function ZS(e,i){if(Sa)return e==="compositionend"||!Ft&&Mr(e,i)?(e=Ho(),Nr=Bo=Ei=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var JS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!JS[e.type]:i==="textarea"}function Bp(e,i,a,l){As?vi?vi.push(l):vi=[l]:As=l,i=Rc(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ko=null,Yo=null;function WS(e){A_(e,0)}function Uu(e){var i=_n(e);if(wr(i))return e}function Hp(e,i){if(e==="change")return i}var qp=!1;if(Mn){var tf;if(Mn){var ef="oninput"in document;if(!ef){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),ef=typeof Fp.oninput=="function"}tf=ef}else tf=!1;qp=tf&&(!document.documentMode||9<document.documentMode)}function Gp(){Ko&&(Ko.detachEvent("onpropertychange",Kp),Yo=Ko=null)}function Kp(e){if(e.propertyName==="value"&&Uu(Yo)){var i=[];Bp(i,Yo,e,On(e)),bs(WS,i)}}function tA(e,i,a){e==="focusin"?(Gp(),Ko=i,Yo=a,Ko.attachEvent("onpropertychange",Kp)):e==="focusout"&&Gp()}function eA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(Yo)}function nA(e,i){if(e==="click")return Uu(i)}function iA(e,i){if(e==="input"||e==="change")return Uu(i)}function sA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:sA;function Qo(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ve.call(i,h)||!En(e[h],i[h]))return!1}return!0}function Yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qp(e,i){var a=Yp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Yp(a)}}function Xp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Xp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function $p(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=_i(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=_i(e.document)}return i}function nf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var rA=Mn&&"documentMode"in document&&11>=document.documentMode,Aa=null,sf=null,Xo=null,rf=!1;function Zp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rf||Aa==null||Aa!==_i(l)||(l=Aa,"selectionStart"in l&&nf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Qo(Xo,l)||(Xo=l,l=Rc(sf,"onSelect"),0<l.length&&(i=new Ti("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Aa)))}function Vr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ba={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},af={},Jp={};Mn&&(Jp=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function kr(e){if(af[e])return af[e];if(!ba[e])return e;var i=ba[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Jp)return af[e]=i[a];return e}var Wp=kr("animationend"),tg=kr("animationiteration"),eg=kr("animationstart"),aA=kr("transitionrun"),oA=kr("transitionstart"),lA=kr("transitioncancel"),ng=kr("transitionend"),ig=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function ni(e,i){ig.set(e,i),gi(i,[e])}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],wa=0,lf=0;function ju(){for(var e=wa,i=lf=wa=0;i<e;){var a=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var h=kn[i];kn[i++]=null;var d=kn[i];if(kn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&sg(a,h,d)}}function Bu(e,i,a,l){kn[wa++]=e,kn[wa++]=i,kn[wa++]=a,kn[wa++]=l,lf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function uf(e,i,a,l){return Bu(e,i,a,l),Hu(e)}function Lr(e,i){return Bu(e,null,null,i),Hu(e)}function sg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-de(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Hu(e){if(50<yl)throw yl=0,_d=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ra={};function uA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,i,a,l){return new uA(e,i,a,l)}function cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,i){var a=e.alternate;return a===null?(a=Tn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function rg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function qu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")cf(e)&&(_=1);else if(typeof e=="string")_=mb(e,a,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=Tn(31,a,i,h),e.elementType=N,e.lanes=d,e;case W:return Pr(a.children,h,d,i);case Q:_=8,h|=24;break;case at:return e=Tn(12,a,i,h|2),e.elementType=at,e.lanes=d,e;case Bt:return e=Tn(13,a,i,h),e.elementType=Bt,e.lanes=d,e;case xt:return e=Tn(19,a,i,h),e.elementType=xt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:_=10;break t;case pt:_=9;break t;case St:_=11;break t;case D:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=Tn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Pr(e,i,a,l){return e=Tn(7,e,l,i),e.lanes=a,e}function hf(e,i,a){return e=Tn(6,e,null,i),e.lanes=a,e}function ag(e){var i=Tn(18,null,null,0);return i.stateNode=e,i}function ff(e,i,a){return i=Tn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var og=new WeakMap;function Ln(e,i){if(typeof e=="object"&&e!==null){var a=og.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ro(i)},og.set(e,i),i)}return{value:e,source:i,stack:Ro(i)}}var Ia=[],Ca=0,Fu=null,$o=0,Pn=[],Un=0,Cs=null,wi=1,Ri="";function Xi(e,i){Ia[Ca++]=$o,Ia[Ca++]=Fu,Fu=e,$o=i}function lg(e,i,a){Pn[Un++]=wi,Pn[Un++]=Ri,Pn[Un++]=Cs,Cs=e;var l=wi;e=Ri;var h=32-de(l)-1;l&=~(1<<h),a+=1;var d=32-de(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-de(i)+h|a<<h|l,Ri=d+e}else wi=1<<d|a<<h|l,Ri=e}function df(e){e.return!==null&&(Xi(e,1),lg(e,1,0))}function mf(e){for(;e===Fu;)Fu=Ia[--Ca],Ia[Ca]=null,$o=Ia[--Ca],Ia[Ca]=null;for(;e===Cs;)Cs=Pn[--Un],Pn[Un]=null,Ri=Pn[--Un],Pn[Un]=null,wi=Pn[--Un],Pn[Un]=null}function ug(e,i){Pn[Un++]=wi,Pn[Un++]=Ri,Pn[Un++]=Cs,wi=i.id,Ri=i.overflow,Cs=e}var qe=null,se=null,zt=!1,Ns=null,zn=!1,pf=Error(r(519));function Ds(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Ln(i,e)),pf}function cg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Te]=e,i[ke]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<vl.length;a++)Mt(vl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Au(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),Ts(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||I_(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||Ds(e,!0)}function hg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:qe=qe.return}}function Na(e){if(e!==qe)return!1;if(!zt)return hg(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Md(e.type,e.memoizedProps)),a=!a),a&&se&&Ds(e),hg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=L_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=L_(e)}else i===27?(i=se,Fs(e.type)?(e=Ud,Ud=null,se=e):se=i):se=qe?Bn(e.stateNode.nextSibling):null;return!0}function Ur(){se=qe=null,zt=!1}function gf(){var e=Ns;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Ns=null),e}function Zo(e){Ns===null?Ns=[e]:Ns.push(e)}var yf=x(null),zr=null,$i=null;function xs(e,i,a){it(yf,i._currentValue),i._currentValue=a}function Zi(e){e._currentValue=yf.current,K(yf)}function _f(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function vf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),_f(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),_f(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Da(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;En(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===_t.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}h=h.return}e!==null&&vf(i,e,a,l),i.flags|=262144}function Gu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jr(e){zr=e,$i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return fg(zr,e)}function Ku(e,i){return zr===null&&jr(e),fg(e,i)}function fg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(e===null)throw Error(r(308));$i=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else $i=$i.next=i;return a}var cA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},hA=s.unstable_scheduleCallback,fA=s.unstable_NormalPriority,be={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new cA,data:new Map,refCount:0}}function Jo(e){e.refCount--,e.refCount===0&&hA(fA,function(){e.controller.abort()})}var Wo=null,Tf=0,xa=0,Oa=null;function dA(e,i){if(Wo===null){var a=Wo=[];Tf=0,xa=bd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Tf++,i.then(dg,dg),i}function dg(){if(--Tf===0&&Wo!==null){Oa!==null&&(Oa.status="fulfilled");var e=Wo;Wo=null,xa=0,Oa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function mA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var mg=B.S;B.S=function(e,i){Zy=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&dA(e,i),mg!==null&&mg(e,i)};var Br=x(null);function Sf(){var e=Br.current;return e!==null?e:ne.pooledCache}function Yu(e,i){i===null?it(Br,Br.current):it(Br,i.pool)}function pg(){var e=Sf();return e===null?null:{parent:be._currentValue,pool:e}}var Ma=Error(r(460)),Af=Error(r(474)),Qu=Error(r(542)),Xu={then:function(){}};function gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Zn,Zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,vg(e),e;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,vg(e),e}throw qr=i,Ma}}function Hr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qr=a,Ma):a}}var qr=null;function _g(){if(qr===null)throw Error(r(459));var e=qr;return qr=null,e}function vg(e){if(e===Ma||e===Qu)throw Error(r(483))}var Va=null,tl=0;function $u(e){var i=tl;return tl+=1,Va===null&&(Va=[]),yg(Va,e,i)}function el(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Zu(e,i){throw i.$$typeof===R?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Eg(e){function i(k,O){if(e){var z=k.deletions;z===null?(k.deletions=[O],k.flags|=16):z.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Qi(k,O),k.index=0,k.sibling=null,k}function d(k,O,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<O?(k.flags|=67108866,O):z):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,z,X){return O===null||O.tag!==6?(O=hf(z,k.mode,X),O.return=k,O):(O=h(O,z),O.return=k,O)}function C(k,O,z,X){var dt=z.type;return dt===W?Y(k,O,z.props.children,X,z.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&Hr(dt)===O.type)?(O=h(O,z.props),el(O,z),O.return=k,O):(O=qu(z.type,z.key,z.props,null,k.mode,X),el(O,z),O.return=k,O)}function j(k,O,z,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=ff(z,k.mode,X),O.return=k,O):(O=h(O,z.children||[]),O.return=k,O)}function Y(k,O,z,X,dt){return O===null||O.tag!==7?(O=Pr(z,k.mode,X,dt),O.return=k,O):(O=h(O,z),O.return=k,O)}function $(k,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=hf(""+O,k.mode,z),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return z=qu(O.type,O.key,O.props,null,k.mode,z),el(z,O),z.return=k,z;case G:return O=ff(O,k.mode,z),O.return=k,O;case w:return O=Hr(O),$(k,O,z)}if(bt(O)||L(O))return O=Pr(O,k.mode,z,null),O.return=k,O;if(typeof O.then=="function")return $(k,$u(O),z);if(O.$$typeof===ut)return $(k,Ku(k,O),z);Zu(k,O)}return null}function H(k,O,z,X){var dt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:T(k,O,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===dt?C(k,O,z,X):null;case G:return z.key===dt?j(k,O,z,X):null;case w:return z=Hr(z),H(k,O,z,X)}if(bt(z)||L(z))return dt!==null?null:Y(k,O,z,X,null);if(typeof z.then=="function")return H(k,O,$u(z),X);if(z.$$typeof===ut)return H(k,O,Ku(k,z),X);Zu(k,z)}return null}function F(k,O,z,X,dt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(z)||null,T(O,k,""+X,dt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return k=k.get(X.key===null?z:X.key)||null,C(O,k,X,dt);case G:return k=k.get(X.key===null?z:X.key)||null,j(O,k,X,dt);case w:return X=Hr(X),F(k,O,z,X,dt)}if(bt(X)||L(X))return k=k.get(z)||null,Y(O,k,X,dt,null);if(typeof X.then=="function")return F(k,O,z,$u(X),dt);if(X.$$typeof===ut)return F(k,O,z,Ku(O,X),dt);Zu(O,X)}return null}function lt(k,O,z,X){for(var dt=null,Ht=null,ht=O,Dt=O=0,kt=null;ht!==null&&Dt<z.length;Dt++){ht.index>Dt?(kt=ht,ht=null):kt=ht.sibling;var qt=H(k,ht,z[Dt],X);if(qt===null){ht===null&&(ht=kt);break}e&&ht&&qt.alternate===null&&i(k,ht),O=d(qt,O,Dt),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt,ht=kt}if(Dt===z.length)return a(k,ht),zt&&Xi(k,Dt),dt;if(ht===null){for(;Dt<z.length;Dt++)ht=$(k,z[Dt],X),ht!==null&&(O=d(ht,O,Dt),Ht===null?dt=ht:Ht.sibling=ht,Ht=ht);return zt&&Xi(k,Dt),dt}for(ht=l(ht);Dt<z.length;Dt++)kt=F(ht,k,Dt,z[Dt],X),kt!==null&&(e&&kt.alternate!==null&&ht.delete(kt.key===null?Dt:kt.key),O=d(kt,O,Dt),Ht===null?dt=kt:Ht.sibling=kt,Ht=kt);return e&&ht.forEach(function(Xs){return i(k,Xs)}),zt&&Xi(k,Dt),dt}function yt(k,O,z,X){if(z==null)throw Error(r(151));for(var dt=null,Ht=null,ht=O,Dt=O=0,kt=null,qt=z.next();ht!==null&&!qt.done;Dt++,qt=z.next()){ht.index>Dt?(kt=ht,ht=null):kt=ht.sibling;var Xs=H(k,ht,qt.value,X);if(Xs===null){ht===null&&(ht=kt);break}e&&ht&&Xs.alternate===null&&i(k,ht),O=d(Xs,O,Dt),Ht===null?dt=Xs:Ht.sibling=Xs,Ht=Xs,ht=kt}if(qt.done)return a(k,ht),zt&&Xi(k,Dt),dt;if(ht===null){for(;!qt.done;Dt++,qt=z.next())qt=$(k,qt.value,X),qt!==null&&(O=d(qt,O,Dt),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt);return zt&&Xi(k,Dt),dt}for(ht=l(ht);!qt.done;Dt++,qt=z.next())qt=F(ht,k,Dt,qt.value,X),qt!==null&&(e&&qt.alternate!==null&&ht.delete(qt.key===null?Dt:qt.key),O=d(qt,O,Dt),Ht===null?dt=qt:Ht.sibling=qt,Ht=qt);return e&&ht.forEach(function(wb){return i(k,wb)}),zt&&Xi(k,Dt),dt}function ee(k,O,z,X){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:t:{for(var dt=z.key;O!==null;){if(O.key===dt){if(dt=z.type,dt===W){if(O.tag===7){a(k,O.sibling),X=h(O,z.props.children),X.return=k,k=X;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&Hr(dt)===O.type){a(k,O.sibling),X=h(O,z.props),el(X,z),X.return=k,k=X;break t}a(k,O);break}else i(k,O);O=O.sibling}z.type===W?(X=Pr(z.props.children,k.mode,X,z.key),X.return=k,k=X):(X=qu(z.type,z.key,z.props,null,k.mode,X),el(X,z),X.return=k,k=X)}return _(k);case G:t:{for(dt=z.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(k,O.sibling),X=h(O,z.children||[]),X.return=k,k=X;break t}else{a(k,O);break}else i(k,O);O=O.sibling}X=ff(z,k.mode,X),X.return=k,k=X}return _(k);case w:return z=Hr(z),ee(k,O,z,X)}if(bt(z))return lt(k,O,z,X);if(L(z)){if(dt=L(z),typeof dt!="function")throw Error(r(150));return z=dt.call(z),yt(k,O,z,X)}if(typeof z.then=="function")return ee(k,O,$u(z),X);if(z.$$typeof===ut)return ee(k,O,Ku(k,z),X);Zu(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(k,O.sibling),X=h(O,z),X.return=k,k=X):(a(k,O),X=hf(z,k.mode,X),X.return=k,k=X),_(k)):a(k,O)}return function(k,O,z,X){try{tl=0;var dt=ee(k,O,z,X);return Va=null,dt}catch(ht){if(ht===Ma||ht===Qu)throw ht;var Ht=Tn(29,ht,null,k.mode);return Ht.lanes=X,Ht.return=k,Ht}finally{}}}var Fr=Eg(!0),Tg=Eg(!1),Os=!1;function bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hu(e),sg(e,null,a),i}return Bu(e,l,i,a),Hu(e)}function nl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,No(e,a)}}function Rf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var If=!1;function il(){if(If){var e=Oa;if(e!==null)throw e}}function sl(e,i,a,l){If=!1;var h=e.updateQueue;Os=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,_===null?d=j:_.next=j,_=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=j:T.next=j,Y.lastBaseUpdate=C))}if(d!==null){var $=h.baseState;_=0,Y=j=C=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Vt&H)===H:(l&H)===H){H!==0&&H===xa&&(If=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,yt=T;H=i;var ee=a;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){$=lt.call(ee,$,H);break t}$=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,H=typeof lt=="function"?lt.call(ee,$,H):lt,H==null)break t;$=A({},$,H);break t;case 2:Os=!0}}H=T.callback,H!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(j=Y=F,C=$):Y=Y.next=F,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(C=$),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),zs|=_,e.lanes=_,e.memoizedState=$}}function Sg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Ag(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Sg(a[e],i)}var ka=x(null),Ju=x(0);function bg(e,i){e=as,it(Ju,e),it(ka,i),as=e|i.baseLanes}function Cf(){it(Ju,as),it(ka,ka.current)}function Nf(){as=Ju.current,K(ka),K(Ju)}var Sn=x(null),jn=null;function ks(e){var i=e.alternate;it(pe,pe.current&1),it(Sn,e),jn===null&&(i===null||ka.current!==null||i.memoizedState!==null)&&(jn=e)}function Df(e){it(pe,pe.current),it(Sn,e),jn===null&&(jn=e)}function wg(e){e.tag===22?(it(pe,pe.current),it(Sn,e),jn===null&&(jn=e)):Ls()}function Ls(){it(pe,pe.current),it(Sn,Sn.current)}function An(e){K(Sn),jn===e&&(jn=null),K(pe)}var pe=x(0);function Wu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ld(a)||Pd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ji=0,Nt=null,Wt=null,we=null,tc=!1,La=!1,Gr=!1,ec=0,rl=0,Pa=null,pA=0;function he(){throw Error(r(321))}function xf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!En(e[a],i[a]))return!1;return!0}function Of(e,i,a,l,h,d){return Ji=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=e===null||e.memoizedState===null?ly:Yf,Gr=!1,d=a(l,h),Gr=!1,La&&(d=Ig(i,a,l,h)),Rg(e),d}function Rg(e){B.H=ll;var i=Wt!==null&&Wt.next!==null;if(Ji=0,we=Wt=Nt=null,tc=!1,rl=0,Pa=null,i)throw Error(r(300));e===null||Re||(e=e.dependencies,e!==null&&Gu(e)&&(Re=!0))}function Ig(e,i,a,l){Nt=e;var h=0;do{if(La&&(Pa=null),rl=0,La=!1,25<=h)throw Error(r(301));if(h+=1,we=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=uy,d=i(a,l)}while(La);return d}function gA(){var e=B.H,i=e.useState()[0];return i=typeof i.then=="function"?al(i):i,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Nt.flags|=1024),i}function Mf(){var e=ec!==0;return ec=0,e}function Vf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function kf(e){if(tc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}tc=!1}Ji=0,we=Wt=Nt=null,La=!1,rl=ec=0,Pa=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Nt.memoizedState=we=e:we=we.next=e,we}function ge(){if(Wt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var i=we===null?Nt.memoizedState:we.next;if(i!==null)we=i,Wt=e;else{if(e===null)throw Nt.alternate===null?Error(r(467)):Error(r(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},we===null?Nt.memoizedState=we=e:we=we.next=e}return we}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var i=rl;return rl+=1,Pa===null&&(Pa=[]),e=yg(Pa,e,i),i=Nt,(we===null?i.memoizedState:we.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?ly:Yf),e}function ic(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===ut)return Fe(e)}throw Error(r(438,String(e)))}function Lf(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=nc(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Wi(e,i){return typeof i=="function"?i(e):i}function sc(e){var i=ge();return Pf(i,Wt,e)}function Pf(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,C=null,j=i,Y=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Vt&$)===$:(Ji&$)===$){var H=j.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===xa&&(Y=!0);else if((Ji&H)===H){j=j.next,H===xa&&(Y=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=$,_=d):C=C.next=$,Nt.lanes|=H,zs|=H;$=j.action,Gr&&a(d,$),d=j.hasEagerState?j.eagerState:a(d,$)}else H={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=H,_=d):C=C.next=H,Nt.lanes|=$,zs|=$;j=j.next}while(j!==null&&j!==i);if(C===null?_=d:C.next=T,!En(d,e.memoizedState)&&(Re=!0,Y&&(a=Oa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Uf(e){var i=ge(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);En(d,i.memoizedState)||(Re=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Cg(e,i,a){var l=Nt,h=ge(),d=zt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!En((Wt||h).memoizedState,a);if(_&&(h.memoizedState=a,Re=!0),h=h.queue,Bf(xg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},Dg.bind(null,l,h,a,i),null),ne===null)throw Error(r(349));d||(Ji&127)!==0||Ng(l,i,a)}return a}function Ng(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=nc(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Dg(e,i,a,l){i.value=a,i.getSnapshot=l,Og(i)&&Mg(e)}function xg(e,i,a){return a(function(){Og(i)&&Mg(e)})}function Og(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!En(e,a)}catch{return!0}}function Mg(e){var i=Lr(e,2);i!==null&&mn(i,e,2)}function zf(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),Gr){Dn(!0);try{a()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},i}function Vg(e,i,a,l){return e.baseState=a,Pf(e,Wt,typeof l=="function"?l:Wi)}function yA(e,i,a,l,h){if(oc(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};B.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,kg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function kg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=B.T,_={};B.T=_;try{var T=a(h,l),C=B.S;C!==null&&C(_,T),Lg(e,i,T)}catch(j){jf(e,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),B.T=d}}else try{d=a(h,l),Lg(e,i,d)}catch(j){jf(e,i,j)}}function Lg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pg(e,i,l)},function(l){return jf(e,i,l)}):Pg(e,i,a)}function Pg(e,i,a){i.status="fulfilled",i.value=a,Ug(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,kg(e,a)))}function jf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ug(i),i=i.next;while(i!==l)}e.action=null}function Ug(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function zg(e,i){return i}function jg(e,i){if(zt){var a=ne.formState;if(a!==null){t:{var l=Nt;if(zt){if(se){e:{for(var h=se,d=zn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){se=Bn(h.nextSibling),l=h.data==="F!";break t}}Ds(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:i},a.queue=l,a=ry.bind(null,Nt,l),l.dispatch=a,l=zf(!1),d=Kf.bind(null,Nt,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=yA.bind(null,Nt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Bg(e){var i=ge();return Hg(i,Wt,e)}function Hg(e,i,a){if(i=Pf(e,i,zg)[0],e=sc(Wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=al(i)}catch(_){throw _===Ma?Qu:_}else l=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,Ua(9,{destroy:void 0},_A.bind(null,h,a),null)),[l,d,e]}function _A(e,i){e.action=i}function qg(e){var i=ge(),a=Wt;if(a!==null)return Hg(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ua(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=nc(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Fg(){return ge().memoizedState}function rc(e,i,a,l){var h=sn();Nt.flags|=e,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function ac(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Wt!==null&&l!==null&&xf(l,Wt.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(Nt.flags|=e,h.memoizedState=Ua(1|i,d,a,l))}function Gg(e,i){rc(8390656,8,e,i)}function Bf(e,i){ac(2048,8,e,i)}function vA(e){Nt.flags|=4;var i=Nt.updateQueue;if(i===null)i=nc(),Nt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Kg(e){var i=ge().memoizedState;return vA({ref:i,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Yg(e,i){return ac(4,2,e,i)}function Qg(e,i){return ac(4,4,e,i)}function Xg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function $g(e,i,a){a=a!=null?a.concat([e]):null,ac(4,4,Xg.bind(null,i,e),a)}function Hf(){}function Zg(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&xf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Jg(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&xf(i,l[1]))return l[0];if(l=e(),Gr){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[l,i],l}function qf(e,i,a){return a===void 0||(Ji&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Wy(),Nt.lanes|=e,zs|=e,a)}function Wg(e,i,a,l){return En(a,i)?a:ka.current!==null?(e=qf(e,a,l),En(e,i)||(Re=!0),e):(Ji&42)===0||(Ji&1073741824)!==0&&(Vt&261930)===0?(Re=!0,e.memoizedState=a):(e=Wy(),Nt.lanes|=e,zs|=e,i)}function ty(e,i,a,l,h){var d=Z.p;Z.p=d!==0&&8>d?d:8;var _=B.T,T={};B.T=T,Kf(e,!1,i,a);try{var C=h(),j=B.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=mA(C,l);ol(e,i,Y,Rn(e))}else ol(e,i,l,Rn(e))}catch($){ol(e,i,{then:function(){},status:"rejected",reason:$},Rn())}finally{Z.p=d,_!==null&&T.types!==null&&(_.types=T.types),B.T=_}}function EA(){}function Ff(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=ey(e).queue;ty(e,h,i,rt,a===null?EA:function(){return ny(e),a(l)})}function ey(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:rt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ny(e){var i=ey(e);i.next===null&&(i=e.alternate.memoizedState),ol(e,i.next.queue,{},Rn())}function Gf(){return Fe(bl)}function iy(){return ge().memoizedState}function sy(){return ge().memoizedState}function TA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();e=Ms(a);var l=Vs(i,e,a);l!==null&&(mn(l,i,a),nl(l,i,a)),i={cache:Ef()},e.payload=i;return}i=i.return}}function SA(e,i,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(e)?ay(i,a):(a=uf(e,i,a,l),a!==null&&(mn(a,e,l),oy(a,i,l)))}function ry(e,i,a){var l=Rn();ol(e,i,a,l)}function ol(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(e))ay(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,_))return Bu(e,i,h,0),ne===null&&ju(),!1}catch{}finally{}if(a=uf(e,i,h,l),a!==null)return mn(a,e,l),oy(a,i,l),!0}return!1}function Kf(e,i,a,l){if(l={lane:2,revertLane:bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oc(e)){if(i)throw Error(r(479))}else i=uf(e,a,l,2),i!==null&&mn(i,e,2)}function oc(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function ay(e,i){La=tc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function oy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,No(e,a)}}var ll={readContext:Fe,use:ic,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};ll.useEffectEvent=he;var ly={readContext:Fe,use:ic,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:Gg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,rc(4194308,4,Xg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return rc(4194308,4,e,i)},useInsertionEffect:function(e,i){rc(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(Gr){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Gr){Dn(!0);try{a(i)}finally{Dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=SA.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=zf(e);var i=e.queue,a=ry.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(e,i){var a=sn();return qf(a,e,i)},useTransition:function(){var e=zf(!1);return e=ty.bind(null,Nt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Nt,h=sn();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ne===null)throw Error(r(349));(Vt&127)!==0||Ng(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Gg(xg.bind(null,l,d,e),[e]),l.flags|=2048,Ua(9,{destroy:void 0},Dg.bind(null,l,d,a,i),null),a},useId:function(){var e=sn(),i=ne.identifierPrefix;if(zt){var a=Ri,l=wi;a=(l&~(1<<32-de(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=pA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Gf,useFormState:jg,useActionState:jg,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Lf,useCacheRefresh:function(){return sn().memoizedState=TA.bind(null,Nt)},useEffectEvent:function(e){var i=sn(),a={impl:e};return i.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Yf={readContext:Fe,use:ic,useCallback:Zg,useContext:Fe,useEffect:Bf,useImperativeHandle:$g,useInsertionEffect:Yg,useLayoutEffect:Qg,useMemo:Jg,useReducer:sc,useRef:Fg,useState:function(){return sc(Wi)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=ge();return Wg(a,Wt.memoizedState,e,i)},useTransition:function(){var e=sc(Wi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:al(e),i]},useSyncExternalStore:Cg,useId:iy,useHostTransitionStatus:Gf,useFormState:Bg,useActionState:Bg,useOptimistic:function(e,i){var a=ge();return Vg(a,Wt,e,i)},useMemoCache:Lf,useCacheRefresh:sy};Yf.useEffectEvent=Kg;var uy={readContext:Fe,use:ic,useCallback:Zg,useContext:Fe,useEffect:Bf,useImperativeHandle:$g,useInsertionEffect:Yg,useLayoutEffect:Qg,useMemo:Jg,useReducer:Uf,useRef:Fg,useState:function(){return Uf(Wi)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=ge();return Wt===null?qf(a,e,i):Wg(a,Wt.memoizedState,e,i)},useTransition:function(){var e=Uf(Wi)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:al(e),i]},useSyncExternalStore:Cg,useId:iy,useHostTransitionStatus:Gf,useFormState:qg,useActionState:qg,useOptimistic:function(e,i){var a=ge();return Wt!==null?Vg(a,Wt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:sy};uy.useEffectEvent=Kg;function Qf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Xf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=Ms(l);h.payload=i,a!=null&&(h.callback=a),i=Vs(e,h,l),i!==null&&(mn(i,e,l),nl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=Ms(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vs(e,h,l),i!==null&&(mn(i,e,l),nl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Rn(),l=Ms(a);l.tag=2,i!=null&&(l.callback=i),i=Vs(e,l,a),i!==null&&(mn(i,e,a),nl(i,e,a))}};function cy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function hy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Xf.enqueueReplaceState(i,i.state,null)}function Kr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function fy(e){zu(e)}function dy(e){console.error(e)}function my(e){zu(e)}function lc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function py(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(e,i,a){return a=Ms(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(e,i)},a}function gy(e){return e=Ms(e),e.tag=3,e}function yy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){py(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){py(i,a,l),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function AA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Da(i,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Ec():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Xu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Td(e,l,h)),!1;case 22:return a.flags|=65536,l===Xu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Td(e,l,h)),!1}throw Error(r(435,a.tag))}return Td(e,l,h),Ec(),!1}if(zt)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==pf&&(e=Error(r(422),{cause:l}),Zo(Ln(e,a)))):(l!==pf&&(i=Error(r(423),{cause:l}),Zo(Ln(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Ln(l,a),h=$f(e.stateNode,l,h),Rf(e,h),fe!==4&&(fe=2)),!1;var d=Error(r(520),{cause:l});if(d=Ln(d,a),gl===null?gl=[d]:gl.push(d),fe!==4&&(fe=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=$f(a.stateNode,l,e),Rf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(js===null||!js.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=gy(h),yy(h,e,a,l),Rf(a,h),!1}a=a.return}while(a!==null);return!1}var Zf=Error(r(461)),Re=!1;function Ge(e,i,a,l){i.child=e===null?Tg(i,null,a,l):Fr(i,e.child,a,l)}function _y(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return jr(i),l=Of(e,i,a,_,d,h),T=Mf(),e!==null&&!Re?(Vf(e,i,h),ts(e,i,h)):(zt&&T&&df(i),i.flags|=1,Ge(e,i,l,h),i.child)}function vy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ey(e,i,d,l,h)):(e=qu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!rd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(_,l)&&e.ref===i.ref)return ts(e,i,h)}return i.flags|=1,e=Qi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Ey(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Qo(d,l)&&e.ref===i.ref)if(Re=!1,i.pendingProps=l=d,rd(e,h))(e.flags&131072)!==0&&(Re=!0);else return i.lanes=e.lanes,ts(e,i,h)}return Jf(e,i,a,l,h)}function Ty(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Sy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yu(i,d!==null?d.cachePool:null),d!==null?bg(i,d):Cf(),wg(i);else return l=i.lanes=536870912,Sy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Yu(i,d.cachePool),bg(i,d),Ls(),i.memoizedState=null):(e!==null&&Yu(i,null),Cf(),Ls());return Ge(e,i,h,a),i.child}function ul(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Sy(e,i,a,l,h){var d=Sf();return d=d===null?null:{parent:be._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Yu(i,null),Cf(),wg(i),e!==null&&Da(e,i,l,!0),i.childLanes=h,null}function uc(e,i){return i=hc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Ay(e,i,a){return Fr(i,e.child,null,a),e=uc(i,i.pendingProps),e.flags|=2,An(i),i.memoizedState=null,e}function bA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=uc(i,l),i.lanes=536870912,ul(null,e);if(Df(i),(e=se)?(e=k_(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Cs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=ag(e),a.return=i,i.child=a,qe=i,se=null)):e=null,e===null)throw Ds(i);return i.lanes=536870912,null}return uc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Df(i),h)if(i.flags&256)i.flags&=-257,i=Ay(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Re||Da(e,i,a,!1),h=(a&e.childLanes)!==0,Re||h){if(l=ne,l!==null&&(_=Do(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Lr(e,_),mn(l,e,_),Zf;Ec(),i=Ay(e,i,a)}else e=d.treeContext,se=Bn(_.nextSibling),qe=i,zt=!0,Ns=null,zn=!1,e!==null&&ug(i,e),i=uc(i,l),i.flags|=4096;return i}return e=Qi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function cc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Jf(e,i,a,l,h){return jr(i),a=Of(e,i,a,l,void 0,h),l=Mf(),e!==null&&!Re?(Vf(e,i,h),ts(e,i,h)):(zt&&l&&df(i),i.flags|=1,Ge(e,i,a,h),i.child)}function by(e,i,a,l,h,d){return jr(i),i.updateQueue=null,a=Ig(i,l,a,h),Rg(e),l=Mf(),e!==null&&!Re?(Vf(e,i,d),ts(e,i,d)):(zt&&l&&df(i),i.flags|=1,Ge(e,i,a,d),i.child)}function wy(e,i,a,l,h){if(jr(i),i.stateNode===null){var d=Ra,_=a.contextType;typeof _=="object"&&_!==null&&(d=Fe(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},bf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Fe(_):Ra,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Xf.enqueueReplaceState(d,d.state,null),sl(i,l,d,h),il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,C=Kr(a,T);d.props=C;var j=d.context,Y=a.contextType;_=Ra,typeof Y=="object"&&Y!==null&&(_=Fe(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==_)&&hy(i,d,l,_),Os=!1;var H=i.memoizedState;d.state=H,sl(i,l,d,h),il(),j=i.memoizedState,T||H!==j||Os?(typeof $=="function"&&(Qf(i,a,$,l),j=i.memoizedState),(C=Os||cy(i,a,C,l,H,j,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,wf(e,i),_=i.memoizedProps,Y=Kr(a,_),d.props=Y,$=i.pendingProps,H=d.context,j=a.contextType,C=Ra,typeof j=="object"&&j!==null&&(C=Fe(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||H!==C)&&hy(i,d,l,C),Os=!1,H=i.memoizedState,d.state=H,sl(i,l,d,h),il();var F=i.memoizedState;_!==$||H!==F||Os||e!==null&&e.dependencies!==null&&Gu(e.dependencies)?(typeof T=="function"&&(Qf(i,a,T,l),F=i.memoizedState),(Y=Os||cy(i,a,Y,l,H,F,C)||e!==null&&e.dependencies!==null&&Gu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,cc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Fr(i,e.child,null,h),i.child=Fr(i,null,a,h)):Ge(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ts(e,i,h),e}function Ry(e,i,a,l){return Ur(),i.flags|=256,Ge(e,i,a,l),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(e){return{baseLanes:e,cachePool:pg()}}function ed(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=wn),e}function Iy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?ks(i):Ls(),(e=se)?(e=k_(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Cs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=ag(e),a.return=i,i.child=a,qe=i,se=null)):e=null,e===null)throw Ds(i);return Pd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ls(),h=i.mode,T=hc({mode:"hidden",children:T},h),l=Pr(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=td(a),l.childLanes=ed(e,_,a),i.memoizedState=Wf,ul(null,l)):(ks(i),nd(i,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(ks(i),i.flags&=-257,i=id(e,i,a)):i.memoizedState!==null?(Ls(),i.child=e.child,i.flags|=128,i=null):(Ls(),T=l.fallback,h=i.mode,l=hc({mode:"visible",children:l.children},h),T=Pr(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Fr(i,e.child,null,a),l=i.child,l.memoizedState=td(a),l.childLanes=ed(e,_,a),i.memoizedState=Wf,i=ul(null,l));else if(ks(i),Pd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(r(419)),l.stack="",l.digest=_,Zo({value:l,source:null,stack:null}),i=id(e,i,a)}else if(Re||Da(e,i,a,!1),_=(a&e.childLanes)!==0,Re||_){if(_=ne,_!==null&&(l=Do(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Lr(e,l),mn(_,e,l),Zf;Ld(T)||Ec(),i=id(e,i,a)}else Ld(T)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,se=Bn(T.nextSibling),qe=i,zt=!0,Ns=null,zn=!1,e!==null&&ug(i,e),i=nd(i,l.children),i.flags|=4096);return i}return h?(Ls(),T=l.fallback,h=i.mode,C=e.child,j=C.sibling,l=Qi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=Qi(j,T):(T=Pr(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ul(null,l),l=i.child,T=e.child.memoizedState,T===null?T=td(a):(h=T.cachePool,h!==null?(C=be._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=pg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=ed(e,_,a),i.memoizedState=Wf,ul(e.child,l)):(ks(i),a=e.child,e=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function nd(e,i){return i=hc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function hc(e,i){return e=Tn(22,e,null,i),e.lanes=0,e}function id(e,i,a){return Fr(i,e.child,null,a),e=nd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Cy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),_f(e.return,i,a)}function sd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Ny(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pe.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,it(pe,_),Ge(e,i,l,a),l=zt?$o:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cy(e,a,i);else if(e.tag===19)Cy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Wu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),sd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Wu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}sd(i,!0,a,null,d,l);break;case"together":sd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ts(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),zs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Da(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Qi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Qi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function rd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Gu(e)))}function wA(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),xs(i,be,e.memoizedState.cache),Ur();break;case 27:case 5:Nn(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:xs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Df(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ks(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Iy(e,i,a):(ks(i),e=ts(e,i,a),e!==null?e.sibling:null);ks(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Da(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ny(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(pe,pe.current),l)break;return null;case 22:return i.lanes=0,Ty(e,i,a,i.pendingProps);case 24:xs(i,be,e.memoizedState.cache)}return ts(e,i,a)}function Dy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Re=!0;else{if(!rd(e,a)&&(i.flags&128)===0)return Re=!1,wA(e,i,a);Re=(e.flags&131072)!==0}else Re=!1,zt&&(i.flags&1048576)!==0&&lg(i,$o,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Hr(i.elementType),i.type=e,typeof e=="function")cf(e)?(l=Kr(e,l),i.tag=1,i=wy(null,i,e,l,a)):(i.tag=0,i=Jf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===St){i.tag=11,i=_y(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=vy(null,i,e,l,a);break t}}throw i=ie(e)||e,Error(r(306,i,""))}}return i;case 0:return Jf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Kr(l,i.pendingProps),wy(e,i,l,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,wf(e,i),sl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,xs(i,be,l),l!==d.cache&&vf(i,[be],a,!0),il(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ry(e,i,l,a);break t}else if(l!==h){h=Ln(Error(r(424)),i),Zo(h),i=Ry(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(se=Bn(e.firstChild),qe=i,zt=!0,Ns=null,zn=!0,a=Tg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ur(),l===h){i=ts(e,i,a);break t}Ge(e,i,l,a)}i=i.child}return i;case 26:return cc(e,i),e===null?(a=B_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=Ic(gt.current).createElement(a),l[Te]=i,l[ke]=e,Ke(l,a,e),Se(l),i.stateNode=l):i.memoizedState=B_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Nn(i),e===null&&zt&&(l=i.stateNode=U_(i.type,i.pendingProps,gt.current),qe=i,zn=!0,h=se,Fs(i.type)?(Ud=h,se=Bn(l.firstChild)):se=h),Ge(e,i,i.pendingProps.children,a),cc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=l=se)&&(l=eb(l,i.type,i.pendingProps,zn),l!==null?(i.stateNode=l,qe=i,se=Bn(l.firstChild),zn=!1,h=!0):h=!1),h||Ds(i)),Nn(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Md(h,d)?l=null:_!==null&&Md(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Of(e,i,gA,null,null,a),bl._currentValue=h),cc(e,i),Ge(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=se)&&(a=nb(a,i.pendingProps,zn),a!==null?(i.stateNode=a,qe=i,se=null,e=!0):e=!1),e||Ds(i)),null;case 13:return Iy(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Fr(i,null,l,a):Ge(e,i,l,a),i.child;case 11:return _y(e,i,i.type,i.pendingProps,a);case 7:return Ge(e,i,i.pendingProps,a),i.child;case 8:return Ge(e,i,i.pendingProps.children,a),i.child;case 12:return Ge(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xs(i,i.type,l.value),Ge(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,jr(i),h=Fe(h),l=l(h),i.flags|=1,Ge(e,i,l,a),i.child;case 14:return vy(e,i,i.type,i.pendingProps,a);case 15:return Ey(e,i,i.type,i.pendingProps,a);case 19:return Ny(e,i,a);case 31:return bA(e,i,a);case 22:return Ty(e,i,a,i.pendingProps);case 24:return jr(i),l=Fe(be),e===null?(h=Sf(),h===null&&(h=ne,d=Ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},bf(i),xs(i,be,h)):((e.lanes&a)!==0&&(wf(e,i),sl(i,null,null,a),il()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),xs(i,be,l)):(l=d.cache,xs(i,be,l),l!==h.cache&&vf(i,[be],a,!0))),Ge(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function es(e){e.flags|=4}function ad(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(i_())e.flags|=8192;else throw qr=Xu,Af}else e.flags&=-16777217}function xy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!K_(i))if(i_())e.flags|=8192;else throw qr=Xu,Af}function fc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?_u():536870912,e.lanes|=i,Ha|=i)}function cl(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function RA(e,i,a){var l=i.pendingProps;switch(mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Zi(be),Yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Na(i)?es(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gf())),re(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(es(i),d!==null?(re(i),xy(i,d)):(re(i),ad(i,h,null,l,a))):d?d!==e.memoizedState?(es(i),re(i),xy(i,d)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&es(i),re(i),ad(i,h,e,l,a)),null;case 27:if(Kn(i),a=gt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&es(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return re(i),null}e=et.current,Na(i)?cg(i):(e=U_(h,l,a),i.stateNode=e,es(i))}return re(i),null;case 5:if(Kn(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&es(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return re(i),null}if(d=et.current,Na(i))cg(i);else{var _=Ic(gt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Te]=i,d[ke]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ke(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&es(i)}}return re(i),ad(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&es(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=gt.current,Na(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||I_(e.nodeValue,a)),e||Ds(i,!0)}else e=Ic(e).createTextNode(l),e[Te]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Na(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Te]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(r(558))}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Na(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Te]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),fc(i,i.updateQueue),re(i),null);case 4:return Yt(),e===null&&Cd(i.stateNode.containerInfo),re(i),null;case 10:return Zi(i.type),re(i),null;case 19:if(K(pe),l=i.memoizedState,l===null)return re(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)cl(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Wu(e),d!==null){for(i.flags|=128,cl(l,!1),e=d.updateQueue,i.updateQueue=e,fc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)rg(a,e),a=a.sibling;return it(pe,pe.current&1|2),zt&&Xi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&en()>yc&&(i.flags|=128,h=!0,cl(l,!1),i.lanes=4194304)}else{if(!h)if(e=Wu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,fc(i,e),cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return re(i),null}else 2*en()-l.renderingStartTime>yc&&a!==536870912&&(i.flags|=128,h=!0,cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=en(),e.sibling=null,a=pe.current,it(pe,h?a&1|2:a&1),zt&&Xi(i,l.treeForkCount),e):(re(i),null);case 22:case 23:return An(i),Nf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&fc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&K(Br),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zi(be),re(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function IA(e,i){switch(mf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Zi(be),Yt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Kn(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(r(340));Ur()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(An(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ur()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return K(pe),null;case 4:return Yt(),null;case 10:return Zi(i.type),null;case 22:case 23:return An(i),Nf(),e!==null&&K(Br),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Zi(be),null;case 25:return null;default:return null}}function Oy(e,i){switch(mf(i),i.tag){case 3:Zi(be),Yt();break;case 26:case 27:case 5:Kn(i);break;case 4:Yt();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:K(pe);break;case 10:Zi(i.type);break;case 22:case 23:An(i),Nf(),e!==null&&K(Br);break;case 24:Zi(be)}}function hl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function Ps(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,j=T;try{j()}catch(Y){$t(h,C,Y)}}}l=l.next}while(l!==d)}}catch(Y){$t(i,i.return,Y)}}function My(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ag(i,a)}catch(l){$t(e,e.return,l)}}}function Vy(e,i,a){a.props=Kr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function fl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function Ii(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function ky(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function od(e,i,a){try{var l=e.stateNode;XA(l,e.type,a,i),l[ke]=i}catch(h){$t(e,e.return,h)}}function Ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fs(e.type)||e.tag===4}function ld(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ud(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zn));else if(l!==4&&(l===27&&Fs(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ud(e,i,a),e=e.sibling;e!==null;)ud(e,i,a),e=e.sibling}function dc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Fs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(dc(e,i,a),e=e.sibling;e!==null;)dc(e,i,a),e=e.sibling}function Py(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ke(i,l,a),i[Te]=e,i[ke]=a}catch(d){$t(e,e.return,d)}}var ns=!1,Ie=!1,cd=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function CA(e,i){if(e=e.containerInfo,xd=Vc,e=$p(e),nf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,C=-1,j=0,Y=0,$=e,H=null;e:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(T=_+h),$!==d||l!==0&&$.nodeType!==3||(C=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(F=$.firstChild)!==null;)H=$,$=F;for(;;){if($===e)break e;if(H===a&&++j===h&&(T=_),H===d&&++Y===l&&(C=_),(F=$.nextSibling)!==null)break;$=H,H=$.parentNode}$=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:e,selectionRange:a},Vc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var lt=Kr(a.type,h);e=l.getSnapshotBeforeUpdate(lt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){$t(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function zy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ss(e,a),l&4&&hl(5,a);break;case 1:if(ss(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){$t(a,a.return,_)}else{var h=Kr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}l&64&&My(a),l&512&&fl(a,a.return);break;case 3:if(ss(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ag(e,i)}catch(_){$t(a,a.return,_)}}break;case 27:i===null&&l&4&&Py(a);case 26:case 5:ss(e,a),i===null&&l&4&&ky(a),l&512&&fl(a,a.return);break;case 12:ss(e,a);break;case 31:ss(e,a),l&4&&Hy(e,a);break;case 13:ss(e,a),l&4&&qy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=PA.bind(null,a),ib(e,a))));break;case 22:if(l=a.memoizedState!==null||ns,!l){i=i!==null&&i.memoizedState!==null||Ie,h=ns;var d=Ie;ns=l,(Ie=i)&&!d?rs(e,a,(a.subtreeFlags&8772)!==0):ss(e,a),ns=h,Ie=d}break;case 30:break;default:ss(e,a)}}function jy(e){var i=e.alternate;i!==null&&(e.alternate=null,jy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&fa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,cn=!1;function is(e,i,a){for(a=a.child;a!==null;)By(e,i,a),a=a.sibling}function By(e,i,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Ie||Ii(a,i),is(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Ii(a,i);var l=ue,h=cn;Fs(a.type)&&(ue=a.stateNode,cn=!1),is(e,i,a),Tl(a.stateNode),ue=l,cn=h;break;case 5:Ie||Ii(a,i);case 6:if(l=ue,h=cn,ue=null,is(e,i,a),ue=l,cn=h,ue!==null)if(cn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ue.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ue!==null&&(cn?(e=ue,M_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),$a(e)):M_(ue,a.stateNode));break;case 4:l=ue,h=cn,ue=a.stateNode.containerInfo,cn=!0,is(e,i,a),ue=l,cn=h;break;case 0:case 11:case 14:case 15:Ps(2,a,i),Ie||Ps(4,a,i),is(e,i,a);break;case 1:Ie||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vy(a,i,l)),is(e,i,a);break;case 21:is(e,i,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,is(e,i,a),Ie=l;break;default:is(e,i,a)}}function Hy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$a(e)}catch(a){$t(i,i.return,a)}}}function qy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$a(e)}catch(a){$t(i,i.return,a)}}function NA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Uy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Uy),i;default:throw Error(r(435,e.tag))}}function mc(e,i){var a=NA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=UA.bind(null,e,l);l.then(h,h)}})}function hn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Fs(T.type)){ue=T.stateNode,cn=!1;break t}break;case 5:ue=T.stateNode,cn=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,cn=!0;break t}T=T.return}if(ue===null)throw Error(r(160));By(d,_,h),ue=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Fy(i,e),i=i.sibling}var ii=null;function Fy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),l&4&&(Ps(3,e,e.return),hl(3,e),Ps(5,e,e.return));break;case 1:hn(i,e),fn(e),l&512&&(Ie||a===null||Ii(a,a.return)),l&64&&ns&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(hn(i,e),fn(e),l&512&&(Ie||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ke(d,l,a),d[Te]=e,Se(d),l=d;break t;case"link":var _=F_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Ke(d,l,a),h.head.appendChild(d);break;case"meta":if(_=F_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Ke(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Te]=e,Se(d),l=d}e.stateNode=l}else G_(h,e.type,e.stateNode);else e.stateNode=q_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?G_(h,e.type,e.stateNode):q_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&od(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),l&512&&(Ie||a===null||Ii(a,a.return)),a!==null&&l&4&&od(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),l&512&&(Ie||a===null||Ii(a,a.return)),e.flags&32){h=e.stateNode;try{un(h,"")}catch(lt){$t(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,od(e,h,a!==null?a.memoizedProps:h)),l&1024&&(cd=!0);break;case 6:if(hn(i,e),fn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(lt){$t(e,e.return,lt)}}break;case 3:if(Dc=null,h=ii,ii=Cc(i.containerInfo),hn(i,e),ii=h,fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(i.containerInfo)}catch(lt){$t(e,e.return,lt)}cd&&(cd=!1,Gy(e));break;case 4:l=ii,ii=Cc(e.stateNode.containerInfo),hn(i,e),fn(e),ii=l;break;case 12:hn(i,e),fn(e);break;case 31:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mc(e,l)));break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gc=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mc(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=ns,Y=Ie;if(ns=j||h,Ie=Y||C,hn(i,e),Ie=Y,ns=j,fn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||ns||Ie||Yr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var $=C.memoizedProps.style,H=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(lt){$t(C,C.return,lt)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){$t(C,C.return,lt)}}}else if(i.tag===18){if(a===null){C=i;try{var F=C.stateNode;h?V_(F,!0):V_(C.stateNode,!1)}catch(lt){$t(C,C.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mc(e,a))));break;case 19:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mc(e,l)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Ly(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=ld(e);dc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var T=ld(e);dc(e,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,j=ld(e);ud(e,j,C);break;default:throw Error(r(161))}}catch(Y){$t(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Gy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ss(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zy(e,i.alternate,i),i=i.sibling}function Yr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ps(4,i,i.return),Yr(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Vy(i,i.return,a),Yr(i);break;case 27:Tl(i.stateNode);case 26:case 5:Ii(i,i.return),Yr(i);break;case 22:i.memoizedState===null&&Yr(i);break;case 30:Yr(i);break;default:Yr(i)}e=e.sibling}}function rs(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:rs(h,d,a),hl(4,d);break;case 1:if(rs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$t(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Sg(C[h],T)}catch(j){$t(l,l.return,j)}}a&&_&64&&My(d),fl(d,d.return);break;case 27:Py(d);case 26:case 5:rs(h,d,a),a&&l===null&&_&4&&ky(d),fl(d,d.return);break;case 12:rs(h,d,a);break;case 31:rs(h,d,a),a&&_&4&&Hy(h,d);break;case 13:rs(h,d,a),a&&_&4&&qy(h,d);break;case 22:d.memoizedState===null&&rs(h,d,a),fl(d,d.return);break;case 30:break;default:rs(h,d,a)}i=i.sibling}}function hd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Jo(a))}function fd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Jo(e))}function si(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ky(e,i,a,l),i=i.sibling}function Ky(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(e,i,a,l),h&2048&&hl(9,i);break;case 1:si(e,i,a,l);break;case 3:si(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Jo(e)));break;case 12:if(h&2048){si(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(i,i.return,C)}}else si(e,i,a,l);break;case 31:si(e,i,a,l);break;case 13:si(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?si(e,i,a,l):dl(e,i):d._visibility&2?si(e,i,a,l):(d._visibility|=2,za(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&hd(_,i);break;case 24:si(e,i,a,l),h&2048&&fd(i.alternate,i);break;default:si(e,i,a,l)}}function za(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,C=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:za(d,_,T,C,h),hl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?za(d,_,T,C,h):dl(d,_):(Y._visibility|=2,za(d,_,T,C,h)),h&&j&2048&&hd(_.alternate,_);break;case 24:za(d,_,T,C,h),h&&j&2048&&fd(_.alternate,_);break;default:za(d,_,T,C,h)}i=i.sibling}}function dl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&hd(l.alternate,l);break;case 24:dl(a,l),h&2048&&fd(l.alternate,l);break;default:dl(a,l)}i=i.sibling}}var ml=8192;function ja(e,i,a){if(e.subtreeFlags&ml)for(e=e.child;e!==null;)Yy(e,i,a),e=e.sibling}function Yy(e,i,a){switch(e.tag){case 26:ja(e,i,a),e.flags&ml&&e.memoizedState!==null&&pb(a,ii,e.memoizedState,e.memoizedProps);break;case 5:ja(e,i,a);break;case 3:case 4:var l=ii;ii=Cc(e.stateNode.containerInfo),ja(e,i,a),ii=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ml,ml=16777216,ja(e,i,a),ml=l):ja(e,i,a));break;default:ja(e,i,a)}}function Qy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function pl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,$y(l,e)}Qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xy(e),e=e.sibling}function Xy(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&Ps(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,pc(e)):pl(e);break;default:pl(e)}}function pc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,$y(l,e)}Qy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ps(8,i,i.return),pc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,pc(i));break;default:pc(i)}e=e.sibling}}function $y(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Ps(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(jy(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var DA={getCacheForType:function(e){var i=Fe(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Fe(be).controller.signal}},xA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Ot=null,Vt=0,Xt=0,bn=null,Us=!1,Ba=!1,dd=!1,as=0,fe=0,zs=0,Qr=0,md=0,wn=0,Ha=0,gl=null,dn=null,pd=!1,gc=0,Zy=0,yc=1/0,_c=null,js=null,Oe=0,Bs=null,qa=null,os=0,gd=0,yd=null,Jy=null,yl=0,_d=null;function Rn(){return(Gt&2)!==0&&Vt!==0?Vt&-Vt:B.T!==null?bd():vu()}function Wy(){if(wn===0)if((Vt&536870912)===0||zt){var e=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),wn=e}else wn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),wn}function mn(e,i,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),Hs(e,Vt,wn,!1)),Sr(e,a),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(Qr|=a),fe===4&&Hs(e,Vt,wn,!1)),Ci(e))}function t_(e,i,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Qn(e,i),h=l?VA(e,i):Ed(e,i,!0),d=l;do{if(h===0){Ba&&!l&&Hs(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!OA(a)){h=Ed(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=gl;var C=T.current.memoizedState.isDehydrated;if(C&&(Fa(T,_).flags|=256),_=Ed(T,_,!1),_!==2){if(dd&&!C){T.errorRecoveryDisabledLanes|=d,Qr|=d,h=4;break t}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Fa(e,0),Hs(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Hs(l,i,wn,!Us);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=gc+300-en(),10<h)){if(Hs(l,i,wn,!Us),ci(l,0,!0)!==0)break t;os=i,l.timeoutHandle=x_(e_.bind(null,l,a,dn,_c,pd,i,wn,Qr,Ha,Us,d,"Throttled",-0,0),h);break t}e_(l,a,dn,_c,pd,i,wn,Qr,Ha,Us,d,null,-0,0)}}break}while(!0);Ci(e)}function e_(e,i,a,l,h,d,_,T,C,j,Y,$,H,F){if(e.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Yy(i,d,$);var lt=(d&62914560)===d?gc-en():(d&4194048)===d?Zy-en():0;if(lt=gb($,lt),lt!==null){os=d,e.cancelPendingCommit=lt(u_.bind(null,e,i,d,a,l,h,_,T,C,Y,$,null,H,F)),Hs(e,d,_,!j);return}}u_(e,i,d,a,l,h,_,T,C)}function OA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hs(e,i,a,l){i&=~md,i&=~Qr,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-de(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ar(e,a,i)}function vc(){return(Gt&6)===0?(_l(0),!1):!0}function vd(){if(Ot!==null){if(Xt===0)var e=Ot.return;else e=Ot,$i=zr=null,kf(e),Va=null,tl=0,e=Ot;for(;e!==null;)Oy(e.alternate,e),e=e.return;Ot=null}}function Fa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,JA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),os=0,vd(),ne=e,Ot=a=Qi(e.current,null),Vt=i,Xt=0,bn=null,Us=!1,Ba=Qn(e,i),dd=!1,Ha=wn=md=Qr=zs=fe=0,dn=gl=null,pd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-de(l),d=1<<h;i|=e[h],l&=~d}return as=i,ju(),a}function n_(e,i){Nt=null,B.H=ll,i===Ma||i===Qu?(i=_g(),Xt=3):i===Af?(i=_g(),Xt=4):Xt=i===Zf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ot===null&&(fe=1,lc(e,Ln(i,e.current)))}function i_(){var e=Sn.current;return e===null?!0:(Vt&4194048)===Vt?jn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===jn:!1}function s_(){var e=B.H;return B.H=ll,e===null?ll:e}function r_(){var e=B.A;return B.A=DA,e}function Ec(){fe=4,Us||(Vt&4194048)!==Vt&&Sn.current!==null||(Ba=!0),(zs&134217727)===0&&(Qr&134217727)===0||ne===null||Hs(ne,Vt,wn,!1)}function Ed(e,i,a){var l=Gt;Gt|=2;var h=s_(),d=r_();(ne!==e||Vt!==i)&&(_c=null,Fa(e,i)),i=!1;var _=fe;t:do try{if(Xt!==0&&Ot!==null){var T=Ot,C=bn;switch(Xt){case 8:vd(),_=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var j=Xt;if(Xt=0,bn=null,Ga(e,T,C,j),a&&Ba){_=0;break t}break;default:j=Xt,Xt=0,bn=null,Ga(e,T,C,j)}}MA(),_=fe;break}catch(Y){n_(e,Y)}while(!0);return i&&e.shellSuspendCounter++,$i=zr=null,Gt=l,B.H=h,B.A=d,Ot===null&&(ne=null,Vt=0,ju()),_}function MA(){for(;Ot!==null;)a_(Ot)}function VA(e,i){var a=Gt;Gt|=2;var l=s_(),h=r_();ne!==e||Vt!==i?(_c=null,yc=en()+500,Fa(e,i)):Ba=Qn(e,i);t:do try{if(Xt!==0&&Ot!==null){i=Ot;var d=bn;e:switch(Xt){case 1:Xt=0,bn=null,Ga(e,i,d,1);break;case 2:case 9:if(gg(d)){Xt=0,bn=null,o_(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),Ci(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:gg(d)?(Xt=0,bn=null,o_(i)):(Xt=0,bn=null,Ga(e,i,d,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var T=Ot;if(_?K_(_):T.stateNode.complete){Xt=0,bn=null;var C=T.sibling;if(C!==null)Ot=C;else{var j=T.return;j!==null?(Ot=j,Tc(j)):Ot=null}break e}}Xt=0,bn=null,Ga(e,i,d,5);break;case 6:Xt=0,bn=null,Ga(e,i,d,6);break;case 8:vd(),fe=6;break t;default:throw Error(r(462))}}kA();break}catch(Y){n_(e,Y)}while(!0);return $i=zr=null,B.H=l,B.A=h,Gt=a,Ot!==null?0:(ne=null,Vt=0,ju(),fe)}function kA(){for(;Ot!==null&&!Xh();)a_(Ot)}function a_(e){var i=Dy(e.alternate,e,as);e.memoizedProps=e.pendingProps,i===null?Tc(e):Ot=i}function o_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=by(a,i,i.pendingProps,i.type,void 0,Vt);break;case 11:i=by(a,i,i.pendingProps,i.type.render,i.ref,Vt);break;case 5:kf(i);default:Oy(a,i),i=Ot=rg(i,as),i=Dy(a,i,as)}e.memoizedProps=e.pendingProps,i===null?Tc(e):Ot=i}function Ga(e,i,a,l){$i=zr=null,kf(i),Va=null,tl=0;var h=i.return;try{if(AA(e,h,i,a,Vt)){fe=1,lc(e,Ln(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;fe=1,lc(e,Ln(a,e.current)),Ot=null;return}i.flags&32768?(zt||l===1?e=!0:Ba||(Vt&536870912)!==0?e=!1:(Us=e=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),l_(i,e)):Tc(i)}function Tc(e){var i=e;do{if((i.flags&32768)!==0){l_(i,Us);return}e=i.return;var a=RA(i.alternate,i,as);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);fe===0&&(fe=5)}function l_(e,i){do{var a=IA(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);fe=6,Ot=null}function u_(e,i,a,l,h,d,_,T,C){e.cancelPendingCommit=null;do Sc();while(Oe!==0);if((Gt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=lf,Jh(e,a,d,_,T,C),e===ne&&(Ot=ne=null,Vt=0),qa=i,Bs=e,os=a,gd=d,yd=h,Jy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zA(_s,function(){return m_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=Z.p,Z.p=2,_=Gt,Gt|=4;try{CA(e,i,a)}finally{Gt=_,Z.p=h,B.T=l}}Oe=1,c_(),h_(),f_()}}function c_(){if(Oe===1){Oe=0;var e=Bs,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=Z.p;Z.p=2;var h=Gt;Gt|=4;try{Fy(i,e);var d=Od,_=$p(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Xp(T.ownerDocument.documentElement,T)){if(C!==null&&nf(T)){var j=C.start,Y=C.end;if(Y===void 0&&(Y=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,H=$&&$.defaultView||window;if(H.getSelection){var F=H.getSelection(),lt=T.textContent.length,yt=Math.min(C.start,lt),ee=C.end===void 0?yt:Math.min(C.end,lt);!F.extend&&yt>ee&&(_=ee,ee=yt,yt=_);var k=Qp(T,yt),O=Qp(T,ee);if(k&&O&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var z=$.createRange();z.setStart(k.node,k.offset),F.removeAllRanges(),yt>ee?(F.addRange(z),F.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),F.addRange(z))}}}}for($=[],F=T;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Vc=!!xd,Od=xd=null}finally{Gt=h,Z.p=l,B.T=a}}e.current=i,Oe=2}}function h_(){if(Oe===2){Oe=0;var e=Bs,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=Z.p;Z.p=2;var h=Gt;Gt|=4;try{zy(e,i.alternate,i)}finally{Gt=h,Z.p=l,B.T=a}}Oe=3}}function f_(){if(Oe===4||Oe===3){Oe=0,fu();var e=Bs,i=qa,a=os,l=Jy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Oe=5:(Oe=0,qa=Bs=null,d_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(js=null),Fi(a),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=B.T,h=Z.p,Z.p=2,B.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{B.T=i,Z.p=h}}(os&3)!==0&&Sc(),Ci(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===_d?yl++:(yl=0,_d=e):yl=0,_l(0)}}function d_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Jo(i)))}function Sc(){return c_(),h_(),f_(),m_()}function m_(){if(Oe!==5)return!1;var e=Bs,i=gd;gd=0;var a=Fi(os),l=B.T,h=Z.p;try{Z.p=32>a?32:a,B.T=null,a=yd,yd=null;var d=Bs,_=os;if(Oe=0,qa=Bs=null,os=0,(Gt&6)!==0)throw Error(r(331));var T=Gt;if(Gt|=4,Xy(d.current),Ky(d,d.current,_,a),Gt=T,_l(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{Z.p=h,B.T=l,d_(e,i)}}function p_(e,i,a){i=Ln(a,i),i=$f(e.stateNode,i,2),e=Vs(e,i,2),e!==null&&(Sr(e,2),Ci(e))}function $t(e,i,a){if(e.tag===3)p_(e,e,a);else for(;i!==null;){if(i.tag===3){p_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(js===null||!js.has(l))){e=Ln(a,e),a=gy(2),l=Vs(i,a,2),l!==null&&(yy(a,l,i,e),Sr(l,2),Ci(l));break}}i=i.return}}function Td(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new xA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(dd=!0,h.add(a),e=LA.bind(null,e,i,a),i.then(e,e))}function LA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Vt&a)===a&&(fe===4||fe===3&&(Vt&62914560)===Vt&&300>en()-gc?(Gt&2)===0&&Fa(e,0):md|=a,Ha===Vt&&(Ha=0)),Ci(e)}function g_(e,i){i===0&&(i=_u()),e=Lr(e,i),e!==null&&(Sr(e,i),Ci(e))}function PA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),g_(e,a)}function UA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),g_(e,a)}function zA(e,i){return xe(e,i)}var Ac=null,Ka=null,Sd=!1,bc=!1,Ad=!1,qs=0;function Ci(e){e!==Ka&&e.next===null&&(Ka===null?Ac=Ka=e:Ka=Ka.next=e),bc=!0,Sd||(Sd=!0,BA())}function _l(e,i){if(!Ad&&bc){Ad=!0;do for(var a=!1,l=Ac;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-de(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,E_(l,d))}else d=Vt,d=ci(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,E_(l,d));l=l.next}while(a);Ad=!1}}function jA(){y_()}function y_(){bc=Sd=!1;var e=0;qs!==0&&ZA()&&(e=qs);for(var i=en(),a=null,l=Ac;l!==null;){var h=l.next,d=__(l,i);d===0?(l.next=null,a===null?Ac=h:a.next=h,h===null&&(Ka=a)):(a=l,(e!==0||(d&3)!==0)&&(bc=!0)),l=h}Oe!==0&&Oe!==5||_l(e),qs!==0&&(qs=0)}function __(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-de(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Zh(T,i)):C<=i&&(e.expiredLanes|=T),d&=~T}if(i=ne,a=Vt,a=ci(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ys(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Qn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ys(l),Fi(a)){case 2:case 8:a=Co;break;case 32:a=_s;break;case 268435456:a=du;break;default:a=_s}return l=v_.bind(null,e),a=xe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ys(l),e.callbackPriority=2,e.callbackNode=null,2}function v_(e,i){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Sc()&&e.callbackNode!==a)return null;var l=Vt;return l=ci(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(t_(e,l,i),__(e,en()),e.callbackNode!=null&&e.callbackNode===a?v_.bind(null,e):null)}function E_(e,i){if(Sc())return null;t_(e,i,!0)}function BA(){WA(function(){(Gt&6)!==0?xe(Io,jA):y_()})}function bd(){if(qs===0){var e=xa;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),qs=e}return qs}function T_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ga(""+e)}function S_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function HA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=T_((h[ke]||null).action),_=l.submitter;_&&(i=(i=_[ke]||null)?T_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ti("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var C=_?S_(h,_):new FormData(h);Ff(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?S_(h,_):new FormData(h),Ff(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var wd=0;wd<of.length;wd++){var Rd=of[wd],qA=Rd.toLowerCase(),FA=Rd[0].toUpperCase()+Rd.slice(1);ni(qA,"on"+FA)}ni(Wp,"onAnimationEnd"),ni(tg,"onAnimationIteration"),ni(eg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(aA,"onTransitionRun"),ni(oA,"onTransitionStart"),ni(lA,"onTransitionCancel"),ni(ng,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function A_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(Y){zu(Y)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,j=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(Y){zu(Y)}h.currentTarget=null,d=C}}}}function Mt(e,i){var a=i[ha];a===void 0&&(a=i[ha]=new Set);var l=e+"__bubble";a.has(l)||(b_(i,e,2,!1),a.add(l))}function Id(e,i,a){var l=0;i&&(l|=4),b_(a,e,l,i)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Cd(e){if(!e[wc]){e[wc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(GA.has(a)||Id(a,!1,e),Id(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[wc]||(i[wc]=!0,Id("selectionchange",!1,i))}}function b_(e,i,a,l){switch(W_(i)){case 2:var h=vb;break;case 8:h=Eb;break;default:h=qd}a=h.bind(null,i,a,e),h=void 0,!Cr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Nd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=mi(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}T=T.parentNode}}l=l.return}bs(function(){var j=d,Y=On(a),$=[];t:{var H=ig.get(e);if(H!==void 0){var F=Ti,lt=e;switch(e){case"keypress":if(Dr(a)===0)break t;case"keydown":case"keyup":F=Lu;break;case"focusin":lt="focus",F=Or;break;case"focusout":lt="blur",F=Or;break;case"beforeblur":case"afterblur":F=Or;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case Wp:case tg:case eg:F=Nu;break;case ng:F=S;break;case"scroll":case"scrollend":F=qo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Yi;break;case"toggle":case"beforetoggle":F=Ct}var yt=(i&4)!==0,ee=!yt&&(e==="scroll"||e==="scrollend"),k=yt?H!==null?H+"Capture":null:H;yt=[];for(var O=j,z;O!==null;){var X=O;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||k===null||(X=Jn(O,k),X!=null&&yt.push(El(O,X,z))),ee)break;O=O.return}0<yt.length&&(H=new F(H,lt,null,a,Y),$.push({event:H,listeners:yt}))}}if((i&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",H&&a!==jo&&(lt=a.relatedTarget||a.fromElement)&&(mi(lt)||lt[fi]))break t;if((F||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,F?(lt=a.relatedTarget||a.toElement,F=j,lt=lt?mi(lt):null,lt!==null&&(ee=u(lt),yt=lt.tag,lt!==ee||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(F=null,lt=j),F!==lt)){if(yt=Fo,X="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Yi,X="onPointerLeave",k="onPointerEnter",O="pointer"),ee=F==null?H:_n(F),z=lt==null?H:_n(lt),H=new yt(X,O+"leave",F,a,Y),H.target=ee,H.relatedTarget=z,X=null,mi(Y)===j&&(yt=new yt(k,O+"enter",lt,a,Y),yt.target=z,yt.relatedTarget=ee,X=yt),ee=X,F&&lt)e:{for(yt=KA,k=F,O=lt,z=0,X=k;X;X=yt(X))z++;X=0;for(var dt=O;dt;dt=yt(dt))X++;for(;0<z-X;)k=yt(k),z--;for(;0<X-z;)O=yt(O),X--;for(;z--;){if(k===O||O!==null&&k===O.alternate){yt=k;break e}k=yt(k),O=yt(O)}yt=null}else yt=null;F!==null&&w_($,H,F,yt,!1),lt!==null&&ee!==null&&w_($,ee,lt,yt,!0)}}t:{if(H=j?_n(j):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var Ht=Hp;else if(jp(H))if(qp)Ht=iA;else{Ht=eA;var ht=tA}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&pa(j.elementType)&&(Ht=Hp):Ht=nA;if(Ht&&(Ht=Ht(e,j))){Bp($,Ht,a,Y);break t}ht&&ht(e,H,j),e==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&Po(H,"number",H.value)}switch(ht=j?_n(j):window,e){case"focusin":(jp(ht)||ht.contentEditable==="true")&&(Aa=ht,sf=j,Xo=null);break;case"focusout":Xo=sf=Aa=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,Zp($,a,Y);break;case"selectionchange":if(rA)break;case"keydown":case"keyup":Zp($,a,Y)}var Dt;if(Ft)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Sa?Mr(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(bi&&a.locale!=="ko"&&(Sa||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Sa&&(Dt=Ho()):(Ei=Y,Bo="value"in Ei?Ei.value:Ei.textContent,Sa=!0)),ht=Rc(j,kt),0<ht.length&&(kt=new Ai(kt,e,null,a,Y),$.push({event:kt,listeners:ht}),Dt?kt.data=Dt:(Dt=Ta(a),Dt!==null&&(kt.data=Dt)))),(Dt=Vn?$S(e,a):ZS(e,a))&&(kt=Rc(j,"onBeforeInput"),0<kt.length&&(ht=new Ai("onBeforeInput","beforeinput",null,a,Y),$.push({event:ht,listeners:kt}),ht.data=Dt)),HA($,e,j,a,Y)}A_($,i)})}function El(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Rc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Jn(e,a),h!=null&&l.unshift(El(e,h,d)),h=Jn(e,i),h!=null&&l.push(El(e,h,d))),e.tag===3)return l;e=e.return}return[]}function KA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function w_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=Jn(a,d),j!=null&&_.unshift(El(a,j,C))):h||(j=Jn(a,d),j!=null&&_.push(El(a,j,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var YA=/\r\n?/g,QA=/\u0000|\uFFFD/g;function R_(e){return(typeof e=="string"?e:""+e).replace(YA,`
`).replace(QA,"")}function I_(e,i){return i=R_(i),R_(e)===i}function te(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&un(e,""+l);break;case"className":vn(e,"class",l);break;case"tabIndex":vn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,a,l);break;case"style":zo(e,l,d);break;case"data":if(i!=="object"){vn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ga(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&te(e,i,"name",h.name,h,null),te(e,i,"formEncType",h.formEncType,h,null),te(e,i,"formMethod",h.formMethod,h,null),te(e,i,"formTarget",h.formTarget,h,null)):(te(e,i,"encType",h.encType,h,null),te(e,i,"method",h.method,h,null),te(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ga(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Zn);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ga(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),da(e,"popover",l);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,da(e,a,l))}}function Dd(e,i,a,l,h,d){switch(a){case"style":zo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ke]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):da(e,a,l)}}}function Ke(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:te(e,i,d,_,a,null)}}h&&te(e,i,"srcSet",a.srcSet,a,null),l&&te(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=d=_=h=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":C=Y;break;case"defaultChecked":j=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:te(e,i,l,Y,a,null)}}Au(e,d,T,C,j,_,h,!1);return;case"select":Mt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:te(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Es(e,!!l,i,!1):a!=null&&Es(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:te(e,i,_,T,a,null)}Ts(e,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,i,C,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<vl.length;l++)Mt(vl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:te(e,i,j,l,a,null)}return;default:if(pa(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Dd(e,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&te(e,i,T,l,a,null))}function XA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,j=null,Y=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(F)||te(e,i,F,null,l,$)}}for(var H in l){var F=l[H];if($=a[H],l.hasOwnProperty(H)&&(F!=null||$!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Y=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:F!==$&&te(e,i,H,F,l,$)}}ma(e,_,T,C,j,Y,d,h);return;case"select":F=_=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||te(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&te(e,i,h,d,l,C)}i=T,a=_,l=F,H!=null?Es(e,!!a,H,!1):!!l!=!!a&&(i!=null?Es(e,!!a,i,!0):Es(e,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:te(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&te(e,i,_,h,l,d)}bu(e,H,F);return;case"option":for(var lt in a)if(H=a[lt],a.hasOwnProperty(lt)&&H!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:te(e,i,lt,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:te(e,i,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)H=a[yt],a.hasOwnProperty(yt)&&H!=null&&!l.hasOwnProperty(yt)&&te(e,i,yt,null,l,H);for(j in l)if(H=l[j],F=a[j],l.hasOwnProperty(j)&&H!==F&&(H!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:te(e,i,j,H,l,F)}return;default:if(pa(i)){for(var ee in a)H=a[ee],a.hasOwnProperty(ee)&&H!==void 0&&!l.hasOwnProperty(ee)&&Dd(e,i,ee,void 0,l,H);for(Y in l)H=l[Y],F=a[Y],!l.hasOwnProperty(Y)||H===F||H===void 0&&F===void 0||Dd(e,i,Y,H,l,F);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&te(e,i,k,null,l,H);for($ in l)H=l[$],F=a[$],!l.hasOwnProperty($)||H===F||H==null&&F==null||te(e,i,$,H,l,F)}function C_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $A(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&C_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],j=C.startTime;if(j>T)break;var Y=C.transferSize,$=C.initiatorType;Y&&C_($)&&(C=C.responseEnd,_+=Y*(C<T?1:(T-j)/(C-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xd=null,Od=null;function Ic(e){return e.nodeType===9?e:e.ownerDocument}function N_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Md(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vd=null;function ZA(){var e=window.event;return e&&e.type==="popstate"?e===Vd?!1:(Vd=e,!0):(Vd=null,!1)}var x_=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(e){return O_.resolve(null).then(e).catch(tb)}:x_;function tb(e){setTimeout(function(){throw e})}function Fs(e){return e==="head"}function M_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),$a(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Tl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Tl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Tl(e.ownerDocument.body);a=h}while(a);$a(i)}function V_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function kd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function eb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[di])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function nb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Bn(e.nextSibling),e===null))return null;return e}function k_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Bn(e.nextSibling),e===null))return null;return e}function Ld(e){return e.data==="$?"||e.data==="$~"}function Pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ib(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Bn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Ud=null;function L_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Bn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function P_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function U_(e,i,a){switch(i=Ic(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Tl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);fa(e)}var Hn=new Map,z_=new Set;function Cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ls=Z.d;Z.d={f:sb,r:rb,D:ab,C:ob,L:lb,m:ub,X:hb,S:cb,M:fb};function sb(){var e=ls.f(),i=vc();return e||i}function rb(e){var i=xn(e);i!==null&&i.tag===5&&i.type==="form"?ny(i):ls.r(e)}var Ya=typeof document>"u"?null:document;function j_(e,i,a){var l=Ya;if(l&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),z_.has(h)||(z_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ke(i,"link",e),Se(i),l.head.appendChild(i)))}}function ab(e){ls.D(e),j_("dns-prefetch",e,null)}function ob(e,i){ls.C(e,i),j_("preconnect",e,i)}function lb(e,i,a){ls.L(e,i,a);var l=Ya;if(l&&e&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(e)+'"]';var d=h;switch(i){case"style":d=Qa(e);break;case"script":d=Xa(e)}Hn.has(d)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Hn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(Al(d))||(i=l.createElement("link"),Ke(i,"link",e),Se(i),l.head.appendChild(i)))}}function ub(e,i){ls.m(e,i);var a=Ya;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(e)}if(!Hn.has(d)&&(e=A({rel:"modulepreload",href:e},i),Hn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}l=a.createElement("link"),Ke(l,"link",e),Se(l),a.head.appendChild(l)}}}function cb(e,i,a){ls.S(e,i,a);var l=Ya;if(l&&e){var h=pi(l).hoistableStyles,d=Qa(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Sl(d)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Hn.get(d))&&zd(e,a);var C=_=l.createElement("link");Se(C),Ke(C,"link",e),C._p=new Promise(function(j,Y){C.onload=j,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Nc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function hb(e,i){ls.X(e,i);var a=Ya;if(a&&e){var l=pi(a).hoistableScripts,h=Xa(e),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(e=A({src:e,async:!0},i),(i=Hn.get(h))&&jd(e,i),d=a.createElement("script"),Se(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function fb(e,i){ls.M(e,i);var a=Ya;if(a&&e){var l=pi(a).hoistableScripts,h=Xa(e),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(e=A({src:e,async:!0,type:"module"},i),(i=Hn.get(h))&&jd(e,i),d=a.createElement("script"),Se(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function B_(e,i,a,l){var h=(h=gt.current)?Cc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=pi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Qa(a.href);var d=pi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Sl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Hn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(e,a),d||db(h,e,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xa(a),a=pi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Qa(e){return'href="'+ln(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function H_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function db(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ke(i,"link",a),Se(i),e.head.appendChild(i))}function Xa(e){return'[src="'+ln(e)+'"]'}function Al(e){return"script[async]"+e}function q_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,Se(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Se(l),Ke(l,"style",h),Nc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Qa(a.href);var d=e.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,Se(d),d;l=H_(a),(h=Hn.get(h))&&zd(l,h),d=(e.ownerDocument||e).createElement("link"),Se(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ke(d,"link",l),i.state.loading|=4,Nc(d,a.precedence,e),i.instance=d;case"script":return d=Xa(a.src),(h=e.querySelector(Al(d)))?(i.instance=h,Se(h),h):(l=a,(h=Hn.get(d))&&(l=A({},a),jd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ke(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Nc(l,a.precedence,e));return i.instance}function Nc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function zd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function jd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Dc=null;function F_(e,i,a){if(Dc===null){var l=new Map,h=Dc=new Map;h.set(a,l)}else h=Dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[di]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function G_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function mb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function K_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function pb(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Qa(l.href),d=i.querySelector(Sl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=xc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Se(d);return}d=i.ownerDocument||i,l=H_(l),(h=Hn.get(h))&&zd(l,h),d=d.createElement("link"),Se(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ke(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=xc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Bd=0;function gb(e,i){return e.stylesheets&&e.count===0&&Mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Bd===0&&(Bd=62500*$A());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Bd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oc=null;function Mc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oc=new Map,i.forEach(yb,e),Oc=null,xc.call(e))}function yb(e,i){if(!(i.state.loading&4)){var a=Oc.get(e);if(a)var l=a.get(null);else{a=new Map,Oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var bl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function _b(e,i,a,l,h,d,_,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Y_(e,i,a,l,h,d,_,T,C,j,Y,$){return e=new _b(e,i,a,_,C,j,Y,$,T),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),e.current=d,d.stateNode=e,i=Ef(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},bf(d),e}function Q_(e){return e?(e=Ra,e):Ra}function X_(e,i,a,l,h,d){h=Q_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ms(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vs(e,l,i),a!==null&&(mn(a,e,i),nl(a,e,i))}function $_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Hd(e,i){$_(e,i),(e=e.alternate)&&$_(e,i)}function Z_(e){if(e.tag===13||e.tag===31){var i=Lr(e,67108864);i!==null&&mn(i,e,67108864),Hd(e,67108864)}}function J_(e){if(e.tag===13||e.tag===31){var i=Rn();i=br(i);var a=Lr(e,i);a!==null&&mn(a,e,i),Hd(e,i)}}var Vc=!0;function vb(e,i,a,l){var h=B.T;B.T=null;var d=Z.p;try{Z.p=2,qd(e,i,a,l)}finally{Z.p=d,B.T=h}}function Eb(e,i,a,l){var h=B.T;B.T=null;var d=Z.p;try{Z.p=8,qd(e,i,a,l)}finally{Z.p=d,B.T=h}}function qd(e,i,a,l){if(Vc){var h=Fd(l);if(h===null)Nd(e,i,l,kc,a),tv(e,l);else if(Sb(h,e,i,a,l))l.stopPropagation();else if(tv(e,l),i&4&&-1<Tb.indexOf(e)){for(;h!==null;){var d=xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-de(_);T.entanglements[1]|=C,_&=~C}Ci(d),(Gt&6)===0&&(yc=en()+500,_l(0))}}break;case 31:case 13:T=Lr(d,2),T!==null&&mn(T,d,2),vc(),Hd(d,2)}if(d=Fd(l),d===null&&Nd(e,i,l,kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Nd(e,i,l,null,a)}}function Fd(e){return e=On(e),Gd(e)}var kc=null;function Gd(e){if(kc=null,e=mi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return kc=e,null}function W_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case Io:return 2;case Co:return 8;case _s:case $h:return 32;case du:return 268435456;default:return 32}default:return 32}}var Kd=!1,Gs=null,Ks=null,Ys=null,wl=new Map,Rl=new Map,Qs=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tv(e,i){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(i.pointerId)}}function Il(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=xn(i),i!==null&&Z_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Sb(e,i,a,l,h){switch(i){case"focusin":return Gs=Il(Gs,e,i,a,l,h),!0;case"dragenter":return Ks=Il(Ks,e,i,a,l,h),!0;case"mouseover":return Ys=Il(Ys,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return wl.set(d,Il(wl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Il(Rl.get(d)||null,e,i,a,l,h)),!0}return!1}function ev(e){var i=mi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Xn(e.priority,function(){J_(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Xn(e.priority,function(){J_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Fd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);jo=l,a.target.dispatchEvent(l),jo=null}else return i=xn(a),i!==null&&Z_(i),e.blockedOn=a,!1;i.shift()}return!0}function nv(e,i,a){Lc(e)&&a.delete(i)}function Ab(){Kd=!1,Gs!==null&&Lc(Gs)&&(Gs=null),Ks!==null&&Lc(Ks)&&(Ks=null),Ys!==null&&Lc(Ys)&&(Ys=null),wl.forEach(nv),Rl.forEach(nv)}function Pc(e,i){e.blockedOn===i&&(e.blockedOn=null,Kd||(Kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ab)))}var Uc=null;function iv(e){Uc!==e&&(Uc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uc===e&&(Uc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Gd(l||a)===null)continue;break}var d=xn(a);d!==null&&(e.splice(i,3),i-=3,Ff(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function $a(e){function i(C){return Pc(C,e)}Gs!==null&&Pc(Gs,e),Ks!==null&&Pc(Ks,e),Ys!==null&&Pc(Ys,e),wl.forEach(i),Rl.forEach(i);for(var a=0;a<Qs.length;a++){var l=Qs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qs.length&&(a=Qs[0],a.blockedOn===null);)ev(a),a.blockedOn===null&&Qs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[ke]||null;if(typeof d=="function")_||iv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[ke]||null)T=_.formAction;else if(Gd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),iv(a)}}}function sv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Yd(e){this._internalRoot=e}zc.prototype.render=Yd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Rn();X_(a,l,e,i,null,null)},zc.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;X_(e.current,2,null,e,null,null),vc(),i[fi]=null}};function zc(e){this._internalRoot=e}zc.prototype.unstable_scheduleHydration=function(e){if(e){var i=vu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Qs.length&&i!==0&&i<Qs[a].priority;a++);Qs.splice(a,0,e),a===0&&ev(e)}};var rv=t.version;if(rv!=="19.2.0")throw Error(r(527,rv,"19.2.0"));Z.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var bb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Yn=jc.inject(bb),Be=jc}catch{}}return Nl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=fy,d=dy,_=my;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Y_(e,1,!1,null,null,a,l,null,h,d,_,sv),e[fi]=i.current,Cd(e),new Yd(i)},Nl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=fy,_=dy,T=my,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Y_(e,1,!0,i,a??null,l,h,C,d,_,T,sv),i.context=Q_(null),a=i.current,l=Rn(),l=br(l),h=Ms(l),h.callback=null,Vs(a,h,l),a=l,i.current.lanes=a,Sr(i,a),Ci(i),e[fi]=i.current,Cd(e),new zc(i)},Nl.version="19.2.0",Nl}var pv;function Vb(){if(pv)return $d.exports;pv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),$d.exports=Mb(),$d.exports}var kb=Vb();const Lb=()=>{};var gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Pb=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,y=o+2<s.length,g=y?s[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,P=g&63;y||(P=64,f||(R=64)),r.push(n[E],n[A],n[R],n[P])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(lT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Pb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const g=o<s.length?n[s.charAt(o)]:64;++o;const A=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new Ub;const R=u<<2|m>>4;if(r.push(R),g!==64){const P=m<<4&240|g>>2;if(r.push(P),A!==64){const G=g<<6&192|A;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(s){const t=lT(s);return uT.encodeByteArray(t,!0)},rh=function(s){return zb(s).replace(/\./g,"")},cT=function(s){try{return uT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=()=>jb().__FIREBASE_DEFAULTS__,Hb=()=>{if(typeof process>"u"||typeof gv>"u")return;const s=gv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&cT(s[1]);return t&&JSON.parse(t)},wh=()=>{try{return Lb()||Bb()||Hb()||qb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},hT=s=>wh()?.emulatorHosts?.[s],fT=s=>{const t=hT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},dT=()=>wh()?.config,mT=s=>wh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fm(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[rh(JSON.stringify(n)),rh(JSON.stringify(f)),""].join(".")}const Ul={};function Gb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ul))Ul[t]?s.emulator.push(t):s.prod.push(t);return s}function Kb(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let yv=!1;function Gm(s,t){if(typeof window>"u"||typeof document>"u"||!gr(window.location.host)||Ul[s]===t||Ul[s]||yv)return;Ul[s]=t;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=Gb().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,P){R.setAttribute("width","24"),R.setAttribute("id",P),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{yv=!0,f()},R}function E(R,P){R.setAttribute("id",P),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=Kb(r),P=n("text"),G=document.getElementById(P)||document.createElement("span"),W=n("learnmore"),Q=document.getElementById(W)||document.createElement("a"),at=n("preprendIcon"),pt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ut=R.element;m(ut),E(Q,W);const St=g();y(pt,at),ut.append(pt,G,Q,St),document.body.appendChild(ut)}u?(G.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Qb(){const s=wh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $b(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jb(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Wb(){return!Qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t1(){try{return typeof indexedDB=="object"}catch{return!1}}function e1(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="FirebaseError";class ji extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=n1,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?i1(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ji(o,m,r)}}function i1(s,t){return s.replace(s1,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const s1=/\{\$([^}]+)}/g;function r1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ta(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(_v(u)&&_v(f)){if(!ta(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function _v(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ol(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ml(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function a1(s,t){const n=new o1(s,t);return n.subscribe.bind(n)}class o1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l1(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(s){return s&&s._delegate?s._delegate:s}class ur{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Fb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(h1(t))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=$r){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$r){return this.instances.has(t)}getOptions(t=$r){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c1(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=$r){return this.component?this.component.multipleInstances?t:$r:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c1(s){return s===$r?void 0:s}function h1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new u1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const d1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},m1=Lt.INFO,p1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},g1=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=p1[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Km{constructor(t){this.name=t,this._logLevel=m1,this._logHandler=g1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?d1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const y1=(s,t)=>t.some(n=>s instanceof n);let vv,Ev;function _1(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v1(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,mm=new WeakMap,yT=new WeakMap,em=new WeakMap,Ym=new WeakMap;function E1(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(sr(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&gT.set(n,s)}).catch(()=>{}),Ym.set(t,s),t}function T1(s){if(mm.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});mm.set(s,t)}let pm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return mm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||yT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function S1(s){pm=s(pm)}function A1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(nm(this),t,...n);return yT.set(r,t.sort?t.sort():[t]),sr(r)}:v1().includes(s)?function(...t){return s.apply(nm(this),t),sr(gT.get(this))}:function(...t){return sr(s.apply(nm(this),t))}}function b1(s){return typeof s=="function"?A1(s):(s instanceof IDBTransaction&&T1(s),y1(s,_1())?new Proxy(s,pm):s)}function sr(s){if(s instanceof IDBRequest)return E1(s);if(em.has(s))return em.get(s);const t=b1(s);return t!==s&&(em.set(s,t),Ym.set(t,s)),t}const nm=s=>Ym.get(s);function w1(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),m=sr(f);return r&&f.addEventListener("upgradeneeded",y=>{r(sr(f.result),y.oldVersion,y.newVersion,sr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const R1=["get","getKey","getAll","getAllKeys","count"],I1=["put","add","delete","clear"],im=new Map;function Tv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(im.get(t))return im.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=I1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||R1.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return im.set(t,u),u}S1(s=>({...s,get:(t,n,r)=>Tv(t,n)||s.get(t,n,r),has:(t,n)=>!!Tv(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N1(s){return s.getComponent()?.type==="VERSION"}const gm="@firebase/app",Sv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Km("@firebase/app"),D1="@firebase/app-compat",x1="@firebase/analytics-compat",O1="@firebase/analytics",M1="@firebase/app-check-compat",V1="@firebase/app-check",k1="@firebase/auth",L1="@firebase/auth-compat",P1="@firebase/database",U1="@firebase/data-connect",z1="@firebase/database-compat",j1="@firebase/functions",B1="@firebase/functions-compat",H1="@firebase/installations",q1="@firebase/installations-compat",F1="@firebase/messaging",G1="@firebase/messaging-compat",K1="@firebase/performance",Y1="@firebase/performance-compat",Q1="@firebase/remote-config",X1="@firebase/remote-config-compat",$1="@firebase/storage",Z1="@firebase/storage-compat",J1="@firebase/firestore",W1="@firebase/ai",tw="@firebase/firestore-compat",ew="firebase",nw="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",iw={[gm]:"fire-core",[D1]:"fire-core-compat",[O1]:"fire-analytics",[x1]:"fire-analytics-compat",[V1]:"fire-app-check",[M1]:"fire-app-check-compat",[k1]:"fire-auth",[L1]:"fire-auth-compat",[P1]:"fire-rtdb",[U1]:"fire-data-connect",[z1]:"fire-rtdb-compat",[j1]:"fire-fn",[B1]:"fire-fn-compat",[H1]:"fire-iid",[q1]:"fire-iid-compat",[F1]:"fire-fcm",[G1]:"fire-fcm-compat",[K1]:"fire-perf",[Y1]:"fire-perf-compat",[Q1]:"fire-rc",[X1]:"fire-rc-compat",[$1]:"fire-gcs",[Z1]:"fire-gcs-compat",[J1]:"fire-fst",[tw]:"fire-fst-compat",[W1]:"fire-vertex","fire-js":"fire-js",[ew]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,sw=new Map,_m=new Map;function Av(s,t){try{s.container.addComponent(t)}catch(n){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function ea(s){const t=s.name;if(_m.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;_m.set(t,s);for(const n of ah.values())Av(n,s);for(const n of sw.values())Av(n,s);return!0}function Rh(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Fn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new eu("app","Firebase",rw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=nw;function _T(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:ym,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw rr.create("bad-app-name",{appName:String(o)});if(n||(n=dT()),!n)throw rr.create("no-options");const u=ah.get(o);if(u){if(ta(n,u.options)&&ta(r,u.config))return u;throw rr.create("duplicate-app",{appName:o})}const f=new f1(o);for(const y of _m.values())f.addComponent(y);const m=new aw(n,r,f);return ah.set(o,m),m}function Qm(s=ym){const t=ah.get(s);if(!t&&s===ym&&dT())return _T();if(!t)throw rr.create("no-app",{appName:s});return t}function Di(s,t,n){let r=iw[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(f.join(" "));return}ea(new ur(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="firebase-heartbeat-database",lw=1,Fl="firebase-heartbeat-store";let sm=null;function vT(){return sm||(sm=w1(ow,lw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(s=>{throw rr.create("idb-open",{originalErrorMessage:s.message})})),sm}async function uw(s){try{const n=(await vT()).transaction(Fl),r=await n.objectStore(Fl).get(ET(s));return await n.done,r}catch(t){if(t instanceof ji)fs.warn(t.message);else{const n=rr.create("idb-get",{originalErrorMessage:t?.message});fs.warn(n.message)}}}async function bv(s,t){try{const r=(await vT()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(t,ET(s)),await r.done}catch(n){if(n instanceof ji)fs.warn(n.message);else{const r=rr.create("idb-set",{originalErrorMessage:n?.message});fs.warn(r.message)}}}function ET(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=1024,hw=30;class fw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>hw){const o=pw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wv(),{heartbeatsToSend:n,unsentEntries:r}=dw(this._heartbeatsCache.heartbeats),o=rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return fs.warn(t),""}}}function wv(){return new Date().toISOString().substring(0,10)}function dw(s,t=cw){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Rv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Rv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t1()?e1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Rv(s){return rh(JSON.stringify({version:2,heartbeats:s})).length}function pw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(s){ea(new ur("platform-logger",t=>new C1(t),"PRIVATE")),ea(new ur("heartbeat",t=>new fw(t),"PRIVATE")),Di(gm,Sv,s),Di(gm,Sv,"esm2020"),Di("fire-js","")}gw("");function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yw=TT,ST=new eu("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Km("@firebase/auth");function _w(s,...t){oh.logLevel<=Lt.WARN&&oh.warn(`Auth (${aa}): ${s}`,...t)}function Xc(s,...t){oh.logLevel<=Lt.ERROR&&oh.error(`Auth (${aa}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(s,...t){throw Xm(s,...t)}function xi(s,...t){return Xm(s,...t)}function AT(s,t,n){const r={...yw(),[t]:n};return new eu("auth","Firebase",r).create(t,{appName:s.name})}function ar(s){return AT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xm(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return ST.create(s,...t)}function Et(s,t,...n){if(!s)throw Xm(t,...n)}function us(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Xc(t),new Error(t)}function ds(s,t){s||us(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){return typeof self<"u"&&self.location?.href||""}function vw(){return Iv()==="http:"||Iv()==="https:"}function Iv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vw()||$b()||"connection"in navigator)?navigator.onLine:!0}function Tw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ds(n>t,"Short delay should be less than long delay!"),this.isMobile=Yb()||Zb()}get(){return Ew()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(s,t){ds(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bw=new iu(3e4,6e4);function oa(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function yr(s,t,n,r,o={}){return wT(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const m=nu({key:s.config.apiKey,...f}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:y,...u};return Xb()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&gr(s.emulatorConfig.host)&&(g.credentials="include"),bT.fetch()(await RT(s,s.config.apiHost,n,m),g)})}async function wT(s,t,n){s._canInitEmulator=!1;const r={...Sw,...t};try{const o=new Rw(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(s,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Bc(s,"email-already-in-use",f);if(y==="USER_DISABLED")throw Bc(s,"user-disabled",f);const E=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw AT(s,E,g);oi(s,E)}}catch(o){if(o instanceof ji)throw o;oi(s,"network-request-failed",{message:String(o)})}}async function Ih(s,t,n,r,o={}){const u=await yr(s,t,n,r,o);return"mfaPendingCredential"in u&&oi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function RT(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?$m(s.config,o):`${s.config.apiScheme}://${o}`;return Aw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function ww(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),bw.get())})}}function Bc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=xi(s,t,r);return o.customData._tokenResponse=n,o}function Cv(s){return s!==void 0&&s.enterprise!==void 0}class Iw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return ww(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Cw(s,t){return yr(s,"GET","/v2/recaptchaConfig",oa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nw(s,t){return yr(s,"POST","/v1/accounts:delete",t)}async function lh(s,t){return yr(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Dw(s,t=!1){const n=_e(s),r=await n.getIdToken(t),o=Zm(r);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:zl(rm(o.auth_time)),issuedAtTime:zl(rm(o.iat)),expirationTime:zl(rm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Zm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=cT(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Nv(s){const t=Zm(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ji&&xw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function xw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(s){const t=s.auth,n=await s.getIdToken(),r=await Gl(s,lh(t,{idToken:n}));Et(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?IT(o.providerUserInfo):[],f=Vw(s.providerData,u),m=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!f?.length,g=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,E)}async function Mw(s){const t=_e(s);await uh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Vw(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function IT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(s,t){const n=await wT(s,{},async()=>{const r=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await RT(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:r};return s.emulatorConfig&&gr(s.emulatorConfig.host)&&(y.credentials="include"),bT.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lw(s,t){return yr(s,"POST","/v2/accounts:revokeToken",oa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Nv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=Nv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await kw(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new ro;return r&&(Et(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ri{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Ow(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Dw(this,t)}reload(){return Mw(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ri({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(ar(this.auth));const t=await this.getIdToken();return await Gl(this,Nw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:P,providerData:G,stsTokenManager:W}=n;Et(A&&W,t,"internal-error");const Q=ro.fromJSON(this.name,W);Et(typeof A=="string",t,"internal-error"),$s(r,t.name),$s(o,t.name),Et(typeof R=="boolean",t,"internal-error"),Et(typeof P=="boolean",t,"internal-error"),$s(u,t.name),$s(f,t.name),$s(m,t.name),$s(y,t.name),$s(g,t.name),$s(E,t.name);const at=new ri({uid:A,auth:t,email:o,emailVerified:R,displayName:r,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Q,createdAt:g,lastLoginAt:E});return G&&Array.isArray(G)&&(at.providerData=G.map(pt=>({...pt}))),y&&(at._redirectEventId=y),at}static async _fromIdTokenResponse(t,n,r=!1){const o=new ro;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await uh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?IT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ro;m.updateFromIdToken(r);const y=new ri({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;function cs(s){ds(s instanceof Function,"Expected a class definition");let t=Dv.get(s);return t?(ds(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Dv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}CT.type="NONE";const xv=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(s,t,n){return`firebase:${s}:${t}:${n}`}class ao{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,u),this.fullPersistenceKey=$c("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await lh(this.auth,{idToken:t}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ao(cs(xv),t,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cs(xv);const f=$c(r,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const R=await lh(t,{idToken:E}).catch(()=>{});if(!R)break;A=await ri._fromGetAccountInfoResponse(t,R,E)}else A=ri._fromJSON(t,E);g!==u&&(m=A),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new ao(u,t,r):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ao(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VT(t))return"Blackberry";if(kT(t))return"Webos";if(DT(t))return"Safari";if((t.includes("chrome/")||xT(t))&&!t.includes("edge/"))return"Chrome";if(MT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function NT(s=tn()){return/firefox\//i.test(s)}function DT(s=tn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xT(s=tn()){return/crios\//i.test(s)}function OT(s=tn()){return/iemobile/i.test(s)}function MT(s=tn()){return/android/i.test(s)}function VT(s=tn()){return/blackberry/i.test(s)}function kT(s=tn()){return/webos/i.test(s)}function Jm(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Pw(s=tn()){return Jm(s)&&!!window.navigator?.standalone}function Uw(){return Jb()&&document.documentMode===10}function LT(s=tn()){return Jm(s)||MT(s)||kT(s)||VT(s)||/windows phone/i.test(s)||OT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(s,t=[]){let n;switch(s){case"Browser":n=Ov(tn());break;case"Worker":n=`${Ov(tn())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,m)=>{try{const y=t(u);f(y)}catch(y){m(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(s,t={}){return yr(s,"GET","/v2/passwordPolicy",oa(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=6;class Hw{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Bw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new zw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ST,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await lh(this,{idToken:t}),r=await ri._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Fn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await uh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Tw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Fn(this.app))return Promise.reject(ar(this));const n=t?_e(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Fn(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jw(this),n=new Hw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new eu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&cs(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,r,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=PT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_w(`Error while retrieving App Check token: ${t.error}`),t?.token}}function _o(s){return _e(s)}class Mv{constructor(t){this.auth=t,this.observer=null,this.addObserver=a1(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fw(s){Ch=s}function UT(s){return Ch.loadJS(s)}function Gw(){return Ch.recaptchaEnterpriseScript}function Kw(){return Ch.gapiScript}function Yw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Qw{constructor(){this.enterprise=new Xw}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Xw{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const $w="recaptcha-enterprise",zT="NO_RECAPTCHA";class Zw{constructor(t){this.type=$w,this.auth=_o(t)}async verify(t="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Cw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Iw(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(y=>{m(y)})})}function o(u,f,m){const y=window.grecaptcha;Cv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(zT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!n&&Cv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Gw();y.length!==0&&(y+=m),UT(y).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Vv(s,t,n,r=!1,o=!1){const u=new Zw(s);let f;if(o)f=zT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function kv(s,t,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Vv(s,t,n,n==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Vv(s,t,n,n==="getOobCode");return r(s,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(s,t){const n=Rh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ta(u,t??{}))return o;oi(o,"already-initialized")}return n.initialize({options:t})}function Ww(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(cs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function tR(s,t,n){const r=_o(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=jT(t),{host:f,port:m}=eR(t),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(ta(g,r.config.emulator)&&ta(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,gr(f)?(Fm(`${u}//${f}${y}`),Gm("Auth",!0)):nR()}function jT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function eR(s){const t=jT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Lv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Lv(f)}}}function Lv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function nR(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,n){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}async function iR(s,t){return yr(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(s,t){return Ih(s,"POST","/v1/accounts:signInWithPassword",oa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(s,t){return Ih(s,"POST","/v1/accounts:signInWithEmailLink",oa(s,t))}async function aR(s,t){return Ih(s,"POST","/v1/accounts:signInWithEmailLink",oa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Wm{constructor(t,n,r,o=null){super("password",r),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Kl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Kl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kv(t,n,"signInWithPassword",sR);case"emailLink":return rR(t,{email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kv(t,r,"signUpPassword",iR);case"emailLink":return aR(t,{idToken:n,email:this._email,oobCode:this._password});default:oi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(s,t){return Ih(s,"POST","/v1/accounts:signInWithIdp",oa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="http://localhost";class na extends Wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new na(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return oo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,oo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,oo(t,n)}buildRequest(){const t={requestUri:oR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uR(s){const t=Ol(Ml(s)).link,n=t?Ol(Ml(t)).deep_link_id:null,r=Ol(Ml(s)).deep_link_id;return(r?Ol(Ml(r)).link:null)||r||n||t||s}class tp{constructor(t){const n=Ol(Ml(t)),r=n.apiKey??null,o=n.oobCode??null,u=lR(n.mode??null);Et(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=uR(t);try{return new tp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(t,n){return Kl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=tp.parseLink(n);return Et(r,"argument-error"),Kl._fromEmailAndCode(t,r.code,r.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends BT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends su{constructor(){super("facebook.com")}static credential(t){return na._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return na._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends su{constructor(){super("github.com")}static credential(t){return na._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends su{constructor(){super("twitter.com")}static credential(t,n){return na._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return er.credential(n,r)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await ri._fromIdTokenResponse(t,r,o),f=Pv(r);return new co({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=Pv(r);return new co({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function Pv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends ji{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new ch(t,n,r,o)}}function HT(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(s,u,t,r):u})}async function cR(s,t,n=!1){const r=await Gl(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return co._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(s,t,n=!1){const{auth:r}=s;if(Fn(r.app))return Promise.reject(ar(r));const o="reauthenticate";try{const u=await Gl(s,HT(r,o,t,s),n);Et(u.idToken,r,"internal-error");const f=Zm(u.idToken);Et(f,r,"internal-error");const{sub:m}=f;return Et(s.uid===m,r,"user-mismatch"),co._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&oi(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(s,t,n=!1){if(Fn(s.app))return Promise.reject(ar(s));const r="signIn",o=await HT(s,r,t),u=await co._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function fR(s,t){return qT(_o(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(s){const t=_o(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function mR(s,t,n){return Fn(s.app)?Promise.reject(ar(s)):fR(_e(s),vo.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dR(s),r})}function pR(s,t,n,r){return _e(s).onIdTokenChanged(t,n,r)}function gR(s,t,n){return _e(s).beforeAuthStateChanged(t,n)}function yR(s,t,n,r){return _e(s).onAuthStateChanged(t,n,r)}function _R(s){return _e(s).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=1e3,ER=10;class GT extends FT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);Uw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ER):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},vR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}GT.type="LOCAL";const TR=GT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends FT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}KT.type="SESSION";const YT=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Nh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await SR(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=ep("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function bR(s){Oi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function wR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RR(){return navigator?.serviceWorker?.controller||null}function IR(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebaseLocalStorageDb",CR=1,fh="firebaseLocalStorage",$T="fbase_key";class ru{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(s,t){return s.transaction([fh],t?"readwrite":"readonly").objectStore(fh)}function NR(){const s=indexedDB.deleteDatabase(XT);return new ru(s).toPromise()}function Tm(){const s=indexedDB.open(XT,CR);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(fh,{keyPath:$T})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(fh)?t(r):(r.close(),await NR(),t(await Tm()))})})}async function Uv(s,t,n){const r=Dh(s,!0).put({[$T]:t,value:n});return new ru(r).toPromise()}async function DR(s,t){const n=Dh(s,!1).get(t),r=await new ru(n).toPromise();return r===void 0?null:r.value}function zv(s,t){const n=Dh(s,!0).delete(t);return new ru(n).toPromise()}const xR=800,OR=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>OR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(IR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wR(),!this.activeServiceWorker)return;this.sender=new AR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||RR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Tm();return await Uv(t,hh,"1"),await zv(t,hh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>DR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>zv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Dh(o,!1).getAll();return new ru(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const MR=ZT;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(s,t){return t?cs(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends Wm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return oo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return oo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function kR(s){return qT(s.auth,new np(s),s.bypassAuthState)}function LR(s){const{auth:t,user:n}=s;return Et(n,t,"internal-error"),hR(n,new np(s),s.bypassAuthState)}async function PR(s){const{auth:t,user:n}=s;return Et(n,t,"internal-error"),cR(n,new np(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kR;case"linkViaPopup":case"linkViaRedirect":return PR;case"reauthViaPopup":case"reauthViaRedirect":return LR;default:oi(this.auth,"internal-error")}}resolve(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new iu(2e3,1e4);class so extends JT{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const t=ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,UR.get())};t()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="pendingRedirect",Zc=new Map;class jR extends JT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Zc.get(this.auth._key());if(!t){try{const r=await BR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Zc.set(this.auth._key(),t)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BR(s,t){const n=FR(t),r=qR(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function HR(s,t){Zc.set(s._key(),t)}function qR(s){return cs(s._redirectPersistence)}function FR(s){return $c(zR,s.config.apiKey,s.name)}async function GR(s,t,n=!1){if(Fn(s.app))return Promise.reject(ar(s));const r=_o(s),o=VR(r,t),f=await new jR(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=600*1e3;class YR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!QR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!WT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(xi(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=KR&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(t))}saveEventToCache(t){this.cachedEventUids.add(jv(t)),this.lastProcessedEventTime=Date.now()}}function jv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function WT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function QR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(s,t={}){return yr(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZR=/^https?/;async function JR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await XR(s);for(const n of t)try{if(WR(n))return}catch{}oi(s,"unauthorized-domain")}function WR(s){const t=vm(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!ZR.test(n))return!1;if($R.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new iu(3e4,6e4);function Bv(){const s=Oi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function eI(s){return new Promise((t,n)=>{function r(){Bv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bv(),n(xi(s,"network-request-failed"))},timeout:tI.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)r();else{const o=Yw("iframefcb");return Oi()[o]=()=>{gapi.load?r():n(xi(s,"network-request-failed"))},UT(`${Kw()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Jc=null,t})}let Jc=null;function nI(s){return Jc=Jc||eI(s),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new iu(5e3,15e3),sI="__/auth/iframe",rI="emulator/auth/iframe",aI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lI(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?$m(t,rI):`https://${s.config.authDomain}/${sI}`,r={apiKey:t.apiKey,appName:s.name,v:aa},o=oI.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${nu(r).slice(1)}`}async function uI(s){const t=await nI(s),n=Oi().gapi;return Et(n,s,"internal-error"),t.open({where:document.body,url:lI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=xi(s,"network-request-failed"),m=Oi().setTimeout(()=>{u(f)},iI.get());function y(){Oi().clearTimeout(m),o(r)}r.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hI=500,fI=600,dI="_blank",mI="http://localhost";class Hv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pI(s,t,n,r=hI,o=fI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y={...cI,width:r.toString(),height:o.toString(),top:u,left:f},g=tn().toLowerCase();n&&(m=xT(g)?dI:n),NT(g)&&(t=t||mI,y.scrollbars="yes");const E=Object.entries(y).reduce((R,[P,G])=>`${R}${P}=${G},`,"");if(Pw(g)&&m!=="_self")return gI(t||"",m),new Hv(null);const A=window.open(t||"",m,E);Et(A,s,"popup-blocked");try{A.focus()}catch{}return new Hv(A)}function gI(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="__/auth/handler",_I="emulator/auth/handler",vI=encodeURIComponent("fac");async function qv(s,t,n,r,o,u){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:aa,eventId:o};if(t instanceof BT){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",r1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof su){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await s._getAppCheckToken(),g=y?`#${vI}=${encodeURIComponent(y)}`:"";return`${EI(s)}?${nu(m).slice(1)}${g}`}function EI({config:s}){return s.emulator?$m(s,_I):`https://${s.authDomain}/${yI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class TI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=GR,this._overrideRedirectResult=HR}async _openPopup(t,n,r,o){ds(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await qv(t,n,r,vm(),o);return pI(t,u,ep())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await qv(t,n,r,vm(),o);return bR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ds(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await uI(t),r=new YR(t);return n.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(am,{type:am},o=>{const u=o?.[0]?.[am];u!==void 0&&n(!!u),oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return LT()||DT()||Jm()}}const SI=TI;var Fv="@firebase/auth",Gv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wI(s){ea(new ur("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PT(s)},g=new qw(r,o,u,y);return Ww(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ea(new ur("auth-internal",t=>{const n=_o(t.getProvider("auth").getImmediate());return(r=>new AI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(Fv,Gv,bI(s)),Di(Fv,Gv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=300,II=mT("authIdTokenMaxAge")||RI;let Kv=null;const CI=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>II)return;const o=n?.token;Kv!==o&&(Kv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function NI(s=Qm()){const t=Rh(s,"auth");if(t.isInitialized())return t.getImmediate();const n=Jw(s,{popupRedirectResolver:SI,persistence:[MR,TR,YT]}),r=mT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=CI(u.toString());gR(n,f,()=>f(n.currentUser)),pR(n,m=>f(m))}}const o=hT("auth");return o&&tR(n,`http://${o}`),n}function DI(){return document.getElementsByTagName("head")?.[0]??document}Fw({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=xi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",DI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wI("Browser");var xI="firebase",OI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(xI,OI,"app");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var or,t0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,w){function N(){}N.prototype=w.prototype,D.F=w.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(V,M,L){for(var I=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)I[ie-2]=arguments[ie];return w.prototype[M].apply(V,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,N){N||(N=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(M=0;M<16;++M)V[M]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=D.g[0],N=D.g[1],M=D.g[2];let L=D.g[3],I;I=w+(L^N&(M^L))+V[0]+3614090360&4294967295,w=N+(I<<7&4294967295|I>>>25),I=L+(M^w&(N^M))+V[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=M+(N^L&(w^N))+V[2]+606105819&4294967295,M=L+(I<<17&4294967295|I>>>15),I=N+(w^M&(L^w))+V[3]+3250441966&4294967295,N=M+(I<<22&4294967295|I>>>10),I=w+(L^N&(M^L))+V[4]+4118548399&4294967295,w=N+(I<<7&4294967295|I>>>25),I=L+(M^w&(N^M))+V[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=M+(N^L&(w^N))+V[6]+2821735955&4294967295,M=L+(I<<17&4294967295|I>>>15),I=N+(w^M&(L^w))+V[7]+4249261313&4294967295,N=M+(I<<22&4294967295|I>>>10),I=w+(L^N&(M^L))+V[8]+1770035416&4294967295,w=N+(I<<7&4294967295|I>>>25),I=L+(M^w&(N^M))+V[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=M+(N^L&(w^N))+V[10]+4294925233&4294967295,M=L+(I<<17&4294967295|I>>>15),I=N+(w^M&(L^w))+V[11]+2304563134&4294967295,N=M+(I<<22&4294967295|I>>>10),I=w+(L^N&(M^L))+V[12]+1804603682&4294967295,w=N+(I<<7&4294967295|I>>>25),I=L+(M^w&(N^M))+V[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=M+(N^L&(w^N))+V[14]+2792965006&4294967295,M=L+(I<<17&4294967295|I>>>15),I=N+(w^M&(L^w))+V[15]+1236535329&4294967295,N=M+(I<<22&4294967295|I>>>10),I=w+(M^L&(N^M))+V[1]+4129170786&4294967295,w=N+(I<<5&4294967295|I>>>27),I=L+(N^M&(w^N))+V[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=M+(w^N&(L^w))+V[11]+643717713&4294967295,M=L+(I<<14&4294967295|I>>>18),I=N+(L^w&(M^L))+V[0]+3921069994&4294967295,N=M+(I<<20&4294967295|I>>>12),I=w+(M^L&(N^M))+V[5]+3593408605&4294967295,w=N+(I<<5&4294967295|I>>>27),I=L+(N^M&(w^N))+V[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=M+(w^N&(L^w))+V[15]+3634488961&4294967295,M=L+(I<<14&4294967295|I>>>18),I=N+(L^w&(M^L))+V[4]+3889429448&4294967295,N=M+(I<<20&4294967295|I>>>12),I=w+(M^L&(N^M))+V[9]+568446438&4294967295,w=N+(I<<5&4294967295|I>>>27),I=L+(N^M&(w^N))+V[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=M+(w^N&(L^w))+V[3]+4107603335&4294967295,M=L+(I<<14&4294967295|I>>>18),I=N+(L^w&(M^L))+V[8]+1163531501&4294967295,N=M+(I<<20&4294967295|I>>>12),I=w+(M^L&(N^M))+V[13]+2850285829&4294967295,w=N+(I<<5&4294967295|I>>>27),I=L+(N^M&(w^N))+V[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=M+(w^N&(L^w))+V[7]+1735328473&4294967295,M=L+(I<<14&4294967295|I>>>18),I=N+(L^w&(M^L))+V[12]+2368359562&4294967295,N=M+(I<<20&4294967295|I>>>12),I=w+(N^M^L)+V[5]+4294588738&4294967295,w=N+(I<<4&4294967295|I>>>28),I=L+(w^N^M)+V[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=M+(L^w^N)+V[11]+1839030562&4294967295,M=L+(I<<16&4294967295|I>>>16),I=N+(M^L^w)+V[14]+4259657740&4294967295,N=M+(I<<23&4294967295|I>>>9),I=w+(N^M^L)+V[1]+2763975236&4294967295,w=N+(I<<4&4294967295|I>>>28),I=L+(w^N^M)+V[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=M+(L^w^N)+V[7]+4139469664&4294967295,M=L+(I<<16&4294967295|I>>>16),I=N+(M^L^w)+V[10]+3200236656&4294967295,N=M+(I<<23&4294967295|I>>>9),I=w+(N^M^L)+V[13]+681279174&4294967295,w=N+(I<<4&4294967295|I>>>28),I=L+(w^N^M)+V[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=M+(L^w^N)+V[3]+3572445317&4294967295,M=L+(I<<16&4294967295|I>>>16),I=N+(M^L^w)+V[6]+76029189&4294967295,N=M+(I<<23&4294967295|I>>>9),I=w+(N^M^L)+V[9]+3654602809&4294967295,w=N+(I<<4&4294967295|I>>>28),I=L+(w^N^M)+V[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=M+(L^w^N)+V[15]+530742520&4294967295,M=L+(I<<16&4294967295|I>>>16),I=N+(M^L^w)+V[2]+3299628645&4294967295,N=M+(I<<23&4294967295|I>>>9),I=w+(M^(N|~L))+V[0]+4096336452&4294967295,w=N+(I<<6&4294967295|I>>>26),I=L+(N^(w|~M))+V[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=M+(w^(L|~N))+V[14]+2878612391&4294967295,M=L+(I<<15&4294967295|I>>>17),I=N+(L^(M|~w))+V[5]+4237533241&4294967295,N=M+(I<<21&4294967295|I>>>11),I=w+(M^(N|~L))+V[12]+1700485571&4294967295,w=N+(I<<6&4294967295|I>>>26),I=L+(N^(w|~M))+V[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=M+(w^(L|~N))+V[10]+4293915773&4294967295,M=L+(I<<15&4294967295|I>>>17),I=N+(L^(M|~w))+V[1]+2240044497&4294967295,N=M+(I<<21&4294967295|I>>>11),I=w+(M^(N|~L))+V[8]+1873313359&4294967295,w=N+(I<<6&4294967295|I>>>26),I=L+(N^(w|~M))+V[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=M+(w^(L|~N))+V[6]+2734768916&4294967295,M=L+(I<<15&4294967295|I>>>17),I=N+(L^(M|~w))+V[13]+1309151649&4294967295,N=M+(I<<21&4294967295|I>>>11),I=w+(M^(N|~L))+V[4]+4149444226&4294967295,w=N+(I<<6&4294967295|I>>>26),I=L+(N^(w|~M))+V[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=M+(w^(L|~N))+V[2]+718787259&4294967295,M=L+(I<<15&4294967295|I>>>17),I=N+(L^(M|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+L&4294967295}r.prototype.v=function(D,w){w===void 0&&(w=D.length);const N=w-this.blockSize,V=this.C;let M=this.h,L=0;for(;L<w;){if(M==0)for(;L<=N;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<w;)if(V[M++]=D.charCodeAt(L++),M==this.blockSize){o(this,V),M=0;break}}else for(;L<w;)if(V[M++]=D[L++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)D[w++]=this.g[N]>>>V&255;return D};function u(D,w){var N=m;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=w(D)}function f(D,w){this.h=w;const N=[];let V=!0;for(let M=D.length-1;M>=0;M--){const L=D[M]|0;V&&L==w||(N[M]=L,V=!1)}this.g=N}var m={};function y(D){return-128<=D&&D<128?u(D,function(w){return new f([w|0],w<0?-1:0)}):new f([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return Q(g(-D));const w=[];let N=1;for(let V=0;D>=N;V++)w[V]=D/N|0,N*=4294967296;return new f(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return Q(E(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(w,8));let V=A;for(let L=0;L<D.length;L+=8){var M=Math.min(8,D.length-L);const I=parseInt(D.substring(L,L+M),w);M<8?(M=g(Math.pow(w,M)),V=V.j(M).add(g(I))):(V=V.j(N),V=V.add(g(I)))}return V}var A=y(0),R=y(1),P=y(16777216);s=f.prototype,s.m=function(){if(W(this))return-Q(this).m();let D=0,w=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);D+=(V>=0?V:4294967296+V)*w,w*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(G(this))return"0";if(W(this))return"-"+Q(this).toString(D);const w=g(Math.pow(D,6));var N=this;let V="";for(;;){const M=St(N,w).g;N=at(N,M.j(w));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=M,G(N))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function G(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function W(D){return D.h==-1}s.l=function(D){return D=at(this,D),W(D)?-1:G(D)?0:1};function Q(D){const w=D.g.length,N=[];for(let V=0;V<w;V++)N[V]=~D.g[V];return new f(N,~D.h).add(R)}s.abs=function(){return W(this)?Q(this):this},s.add=function(D){const w=Math.max(this.g.length,D.g.length),N=[];let V=0;for(let M=0;M<=w;M++){let L=V+(this.i(M)&65535)+(D.i(M)&65535),I=(L>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);V=I>>>16,L&=65535,I&=65535,N[M]=I<<16|L}return new f(N,N[N.length-1]&-2147483648?-1:0)};function at(D,w){return D.add(Q(w))}s.j=function(D){if(G(this)||G(D))return A;if(W(this))return W(D)?Q(this).j(Q(D)):Q(Q(this).j(D));if(W(D))return Q(this.j(Q(D)));if(this.l(P)<0&&D.l(P)<0)return g(this.m()*D.m());const w=this.g.length+D.g.length,N=[];for(var V=0;V<2*w;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<D.g.length;M++){const L=this.i(V)>>>16,I=this.i(V)&65535,ie=D.i(M)>>>16,bt=D.i(M)&65535;N[2*V+2*M]+=I*bt,pt(N,2*V+2*M),N[2*V+2*M+1]+=L*bt,pt(N,2*V+2*M+1),N[2*V+2*M+1]+=I*ie,pt(N,2*V+2*M+1),N[2*V+2*M+2]+=L*ie,pt(N,2*V+2*M+2)}for(D=0;D<w;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=w;D<2*w;D++)N[D]=0;return new f(N,0)};function pt(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ut(D,w){this.g=D,this.h=w}function St(D,w){if(G(w))throw Error("division by zero");if(G(D))return new ut(A,A);if(W(D))return w=St(Q(D),w),new ut(Q(w.g),Q(w.h));if(W(w))return w=St(D,Q(w)),new ut(Q(w.g),w.h);if(D.g.length>30){if(W(D)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var N=R,V=w;V.l(D)<=0;)N=Bt(N),V=Bt(V);var M=xt(N,1),L=xt(V,1);for(V=xt(V,2),N=xt(N,2);!G(V);){var I=L.add(V);I.l(D)<=0&&(M=M.add(N),L=I),V=xt(V,1),N=xt(N,1)}return w=at(D,M.j(w)),new ut(M,w)}for(M=A;D.l(w)>=0;){for(N=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=g(N),I=L.j(w);W(I)||I.l(D)>0;)N-=V,L=g(N),I=L.j(w);G(L)&&(L=R),M=M.add(L),D=at(D,I)}return new ut(M,D)}s.B=function(D){return St(this,D).h},s.and=function(D){const w=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)&D.i(V);return new f(N,this.h&D.h)},s.or=function(D){const w=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)|D.i(V);return new f(N,this.h|D.h)},s.xor=function(D){const w=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)^D.i(V);return new f(N,this.h^D.h)};function Bt(D){const w=D.g.length+1,N=[];for(let V=0;V<w;V++)N[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(N,D.h)}function xt(D,w){const N=w>>5;w%=32;const V=D.g.length-N,M=[];for(let L=0;L<V;L++)M[L]=w>0?D.i(L+N)>>>w|D.i(L+N+1)<<32-w:D.i(L+N);return new f(M,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,t0=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,or=f}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e0,Vl,n0,Wc,Sm,i0,s0,r0;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,p){if(p)t:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break t;v=v[U]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,v){return c.call.apply(c.bind,arguments)}function g(c,p,v){return g=y,g.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,U,q){for(var st=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)st[Ct-2]=arguments[Ct];return p.prototype[U].apply(S,st)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const p=c.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function G(c,p){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let st=0;st<q;st++)c[v+st]=U[st]}else c.push(U)}}class W{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Q(c){f.setTimeout(()=>{throw c},0)}function at(){var c=D;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class pt{constructor(){this.h=this.g=null}add(p,v){const S=ut.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ut=new W(()=>new St,c=>c.reset());class St{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,xt=!1,D=new pt,w=()=>{const c=Promise.resolve(void 0);Bt=()=>{c.then(N)}};function N(){for(var c;c=at();){try{c.h.call(c.g)}catch(v){Q(v)}var p=ut;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}xt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ie(c,p){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}A(ie,M),ie.prototype.init=function(c,p){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),B=0;function Z(c,p,v,S,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=U,this.key=++B,this.da=this.fa=!1}function rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vt(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function It(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function x(c){const p={};for(const v in c)p[v]=c[v];return p}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,p){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function et(c){this.src=c,this.g={},this.h=0}et.prototype.add=function(c,p,v,S,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const st=gt(c,p,S,U);return st>-1?(p=c[st],v||(p.fa=!1)):(p=new Z(p,this.src,q,!!S,U),p.fa=v,c.push(p)),p};function ft(c,p){const v=p.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,p,void 0),q;(q=U>=0)&&Array.prototype.splice.call(S,U,1),q&&(rt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function gt(c,p,v,S){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==p&&q.capture==!!v&&q.ha==S)return U}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),Zt={};function Yt(c,p,v,S,U){if(Array.isArray(p)){for(let q=0;q<p.length;q++)Yt(c,p[q],v,S,U);return null}return v=Ro(v),c&&c[bt]?c.J(p,v,m(S)?!!S.capture:!1,U):Nn(c,p,v,!1,S,U)}function Nn(c,p,v,S,U,q){if(!p)throw Error("Invalid event type");const st=m(U)?!!U.capture:!!U;let Ct=qi(c);if(Ct||(c[_t]=Ct=new et(c)),v=Ct.add(p,v,S,st,q),v.proxy)return v;if(S=Kn(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)L||(U=st),U===void 0&&(U=!1),c.addEventListener(p.toString(),S,U);else if(c.attachEvent)c.attachEvent(yn(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kn(){function c(v){return p.call(c.src,c.listener,v)}const p=gs;return c}function Bi(c,p,v,S,U){if(Array.isArray(p))for(var q=0;q<p.length;q++)Bi(c,p[q],v,S,U);else S=m(S)?!!S.capture:!!S,v=Ro(v),c&&c[bt]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],v=gt(p,v,S,U),v>-1&&(rt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=qi(c))&&(p=c.g[p.toString()],c=-1,p&&(c=gt(p,v,S,U)),(v=c>-1?p[c]:null)&&Hi(v))}function Hi(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[bt])ft(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(yn(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=qi(p))?(ft(v,c),v.h==0&&(v.src=null,p[_t]=null)):rt(c)}}}function yn(c){return c in Zt?Zt[c]:Zt[c]="on"+c}function gs(c,p){if(c.da)c=!0;else{p=new ie(p,this);const v=c.listener,S=c.ha||c.src;c.fa&&Hi(c),c=v.call(S,p)}return c}function qi(c){return c=c[_t],c instanceof et?c:null}var wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ro(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(p){return c.handleEvent(p)}),c[wo])}function ve(){V.call(this),this.i=new et(this),this.M=this,this.G=null}A(ve,V),ve.prototype[bt]=!0,ve.prototype.removeEventListener=function(c,p,v,S){Bi(this,c,p,v,S)};function xe(c,p){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new M(p,c);else if(p instanceof M)p.target=p.target||c;else{var U=p;p=new M(S,c),it(p,U)}U=!0;let q,st;if(v)for(st=v.length-1;st>=0;st--)q=p.g=v[st],U=ys(q,S,!0,p)&&U;if(q=p.g=c,U=ys(q,S,!0,p)&&U,U=ys(q,S,!1,p)&&U,v)for(st=0;st<v.length;st++)q=p.g=v[st],U=ys(q,S,!1,p)&&U}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let S=0;S<v.length;S++)rt(v[S]);delete c.g[p],c.h--}}this.G=null},ve.prototype.J=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},ve.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function ys(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let q=0;q<p.length;++q){const st=p[q];if(st&&!st.da&&st.capture==v){const Ct=st.listener,me=st.ha||st.src;st.fa&&ft(c.i,st),U=Ct.call(me,S)!==!1&&U}}return U&&!S.defaultPrevented}function Xh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function fu(c){c.g=Xh(()=>{c.g=null,c.i&&(c.i=!1,fu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(c){V.call(this),this.h=c,this.g={}}A(Er,V);var Io=[];function Co(c){vt(c.g,function(p,v){this.g.hasOwnProperty(v)&&Hi(p)},c),c.g={}}Er.prototype.N=function(){Er.Z.N.call(this),Co(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=f.JSON.stringify,$h=f.JSON.parse,du=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function mu(){}function pu(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){M.call(this,"d")}A(Be,M);function Dn(){M.call(this,"c")}A(Dn,M);var de={},gu=null;function ca(){return gu=gu||new ve}de.Ia="serverreachability";function yu(c){M.call(this,de.Ia,c)}A(yu,M);function li(c){const p=ca();xe(p,new yu(p))}de.STAT_EVENT="statevent";function Tr(c,p){M.call(this,de.STAT_EVENT,c),this.stat=p}A(Tr,M);function Ee(c){const p=ca();xe(p,new Tr(p,c))}de.Ja="timingevent";function ui(c,p){M.call(this,de.Ja,c),this.size=p}A(ui,M);function ci(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Zh(c,p,v,S,U,q){c.info(function(){if(c.g)if(q){var st="",Ct=q.split("&");for(let Ft=0;Ft<Ct.length;Ft++){var me=Ct[Ft].split("=");if(me.length>1){const le=me[0];me=me[1];const Vn=le.split("_");st=Vn.length>=2&&Vn[1]=="type"?st+(le+"="+me+"&"):st+(le+"=redacted&")}}}else st=null;else st=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+p+`
`+v+`
`+st})}function _u(c,p,v,S,U,q,st){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+p+`
`+v+`
`+q+" "+st})}function hi(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Jh(c,v)+(S?" "+S:"")})}function Sr(c,p){c.info(function(){return"TIMEOUT: "+p})}Qn.prototype.info=function(){};function Jh(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let st=1;st<S.length;st++)S[st]=""}}}}return _s(q)}catch{return p}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function br(){}A(br,mu),br.prototype.g=function(){return new XMLHttpRequest},Do=new br;function Fi(c){return encodeURIComponent(String(c))}function vu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Xn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.S=S||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Te={},ke={};function fi(c,p,v){c.M=1,c.A=wr(Ae(p)),c.u=v,c.R=!0,ha(c,null)}function ha(c,p){c.F=Date.now(),di(c),c.B=Ae(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),pa(v.i,"t",S),c.C=0,v=c.j.L,c.h=new $n,c.g=Vu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),p=c.V,v=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Io[0]=U.toString()),U=Io);for(let q=0;q<U.length;q++){const st=Yt(v,U[q],S||p.handleEvent,!1,p.h||p);if(!st)break;p.g[st.key]=st}p=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),li(),Zh(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Wn(c)==3?p.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)t:{const Ct=Wn(this.g),me=this.g.ya(),Ft=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Ct!=4||me==7||(me==8||Ft<=0?li(3):li(2)),mi(this);var p=this.g.ca();this.X=p;var v=Wh(this);if(this.o=p==200,_u(this.i,this.v,this.B,this.l,this.S,Ct,p),this.o){if(this.U&&!this.L){e:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var q=S;break e}}q=null}if(c=q)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,Ee(12),_n(this),xn(this);break t}}if(this.R){c=!0;let le;for(;!this.K&&this.C<v.length;)if(le=Tu(this,v),le==ke){Ct==4&&(this.m=4,Ee(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Te){this.m=4,Ee(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,le,null),pi(this,le);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(st),st.P=!0,Ee(11))}}else hi(this.i,this.l,v,null),pi(this,v);Ct==4&&_n(this),this.o&&!this.K&&(Ct==4?Du(this.j,this):(this.o=!1,di(this)))}else Ki(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),_n(this),xn(this)}}}catch{}finally{}};function Wh(c){if(!Eu(c))return c.g.la();const p=He(c.g);if(p==="")return"";let v="";const S=p.length,U=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),xn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(p[q],{stream:!(U&&q==S-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Eu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Tu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?ke:(v=Number(p.substring(v,S)),isNaN(v)?Te:(S+=1,S+v>p.length?ke:(p=p.slice(S,S+v),c.C=S+v,p)))}Xn.prototype.cancel=function(){this.K=!0,_n(this)};function di(c){c.T=Date.now()+c.H,fa(c,c.H)}function fa(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(g(c.aa,c),p)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(li(),Ee(17)),_n(this),this.m=2,xn(this)):fa(this,this.T-c)};function xn(c){c.j.I==0||c.K||Du(c.j,c)}function _n(c){mi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Co(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function pi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ea(v),Rs(v);else break t;Or(v),Ee(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(g(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&Ea(v),!I(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let Ft=U[p];const le=Ft[0];if(!(le<=v.K))if(v.K=le,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Vn=Ft[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const bi=Ft[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const ti=Ft[5];ti!=null&&typeof ti=="number"&&ti>0&&(S=1.5*ti,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ei=c.g;if(ei){const Mr=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var q=S.h;q.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Mo(q,q.h),q.h=null))}if(S.G){const Ta=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(S.wa=Ta,Qt(S.J,S.G,Ta))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var st=c;if(S.na=Mu(S,S.L?S.ba:null,S.W),st.L){Vo(S.h,st);var Ct=st,me=S.O;me&&(Ct.H=me),Ct.D&&(mi(Ct),di(Ct)),S.g=st}else Cu(S);v.i.length>0&&Si(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ai(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ai(v,7):qo(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}li(4)}catch{}}var Se=class{constructor(c,p){this.g=c,this.map=p}};function xo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Mo(c,p){c.g?c.g.add(p):c.h=p}function Vo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}xo.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return P(c.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let U,q=null;S>=0?(U=c[v].substring(0,S),q=c[v].substring(S+1)):U=c[v],p(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof vn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,vs(this,c.u),this.h=c.h,Lo(this,Ru(c.i)),this.m=c.m):c&&(p=String(c).match(Su))?(this.l=!1,Le(this,p[1]||"",!0),this.o=_i(p[2]||""),this.g=_i(p[3]||"",!0),vs(this,p[4]),this.h=_i(p[5]||"",!0),Lo(this,p[6]||"",!0),this.m=_i(p[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}vn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Rr(p,ma,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Rr(p,ma,!0),"@"),c.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rr(v,v.charAt(0)=="/"?Po:Au,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rr(v,bu)),c.join("")},vn.prototype.resolve=function(c){const p=Ae(this);let v=!!c.j;v?Le(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var S=c.h;if(v)vs(p,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=p.h.lastIndexOf("/");U!=-1&&(S=p.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let st=0;st<U.length;){const Ct=U[st++];Ct=="."?S&&st==U.length&&q.push(""):Ct==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&st==U.length&&q.push("")):(q.push(Ct),S=!0)}S=q.join("/")}else S=U}return v?p.h=S:v=c.i.toString()!=="",v?Lo(p,Ru(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Ae(c){return new vn(c)}function Le(c,p,v){c.j=v?_i(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function vs(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Lo(c,p,v){p instanceof Ts?(c.i=p,ga(c.i,c.l)):(v||(p=Rr(p,Es)),c.i=new Ts(p,c.l))}function Qt(c,p,v){c.i.set(p,v)}function wr(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rr(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,ln),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ma=/[#\/\?@]/g,Au=/[#\?:]/g,Po=/[#\?]/g,Es=/[#\?@]/g,bu=/#/g;function Ts(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=Ts.prototype,s.add=function(c,p){un(this),this.i=null,c=Ss(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function wu(c,p){un(c),p=Ss(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Uo(c,p){return un(c),p=Ss(c,p),c.g.has(p)}s.forEach=function(c,p){un(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(p,U,S,this)},this)},this)};function zo(c,p){un(c);let v=[];if(typeof p=="string")Uo(c,p)&&(v=v.concat(c.g.get(Ss(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}s.set=function(c,p){return un(this),this.i=null,c=Ss(this,c),Uo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},s.get=function(c,p){return c?(c=zo(this,c),c.length>0?String(c[0]):p):p};function pa(c,p,v){wu(c,p),v.length>0&&(c.i=null,c.g.set(Ss(c,p),P(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const U=Fi(v);v=zo(this,v);for(let q=0;q<v.length;q++){let st=U;v[q]!==""&&(st+="="+Fi(v[q])),c.push(st)}}return this.i=c.join("&")};function Ru(c){const p=new Ts;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Ss(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ga(c,p){p&&!c.j&&(un(c),c.i=null,c.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(wu(this,S),pa(this,U,v))},c)),c.j=p}function Zn(c,p){const v=new Qn;if(f.Image){const S=new Image;S.onload=E(On,v,"TestLoadImage: loaded",!0,p,S),S.onerror=E(On,v,"TestLoadImage: error",!1,p,S),S.onabort=E(On,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(On,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function jo(c,p){const v=new Qn,S=new AbortController,U=setTimeout(()=>{S.abort(),On(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?On(v,"TestPingServer: ok",!0,p):On(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),On(v,"TestPingServer: error",!1,p)})}function On(c,p,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function As(){this.g=new du}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(vi,mu),vi.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(c,p){ve.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ir,ve),s=Ir.prototype,s.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Jn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?bs(this):Jn(this),this.readyState==3&&ya(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,bs(this))},s.Na=function(c){this.g&&(this.response=c,bs(this))},s.ga=function(){this.g&&bs(this)};function bs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Jn(c)}s.setRequestHeader=function(c,p){this.A.append(c,p)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let p="";return vt(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Cr(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Mn(v),typeof c=="string"?v!=null&&Fi(v):Qt(c,p,v))}function Jt(c){ve.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Jt,ve);var Ei=/^https?$/i,Bo=["POST","PUT"];s=Jt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){Nr(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Bo,p,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,st]of v)this.g.setRequestHeader(q,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Nr(this,q)}};function Nr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Ho(c),Gi(c)}function Ho(c){c.A||(c.A=!0,xe(c,"complete"),xe(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xe(this,"complete"),xe(this,"abort"),Gi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(xe(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=q===0){let st=String(c.D).match(Su)[1]||null;!st&&f.self&&f.self.location&&(st=f.self.location.protocol.slice(0,-1)),S=!Ei.test(st?st.toLowerCase():"")}v=S}if(v)xe(c,"complete"),xe(c,"success");else{c.o=6;try{var U=Wn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Ho(c)}}finally{Gi(c)}}}}function Gi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||xe(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),$h(p)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(c){const p={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=vu(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=p[U]||[];p[U]=q,q.push(v)}It(p,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function ws(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(c&&c.concurrentRequestLimit),this.Ba=new As,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ws.prototype,s.ka=8,s.I=1,s.connect=function(c,p,v,S){Ee(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Mu(this,null,this.W),Si(this)};function qo(c){if(_a(c),c.I==3){var p=c.V++,v=Ae(c.J);if(Qt(v,"SID",c.M),Qt(v,"RID",p),Qt(v,"TYPE","terminate"),xr(c,v),p=new Xn(c,c.j,p),p.M=2,p.A=wr(Ae(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Vu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),di(p)}Ou(c)}function Rs(c){c.g&&(Go(c),c.g.cancel(),c.g=null)}function _a(c){Rs(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ea(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!Oo(c.h)&&!c.m){c.m=!0;var p=c.Ea;Bt||w(),xt||(Bt(),xt=!0),D.add(p,c),c.D=0}}function va(c,p){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(g(c.Ea,c,p),xu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Xn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=x(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Iu(this,U,p),v=Ae(this.J),Qt(v,"RID",c),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),xr(this,v),q&&(this.R?p="headers="+Fi(Mn(q))+"&"+p:this.u&&Cr(v,this.u,q)),Mo(this.h,U),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",p),Qt(v,"SID","null"),U.U=!0,fi(U,v,null)):fi(U,v,p),this.I=2}}else this.I==3&&(c?Fo(this,c):this.i.length==0||Oo(this.h)||Fo(this))};function Fo(c,p){var v;p?v=p.l:v=c.V++;const S=Ae(c.J);Qt(S,"SID",c.M),Qt(S,"RID",v),Qt(S,"AID",c.K),xr(c,S),c.u&&c.o&&Cr(S,c.u,c.o),v=new Xn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Iu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Mo(c.h,v),fi(v,S,p)}function xr(c,p){c.H&&vt(c.H,function(v,S){Qt(p,S,v)}),c.l&&vt({},function(v,S){Qt(p,S,v)})}function Iu(c,p,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;t:{var U=c.i;let Ct=-1;for(;;){const me=["count="+v];Ct==-1?v>0?(Ct=U[0].g,me.push("ofs="+Ct)):Ct=0:me.push("ofs="+Ct);let Ft=!0;for(let le=0;le<v;le++){var q=U[le].g;const Vn=U[le].map;if(q-=Ct,q<0)Ct=Math.max(0,U[le].g-100),Ft=!1;else try{q="req"+q+"_"||"";try{var st=Vn instanceof Map?Vn:Object.entries(Vn);for(const[bi,ti]of st){let ei=ti;m(ti)&&(ei=_s(ti)),me.push(q+bi+"="+encodeURIComponent(ei))}}catch(bi){throw me.push(q+"type="+encodeURIComponent("_badmap")),bi}}catch{S&&S(Vn)}}if(Ft){st=me.join("&");break t}}st=void 0}return c=c.i.splice(0,v),p.G=c,st}function Cu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Bt||w(),xt||(Bt(),xt=!0),D.add(p,c),c.A=0}}function Or(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(g(c.Da,c),xu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),Rs(this),Nu(this))};function Go(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Nu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Ae(c.na);Qt(p,"RID","rpc"),Qt(p,"SID",c.M),Qt(p,"AID",c.K),Qt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(p,"TO",c.ia),Qt(p,"TYPE","xmlhttp"),xr(c,p),c.u&&c.o&&Cr(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=wr(Ae(p)),v.u=null,v.R=!0,ha(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Rs(this),Or(this),Ee(19))};function Ea(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Du(c,p){var v=null;if(c.g==p){Ea(c),Go(c),c.g=null;var S=2}else if(yi(c.h,p))v=p.G,Vo(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;S=ca(),xe(S,new ui(S,v)),Si(c)}else Cu(c);else if(U=p.m,U==3||U==0&&p.X>0||!(S==1&&va(c,p)||S==2&&Or(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),U){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function xu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ai(c,p){if(c.j.info("Error code "+p),p==2){var v=g(c.bb,c),S=c.Ua;const U=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(S,"https"),wr(S),U?Zn(S.toString(),v):jo(S.toString(),v)}else Ee(2);c.I=0,c.l&&c.l.pa(p),Ou(c),_a(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Ou(c){if(c.I=0,c.ja=[],c.l){const p=ko(c.h);(p.length!=0||c.i.length!=0)&&(G(c.ja,p),G(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Mu(c,p,v){var S=v instanceof vn?Ae(v):new vn(v);if(S.g!="")p&&(S.g=p+"."+S.g),vs(S,S.u);else{var U=f.location;S=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const q=new vn(null);S&&Le(q,S),p&&(q.g=p),U&&vs(q,U),v&&(q.h=v),S=q}return v=c.G,p=c.wa,v&&p&&Qt(S,v,p),Qt(S,"VER",c.ka),xr(c,S),S}function Vu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Jt(new vi({ab:v})):new Jt(c.ma),p.Fa(c.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}s=ku.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Is(){}Is.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){ve.call(this),this.g=new ws(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!I(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Yi(this)}A(nn,ve),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){qo(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_s(c),c=v);p.i.push(new Se(p.Ya++,c)),p.I==3&&Si(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,nn.Z.N.call(this)};function Lu(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}A(Lu,Be);function Pu(){Dn.call(this),this.status=1}A(Pu,Dn);function Yi(c){this.g=c}A(Yi,ku),Yi.prototype.ra=function(){xe(this.g,"a")},Yi.prototype.qa=function(c){xe(this.g,new Lu(c))},Yi.prototype.pa=function(c){xe(this.g,new Pu)},Yi.prototype.oa=function(){xe(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,r0=function(){return new Is},s0=function(){return ca()},i0=de,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Wc=Ar,No.COMPLETE="complete",n0=No,pu.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Vl=pu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,e0=Jt}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const Qv="@firebase/firestore",Xv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new Km("@firebase/firestore");function to(){return ia.logLevel}function ot(s,...t){if(ia.logLevel<=Lt.DEBUG){const n=t.map(ip);ia.debug(`Firestore (${Eo}): ${s}`,...n)}}function ms(s,...t){if(ia.logLevel<=Lt.ERROR){const n=t.map(ip);ia.error(`Firestore (${Eo}): ${s}`,...n)}}function ho(s,...t){if(ia.logLevel<=Lt.WARN){const n=t.map(ip);ia.warn(`Firestore (${Eo}): ${s}`,...n)}}function ip(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,a0(s,r,n)}function a0(s,t,n){let r=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ms(r),new Error(r)}function Kt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||a0(t,o,r)}function Rt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ji{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class MI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class VI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class kI{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hs,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hs)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new o0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class LI{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new LI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $v{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const r=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $v(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $v(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=zI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Pt(s,t){return s<t?-1:s>t?1:0}function Am(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return om(o)===om(u)?Pt(o,u):om(o)?1:-1}return Pt(s.length,t.length)}const jI=55296,BI=57343;function om(s){const t=s.charCodeAt(0);return t>=jI&&t<=BI}function fo(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="__name__";class Ni{constructor(t,n,r){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Tt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Ni.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Pt(t.length,n.length)}static compareSegments(t,n){const r=Ni.isNumericId(t),o=Ni.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ni.extractNumericId(t).compare(Ni.extractNumericId(n)):Am(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return or.fromString(t.substring(4,t.length-2))}}class ae extends Ni{construct(t,n,r){return new ae(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const HI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ni{construct(t,n,r){return new Qe(t,n,r)}static isValidIdentifier(t){return HI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zv}static keyField(){return new Qe([Zv])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ae.fromString(t))}static fromName(t){return new mt(ae.fromString(t).popFirst(5))}static empty(){return new mt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(s,t,n){if(!n)throw new ct(tt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function qI(s,t,n,r){if(t===!0&&r===!0)throw new ct(tt.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Jv(s){if(!mt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Wv(s){if(mt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function u0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function rp(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Tt(12329,{type:typeof s})}function Pi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rp(s);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(s,t){const n={typeString:s};return t&&(n.value=t),n}function au(s,t){if(!u0(s))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ct(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=-62135596800,eE=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*eE);return new oe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<tE)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eE}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(au(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-tE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ne("string",oe._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new oe(0,0))}static max(){return new At(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function FI(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new oe(n+1,0):new oe(n,r));return new cr(o,mt.empty(),t)}function GI(s){return new cr(s.readTime,s.key,Yl)}class cr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(At.min(),mt.empty(),Yl)}static max(){return new cr(At.max(),mt.empty(),Yl)}}function KI(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(s.documentKey,t.documentKey),n!==0?n:Pt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(s){if(s.code!==tt.FAILED_PRECONDITION||s.message!==YI)throw s;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,r)=>{n(t)}))}static reject(t){return new J(((n,r)=>{r(t)}))}static waitFor(t){return new J(((n,r)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>r(y)))})),f=!0,u===o&&n()}))}static or(t){let n=J.resolve(!1);for(const r of t)n=n.next((o=>o?J.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new J(((r,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(t[g]).next((E=>{f[g]=E,++m,m===u&&r(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new J(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function XI(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=-1;function Oh(s){return s==null}function dh(s){return s===0&&1/s==-1/0}function $I(s){return typeof s=="number"&&Number.isInteger(s)&&!dh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="";function ZI(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=nE(t)),t=JI(s.get(n),t);return nE(t)}function JI(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case c0:n+="";break;default:n+=u}}return n}function nE(s){return s+c0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function _r(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function h0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qc(this.root,t,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qc(this.root,t,this.comparator,!0)}}class qc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Ye.RED,this.left=o??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Ye(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ye.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new sE(this.data.getIterator())}getIteratorFrom(t){return new sE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class sE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Cn([])}unionWith(t){let n=new Ve(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Cn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return fo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new f0("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(Kt(!!s,39018),typeof s=="string"){let t=0;const n=WI.exec(s);if(Kt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?Xe.fromBase64String(s):Xe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="server_timestamp",m0="__type__",p0="__previous_value__",g0="__local_write_time__";function op(s){return(s?.mapValue?.fields||{})[m0]?.stringValue===d0}function Mh(s){const t=s.mapValue.fields[p0];return op(t)?Mh(t):t}function Ql(s){const t=hr(s.mapValue.fields[g0].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t,n,r,o,u,f,m,y,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const mh="(default)";class Xl{constructor(t,n){this.projectId=t,this.database=n||mh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===mh}isEqual(t){return t instanceof Xl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="__type__",eC="__max__",Fc={mapValue:{}},_0="__vector__",ph="value";function dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?op(s)?4:iC(s)?9007199254740991:nC(s)?10:11:Tt(28295,{value:s})}function Ui(s,t){if(s===t)return!0;const n=dr(s);if(n!==dr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ql(s).isEqual(Ql(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=hr(o.timestampValue),m=hr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return fr(o.bytesValue).isEqual(fr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ye(o.doubleValue),m=ye(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1})(s,t);case 9:return fo(s.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(iE(f)!==iE(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Ui(f[y],m[y])))return!1;return!0})(s,t);default:return Tt(52216,{left:s})}}function $l(s,t){return(s.values||[]).find((n=>Ui(n,t)))!==void 0}function mo(s,t){if(s===t)return 0;const n=dr(s),r=dr(t);if(n!==r)return Pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ye(u.integerValue||u.doubleValue),y=ye(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(s,t);case 3:return rE(s.timestampValue,t.timestampValue);case 4:return rE(Ql(s),Ql(t));case 5:return Am(s.stringValue,t.stringValue);case 6:return(function(u,f){const m=fr(u),y=fr(f);return m.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=Pt(m[g],y[g]);if(E!==0)return E}return Pt(m.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Pt(ye(u.latitude),ye(f.latitude));return m!==0?m:Pt(ye(u.longitude),ye(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return aE(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},g=m[ph]?.arrayValue,E=y[ph]?.arrayValue,A=Pt(g?.values?.length||0,E?.values?.length||0);return A!==0?A:aE(g,E)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const R=Am(y[A],E[A]);if(R!==0)return R;const P=mo(m[y[A]],g[E[A]]);if(P!==0)return P}return Pt(y.length,E.length)})(s.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function rE(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Pt(s,t);const n=hr(s),r=hr(t),o=Pt(n.seconds,r.seconds);return o!==0?o:Pt(n.nanos,r.nanos)}function aE(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=mo(n[o],r[o]);if(u)return u}return Pt(n.length,r.length)}function po(s){return bm(s)}function bm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=hr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return fr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return mt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=bm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${bm(n.fields[f])}`;return o+"}"})(s.mapValue):Tt(61005,{value:s})}function th(s){switch(dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Mh(s);return t?16+th(t):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+th(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return _r(r.fields,((u,f)=>{o+=u.length+th(f)})),o})(s.mapValue);default:throw Tt(13486,{value:s})}}function wm(s){return!!s&&"integerValue"in s}function lp(s){return!!s&&"arrayValue"in s}function oE(s){return!!s&&"nullValue"in s}function lE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function eh(s){return!!s&&"mapValue"in s}function nC(s){return(s?.mapValue?.fields||{})[y0]?.stringValue===_0}function jl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return _r(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=jl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jl(s.arrayValue.values[n]);return t}return{...s}}function iC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===eC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=jl(n)}setAll(t){let n=Qe.emptyPath(),r={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=jl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){_r(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new gn(jl(this.value))}}function v0(s){const t=[];return _r(s.fields,((n,r)=>{const o=new Qe([n]);if(eh(r)){const u=v0(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Cn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n,r,o,u,f,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new We(t,0,At.min(),At.min(),At.min(),gn.empty(),0)}static newFoundDocument(t,n,r,o){return new We(t,1,n,At.min(),r,o,0)}static newNoDocument(t,n){return new We(t,2,n,At.min(),At.min(),gn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,At.min(),At.min(),gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,n){this.position=t,this.inclusive=n}}function uE(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=mt.comparator(mt.fromName(f.referenceValue),n.key):r=mo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function cE(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ui(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n="asc"){this.field=t,this.dir=n}}function sC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{}class Me extends E0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new aC(t,n,r):n==="array-contains"?new uC(t,r):n==="in"?new cC(t,r):n==="not-in"?new hC(t,r):n==="array-contains-any"?new fC(t,r):new Me(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new oC(t,r):new lC(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends E0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new zi(t,n)}matches(t){return T0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T0(s){return s.op==="and"}function S0(s){return rC(s)&&T0(s)}function rC(s){for(const t of s.filters)if(t instanceof zi)return!1;return!0}function Rm(s){if(s instanceof Me)return s.field.canonicalString()+s.op.toString()+po(s.value);if(S0(s))return s.filters.map((t=>Rm(t))).join(",");{const t=s.filters.map((n=>Rm(n))).join(",");return`${s.op}(${t})`}}function A0(s,t){return s instanceof Me?(function(r,o){return o instanceof Me&&r.op===o.op&&r.field.isEqual(o.field)&&Ui(r.value,o.value)})(s,t):s instanceof zi?(function(r,o){return o instanceof zi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&A0(f,o.filters[m])),!0):!1})(s,t):void Tt(19439)}function b0(s){return s instanceof Me?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(s):s instanceof zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(b0).join(" ,")+"}"})(s):"Filter"}class aC extends Me{constructor(t,n,r){super(t,n,r),this.key=mt.fromName(r.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class oC extends Me{constructor(t,n){super(t,"in",n),this.keys=w0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class lC extends Me{constructor(t,n){super(t,"not-in",n),this.keys=w0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function w0(s,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class uC extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return lp(n)&&$l(n.arrayValue,this.value)}}class cC extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class hC extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$l(this.value.arrayValue,n)}}class fC extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>$l(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,n=null,r=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function hE(s,t=null,n=[],r=[],o=null,u=null,f=null){return new dC(s,t,n,r,o,u,f)}function up(s){const t=Rt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Rm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Oh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>po(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>po(r))).join(",")),t.Te=n}return t.Te}function cp(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!sC(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!A0(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!cE(s.startAt,t.startAt)&&cE(s.endAt,t.endAt)}function Im(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n=null,r=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mC(s,t,n,r,o,u,f,m){return new Vh(s,t,n,r,o,u,f,m)}function hp(s){return new Vh(s)}function fE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function pC(s){return s.collectionGroup!==null}function Bl(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ve(Qe.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new yh(u,r))})),n.has(Qe.keyField().canonicalString())||t.Ie.push(new yh(Qe.keyField(),r))}return t.Ie}function Mi(s){const t=Rt(s);return t.Ee||(t.Ee=gC(t,Bl(s))),t.Ee}function gC(s,t){if(s.limitType==="F")return hE(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new yh(o.field,u)}));const n=s.endAt?new gh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new gh(s.startAt.position,s.startAt.inclusive):null;return hE(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Cm(s,t,n){return new Vh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function kh(s,t){return cp(Mi(s),Mi(t))&&s.limitType===t.limitType}function R0(s){return`${up(Mi(s))}|lt:${s.limitType}`}function eo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>b0(o))).join(", ")}]`),Oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${r})`})(Mi(s))}; limitType=${s.limitType})`}function Lh(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):mt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of Bl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,m,y){const g=uE(f,m,y);return f.inclusive?g<=0:g<0})(r.startAt,Bl(r),o)||r.endAt&&!(function(f,m,y){const g=uE(f,m,y);return f.inclusive?g>=0:g>0})(r.endAt,Bl(r),o))})(s,t)}function yC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function I0(s){return(t,n)=>{let r=!1;for(const o of Bl(s)){const u=_C(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function _C(s,t,n){const r=s.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?mo(y,g):Tt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){_r(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return h0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new ce(mt.comparator);function ps(){return vC}const C0=new ce(mt.comparator);function kl(...s){let t=C0;for(const n of s)t=t.insert(n.key,n);return t}function N0(s){let t=C0;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Zr(){return Hl()}function D0(){return Hl()}function Hl(){return new la((s=>s.toString()),((s,t)=>s.isEqual(t)))}const EC=new ce(mt.comparator),TC=new Ve(mt.comparator);function Ut(...s){let t=TC;for(const n of s)t=t.add(n);return t}const SC=new Ve(Pt);function AC(){return SC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function x0(s){return{integerValue:""+s}}function bC(s,t){return $I(t)?x0(t):fp(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function wC(s,t,n){return s instanceof _h?(function(o,u){const f={fields:{[m0]:{stringValue:d0},[g0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&op(u)&&(u=Mh(u)),u&&(f.fields[p0]=u),{mapValue:f}})(n,t):s instanceof Zl?M0(s,t):s instanceof Jl?V0(s,t):(function(o,u){const f=O0(o,u),m=dE(f)+dE(o.Ae);return wm(f)&&wm(o.Ae)?x0(m):fp(o.serializer,m)})(s,t)}function RC(s,t,n){return s instanceof Zl?M0(s,t):s instanceof Jl?V0(s,t):n}function O0(s,t){return s instanceof vh?(function(r){return wm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class _h extends Ph{}class Zl extends Ph{constructor(t){super(),this.elements=t}}function M0(s,t){const n=k0(t);for(const r of s.elements)n.some((o=>Ui(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Jl extends Ph{constructor(t){super(),this.elements=t}}function V0(s,t){let n=k0(t);for(const r of s.elements)n=n.filter((o=>!Ui(o,r)));return{arrayValue:{values:n}}}class vh extends Ph{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function dE(s){return ye(s.integerValue||s.doubleValue)}function k0(s){return lp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function IC(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof Zl&&o instanceof Zl||r instanceof Jl&&o instanceof Jl?fo(r.elements,o.elements,Ui):r instanceof vh&&o instanceof vh?Ui(r.Ae,o.Ae):r instanceof _h&&o instanceof _h})(s.transform,t.transform)}class CC{constructor(t,n){this.version=t,this.transformResults=n}}class ai{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ai}static exists(t){return new ai(void 0,t)}static updateTime(t){return new ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nh(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Uh{}function L0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new dp(s.key,ai.none()):new ou(s.key,s.data,ai.none());{const n=s.data,r=gn.empty();let o=new Ve(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new vr(s.key,r,new Cn(o.toArray()),ai.none())}}function NC(s,t,n){s instanceof ou?(function(o,u,f){const m=o.value.clone(),y=pE(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,t,n):s instanceof vr?(function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=pE(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(P0(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function ql(s,t,n,r){return s instanceof ou?(function(u,f,m,y){if(!nh(u.precondition,f))return m;const g=u.value.clone(),E=gE(u.fieldTransforms,y,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(s,t,n,r):s instanceof vr?(function(u,f,m,y){if(!nh(u.precondition,f))return m;const g=gE(u.fieldTransforms,y,f),E=f.data;return E.setAll(P0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,t,n,r):(function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,t,n)}function DC(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=O0(r.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(r.field,u))}return n||null}function mE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&fo(r,o,((u,f)=>IC(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ou extends Uh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vr extends Uh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function P0(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function pE(s,t,n){const r=new Map;Kt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=t.data.field(u.field);r.set(u.field,RC(f,m,n[o]))}return r}function gE(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,wC(u,f,t))}return r}class dp extends Uh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xC extends Uh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&NC(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ql(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ql(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=D0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=L0(f,m);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&fo(this.mutations,t.mutations,((n,r)=>mE(n,r)))&&fo(this.baseMutations,t.baseMutations,((n,r)=>mE(n,r)))}}class mp{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return EC})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new mp(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,jt;function kC(s){switch(s){case tt.OK:return Tt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Tt(15467,{code:s})}}function U0(s){if(s===void 0)return ms("GRPC error has no .code"),tt.UNKNOWN;switch(s){case Ce.OK:return tt.OK;case Ce.CANCELLED:return tt.CANCELLED;case Ce.UNKNOWN:return tt.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return tt.INTERNAL;case Ce.UNAVAILABLE:return tt.UNAVAILABLE;case Ce.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ce.NOT_FOUND:return tt.NOT_FOUND;case Ce.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ce.ABORTED:return tt.ABORTED;case Ce.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ce.DATA_LOSS:return tt.DATA_LOSS;default:return Tt(39323,{code:s})}}(jt=Ce||(Ce={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new or([4294967295,4294967295],0);function yE(s){const t=LC().encode(s),n=new t0;return n.update(t),new Uint8Array(n.digest())}function _E(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new or([n,r],0),new or([o,u],0)]}class pp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=or.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(or.fromNumber(r)));return o.compare(PC)===1&&(o=new or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=yE(t),[r,o]=_E(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new pp(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=yE(t),[r,o]=_E(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,lu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new zh(At.min(),o,new ce(Pt),ps(),Ut())}}class lu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new lu(r,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class z0{constructor(t,n){this.targetId=t,this.Ce=n}}class j0{constructor(t,n,r=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class vE{constructor(){this.ve=0,this.Fe=EE(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),r=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Tt(38017,{changeType:u})}})),new lu(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=EE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ps(),this.Je=Gc(),this.He=Gc(),this.Ye=new ce(Pt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Im(u))if(r===0){const f=new mt(u.path);this.et(n,f,We.newNoDocument(f,At.min()))}else Kt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(t),y=m?this.ct(m,t,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=fr(r).toUint8Array()}catch(y){if(y instanceof f0)return ho("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new pp(f,o,u)}catch(y){return ho(y instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Im(m.target)){const y=new mt(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,We.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Ut();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new zh(t,n,this.Ye,this.je,r);return this.je=ps(),this.Je=Gc(),this.He=Gc(),this.Ye=new ce(Pt),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new vE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ve(Pt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ve(Pt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new vE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Gc(){return new ce(mt.comparator)}function EE(){return new ce(mt.comparator)}const zC={asc:"ASCENDING",desc:"DESCENDING"},jC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BC={and:"AND",or:"OR"};class HC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Nm(s,t){return s.useProto3Json||Oh(t)?t:{value:t}}function Eh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function B0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function qC(s,t){return Eh(s,t.toTimestamp())}function Vi(s){return Kt(!!s,49232),At.fromTimestamp((function(n){const r=hr(n);return new oe(r.seconds,r.nanos)})(s))}function gp(s,t){return Dm(s,t).canonicalString()}function Dm(s,t){const n=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function H0(s){const t=ae.fromString(s);return Kt(Y0(t),10190,{key:t.toString()}),t}function xm(s,t){return gp(s.databaseId,t.path)}function lm(s,t){const n=H0(t);if(n.get(1)!==s.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new mt(F0(n))}function q0(s,t){return gp(s.databaseId,t)}function FC(s){const t=H0(s);return t.length===4?ae.emptyPath():F0(t)}function Om(s){return new ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function F0(s){return Kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function TE(s,t,n){return{name:xm(s,t),fields:n.value.mapValue.fields}}function GC(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Kt(E===void 0||typeof E=="string",58123),Xe.fromBase64String(E||"")):(Kt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xe.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?tt.UNKNOWN:U0(g.code);return new ct(E,g.message||"")})(f);n=new j0(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=lm(s,r.document.name),u=Vi(r.document.updateTime),f=r.document.createTime?Vi(r.document.createTime):At.min(),m=new gn({mapValue:{fields:r.document.fields}}),y=We.newFoundDocument(o,u,f,m),g=r.targetIds||[],E=r.removedTargetIds||[];n=new ih(g,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=lm(s,r.document),u=r.readTime?Vi(r.readTime):At.min(),f=We.newNoDocument(o,u),m=r.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=lm(s,r.document),u=r.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new VC(o,u),m=r.targetId;n=new z0(m,f)}}return n}function KC(s,t){let n;if(t instanceof ou)n={update:TE(s,t.key,t.value)};else if(t instanceof dp)n={delete:xm(s,t.key)};else if(t instanceof vr)n={update:TE(s,t.key,t.data),updateMask:e2(t.fieldMask)};else{if(!(t instanceof xC))return Tt(16599,{Vt:t.type});n={verify:xm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof _h)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Tt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:qC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(s,t.precondition)),n}function YC(s,t){return s&&s.length>0?(Kt(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Vi(o.updateTime):Vi(u);return f.isEqual(At.min())&&(f=Vi(u)),new CC(f,o.transformResults||[])})(n,t)))):[]}function QC(s,t){return{documents:[q0(s,t.path)]}}function XC(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q0(s,o);const u=(function(g){if(g.length!==0)return K0(zi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:no(R.field),direction:JC(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Nm(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function $C(s){let t=FC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const R=G0(A);return R instanceof zi&&S0(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((R=>(function(G){return new yh(io(G.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let R;return R=typeof A=="object"?A.value:A,Oh(R)?null:R})(n.limit));let y=null;n.startAt&&(y=(function(A){const R=!!A.before,P=A.values||[];return new gh(P,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const R=!A.before,P=A.values||[];return new gh(P,R)})(n.endAt)),mC(t,o,f,u,m,"F",y,g)}function ZC(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function G0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return Me.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return Me.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Me.create(io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return zi.create(n.compositeFilter.filters.map((r=>G0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(s):Tt(30097,{filter:s})}function JC(s){return zC[s]}function WC(s){return jC[s]}function t2(s){return BC[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return Qe.fromServerFormat(s.fieldPath)}function K0(s){return s instanceof Me?(function(n){if(n.op==="=="){if(lE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(oE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(oE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:WC(n.op),value:n.value}}})(s):s instanceof zi?(function(n){const r=n.getFilters().map((o=>K0(o)));return r.length===1?r[0]:{compositeFilter:{op:t2(n.op),filters:r}}})(s):Tt(54877,{filter:s})}function e2(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Y0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,n,r,o,u=At.min(),f=At.min(),m=Xe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t){this.yt=t}}function i2(s){const t=$C({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Cm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.Cn=new r2}addToCollectionParentIndex(t,n){return this.Cn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(cr.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(cr.min())}updateCollectionGroup(t,n,r){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class r2{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Ve(ae.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ve(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q0=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(Q0,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="LruGarbageCollector",a2=1048576;function bE([s,t],[n,r]){const o=Pt(s,n);return o===0?Pt(t,r):o}class o2{constructor(t){this.Ir=t,this.buffer=new Ve(bE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class l2{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(AE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?ot(AE,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.Vr(3e5)}))}}class u2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(xh.ce);const r=new o2(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(SE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,f,m,y,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(r=A,m=Date.now(),this.removeTargets(t,r,n)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(g=Date.now(),to()<=Lt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function c2(s,t){return new u2(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.changes=new la((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&ql(r.mutation,o,Cn.empty(),oe.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Ut()){const o=Zr();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=kl();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=Zr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Ut())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,r,o){let u=ps();const f=Hl(),m=(function(){return Hl()})();return n.forEach(((y,g)=>{const E=r.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof vr)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),ql(E.mutation,g,E.mutation.getFieldMask(),oe.now())):f.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new f2(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=Hl();let o=new ce(((f,m)=>f-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let E=r.get(y)||Cn.empty();E=m.applyToLocalView(g,E),r.set(y,E);const A=(o.get(m.batchId)||Ut()).add(y);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,A=D0();E.forEach((R=>{if(!u.has(R)){const P=L0(n.get(R),r.get(R));P!==null&&A.set(R,P),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):pC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):J.resolve(Zr());let m=Yl,y=u;return f.next((g=>J.forEach(g,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{y=y.insert(E,R)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,y,g,Ut()))).next((E=>({batchId:m,changes:N0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((r=>{let o=kl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(t,u).next((m=>J.forEach(m,(y=>{const g=(function(A,R){return new Vh(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((E=>{E.forEach(((A,R)=>{f=f.insert(A,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((y,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,We.newInvalidDocument(E)))}));let m=kl();return f.forEach(((y,g)=>{const E=u.get(y);E!==void 0&&ql(E.mutation,g,Cn.empty(),oe.now()),Lh(n,g)&&(m=m.insert(y,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:i2(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.overlays=new ce(mt.comparator),this.qr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Zr();return J.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),J.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,n,r){const o=Zr(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return J.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new ce(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let E=u.get(g.largestBatchId);E===null&&(E=Zr(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Zr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return J.resolve(m)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new MC(n,r));let u=this.qr.get(n);u===void 0&&(u=Ut(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.Qr=new Ve(Ue.$r),this.Ur=new Ve(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Ue(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Ue(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new mt(new ae([])),r=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new mt(new ae([])),r=new Ue(n,t),o=new Ue(n,t+1);let u=Ut();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ue(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return mt.comparator(t.key,n.key)||Pt(t.Yr,n.Yr)}static Kr(t,n){return Pt(t.Yr,n.Yr)||mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Ue.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new OC(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?ap:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ve(Pt);return n.forEach((o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{r=r.add(m.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;mt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new mt(u),0);let m=new Ve(Pt);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Yr)),!0)}),f),J.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(n.mutations,(o=>{const u=new Ue(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Ue(n,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t){this.ri=t,this.docs=(function(){return new ce(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let r=ps();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=ps();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||KI(GI(E),r)<=0||(o.has(E.key)||Lh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,r,o){Tt(9500)}ii(t,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new v2(this)}getSize(t){return J.resolve(this.size)}}class v2 extends h2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),J.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t){this.persistence=t,this.si=new la((n=>up(n)),cp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new yp,this.targetCount=0,this.ai=go.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),J.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.Pr(n),J.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return J.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),J.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return J.resolve(r)}containsKey(t,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,n){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new g2,this.referenceDelegate=t(this),this.Pi=new E2(this),this.indexManager=new s2,this.remoteDocumentCache=(function(o){return new _2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new n2(n),this.Ii=new m2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new p2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new y2(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){ot("MemoryPersistence","Starting transaction:",t);const o=new T2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class T2 extends QI{constructor(t){super(),this.currentSequenceNumber=t}}class _p{constructor(t){this.persistence=t,this.Ri=new yp,this.Vi=null}static mi(t){return new _p(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),J.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=mt.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Th{constructor(t,n){this.persistence=t,this.pi=new la((r=>ZI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=c2(this,n)}static mi(t,n){return new Th(t,n)}Ei(){}di(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return J.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?J.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(r++,u.removeEntry(f,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=th(t.data.value)),n}br(t,n,r){return J.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vp(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Wb()?8:XI(tn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new S2;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(to()<=Lt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(to()<=Lt.DEBUG&&ot("QueryEngine","Query:",eo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(to()<=Lt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(n))):J.resolve())}ys(t,n){if(fE(n))return J.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Cm(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=Ut(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,r).next((y=>{const g=this.Ds(n,m);return this.Cs(n,g,f,y.readTime)?this.ys(t,Cm(n,null,"F")):this.vs(t,g,n,y)}))))})))))}ws(t,n,r,o){return fE(n)||o.isEqual(At.min())?J.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?J.resolve(null):(to()<=Lt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.vs(t,f,n,FI(o,Yl)).next((m=>m)))}))}Ds(t,n){let r=new Ve(I0(t));return n.forEach(((o,u)=>{Lh(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return to()<=Lt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ps.getDocumentsMatchingQuery(t,n,cr.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="LocalStore",b2=3e8;class w2{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ce(Pt),this.xs=new la((u=>up(u)),cp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new d2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function R2(s,t,n,r){return new w2(s,t,n,r)}async function $0(s,t){const n=Rt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let y=Ut();for(const g of o){f.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(r,y).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function I2(s,t){const n=Rt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,E){const A=g.batch,R=A.keys();let P=J.resolve();return R.forEach((G=>{P=P.next((()=>E.getEntry(y,G))).next((W=>{const Q=g.docVersions.get(G);Kt(Q!==null,48541),W.version.compareTo(Q)<0&&(A.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),E.addEntry(W)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(y,A)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Z0(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function C2(s,t){const n=Rt(s),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,A)=>{const R=o.get(A);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A))));let P=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?P=P.withResumeToken(Xe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,r)),o=o.insert(A,P),(function(W,Q,at){return W.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=b2?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(R,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let y=ps(),g=Ut();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(N2(u,f,t.documentUpdates).next((E=>{y=E.ks,g=E.qs}))),!r.isEqual(At.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return J.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function N2(s,t,n){let r=Ut(),o=Ut();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=ps();return n.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):ot(Ep,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function D2(s,t){const n=Rt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ap),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function x2(s,t){const n=Rt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new ir(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Mm(s,t,n){const r=Rt(s),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!So(f))throw f;ot(Ep,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function wE(s,t,n){const r=Rt(s);let o=At.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,g,E){const A=Rt(y),R=A.xs.get(E);return R!==void 0?J.resolve(A.Ms.get(R)):A.Pi.getTargetData(g,E)})(r,f,Mi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:Ut()))).next((m=>(O2(r,yC(t),m),{documents:m,Qs:u})))))}function O2(s,t,n){let r=s.Os.get(t)||At.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class RE{constructor(){this.activeTargetIds=AC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class M2{constructor(){this.Mo=new RE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new RE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="ConnectivityMonitor";class CE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(IE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(IE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function Vm(){return Kc===null?Kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",k2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===mh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const f=Vm(),m=this.zo(t,n.toUriEncodedString());ot(um,`Sending RPC '${t}' ${f}:`,m,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(m),E=gr(g);return this.Jo(t,m,y,r,E).then((A=>(ot(um,`Received RPC '${t}' ${f}: `,A),A)),(A=>{throw ho(um,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",r),A}))}Ho(t,n,r,o,u,f){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=k2[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class U2 extends L2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const f=Vm();return new Promise(((m,y)=>{const g=new e0;g.setWithCredentials(!0),g.listenOnce(n0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Wc.NO_ERROR:const A=g.getResponseJson();ot(Ze,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case Wc.TIMEOUT:ot(Ze,`RPC '${t}' ${f} timed out`),y(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const R=g.getStatus();if(ot(Ze,`RPC '${t}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const G=P?.error;if(G&&G.status&&G.message){const W=(function(at){const pt=at.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(pt)>=0?pt:tt.UNKNOWN})(G.status);y(new ct(W,G.message))}else y(new ct(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ot(Ze,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ot(Ze,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,r,15)}))}T_(t,n,r){const o=Vm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=r0(),m=s0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const E=u.join("");ot(Ze,`Creating RPC '${t}' stream ${o}: ${E}`,y);const A=f.createWebChannel(E,y);this.I_(A);let R=!1,P=!1;const G=new P2({Yo:Q=>{P?ot(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(R||(ot(Ze,`Opening RPC '${t}' stream ${o} transport.`),A.open(),R=!0),ot(Ze,`RPC '${t}' stream ${o} sending:`,Q),A.send(Q))},Zo:()=>A.close()}),W=(Q,at,pt)=>{Q.listen(at,(ut=>{try{pt(ut)}catch(St){setTimeout((()=>{throw St}),0)}}))};return W(A,Vl.EventType.OPEN,(()=>{P||(ot(Ze,`RPC '${t}' stream ${o} transport opened.`),G.o_())})),W(A,Vl.EventType.CLOSE,(()=>{P||(P=!0,ot(Ze,`RPC '${t}' stream ${o} transport closed`),G.a_(),this.E_(A))})),W(A,Vl.EventType.ERROR,(Q=>{P||(P=!0,ho(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),G.a_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))})),W(A,Vl.EventType.MESSAGE,(Q=>{if(!P){const at=Q.data[0];Kt(!!at,16349);const pt=at,ut=pt?.error||pt[0]?.error;if(ut){ot(Ze,`RPC '${t}' stream ${o} received error:`,ut);const St=ut.status;let Bt=(function(w){const N=Ce[w];if(N!==void 0)return U0(N)})(St),xt=ut.message;Bt===void 0&&(Bt=tt.INTERNAL,xt="Unknown error status: "+St+" with message "+ut.message),P=!0,G.a_(new ct(Bt,xt)),A.close()}else ot(Ze,`RPC '${t}' stream ${o} received:`,at),G.u_(at)}})),W(m,i0.STAT_EVENT,(Q=>{Q.stat===Sm.PROXY?ot(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===Sm.NOPROXY&&ot(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(s){return new HC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="PersistentStream";class W0{constructor(t,n,r,o,u,f,m,y){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new J0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(ms(n.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new ct(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(NE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ot(NE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class z2 extends W0{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=GC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?Vi(f.readTime):At.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Om(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=Im(y)?{documents:QC(u,y)}:{query:XC(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=B0(u,f.resumeToken);const g=Nm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const g=Nm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=ZC(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Om(this.serializer),n.removeTarget=t,this.q_(n)}}class j2 extends W0{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=YC(t.writeResults,t.commitTime),r=Vi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Om(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>KC(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{}class H2 extends B2{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Dm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(tt.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Dm(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(tt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class q2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class F2{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ua(this)&&(ot(sa,"Restarting streams for network reachability change."),await(async function(y){const g=Rt(y);g.Ea.add(4),await uu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Bh(g)})(this))}))})),this.Ra=new q2(r,o)}}async function Bh(s){if(ua(s))for(const t of s.da)await t(!0)}async function uu(s){for(const t of s.da)await t(!1)}function tS(s,t){const n=Rt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),bp(n)?Ap(n):Ao(n).O_()&&Sp(n,t))}function Tp(s,t){const n=Rt(s),r=Ao(n);n.Ia.delete(t),r.O_()&&eS(n,t),n.Ia.size===0&&(r.O_()?r.L_():ua(n)&&n.Ra.set("Unknown"))}function Sp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ao(s).Y_(t)}function eS(s,t){s.Va.Ue(t),Ao(s).Z_(t)}function Ap(s){s.Va=new UC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Ao(s).start(),s.Ra.ua()}function bp(s){return ua(s)&&!Ao(s).x_()&&s.Ia.size>0}function ua(s){return Rt(s).Ea.size===0}function nS(s){s.Va=void 0}async function G2(s){s.Ra.set("Online")}async function K2(s){s.Ia.forEach(((t,n)=>{Sp(s,t)}))}async function Y2(s,t){nS(s),bp(s)?(s.Ra.ha(t),Ap(s)):s.Ra.set("Unknown")}async function Q2(s,t,n){if(s.Ra.set("Online"),t instanceof j0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(s,t)}catch(r){ot(sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Sh(s,r)}else if(t instanceof ih?s.Va.Ze(t):t instanceof z0?s.Va.st(t):s.Va.tt(t),!n.isEqual(At.min()))try{const r=await Z0(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,g)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Xe.EMPTY_BYTE_STRING,E.snapshotVersion)),eS(u,y);const A=new ir(E.target,y,g,E.sequenceNumber);Sp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){ot(sa,"Failed to raise snapshot:",r),await Sh(s,r)}}async function Sh(s,t,n){if(!So(t))throw t;s.Ea.add(1),await uu(s),s.Ra.set("Offline"),n||(n=()=>Z0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(sa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Bh(s)}))}function iS(s,t){return t().catch((n=>Sh(s,n,t)))}async function Hh(s){const t=Rt(s),n=mr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ap;for(;X2(t);)try{const o=await D2(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,$2(t,o)}catch(o){await Sh(t,o)}sS(t)&&rS(t)}function X2(s){return ua(s)&&s.Ta.length<10}function $2(s,t){s.Ta.push(t);const n=mr(s);n.O_()&&n.X_&&n.ea(t.mutations)}function sS(s){return ua(s)&&!mr(s).x_()&&s.Ta.length>0}function rS(s){mr(s).start()}async function Z2(s){mr(s).ra()}async function J2(s){const t=mr(s);for(const n of s.Ta)t.ea(n.mutations)}async function W2(s,t,n){const r=s.Ta.shift(),o=mp.from(r,t,n);await iS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Hh(s)}async function tN(s,t){t&&mr(s).X_&&await(async function(r,o){if((function(f){return kC(f)&&f!==tt.ABORTED})(o.code)){const u=r.Ta.shift();mr(r).B_(),await iS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Hh(r)}})(s,t),sS(s)&&rS(s)}async function DE(s,t){const n=Rt(s);n.asyncQueue.verifyOperationInProgress(),ot(sa,"RemoteStore received new credentials");const r=ua(n);n.Ea.add(3),await uu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Bh(n)}async function eN(s,t){const n=Rt(s);t?(n.Ea.delete(2),await Bh(n)):t||(n.Ea.add(2),await uu(n),n.Ra.set("Unknown"))}function Ao(s){return s.ma||(s.ma=(function(n,r,o){const u=Rt(n);return u.sa(),new z2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:G2.bind(null,s),t_:K2.bind(null,s),r_:Y2.bind(null,s),H_:Q2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),bp(s)?Ap(s):s.Ra.set("Unknown")):(await s.ma.stop(),nS(s))}))),s.ma}function mr(s){return s.fa||(s.fa=(function(n,r,o){const u=Rt(n);return u.sa(),new j2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:Z2.bind(null,s),r_:tN.bind(null,s),ta:J2.bind(null,s),na:W2.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Hh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(sa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,m=new wp(t,n,f,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rp(s,t){if(ms("AsyncQueue",`${t}: ${s}`),So(s))return new ct(tt.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(t){return new lo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||mt.comparator(n.key,r.key):(n,r)=>mt.comparator(n.key,r.key),this.keyedMap=kl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.ga=new ce(mt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class yo{constructor(t,n,r,o,u,f,m,y,g){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new yo(t,n,lo.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class iN{constructor(){this.queries=OE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Rt(n),u=o.queries;o.queries=OE(),u.forEach(((f,m)=>{for(const y of m.Sa)y.onError(r)}))})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function OE(){return new la((s=>R0(s)),kh)}async function aS(s,t){const n=Rt(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new nN,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Rp(f,`Initialization of query '${eo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Ip(n)}async function oS(s,t){const n=Rt(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sN(s,t){const n=Rt(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(r=!0);f.wa=o}}r&&Ip(n)}function rN(s,t,n){const r=Rt(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function Ip(s){s.Ca.forEach((t=>{t.next()}))}var km,ME;(ME=km||(km={})).Ma="default",ME.Cache="cache";class lS{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new yo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(t){this.key=t}}class cS{constructor(t){this.key=t}}class aN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=I0(t),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new xE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,A)=>{const R=o.get(E),P=Lh(this.query,A)?A:null,G=!!R&&this.mutatedKeys.has(R.key),W=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let Q=!1;R&&P?R.data.isEqual(P.data)?G!==W&&(r.track({type:3,doc:P}),Q=!0):this.su(R,P)||(r.track({type:2,doc:P}),Q=!0,(y&&this.eu(P,y)>0||g&&this.eu(P,g)<0)&&(m=!0)):!R&&P?(r.track({type:0,doc:P}),Q=!0):R&&!P&&(r.track({type:1,doc:R}),Q=!0,(y||g)&&(m=!0)),Q&&(P?(f=f.add(P),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,A)=>(function(P,G){const W=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:Q})}};return W(P)-W(G)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,f.length!==0||g?{snapshot:new yo(this.query,t.tu,u,f,t.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new cS(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new uS(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cp="SyncEngine";class oN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class lN{constructor(t){this.key=t,this.hu=!1}}class uN{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new la((m=>R0(m)),kh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(mt.comparator),this.Au=new Map,this.Ru=new yp,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cN(s,t,n=!0){const r=gS(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await hS(r,t,n,!0),o}async function hN(s,t){const n=gS(s);await hS(n,t,!0,!1)}async function hS(s,t,n,r){const o=await x2(s.localStore,Mi(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await fN(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&tS(s.remoteStore,o),m}async function fN(s,t,n,r,o){s.pu=(A,R,P)=>(async function(W,Q,at,pt){let ut=Q.view.ru(at);ut.Cs&&(ut=await wE(W.localStore,Q.query,!1).then((({documents:D})=>Q.view.ru(D,ut))));const St=pt&&pt.targetChanges.get(Q.targetId),Bt=pt&&pt.targetMismatches.get(Q.targetId)!=null,xt=Q.view.applyChanges(ut,W.isPrimaryClient,St,Bt);return kE(W,Q.targetId,xt.au),xt.snapshot})(s,A,R,P);const u=await wE(s.localStore,t,!0),f=new aN(t,u.Qs),m=f.ru(u.documents),y=lu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),g=f.applyChanges(m,s.isPrimaryClient,y);kE(s,n,g.au);const E=new oN(t,n,f);return s.Tu.set(t,E),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),g.snapshot}async function dN(s,t,n){const r=Rt(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!kh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Mm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Tp(r.remoteStore,o.targetId),Lm(r,o.targetId)})).catch(To)):(Lm(r,o.targetId),await Mm(r.localStore,o.targetId,!0))}async function mN(s,t){const n=Rt(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tp(n.remoteStore,r.targetId))}async function pN(s,t,n){const r=SN(s);try{const o=await(function(f,m){const y=Rt(f),g=oe.now(),E=m.reduce(((P,G)=>P.add(G.key)),Ut());let A,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let G=ps(),W=Ut();return y.Ns.getEntries(P,E).next((Q=>{G=Q,G.forEach(((at,pt)=>{pt.isValidDocument()||(W=W.add(at))}))})).next((()=>y.localDocuments.getOverlayedDocuments(P,G))).next((Q=>{A=Q;const at=[];for(const pt of m){const ut=DC(pt,A.get(pt.key).overlayedDocument);ut!=null&&at.push(new vr(pt.key,ut,v0(ut.value.mapValue),ai.exists(!0)))}return y.mutationQueue.addMutationBatch(P,g,at,m)})).next((Q=>{R=Q;const at=Q.applyToLocalDocumentSet(A,W);return y.documentOverlayCache.saveOverlays(P,Q.batchId,at)}))})).then((()=>({batchId:R.batchId,changes:N0(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let g=f.Vu[f.currentUser.toKey()];g||(g=new ce(Pt)),g=g.insert(m,y),f.Vu[f.currentUser.toKey()]=g})(r,o.batchId,n),await cu(r,o.changes),await Hh(r.remoteStore)}catch(o){const u=Rp(o,"Failed to persist write");n.reject(u)}}async function fS(s,t){const n=Rt(s);try{const r=await C2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Kt(f.hu,14607):o.removedDocuments.size>0&&(Kt(f.hu,42227),f.hu=!1))})),await cu(n,r,t)}catch(r){await To(r)}}function VE(s,t,n){const r=Rt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=Rt(f);y.onlineState=m;let g=!1;y.queries.forEach(((E,A)=>{for(const R of A.Sa)R.va(m)&&(g=!0)})),g&&Ip(y)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gN(s,t,n){const r=Rt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new ce(mt.comparator);f=f.insert(u,We.newNoDocument(u,At.min()));const m=Ut().add(u),y=new zh(At.min(),new Map,new ce(Pt),f,m);await fS(r,y),r.du=r.du.remove(u),r.Au.delete(t),Np(r)}else await Mm(r.localStore,t,!1).then((()=>Lm(r,t,n))).catch(To)}async function yN(s,t){const n=Rt(s),r=t.batch.batchId;try{const o=await I2(n.localStore,t);mS(n,r,null),dS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cu(n,o)}catch(o){await To(o)}}async function _N(s,t,n){const r=Rt(s);try{const o=await(function(f,m){const y=Rt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next((A=>(Kt(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(g,A)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>y.localDocuments.getDocuments(g,E)))}))})(r.localStore,t);mS(r,t,n),dS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cu(r,o)}catch(o){await To(o)}}function dS(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function mS(s,t,n){const r=Rt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Lm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||pS(s,r)}))}function pS(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(Tp(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Np(s))}function kE(s,t,n){for(const r of n)r instanceof uS?(s.Ru.addReference(r.key,t),vN(s,r)):r instanceof cS?(ot(Cp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||pS(s,r.key)):Tt(19791,{wu:r})}function vN(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(ot(Cp,"New document in limbo: "+n),s.Eu.add(r),Np(s))}function Np(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new mt(ae.fromString(t)),r=s.fu.next();s.Au.set(r,new lN(n)),s.du=s.du.insert(n,r),tS(s.remoteStore,new ir(Mi(hp(n.path)),r,"TargetPurposeLimboResolution",xh.ce))}}async function cu(s,t,n){const r=Rt(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{f.push(r.pu(y,t,n).then((g=>{if((g||n)&&r.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=vp.As(y.targetId,g);u.push(E)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(y,g){const E=Rt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(g,(R=>J.forEach(R.Es,(P=>E.persistence.referenceDelegate.addReference(A,R.targetId,P))).next((()=>J.forEach(R.ds,(P=>E.persistence.referenceDelegate.removeReference(A,R.targetId,P)))))))))}catch(A){if(!So(A))throw A;ot(Ep,"Failed to update sequence numbers: "+A)}for(const A of g){const R=A.targetId;if(!A.fromCache){const P=E.Ms.get(R),G=P.snapshotVersion,W=P.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(R,W)}}})(r.localStore,u))}async function EN(s,t){const n=Rt(s);if(!n.currentUser.isEqual(t)){ot(Cp,"User change. New user:",t.toKey());const r=await $0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new ct(tt.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await cu(n,r.Ls)}}function TN(s,t){const n=Rt(s),r=n.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function gS(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=fS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gN.bind(null,t),t.Pu.H_=sN.bind(null,t.eventManager),t.Pu.yu=rN.bind(null,t.eventManager),t}function SN(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_N.bind(null,t),t}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return R2(this.persistence,new A2,t.initialUser,this.serializer)}Cu(t){return new X0(_p.mi,this.serializer)}Du(t){return new M2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class AN extends Ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof Th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new l2(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new X0((r=>Th.mi(r,n)),this.serializer)}}class Pm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EN.bind(null,this.syncEngine),await eN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new iN})()}createDatastore(t){const n=jh(t.databaseInfo.databaseId),r=(function(u){return new U2(u)})(t.databaseInfo);return(function(u,f,m,y){return new H2(u,f,m,y)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,m){return new F2(r,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>VE(this.syncEngine,n,0)),(function(){return CE.v()?new CE:new V2})())}createSyncEngine(t,n){return(function(o,u,f,m,y,g,E){const A=new uN(o,u,f,m,y,g);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Rt(n);ot(sa,"RemoteStore shutting down."),r.Ea.add(5),await uu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pm.provider={build:()=>new Pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ms("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="FirestoreClient";class bN{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ot(pr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ot(pr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Rp(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function hm(s,t){s.asyncQueue.verifyOperationInProgress(),ot(pr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await $0(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function LE(s,t){s.asyncQueue.verifyOperationInProgress();const n=await wN(s);ot(pr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>DE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>DE(t.remoteStore,o))),s._onlineComponents=t}async function wN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(pr,"Using user provided OfflineComponentProvider");try{await hm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await hm(s,new Ah)}}else ot(pr,"Using default OfflineComponentProvider"),await hm(s,new AN(void 0));return s._offlineComponents}async function _S(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(pr,"Using user provided OnlineComponentProvider"),await LE(s,s._uninitializedComponentsProvider._online)):(ot(pr,"Using default OnlineComponentProvider"),await LE(s,new Pm))),s._onlineComponents}function RN(s){return _S(s).then((t=>t.syncEngine))}async function vS(s){const t=await _S(s),n=t.eventManager;return n.onListen=cN.bind(null,t.syncEngine),n.onUnlisten=dN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=hN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=mN.bind(null,t.syncEngine),n}function IN(s,t,n={}){const r=new hs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const E=new yS({next:R=>{E.Nu(),f.enqueueAndForget((()=>oS(u,A)));const P=R.docs.has(m);!P&&R.fromCache?g.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&R.fromCache&&y&&y.source==="server"?g.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new lS(hp(m.path),E,{includeMetadataChanges:!0,qa:!0});return aS(u,A)})(await vS(s),s.asyncQueue,t,n,r))),r.promise}function CN(s,t,n={}){const r=new hs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const E=new yS({next:R=>{E.Nu(),f.enqueueAndForget((()=>oS(u,A))),R.fromCache&&y.source==="server"?g.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new lS(m,E,{includeMetadataChanges:!0,qa:!0});return aS(u,A)})(await vS(s),s.asyncQueue,t,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firestore.googleapis.com",UE=!0;class zE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TS,this.ssl=UE}else this.host=t.host,this.ssl=t.ssl??UE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Q0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<a2)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ES(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qh{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new MI;switch(r.type){case"firstParty":return new PI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=PE.get(n);r&&(ot("ComponentProvider","Removing Datastore"),PE.delete(n),r.terminate())})(this),Promise.resolve()}}function NN(s,t,n,r={}){s=Pi(s,qh);const o=gr(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${t}:${n}`;o&&(Fm(`https://${m}`),Gm("Firestore",!0)),u.host!==TS&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:r};if(!ta(y,f)&&(s._setSettings(y),r.mockUserToken)){let g,E;if(typeof r.mockUserToken=="string")g=r.mockUserToken,E=Je.MOCK_USER;else{g=pT(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Je(A)}s._authCredentials=new VI(new o0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Fh(this.firestore,t,this._query)}}class De{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new De(this.firestore,t,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(au(n,De._jsonSchema))return new De(t,r||null,new mt(ae.fromString(n.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ne("string",De._jsonSchemaVersion),referencePath:Ne("string")};class lr extends Fh{constructor(t,n,r){super(t,n,hp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new De(this.firestore,null,new mt(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function Wl(s,t,...n){if(s=_e(s),l0("collection","path",t),s instanceof qh){const r=ae.fromString(t,...n);return Wv(r),new lr(s,null,r)}{if(!(s instanceof De||s instanceof lr))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(t,...n));return Wv(r),new lr(s.firestore,null,r)}}function nr(s,t,...n){if(s=_e(s),arguments.length===1&&(t=sp.newId()),l0("doc","path",t),s instanceof qh){const r=ae.fromString(t,...n);return Jv(r),new De(s,null,new mt(r))}{if(!(s instanceof De||s instanceof lr))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(t,...n));return Jv(r),new De(s.firestore,s instanceof lr?s.converter:null,new mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="AsyncQueue";class BE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new J0(this,"async_queue_retry"),this._c=()=>{const r=cm();r&&ot(jE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!So(t))throw t;ot(jE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",HE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=wp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:HE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function HE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class bo extends qh{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new BE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new BE(t),this._firestoreClient=void 0,await t}}}function DN(s,t){const n=typeof s=="object"?s:Qm(),r=typeof s=="string"?s:mh,o=Rh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=fT("firestore");u&&NN(o,...u)}return o}function Dp(s){if(s._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||xN(s),s._firestoreClient}function xN(s){const t=s._freezeSettings(),n=(function(o,u,f,m){return new tC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ES(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new bN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(Xe.fromBase64String(t))}catch(n){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(au(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ne("string",Gn._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(au(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Ne("string",ki._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(au(t,Li._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Li(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Ne("string",Li._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=/^__.*__$/;class MN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new vr(t,this.data,this.fieldMask,n,this.fieldTransforms):new ou(t,this.data,n,this.fieldTransforms)}}class SS{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new vr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function AS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:s})}}class Op{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Op({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return bh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(AS(this.Ac)&&ON.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class VN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||jh(t)}Cc(t,n,r,o=!1){return new Op({Ac:t,methodName:n,Dc:r,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bS(s){const t=s._freezeSettings(),n=jh(s._databaseId);return new VN(s._databaseId,!!t.ignoreUndefinedProperties,n)}function kN(s,t,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,t,n,o);Mp("Data must be an object, but it was:",f,r);const m=wS(r,f);let y,g;if(u.merge)y=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=Um(t,A,n);if(!f.contains(R))throw new ct(tt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);IS(E,R)||E.push(R)}y=new Cn(E),g=f.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,g=f.fieldTransforms;return new MN(new gn(m),y,g)}class Kh extends xp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kh}}function LN(s,t,n,r){const o=s.Cc(1,t,n);Mp("Data must be an object, but it was:",o,r);const u=[],f=gn.empty();_r(r,((y,g)=>{const E=Vp(t,y,n);g=_e(g);const A=o.yc(E);if(g instanceof Kh)u.push(E);else{const R=Yh(g,A);R!=null&&(u.push(E),f.set(E,R))}}));const m=new Cn(u);return new SS(f,m,o.fieldTransforms)}function PN(s,t,n,r,o,u){const f=s.Cc(1,t,n),m=[Um(t,r,n)],y=[o];if(u.length%2!=0)throw new ct(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Um(t,u[R])),y.push(u[R+1]);const g=[],E=gn.empty();for(let R=m.length-1;R>=0;--R)if(!IS(g,m[R])){const P=m[R];let G=y[R];G=_e(G);const W=f.yc(P);if(G instanceof Kh)g.push(P);else{const Q=Yh(G,W);Q!=null&&(g.push(P),E.set(P,Q))}}const A=new Cn(g);return new SS(E,A,f.fieldTransforms)}function Yh(s,t){if(RS(s=_e(s)))return Mp("Unsupported field value:",t,s),wS(s,t);if(s instanceof xp)return(function(r,o){if(!AS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let y=Yh(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=_e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=oe.fromDate(r);return{timestampValue:Eh(o.serializer,u)}}if(r instanceof oe){const u=new oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:B0(o.serializer,r._byteString)};if(r instanceof De){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Li)return(function(f,m){return{mapValue:{fields:{[y0]:{stringValue:_0},[ph]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return fp(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${rp(r)}`)})(s,t)}function wS(s,t){const n={};return h0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_r(s,((r,o)=>{const u=Yh(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function RS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof oe||s instanceof ki||s instanceof Gn||s instanceof De||s instanceof xp||s instanceof Li)}function Mp(s,t,n){if(!RS(n)||!u0(n)){const r=rp(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Um(s,t,n){if((t=_e(t))instanceof Gh)return t._internalPath;if(typeof t=="string")return Vp(s,t);throw bh("Field path arguments must be of type string or ",s,!1,void 0,n)}const UN=new RegExp("[~\\*/\\[\\]]");function Vp(s,t,n){if(t.search(UN)>=0)throw bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Gh(...t.split("."))._internalPath}catch{throw bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function bh(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new ct(tt.INVALID_ARGUMENT,m+s+y)}function IS(s,t){return s.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new zN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(NS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zN extends CS{data(){return super.data()}}function NS(s,t){return typeof t=="string"?Vp(s,t):t instanceof Gh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BN{convertValue(t,n="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return _r(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[ph].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new Li(n)}convertGeoPoint(t){return new ki(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Mh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ql(t));default:return null}}convertTimestamp(t){const n=hr(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ae.fromString(t);Kt(Y0(r),9688,{name:t});const o=new Xl(r.get(1),r.get(3)),u=new mt(r.popFirst(5));return o.isEqual(n)||ms(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class Pl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jr extends CS{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(NS("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Jr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:Ne("string",Jr._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class sh extends Jr{data(t={}){return super.data(t)}}class uo{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:qN(m.type),doc:y,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function qN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(s){s=Pi(s,De);const t=Pi(s.firestore,bo);return IN(Dp(t),s._key).then((n=>GN(t,s,n)))}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Ne("string",uo._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class DS extends BN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new De(this.firestore,null,n)}}function tu(s){s=Pi(s,Fh);const t=Pi(s.firestore,bo),n=Dp(t),r=new DS(t);return jN(s._query),CN(n,s._query).then((o=>new uo(t,r,s,o)))}function qE(s,t,n){s=Pi(s,De);const r=Pi(s.firestore,bo),o=HN(s.converter,t);return kp(r,[kN(bS(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,ai.none())])}function jm(s,t,n,...r){s=Pi(s,De);const o=Pi(s.firestore,bo),u=bS(o);let f;return f=typeof(t=_e(t))=="string"||t instanceof Gh?PN(u,"updateDoc",s._key,t,n,r):LN(u,"updateDoc",s._key,t),kp(o,[f.toMutation(s._key,ai.exists(!0))])}function FN(s){return kp(Pi(s.firestore,bo),[new dp(s._key,ai.none())])}function kp(s,t){return(function(r,o){const u=new hs;return r.asyncQueue.enqueueAndForget((async()=>pN(await RN(r),o,u))),u.promise})(Dp(s),t)}function GN(s,t,n){const r=n.docs.get(t._key),o=new DS(s);return new Jr(s,o,t._key,r,new Pl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Eo=o})(aa),ea(new ur("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new bo(new kI(r.getProvider("auth-internal")),new UI(f,r.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Di(Qv,Xv,t),Di(Qv,Xv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firebasestorage.googleapis.com",OS="storageBucket",KN=120*1e3,YN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je extends ji{constructor(t,n,r=0){super(fm(t),`Firebase Storage: ${n} (${fm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,je.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return fm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function fm(s){return"storage/"+s}function MS(){const s="An unknown error occurred, please check the error payload for server response.";return new je(ze.UNKNOWN,s)}function QN(s){return new je(ze.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function XN(s){return new je(ze.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $N(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new je(ze.UNAUTHENTICATED,s)}function ZN(){return new je(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JN(s){return new je(ze.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function WN(){return new je(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tD(){return new je(ze.CANCELED,"User canceled the upload/download.")}function eD(s){return new je(ze.INVALID_URL,"Invalid URL '"+s+"'.")}function nD(s){return new je(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function iD(){return new je(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OS+"' property when initializing the app?")}function sD(){return new je(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Bm(s){return new je(ze.INVALID_ARGUMENT,s)}function VS(){return new je(ze.APP_DELETED,"The Firebase app was deleted.")}function rD(s){return new je(ze.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dl(s){throw new je(ze.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=on.makeFromUrl(t,n)}catch{return new on(t,"")}if(r.path==="")return r;throw nD(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(St){St.path.charAt(St.path.length-1)==="/"&&(St.path_=St.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function g(St){St.path_=decodeURIComponent(St.path)}const E="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",P=new RegExp(`^https?://${A}/${E}/b/${o}/o${R}`,"i"),G={bucket:1,path:3},W=n===xS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Q="([^?#]*)",at=new RegExp(`^https?://${W}/${o}/${Q}`,"i"),ut=[{regex:m,indices:y,postModify:u},{regex:P,indices:G,postModify:g},{regex:at,indices:{bucket:1,path:2},postModify:g}];for(let St=0;St<ut.length;St++){const Bt=ut[St],xt=Bt.regex.exec(t);if(xt){const D=xt[Bt.indices.bucket];let w=xt[Bt.indices.path];w||(w=""),r=new on(D,w),Bt.postModify(r);break}}if(r==null)throw eD(t);return r}}class aD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(s,t,n){let r=1,o=null,u=null,f=!1,m=0;function y(){return m===2}let g=!1;function E(...Q){g||(g=!0,t.apply(null,Q))}function A(Q){o=setTimeout(()=>{o=null,s(P,y())},Q)}function R(){u&&clearTimeout(u)}function P(Q,...at){if(g){R();return}if(Q){R(),E.call(null,Q,...at);return}if(y()||f){R(),E.call(null,Q,...at);return}r<64&&(r*=2);let ut;m===1?(m=2,ut=0):ut=(r+Math.random())*1e3,A(ut)}let G=!1;function W(Q){G||(G=!0,R(),!g&&(o!==null?(Q||(m=2),clearTimeout(o),A(0)):Q||(m=1)))}return A(0),u=setTimeout(()=>{f=!0,W(!0)},n),W}function lD(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(s){return s!==void 0}function cD(s){return typeof s=="object"&&!Array.isArray(s)}function kS(s){return typeof s=="string"||s instanceof String}function Hm(s,t,n,r){if(r<t)throw Bm(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw Bm(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(s,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${s}`}function LS(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=t(r)+"="+t(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Wr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Wr||(Wr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(s,t){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,n,r,o,u,f,m,y,g,E,A,R=!0,P=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=y,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=A,this.retry=R,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,W)=>{this.resolve_=G,this.reject_=W,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new Yc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const y=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Wr.NO_ERROR,y=u.getStatus();if(!m||hD(y,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Wr.ABORT;r(!1,new Yc(!1,null,E));return}const g=this.successCodes_.indexOf(y)!==-1;r(!0,new Yc(g,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());uD(y)?u(y):u()}catch(y){f(y)}else if(m!==null){const y=MS();y.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,y)):f(y)}else if(o.canceled){const y=this.appDelete_?VS():tD();f(y)}else{const y=WN();f(y)}};this.canceled_?n(!1,new Yc(!1,null,!0)):this.backoffId_=oD(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&lD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function dD(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function mD(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function pD(s,t){t&&(s["X-Firebase-GMPID"]=t)}function gD(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function yD(s,t,n,r,o,u,f=!0,m=!1){const y=LS(s.urlParams),g=s.url+y,E=Object.assign({},s.headers);return pD(E,t),dD(E,n),mD(E,u),gD(E,r),new fD(g,s.method,E,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(s){let t;try{t=JSON.parse(s)}catch{return null}return cD(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function vD(s,t){const n=t.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function PS(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(s,t){return t}class rn{constructor(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||ED}}let Qc=null;function TD(s){return!kS(s)||s.length<2?s:PS(s)}function SD(){if(Qc)return Qc;const s=[];s.push(new rn("bucket")),s.push(new rn("generation")),s.push(new rn("metageneration")),s.push(new rn("name","fullPath",!0));function t(u,f){return TD(f)}const n=new rn("name");n.xform=t,s.push(n);function r(u,f){return f!==void 0?Number(f):f}const o=new rn("size");return o.xform=r,s.push(o),s.push(new rn("timeCreated")),s.push(new rn("updated")),s.push(new rn("md5Hash",null,!0)),s.push(new rn("cacheControl",null,!0)),s.push(new rn("contentDisposition",null,!0)),s.push(new rn("contentEncoding",null,!0)),s.push(new rn("contentLanguage",null,!0)),s.push(new rn("contentType",null,!0)),s.push(new rn("metadata","customMetadata",!0)),Qc=s,Qc}function AD(s,t){function n(){const r=s.bucket,o=s.fullPath,u=new on(r,o);return t._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function bD(s,t,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];r[f.local]=f.xform(r,t[f.server])}return AD(r,s),r}function wD(s,t,n){const r=Pp(t);return r===null?null:bD(s,r,n)}function RD(s,t,n,r){const o=Pp(t);if(o===null||!kS(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const E=s.bucket,A=s.fullPath,R="/b/"+f(E)+"/o/"+f(A),P=Lp(R,n,r),G=LS({alt:"media",token:g});return P+G})[0]}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="prefixes",GE="items";function ID(s,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[FE])for(const o of n[FE]){const u=o.replace(/\/$/,""),f=s._makeStorageReference(new on(t,u));r.prefixes.push(f)}if(n[GE])for(const o of n[GE]){const u=s._makeStorageReference(new on(t,o.name));r.items.push(u)}return r}function CD(s,t,n){const r=Pp(n);return r===null?null:ID(s,t,r)}class US{constructor(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(s){if(!s)throw MS()}function ND(s,t){function n(r,o){const u=CD(s,t,o);return zS(u!==null),u}return n}function DD(s,t){function n(r,o){const u=wD(s,o,t);return zS(u!==null),RD(u,o,s.host,s._protocol)}return n}function jS(s){function t(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=ZN():o=$N():n.getStatus()===402?o=XN(s.bucket):n.getStatus()===403?o=JN(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return t}function xD(s){const t=jS(s);function n(r,o){let u=t(r,o);return r.getStatus()===404&&(u=QN(s.path)),u.serverResponse=o.serverResponse,u}return n}function OD(s,t,n,r,o){const u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n.length>0&&(u.delimiter=n),r&&(u.pageToken=r),o&&(u.maxResults=o);const f=t.bucketOnlyServerUrl(),m=Lp(f,s.host,s._protocol),y="GET",g=s.maxOperationRetryTime,E=new US(m,y,ND(s,t.bucket),g);return E.urlParams=u,E.errorHandler=jS(t),E}function MD(s,t,n){const r=t.fullServerUrl(),o=Lp(r,s.host,s._protocol),u="GET",f=s.maxOperationRetryTime,m=new US(o,u,DD(s,n),f);return m.errorHandler=xD(t),m}class VD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,o,u){if(this.sent_)throw Dl("cannot .send() more than once");if(gr(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Dl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class kD extends VD{initXhr(){this.xhr_.responseType="text"}}function BS(){return new kD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,n){this._service=t,n instanceof on?this._location=n:this._location=on.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ra(t,n)}get root(){const t=new on(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PS(this._location.path)}get storage(){return this._service}get parent(){const t=_D(this._location.path);if(t===null)return null;const n=new on(this._location.bucket,t);return new ra(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw rD(t)}}function LD(s){const t={prefixes:[],items:[]};return HS(s,t).then(()=>t)}async function HS(s,t,n){const o=await PD(s,{pageToken:n});t.prefixes.push(...o.prefixes),t.items.push(...o.items),o.nextPageToken!=null&&await HS(s,t,o.nextPageToken)}function PD(s,t){t!=null&&typeof t.maxResults=="number"&&Hm("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=OD(s.storage,s._location,"/",n.pageToken,n.maxResults);return s.storage.makeRequestWithTokens(r,BS)}function UD(s){s._throwIfRoot("getDownloadURL");const t=MD(s.storage,s._location,SD());return s.storage.makeRequestWithTokens(t,BS).then(n=>{if(n===null)throw sD();return n})}function zD(s,t){const n=vD(s._location.path,t),r=new on(s._location.bucket,n);return new ra(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(s){return/^[A-Za-z]+:\/\//.test(s)}function BD(s,t){return new ra(s,t)}function qS(s,t){if(s instanceof Up){const n=s;if(n._bucket==null)throw iD();const r=new ra(n,n._bucket);return t!=null?qS(r,t):r}else return t!==void 0?zD(s,t):s}function HD(s,t){if(t&&jD(t)){if(s instanceof Up)return BD(s,t);throw Bm("To use ref(service, url), the first argument must be a Storage instance.")}else return qS(s,t)}function KE(s,t){const n=t?.[OS];return n==null?null:on.makeFromBucketSpec(n,s)}function qD(s,t,n,r={}){s.host=`${t}:${n}`;const o=gr(t);o&&(Fm(`https://${s.host}/b`),Gm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:pT(u,s.app.options.projectId))}class Up{constructor(t,n,r,o,u,f=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=xS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KN,this._maxUploadRetryTime=YN,this._requests=new Set,o!=null?this._bucket=on.makeFromBucketSpec(o,this._host):this._bucket=KE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=on.makeFromBucketSpec(this._url,t):this._bucket=KE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Hm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Hm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ra(this,t)}_makeRequest(t,n,r,o,u=!0){if(this._deleted)return new aD(VS());{const f=yD(t,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const YE="@firebase/storage",QE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="storage";function FD(s){return s=_e(s),LD(s)}function GD(s){return s=_e(s),UD(s)}function XE(s,t){return s=_e(s),HD(s,t)}function KD(s=Qm(),t){s=_e(s);const r=Rh(s,FS).getImmediate({identifier:t}),o=fT("storage");return o&&YD(r,...o),r}function YD(s,t,n,r={}){qD(s,t,n,r)}function QD(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new Up(n,r,o,t,aa)}function XD(){ea(new ur(FS,QD,"PUBLIC").setMultipleInstances(!0)),Di(YE,QE,""),Di(YE,QE,"esm2020")}XD();const $D={apiKey:"AIzaSyAsRvsb-_QY_JAVz2GaRWifR95aCRiddLA",authDomain:"footballsanci.firebaseapp.com",databaseURL:"https://footballsanci-default-rtdb.europe-west1.firebasedatabase.app",projectId:"footballsanci",storageBucket:"footballsanci.firebasestorage.app",messagingSenderId:"108108129157",appId:"1:108108129157:web:c881c7b4d787677c43daec",measurementId:"G-VESXDYD12H"},zp=_T($D),dm=NI(zp),In=DN(zp),$E=KD(zp),GS=nt.createContext(),Qh=()=>{const s=nt.useContext(GS);if(!s)throw new Error("useAuth must be used within AuthProvider");return s};function ZD({children:s}){const[t,n]=nt.useState(null),[r,o]=nt.useState(!0);nt.useEffect(()=>yR(dm,y=>{n(y),o(!1)}),[]);const u=async(m,y)=>await mR(dm,m.trim(),y),f=async()=>{try{await _R(dm)}catch(m){console.error("Logout error:",m)}};return b.jsx(GS.Provider,{value:{currentUser:t,authLoading:r,login:u,logout:f},children:s})}const KS=nt.createContext();function JD({children:s}){const[t,n]=nt.useState([]),[r,o]=nt.useState(""),[u,f]=nt.useState(!0);return nt.useEffect(()=>{(async()=>{try{const g=(await tu(Wl(In,"seasons"))).docs.map(E=>E.id).sort();n(g),g.length>0&&o(g[g.length-1])}catch(y){console.error("Error loading seasons:",y)}finally{f(!1)}})()},[]),b.jsx(KS.Provider,{value:{seasons:t,selectedSeason:r,setSelectedSeason:o,loadingSeasons:u},children:s})}function hu(){return nt.useContext(KS)}function WD(){const{seasons:s,selectedSeason:t,setSelectedSeason:n,loadingSeasons:r}=hu(),[o,u]=nt.useState("ranking"),[f,m]=nt.useState(!0),y=nt.useRef(0),g=["ranking","draw","history"],E=P=>{const G=document.getElementById(P);if(!G)return;const Q=G.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:Q,behavior:"smooth"}),u(P)};nt.useEffect(()=>{const P=()=>{const G=window.scrollY||window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;if(Math.abs(G-y.current)<5)return;G>y.current&&G>80?m(!1):m(!0),y.current=G;const W=G+80;for(let Q=g.length-1;Q>=0;Q--){const at=document.getElementById(g[Q]);if(at&&W>=at.offsetTop){u(g[Q]);break}}};return window.addEventListener("scroll",P,{passive:!0}),()=>window.removeEventListener("scroll",P)},[]);const A=P=>{const G=P?.match(/\d+/);return G?`Season ${G[0]}`:P||"Season"},R=!r&&!!t&&s.length>0;return b.jsxs("header",{style:{...Zs.header,transform:f?"translateY(0)":"translateY(-100%)"},children:[b.jsx("div",{style:Zs.left,children:R?b.jsx("select",{style:Zs.select,value:t,onChange:P=>n(P.target.value),children:s.map(P=>b.jsx("option",{value:P,style:Zs.option,children:A(P)},P))}):b.jsx("div",{style:Zs.seasonPlaceholder,children:"Season 6"})}),b.jsx("nav",{style:Zs.right,children:g.map(P=>b.jsx("button",{style:{...Zs.navBtn,...o===P?Zs.navBtnActive:{}},onClick:()=>E(P),children:P.charAt(0).toUpperCase()+P.slice(1)},P))})]})}const Zs={header:{position:"fixed",top:0,left:0,right:0,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",color:"#fff",background:"rgba(8, 8, 10, 0.5)",backdropFilter:"blur(12px)",borderBottom:"1px solid rgba(255,255,255,0.08)",zIndex:1e3,transform:"translateY(0)",transition:"transform 0.25s ease, background 0.2s ease"},left:{display:"flex",alignItems:"center",paddingLeft:"10px"},right:{display:"flex",alignItems:"center",gap:"0.6rem",paddingRight:"0.6rem"},select:{flex:"0 0 auto",width:"auto",color:"#fff",background:"transparent",border:"none",outline:"none",fontSize:"var(--font-large)",fontWeight:500,lineHeight:1.2,cursor:"pointer",padding:"8px 22px 8px 6px",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 6" fill="white"><path d="M0 0l5 6 5-6H0z"/></svg>')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 6px center",backgroundSize:"10px 6px"},option:{color:"#000",backgroundColor:"#fff",fontSize:"var(--font-large)"},seasonPlaceholder:{flex:"0 0 auto",padding:"8px 22px 8px 6px",fontSize:"var(--font-large)",fontWeight:500,lineHeight:1.2,color:"#fff",whiteSpace:"nowrap"},navBtn:{background:"transparent",border:"none",color:"#fff",cursor:"pointer",opacity:.8,letterSpacing:"0.5px",fontSize:"var(--font-large)",fontWeight:500,padding:"4px 6px",whiteSpace:"nowrap",transition:"opacity 0.2s ease, color 0.2s ease"},navBtnActive:{color:"#10B981",opacity:1,fontWeight:600}};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ex=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ZE=s=>{const t=ex(s);return t.charAt(0).toUpperCase()+t.slice(1)},YS=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),nx=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ix={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=nt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...m},y)=>nt.createElement("svg",{ref:y,...ix,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:YS("lucide",o),...!u&&!nx(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>nt.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=(s,t)=>{const n=nt.forwardRef(({className:r,...o},u)=>nt.createElement(sx,{ref:u,iconNode:t,className:YS(`lucide-${tx(ZE(s))}`,`lucide-${s}`,r),...o}));return n.displayName=ZE(s),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ox=rx("log-out",ax);function lx({visible:s,onClose:t}){const{login:n}=Qh(),[r,o]=nt.useState(""),[u,f]=nt.useState(""),[m,y]=nt.useState(!1),[g,E]=nt.useState("");if(!s)return null;const A=async()=>{E(""),y(!0);try{await n(r,u),t(),o(""),f("")}catch(G){E(G.message||"Login failed")}finally{y(!1)}},R=G=>{G.key==="Enter"&&r&&u&&!m&&A()},P=()=>{t(),o(""),f(""),E("")};return b.jsx("div",{style:an.overlay,onClick:P,children:b.jsxs("div",{style:an.modal,onClick:G=>G.stopPropagation(),children:[b.jsx("button",{style:an.closeButton,onClick:P,children:""}),b.jsx("div",{style:an.modalHeader,children:b.jsx("h2",{style:an.title,children:"Login"})}),b.jsxs("div",{style:an.formContainer,children:[b.jsxs("div",{style:an.inputGroup,children:[b.jsx("label",{style:an.label,htmlFor:"email",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:r,onChange:G=>o(G.target.value),onKeyPress:R,style:an.input,placeholder:"you@example.com"})]}),b.jsxs("div",{style:an.inputGroup,children:[b.jsx("label",{style:an.label,htmlFor:"password",children:"Password"}),b.jsx("input",{id:"password",type:"password",value:u,onChange:G=>f(G.target.value),onKeyPress:R,style:an.input,placeholder:""})]}),g&&b.jsx("div",{style:an.error,children:g}),b.jsx("button",{onClick:A,disabled:m||!r||!u,style:{...an.submitButton,...m||!r||!u?an.submitButtonDisabled:{}},children:m?"Logging in...":"Log in"})]})]})})}const an={overlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},modal:{background:"rgba(10,10,10,0.95)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"32px",width:"92%",maxWidth:"420px",boxShadow:"0 0 40px rgba(16,185,129,0.25)",position:"relative"},closeButton:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",color:"rgba(255,255,255,0.6)",fontSize:"22px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},modalHeader:{marginBottom:"26px",textAlign:"center"},title:{fontSize:"var(--font-large)",fontWeight:700,color:"#fff",margin:0,textTransform:"uppercase",letterSpacing:"1px"},formContainer:{display:"flex",flexDirection:"column",gap:"18px"},inputGroup:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"var(--font-small)",color:"rgba(16,185,129,1)",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},input:{background:"rgba(6,78,59,0.15)",border:"1px solid rgba(16,185,129,0.3)",borderRadius:"8px",padding:"12px 16px",fontSize:"var(--font-normal)",color:"#fff",outline:"none"},error:{background:"rgba(239,68,68,0.15)",border:"1px solid rgba(239,68,68,0.4)",borderRadius:"8px",padding:"12px 16px",color:"rgba(239,68,68,1)",fontSize:"var(--font-small)",textAlign:"center"},submitButton:{marginTop:"6px",padding:"14px 24px",background:"linear-gradient(135deg, rgba(16,185,129,0.3), rgba(6,78,59,0.4))",border:"2px solid rgba(16,185,129,0.5)",borderRadius:"8px",color:"#fff",fontSize:"var(--font-normal)",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 4px 15px rgba(16,185,129,0.2)"},submitButtonDisabled:{opacity:.5,cursor:"not-allowed"}};function ux(){const{currentUser:s,logout:t}=Qh(),[n,r]=nt.useState(!1);return b.jsxs(b.Fragment,{children:[b.jsxs("footer",{style:Za.footer,children:[b.jsxs("p",{style:Za.footerText,children:[s?b.jsx("span",{onClick:t,style:Za.logoutIcon,children:b.jsx(ox,{color:"red",size:20})}):b.jsx("span",{onClick:()=>r(!0),style:Za.loginTrigger,children:""})," ",new Date().getFullYear()," FootballSanci. All rights reserved."]}),b.jsxs("p",{style:Za.creditLine,children:["Made with  by Claudiu "," ",b.jsx("a",{href:"https://github.com/ImTheCloud/footballsanci-react",target:"_blank",rel:"noopener noreferrer",style:Za.link,children:"GitHub"})]})]}),b.jsx(lx,{visible:n,onClose:()=>r(!1)})]})}const Za={footer:{textAlign:"center",padding:"22px 0",background:"rgba(8,8,10,0.5)",backdropFilter:"blur(12px)",borderTop:"1px solid rgba(255,255,255,0.08)",color:"#fff",marginTop:"40px",position:"relative",zIndex:1e3},footerText:{fontSize:"var(--font-small)",margin:0,opacity:.85},creditLine:{fontSize:"var(--font-very-small)",marginTop:"6px",opacity:.85},link:{color:"#10B981",fontWeight:600,textDecoration:"none"},loginTrigger:{cursor:"pointer",fontWeight:600,fontSize:"var(--font-normal)"},logoutIcon:{cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",top:"4px"}};function cx(){const{selectedSeason:s}=hu(),[t,n]=nt.useState(null),[r,o]=nt.useState(0),u=window.innerWidth<600;nt.useEffect(()=>{const m=()=>window.innerWidth<600;return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),nt.useEffect(()=>{(async()=>{try{const m=XE($E,"seasons"),y=await FD(m),g=`${s}.jpg`;if(!y.items.some(R=>R.name===g)){n(null);return}const A=await GD(XE($E,`seasons/${g}`));n(A)}catch(m){console.warn("Unexpected Firebase error:",m),n(null)}})()},[s]),nt.useEffect(()=>{const m=()=>o(window.scrollY/4);return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const f=u?"140px":"220px";return b.jsxs(b.Fragment,{children:[b.jsx("style",{children:`
                @keyframes fadeOnly {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                `}),b.jsxs("div",{style:{...Xr.container,height:f},children:[t&&b.jsx("img",{src:t,alt:"",style:{...Xr.image,height:u?"150%":"130%",transform:`translateY(${r}px)`}}),!t&&b.jsxs("div",{style:Xr.fallbackBox,children:[b.jsx("div",{style:Xr.icon,children:""}),b.jsx("div",{style:Xr.fallbackText,children:"No picture for this season"})]}),b.jsx("div",{style:{...Xr.fadeTop,height:u?"28%":"40%"}}),b.jsx("div",{style:{...Xr.fadeBottom,height:u?"20%":"25%"}})]})]})}const Xr={container:{position:"relative",width:"100%",overflow:"hidden"},image:{width:"100%",objectFit:"cover",opacity:0,animation:"fadeIn 0.7s forwards"},fallbackBox:{position:"absolute",bottom:"19px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"row",alignItems:"center",gap:"14px",padding:"10px 32px",minWidth:"max-content",backdropFilter:"blur(6px)",animation:"fadeOnly 0.9s ease-out"},icon:{fontSize:"var(--font-large)",color:"white",filter:"drop-shadow(0 0 6px rgba(255,255,255,0.5))"},fallbackText:{color:"white",fontSize:"var(--font-large)",fontWeight:800,letterSpacing:"0.04rem",textShadow:"0 4px 15px rgba(0,0,0,0.55)"},fadeTop:{position:"absolute",top:0,left:0,right:0,background:"linear-gradient(to bottom, rgba(0,0,0,0.6), transparent)"},fadeBottom:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.5), transparent)"}},QS=(s=0,t=0,n=0,r=0)=>{const o=s+t+n,u=o>0?(s/o*100).toFixed(1):0,f=s*3+t+r,m=o>0?10*(.9*((3*s+t)/(3*o))+.1*Math.min(r/o,1)):0,y=Number(m.toFixed(2));return{matches:o,winrate:parseFloat(u),points:f,value:y}},hx=({onIncrement:s,onDecrement:t})=>b.jsxs("div",{className:"stat-controls",onClick:n=>n.stopPropagation(),children:[b.jsx("button",{className:"stat-btn stat-btn-minus",onClick:t,children:""}),b.jsx("button",{className:"stat-btn stat-btn-plus",onClick:s,children:"+"})]}),fx=({label:s,value:t,editable:n,currentUser:r,onUpdate:o,format:u})=>b.jsxs("div",{className:"stat-item",children:[b.jsx("span",{className:"stat-label",children:s}),b.jsxs("div",{className:"stat-value-row",children:[b.jsx("span",{className:"stat-value",children:u?u(t):t}),r&&n&&b.jsx(hx,{onIncrement:()=>o(1),onDecrement:()=>o(-1)})]})]}),dx=({player:s,currentUser:t,onUpdateField:n,statsConfig:r})=>b.jsx("div",{className:"ranking-item-details",children:b.jsx("div",{className:"stats-grid",children:r.map(({label:o,field:u,editable:f,format:m})=>b.jsx(fx,{label:o,value:u==="value"?Number(s.value||0).toFixed(2):s[u]||0,editable:f,currentUser:t,onUpdate:y=>n(s.id,u,y),format:m},u))})}),mx=({rank:s})=>b.jsx("div",{className:"rank-badge",children:b.jsx("span",{className:"rank-number",children:s})}),px=({name:s})=>b.jsx("div",{className:"player-info",children:b.jsx("h3",{className:"player-name",children:s})}),JE=({playerId:s,fame:t,currentUser:n,onUpdate:r})=>{const o=nt.useRef(null),u=nt.useRef(null),[f,m]=nt.useState(!1);nt.useLayoutEffect(()=>{const g=()=>{if(o.current&&u.current){const E=u.current.scrollWidth>o.current.offsetWidth;m(E),E&&(u.current.style.setProperty("--container-width",`${o.current.offsetWidth}px`),u.current.style.animation="none",requestAnimationFrame(()=>{u.current.style.animation=""}))}};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[t]);const y=()=>t?f?`${t}`:t:"";return b.jsx("div",{className:"player-fame-container",ref:o,children:n?b.jsx("input",{type:"text",className:"player-fame fame-input",value:t||"",onChange:g=>r(s,g.target.value),onClick:g=>g.stopPropagation(),placeholder:"Enter fame..."}):t&&b.jsx("p",{ref:u,className:`player-fame ${f?"scrolling":""}`,children:y()})})},gx=({points:s,value:t,rankColor:n})=>b.jsxs("div",{className:"player-points",children:[b.jsxs("div",{className:"points-group",children:[b.jsx("span",{className:`points-value ${n}`,children:Math.round(s||0)}),b.jsx("span",{className:"points-label",children:"Points"})]}),b.jsxs("div",{className:"value-group",children:[b.jsx("span",{className:`points-value ${n}`,children:Number(t||0).toFixed(2)}),b.jsx("span",{className:"points-label",children:"Value"})]})]}),yx=({player:s,rank:t,rankColor:n,isExpanded:r,onToggle:o,currentUser:u,onUpdateField:f,onUpdateFame:m,statsConfig:y})=>{const g=E=>{!E.target.closest(".stat-controls")&&!E.target.closest(".fame-input")&&o(s.id)};return b.jsxs("div",{className:`ranking-item ${n} ${r?"expanded":""}`,onClick:g,children:[b.jsxs("div",{className:"ranking-item-main",children:[b.jsx(mx,{rank:t}),b.jsx(px,{name:s.name}),!r&&b.jsx(JE,{playerId:s.id,fame:s.fame,currentUser:u,onUpdate:m}),b.jsx(gx,{points:s.points,value:s.value,rankColor:n})]}),r&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"ranking-fame-expanded",children:b.jsx(JE,{playerId:s.id,fame:s.fame,currentUser:u,onUpdate:m})}),b.jsx(dx,{player:s,currentUser:u,onUpdateField:f,statsConfig:y})]})]})},WE={1:"rank-gold",2:"rank-silver",3:"rank-bronze",default:"rank-default"},_x=[{label:"Winrate",field:"winrate",editable:!1,format:s=>`${s}%`},{label:"Matches",field:"matches",editable:!1},{label:"Wins",field:"wins",editable:!0},{label:"Losses",field:"losses",editable:!0},{label:"Draws",field:"draws",editable:!0},{label:"Bonus 5 Goal",field:"bonus5goal",editable:!0}],tT=(s,t)=>{const n=s.matches||0,r=t.matches||0,o=s.points||0,u=t.points||0,f=s.value||0,m=t.value||0;return n===0&&r>0?1:r===0&&n>0?-1:u!==o?u-o:n!==r?n-r:m-f},vx=s=>{const t=[];let n=1,r=0;s.forEach((m,y)=>{y>0&&s[y-1].matches>0&&m.points===s[y-1].points&&m.matches===s[y-1].matches&&m.value===s[y-1].value?t.push(n):m.matches>0?(n=r+1,t.push(n),r++):t.push(null)});const o=t.filter(m=>m!==null),f=(o.length>0?Math.max(...o):0)+1;return t.map(m=>m===null?f:m)},Ex=s=>WE[s]||WE.default,Tx=()=>b.jsx("div",{className:"ranking-container",children:b.jsxs("div",{className:"loading-state",children:[b.jsx("div",{className:"loading-spinner"}),b.jsx("p",{children:"Loading rankings..."})]})}),Sx=()=>b.jsx("div",{className:"ranking-container",children:b.jsx("div",{className:"empty-state",children:b.jsx("p",{children:"No players found for this season."})})});function Ax(){const{selectedSeason:s}=hu(),{currentUser:t}=Qh(),[n,r]=nt.useState([]),[o,u]=nt.useState(!0),[f,m]=nt.useState(null);nt.useEffect(()=>{if(!s)return;(async()=>{u(!0);try{const G=(await tu(Wl(In,`seasons/${s}/players`))).docs.map(W=>({id:W.id,...W.data()})).sort(tT);r(G),m(null)}catch(P){console.error("Error loading players:",P)}u(!1)})()},[s]);const y=nt.useCallback(async(R,P,G)=>{const W=n.find(ut=>ut.id===R);if(!W)return;const Q=Math.max(0,(W[P]||0)+G),at={...W,[P]:Q},pt=QS(at.wins,at.draws,at.losses,at.bonus5goal);r(ut=>ut.map(St=>St.id===R?{...St,[P]:Q,...pt}:St).sort(tT));try{await jm(nr(In,`seasons/${s}/players/${R}`),{[P]:Q,...pt,value:Number(pt.value)})}catch(ut){console.error("Error updating player:",ut)}},[n,s]),g=nt.useCallback(async(R,P)=>{r(G=>G.map(W=>W.id===R?{...W,fame:P}:W));try{await jm(nr(In,`seasons/${s}/players/${R}`),{fame:P})}catch(G){console.error("Error updating fame:",G)}},[s]),E=nt.useCallback(R=>{m(P=>P===R?null:R)},[]);if(o)return b.jsx(Tx,{});if(n.length===0)return b.jsx(Sx,{});const A=vx(n);return b.jsxs("div",{className:"ranking-container",children:[b.jsx("h1",{className:"section-title",children:"FootballSanci"}),b.jsx("div",{className:"ranking-list",children:n.map((R,P)=>{const G=A[P],W=Ex(G);return b.jsx(yx,{player:R,rank:G,rankColor:W,isExpanded:f===R.id,onToggle:E,currentUser:t,onUpdateField:y,onUpdateFame:g,statsConfig:_x},R.id)})})]})}const bx=["Fit Five","Halle"],eT=.1,wx=0,nT=s=>String(s).padStart(2,"0"),XS=s=>`${s.getFullYear()}-${nT(s.getMonth()+1)}-${nT(s.getDate())}`,Rx=()=>XS(new Date),Ix=()=>{const s=new Date,t=(6-s.getDay())%7||7,n=new Date(s);return n.setDate(s.getDate()+t),XS(n)},xl=({label:s,icon:t,children:n})=>b.jsxs("div",{className:"match-row",children:[t&&b.jsx("span",{className:"match-row-icon",children:t}),b.jsxs("label",{children:[s,":"]}),n]}),Cx=({value:s,onChange:t})=>b.jsxs("div",{className:"gapLimit-control",children:[b.jsx("button",{type:"button","aria-label":"Decrease gapLimit",onClick:()=>{const n=Number(s)||0;t(Math.max(wx,+(n-eT).toFixed(2)))},children:""}),b.jsx("span",{children:Number(s).toFixed(2)}),b.jsx("button",{type:"button","aria-label":"Increase gapLimit",onClick:()=>{const n=Number(s)||0;t(+(n+eT).toFixed(2))},children:"+"})]}),Nx=({title:s,children:t})=>b.jsxs("div",{className:"match-box",children:[s&&b.jsx("h3",{className:"section-title section-title--compact",children:s}),b.jsx("div",{className:"match-section",children:t})]}),Dx=({matchDetails:s,onChange:t,selectedCount:n=0,totalCount:r=0,onGenerate:o=()=>{},disabled:u=!1})=>{const f=nt.useMemo(Ix,[]),m=nt.useMemo(Rx,[]),y=nt.useRef(!1);return nt.useEffect(()=>{if(y.current)return;const g=s?.date;(!g||g===m)&&t("date",f),y.current=!0},[s,m,f,t]),b.jsxs(Nx,{title:"Next Match",children:[b.jsx(xl,{label:"Date",icon:"",children:b.jsx("input",{type:"date",value:s.date||f,onChange:g=>t("date",g.target.value)})}),b.jsx(xl,{label:"Start",icon:"",children:b.jsx("input",{type:"time",value:s.startTime,onChange:g=>t("startTime",g.target.value)})}),b.jsx(xl,{label:"End",icon:"",children:b.jsx("input",{type:"time",value:s.endTime,onChange:g=>t("endTime",g.target.value)})}),b.jsx(xl,{label:"Location",icon:"",children:b.jsx("select",{value:s.location,onChange:g=>t("location",g.target.value),children:bx.map(g=>b.jsx("option",{value:g,children:g},g))})}),b.jsx(xl,{label:"Gap limit",icon:"",children:b.jsx(Cx,{value:s.gapLimit,onChange:g=>t("gapLimit",g)})}),b.jsxs("div",{className:"generate-section",children:[b.jsxs("div",{className:"selected-counter",children:[b.jsx("span",{className:"selected-counter-number",children:n})," ","/ ",r," selected players"]}),b.jsx("button",{className:"generate-button",onClick:o,disabled:u,children:"Generate Teams"})]})]})},xx=({player:s,isSelected:t,onToggle:n})=>b.jsxs("button",{className:`player-card ${t?"selected":""}`,onClick:n,"aria-pressed":t,children:[b.jsx("h4",{className:"player-card-name",children:s.name}),b.jsx("span",{className:"player-card-value",children:Number(s.value||0).toFixed(2)})]}),Ox=({onAdd:s})=>{const[t,n]=nt.useState(""),[r,o]=nt.useState(""),[u,f]=nt.useState(!1),m=nt.useRef(null);nt.useEffect(()=>{u&&m.current&&setTimeout(()=>{m.current.scrollIntoView({behavior:"smooth",block:"center"})},300)},[u]);const y=()=>{const E=r.replace(",","."),A=parseFloat(E);if(t.trim()&&!isNaN(A)&&A>=0){const R=Number(A.toFixed(2));s({id:`temp-${Date.now()}`,name:t.trim(),value:R,isTemporary:!0}),n(""),o(""),f(!1)}},g=(E,A)=>{E.key==="Enter"&&(A==="name"&&t.trim()?document.getElementById("temp-value-input")?.focus():A==="value"&&y())};return u?b.jsxs("div",{ref:m,className:"player-card temp-player-card-form",children:[b.jsx("input",{type:"text",className:"temp-player-input temp-player-name",placeholder:"Name",value:t,onChange:E=>n(E.target.value),onKeyPress:E=>g(E,"name"),autoFocus:!0}),b.jsx("input",{id:"temp-value-input",type:"text",inputMode:"decimal",className:"temp-player-input temp-player-value",placeholder:"Value",value:r,onChange:E=>{const A=E.target.value.replace(/[^0-9.,]/g,"");o(A)},onKeyDown:E=>{!/[0-9.,]/.test(E.key)&&E.key!=="Backspace"&&E.key!=="Delete"&&E.key!=="ArrowLeft"&&E.key!=="ArrowRight"&&E.key!=="Tab"&&E.preventDefault()},onKeyPress:E=>g(E,"value"),step:"0.1",min:"0"}),b.jsx("div",{className:"temp-player-actions",children:b.jsx("button",{className:"temp-player-btn temp-player-add",onClick:y,disabled:!t.trim()||!r||isNaN(parseFloat(r)),children:""})})]}):b.jsxs("button",{className:"player-card temp-player-card-trigger",onClick:()=>f(!0),children:[b.jsx("h4",{className:"player-card-name",children:"Temp Player"}),b.jsx("span",{className:"player-card-value",children:"+"})]})},Mx=({players:s,selectedPlayers:t,onToggle:n,onAddTemp:r})=>b.jsxs("div",{className:"players-grid",children:[s.map(o=>b.jsx(xx,{player:o,isSelected:t.some(u=>u.id===o.id),onToggle:()=>n(o)},o.id)),b.jsx(Ox,{onAdd:r})]}),Vx=s=>s.reduce((t,n)=>t+(Number(n.value)||0),0),iT=(s,t)=>{if(!s||!t)return null;const[n,r,o]=(s||"").split("-").map(Number),[u,f]=(t||"").split(":").map(Number);return[n,r,o,u,f].every(m=>Number.isFinite(m))?new Date(o,r-1,n,u,f,0,0):null},Ja=s=>String(s).padStart(2,"0"),sT=s=>{s<0&&(s=0);const t=Math.floor(s/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),o=Math.floor(t%3600/60),u=t%60;return n>0?`${n}d ${Ja(r)}:${Ja(o)}:${Ja(u)}`:`${Ja(r)}:${Ja(o)}:${Ja(u)}`},kx=s=>{const t=iT(s?.date,s?.startTime),n=iT(s?.date,s?.endTime),[r,o]=nt.useState(()=>Date.now());return nt.useEffect(()=>{const u=setInterval(()=>o(Date.now()),1e3);return()=>clearInterval(u)},[s?.date,s?.startTime,s?.endTime]),!t||!n?{phase:"invalid",text:""}:r<t.getTime()?{phase:"before",text:`${sT(t.getTime()-r)}`}:r>=t.getTime()&&r<n.getTime()?{phase:"during",text:`${sT(n.getTime()-r)}`}:{phase:"after",text:"Finished"}},Lx=({matchData:s,Timer:t,teamTotals:n})=>{if(!s)return b.jsx("div",{className:"match-details-card",children:b.jsx("div",{className:"match-details-empty",children:"No match info available."})});const{phase:r,text:o}=t,u=s.startTime&&s.endTime?`${s.startTime} - ${s.endTime}`:s.startTime||"",f=s.valueDifference!==void 0?Number(s.valueDifference).toFixed(2):"",m=n?.[0],y=n?.[1];return b.jsxs("div",{className:"match-details-card",children:[b.jsx("h3",{className:"section-title section-title--compact",children:"Live Draw"}),b.jsxs("div",{className:"match-details-grid",children:[b.jsxs("div",{className:`match-details-item Timer-${r}`,children:[b.jsx("span",{className:"match-details-icon",children:""}),b.jsxs("div",{className:"match-details-text",children:[b.jsx("span",{className:"match-details-label",children:"Timer"}),b.jsx("span",{className:"match-details-value match-details-value--Timer",children:o})]})]}),b.jsxs("div",{className:"match-details-item",children:[b.jsx("span",{className:"match-details-icon",children:""}),b.jsxs("div",{className:"match-details-text",children:[b.jsx("span",{className:"match-details-label",children:"Location"}),b.jsx("span",{className:"match-details-value",children:s.location})]})]}),b.jsxs("div",{className:"match-details-item",children:[b.jsx("span",{className:"match-details-icon",children:""}),b.jsxs("div",{className:"match-details-text",children:[b.jsx("span",{className:"match-details-label",children:"Date"}),b.jsx("span",{className:"match-details-value",children:s.date})]})]}),b.jsxs("div",{className:"match-details-item",children:[b.jsx("span",{className:"match-details-icon",children:""}),b.jsxs("div",{className:"match-details-text",children:[b.jsx("span",{className:"match-details-label",children:"Time"}),b.jsx("span",{className:"match-details-value",children:u})]})]}),b.jsxs("div",{className:"match-details-item",children:[b.jsx("span",{className:"match-details-icon",children:""}),b.jsxs("div",{className:"match-details-text",children:[b.jsx("span",{className:"match-details-label",children:"Gap limit"}),b.jsx("span",{className:"match-details-value",children:s.gapLimit})]})]}),b.jsxs("div",{className:"match-details-item",children:[b.jsx("span",{className:"match-details-icon",children:""}),b.jsxs("div",{className:"match-details-text",children:[b.jsx("span",{className:"match-details-label",children:"Value diff"}),b.jsx("span",{className:"match-details-value",children:f})]})]}),b.jsxs("div",{className:"match-details-item",children:[b.jsx("span",{className:"match-details-icon",children:""}),b.jsxs("div",{className:"match-details-text",children:[b.jsx("span",{className:"match-details-label",children:"Value T1"}),b.jsx("span",{className:"match-details-value",children:m!=null?m.toFixed(2):""})]})]}),b.jsxs("div",{className:"match-details-item",children:[b.jsx("span",{className:"match-details-icon",children:""}),b.jsxs("div",{className:"match-details-text",children:[b.jsx("span",{className:"match-details-label",children:"Value T2"}),b.jsx("span",{className:"match-details-value",children:y!=null?y.toFixed(2):""})]})]})]})]})},Px=({team:s,index:t})=>b.jsxs("div",{className:`team-card team-${t+1}`,children:[b.jsx("div",{className:"team-header",children:b.jsxs("h3",{className:"team-title",children:["Team ",t+1]})}),b.jsx("ul",{className:"team-players",children:s.map(n=>b.jsxs("li",{className:"team-player-item",children:[b.jsx("span",{className:"team-player-name",children:n.name}),b.jsx("span",{className:"team-player-value",children:Number(n.value).toFixed(2)})]},n.name))})]}),Ux=({scoreTeam1:s,scoreTeam2:t,onChange:n})=>b.jsxs("div",{className:"score-input-wrapper",children:[b.jsx("input",{type:"number",min:"0",value:s,onChange:r=>n("scoreTeam1",r.target.value),className:"score-input score-input-team1"}),b.jsx("span",{className:"score-separator",children:"-"}),b.jsx("input",{type:"number",min:"0",value:t,onChange:r=>n("scoreTeam2",r.target.value),className:"score-input score-input-team2"})]}),zx=({scoreTeam1:s,scoreTeam2:t,onScoreChange:n,onSave:r,disabled:o})=>b.jsxs("div",{className:"save-match-section",children:[b.jsx(Ux,{scoreTeam1:s,scoreTeam2:t,onChange:n}),b.jsx("button",{className:"generate-button",onClick:r,disabled:o,children:"Save Match"})]}),jx=({teams:s,matchData:t,scoreTeam1:n,scoreTeam2:r,onScoreChange:o,onSaveMatch:u,currentUser:f})=>{const m=kx(t||{}),y=nt.useMemo(()=>s.map(E=>Vx(E)),[s]),g=[t?.team1TotalValue??y[0],t?.team2TotalValue??y[1]];return b.jsxs("div",{className:"teams-wrapper",children:[b.jsx(Lx,{matchData:t,Timer:m,teamTotals:g}),b.jsx("div",{className:"teams-container",children:s.map((E,A)=>b.jsx(Px,{team:E,index:A},A))}),f&&b.jsx(zx,{scoreTeam1:n,scoreTeam2:r,onScoreChange:o,onSave:u,disabled:!1})]})};function rT(s){const t=s?.match(/\d+/);return t?Number(t[0]):NaN}const Bx={date:new Date().toISOString().split("T")[0],startTime:"21:00",endTime:"22:00",location:"Fit Five",gapLimit:1},Hx=s=>{const t=new Date(s),n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getFullYear());return`${n}-${r}-${o}`},Wa=s=>s.reduce((t,n)=>t+(Number(n.value)||0),0);function qx(){const{selectedSeason:s}=hu(),{currentUser:t}=Qh(),[n,r]=nt.useState([]),[o,u]=nt.useState([]),[f,m]=nt.useState([]),[y,g]=nt.useState(!0),[E,A]=nt.useState(Bx),[R,P]=nt.useState(null),[G,W]=nt.useState(0),[Q,at]=nt.useState(0),pt=nt.useRef(null),ut=nt.useRef(!1),St=nt.useCallback(async()=>{if(s){g(!0);try{if(t){const rt=(await tu(Wl(In,"seasons"))).docs.map(et=>rT(et.id)).filter(et=>!isNaN(et)).sort((et,ft)=>et-ft),vt=rt[rt.length-1],It=rT(s),x=It===vt?vt-1:It,it=(await tu(Wl(In,`seasons/Season ${x}/players`))).docs.map(et=>({id:et.id,...et.data()}));r(it)}const bt=nr(In,`seasons/${s}/matches/Live`),B=await zm(bt);if(B.exists()){const Z=B.data();if(Z.gapLimit===void 0&&Z.gap!==void 0&&(Z.gapLimit=Z.gap),Z.team1&&Z.team2){if(Z.team1TotalValue===void 0){const rt=Wa(Z.team1);Z.team1TotalValue=Number(rt.toFixed(2))}if(Z.team2TotalValue===void 0){const rt=Wa(Z.team2);Z.team2TotalValue=Number(rt.toFixed(2))}}m([Z.team1,Z.team2]),P(Z),W(Z.scoreTeam1||0),at(Z.scoreTeam2||0)}else m([]),P(null),W(0),at(0)}catch(bt){console.error("Error loading:",bt)}g(!1)}},[s,t]);nt.useEffect(()=>{St()},[St]),nt.useEffect(()=>{ut.current&&f.length===2&&(setTimeout(()=>{pt.current&&pt.current.scrollIntoView({behavior:"smooth"})},120),ut.current=!1)},[f]);const Bt=nt.useCallback(bt=>{r(B=>[...B,bt]),u(B=>[...B,bt])},[]),xt=nt.useCallback(bt=>{u(B=>B.some(Z=>Z.id===bt.id)?B.filter(Z=>Z.id!==bt.id):[...B,bt])},[]),D=nt.useCallback(bt=>{const B=bt.map(K=>({...K,value:Number(K.value)||0})),Z=Number(E.gapLimit)||0;let rt=[],vt=[],It=1/0;const x=B.length<=10?1e3:500;for(let K=0;K<x;K++){const it=[...B].sort(()=>Math.random()-.5),et=[],ft=[];it.forEach((Yt,Nn)=>{(Nn%2===0?et:ft).push(Yt)});const gt=Wa(et),_t=Wa(ft),Zt=Math.abs(gt-_t);if(Zt<=Z)return[et,ft];Zt<It&&(It=Zt,rt=et,vt=ft)}if(rt.length===0||vt.length===0){const K=Math.ceil(B.length/2);return[B.slice(0,K),B.slice(K)]}return[rt,vt]},[E.gapLimit]),w=nt.useCallback(async()=>{if(o.length<2){console.warn("Not enough players to generate teams");return}const bt=[...o],[B,Z]=D(bt),rt=Wa(B),vt=Wa(Z),It=Math.abs(rt-vt);m([B,Z]),W(0),at(0);try{const x=Hx(E.date),K=nr(In,`seasons/${s}/matches/Live`),it={team1:B.map(et=>({name:et.name,value:Number(et.value||0).toFixed(2)})),team2:Z.map(et=>({name:et.name,value:Number(et.value||0).toFixed(2)})),team1TotalValue:Number(rt.toFixed(2)),team2TotalValue:Number(vt.toFixed(2)),date:x,startTime:E.startTime,endTime:E.endTime,location:E.location,gapLimit:Number(E.gapLimit).toFixed(2),valueDifference:Number(It.toFixed(2)),scoreTeam1:0,scoreTeam2:0};await qE(K,it),P(it)}catch(x){console.error("Error writing live match:",x)}},[o,E,s,D]),N=nt.useCallback(()=>{o.length<2||(ut.current=!0,w())},[o,w]),V=nt.useCallback((bt,B)=>{const Z=Number(B)||0;bt==="scoreTeam1"?W(Z):at(Z)},[]),M=nt.useCallback(async()=>{if(R)try{const bt=R.date,B=nr(In,`seasons/${s}/matches/${bt}`),Z={...R,scoreTeam1:G,scoreTeam2:Q};await qE(B,Z);const rt=Number(G),vt=Number(Q),It=R.team1||[],x=R.team2||[];let K="draw";rt>vt&&(K="team1"),vt>rt&&(K="team2");const it=Math.abs(rt-vt),et=K==="draw"?0:Math.floor(it/5),ft=async(_t,Zt)=>{const Yt=nr(In,`seasons/${s}/players/${_t}`),Nn=await zm(Yt);if(!Nn.exists())return;const Kn=Nn.data(),Bi=(Kn.wins||0)+(Zt.winDelta||0),Hi=(Kn.draws||0)+(Zt.drawDelta||0),yn=(Kn.losses||0)+(Zt.lossDelta||0),gs=(Kn.bonus5goal||0)+(Zt.bonusDelta||0),qi=QS(Bi,Hi,yn,gs);await jm(Yt,{wins:Bi,draws:Hi,losses:yn,bonus5goal:gs,...qi,lastMatchDate:bt})},gt=[];K==="draw"?(It.forEach(_t=>gt.push(ft(_t.name,{drawDelta:1}))),x.forEach(_t=>gt.push(ft(_t.name,{drawDelta:1})))):K==="team1"?(It.forEach(_t=>gt.push(ft(_t.name,{winDelta:1,bonusDelta:et}))),x.forEach(_t=>gt.push(ft(_t.name,{lossDelta:1})))):(x.forEach(_t=>gt.push(ft(_t.name,{winDelta:1,bonusDelta:et}))),It.forEach(_t=>gt.push(ft(_t.name,{lossDelta:1})))),await Promise.all(gt),await FN(nr(In,`seasons/${s}/matches/Live`)),m([]),P(null),u([]),W(0),at(0)}catch(bt){console.error("Error saving match:",bt)}},[R,G,Q,s]),L=nt.useCallback((bt,B)=>{A(Z=>{let rt=B;if(bt==="gapLimit"){const vt=(B??"").toString();rt=(parseFloat(vt.replace(",","."))||0).toFixed(2)}return{...Z,[bt]:rt}})},[]);if(y)return b.jsx("div",{className:"draw-container"});const I=f.length===2,ie=o.length>=2;return b.jsxs("div",{className:"draw-container",children:[t&&b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"section-title",children:"Live Draw"}),n.length>0&&b.jsx(Mx,{players:n,selectedPlayers:o,onToggle:xt,onAddTemp:Bt}),b.jsx(Dx,{matchDetails:E,onChange:L,selectedCount:o.length,totalCount:n.length,onGenerate:N,disabled:!ie})]}),I&&b.jsx("div",{ref:pt,children:b.jsx(jx,{teams:f,matchData:R,scoreTeam1:G,scoreTeam2:Q,onScoreChange:V,onSaveMatch:M,currentUser:t})}),!t&&!I&&b.jsxs("div",{className:"empty-state",children:[b.jsx("div",{className:"empty-state-icon",children:""}),b.jsx("p",{children:"No live match available. Check back soon!"})]})]})}function Fx(){const{selectedSeason:s}=hu(),[t,n]=nt.useState([]),[r,o]=nt.useState(!0);return nt.useEffect(()=>{if(!s)return;(async()=>{o(!0);try{const m=(await tu(Wl(In,`seasons/${s}/matches`))).docs.map(y=>({id:y.id,...y.data()}));m.sort((y,g)=>(g.date||"").localeCompare(y.date||"")),n(m)}catch(f){console.error("Erreur chargement matchs:",f)}o(!1)})()},[s]),r?b.jsx("p",{children:"Loading"}):t.length===0?b.jsx("p",{children:"No matches found."}):b.jsxs("div",{style:{padding:"1rem"},children:[b.jsx("h2",{children:"Match History"}),b.jsx("ul",{style:{listStyle:"none",padding:0},children:t.map(u=>b.jsxs("li",{style:{padding:"10px",marginBottom:"8px",border:"1px solid #444",borderRadius:"6px"},children:[b.jsx("strong",{children:"Date:"})," ",u.date," ",b.jsx("br",{}),b.jsx("strong",{children:"Start:"})," ",u.startTime," ",b.jsx("br",{}),b.jsx("strong",{children:"End:"})," ",u.endTime," ",b.jsx("br",{}),b.jsx("strong",{children:"Location:"})," ",u.location," ",b.jsx("br",{}),b.jsx("strong",{children:"Team A:"})," ",u.teamA?.join(", ")," ",b.jsx("br",{}),b.jsx("strong",{children:"Team B:"})," ",u.teamB?.join(", ")]},u.id))})]})}function Gx(){const s=["Play with intensity and purpose so every action lifts the entire team's level.","Scan constantly before receiving so your next decision is faster than pressure.","Attack open spaces early to force defenders into choices they do not control.","Keep your body shape ready so every touch moves you forward with confidence.","Stay compact defensively so the team controls space instead of chasing it.","Use your weaker foot boldly because unpredictability wins tight situations.","Accelerate after passing to create overloads and stretch opponents out wide.","Protect the ball smartly by using angles instead of relying only on strength.","Press with intelligence so you cut passing lanes before the ball even arrives.","Master your first touch because it decides whether you stay marked or escape.","React instantly in transitions since the quickest players shape the outcome.","Lead through effort and discipline so your consistency inspires teammates.","Keep your head active so you anticipate danger before opponents even react.","Play forward whenever possible so your team stays aggressive and unpredictable.","Win midfield duels through positioning first, then through controlled intensity.","Time your movements so runs create spaces instead of colliding with teammates.","Stay patient in possession so you choose the best option, not the fastest one.","Hold your defensive line with discipline to trap opponents facing the wrong way.","Use clean body orientation so you stay open to both the ball and the next action.","Communicate constantly because silent teams lose half a second on every play.","Exploit weak sides by switching play quickly and forcing defenders to rotate.","Recover your position fast after pressing so your structure stays unbroken.","Attack crosses with conviction because hesitation kills goal opportunities.","Protect central areas first so opponents are forced into predictable wide zones.","Keep the ball moving at tempo to unbalance teams that defend in tight blocks.","Stay brave in duels by controlling your approach instead of diving recklessly.","Use double movements to lose markers and create separation before receiving.","Stay focused after mistakes so you recover immediately instead of dwelling on it.","Support teammates early so the ball carrier always has at least two options.","Exploit transition moments instantly because defenses need time to reorganize.","Stay calm under pressure and let technique guide your decisions, not panic.","Close passing lanes with small steps so attackers lose rhythm and creativity."],t=g=>{const E=[...g];for(let A=E.length-1;A>0;A--){const R=Math.floor(Math.random()*(A+1));[E[A],E[R]]=[E[R],E[A]]}return E},[n,r]=nt.useState(t(s)),[o,u]=nt.useState(0),[f,m]=nt.useState(!0);nt.useEffect(()=>{const g=setInterval(()=>{m(!1),setTimeout(()=>{o===n.length-1?(r(t(s)),u(0)):u(o+1),m(!0)},450)},5e3);return()=>clearInterval(g)},[o,n,s]);const y={marginTop:"40px",textAlign:"center",padding:"10px 20px",fontStyle:"italic",color:"white",fontSize:"var(--font-small)",lineHeight:"1.35",maxWidth:"85vw",marginLeft:"auto",marginRight:"auto",height:"2.7em",overflow:"hidden",opacity:f?1:0,transform:f?"translateY(0px)":"translateY(4px)",transition:"opacity 0.45s ease, transform 0.45s ease",textShadow:f?"0 0 8px rgba(16,185,129,0.35), 0 0 12px rgba(16,185,129,0.25)":"none"};return b.jsxs("div",{style:y,children:[" ",n[o]]})}const aT="fs_access_code_ok_v3";async function oT(s){const n=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(u=>u.toString(16).padStart(2,"0")).join("")}function Kx(){const[s,t]=nt.useState(!1),[n,r]=nt.useState(""),[o,u]=nt.useState(""),[f,m]=nt.useState(!1),[y,g]=nt.useState(null),[E,A]=nt.useState(!0);if(nt.useEffect(()=>{(async()=>{try{localStorage.getItem(aT)||t(!0)}catch{t(!0)}try{const W=await zm(nr(In,"access","hash"));if(W.exists()){const Q=W.data();if(Q&&Q.hash)g(String(Q.hash));else if(Q&&Q.code){const at=await oT(String(Q.code));g(at)}}else console.error("Access code document not found in Firestore")}catch(W){console.error("Error fetching access code from Firestore",W)}finally{A(!1)}})()},[]),!s)return null;const R=async()=>{if(u(""),!!n){if(!y){u("Access configuration is not available. Please try again later.");return}m(!0);try{if(await oT(n)===y){try{localStorage.setItem(aT,"true")}catch{}t(!1),r(""),u("")}else u("Incorrect code. Please contact the manager.")}finally{m(!1)}}},P=G=>{G.key==="Enter"&&n&&!f&&!E&&R()};return b.jsx("div",{style:qn.overlay,children:b.jsxs("div",{style:qn.modal,onClick:G=>G.stopPropagation(),children:[b.jsxs("div",{style:qn.modalHeader,children:[b.jsx("h2",{style:qn.title,children:"Team Access"}),b.jsx("p",{style:qn.subtitle,children:"Enter the access code to view rankings and matches."})]}),b.jsxs("div",{style:qn.formContainer,children:[b.jsxs("div",{style:qn.inputGroup,children:[b.jsx("label",{style:qn.label,htmlFor:"access-code",children:"Access code"}),b.jsx("input",{id:"access-code",type:"password",inputMode:"numeric",value:n,onChange:G=>r(G.target.value),onKeyPress:P,style:qn.input,placeholder:""})]}),o&&b.jsx("div",{style:qn.error,children:o}),b.jsx("button",{onClick:R,disabled:f||!n||E,style:{...qn.submitButton,...f||!n||E?qn.submitButtonDisabled:{}},children:E?"Loading access...":f?"Checking...":"Enter"})]})]})})}const qn={overlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.9)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2500},modal:{background:"rgba(10,10,10,0.96)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"12px",padding:"32px",width:"92%",maxWidth:"420px",boxShadow:"0 0 40px rgba(16,185,129,0.35)",position:"relative"},modalHeader:{marginBottom:"22px",textAlign:"center"},title:{fontSize:"var(--font-large)",fontWeight:700,color:"#fff",margin:0,textTransform:"uppercase",letterSpacing:"1px"},subtitle:{margin:"8px 0 0",fontSize:"var(--font-small)",color:"rgba(255,255,255,0.7)"},formContainer:{display:"flex",flexDirection:"column",gap:"16px"},inputGroup:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"var(--font-small)",color:"rgba(16,185,129,1)",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},input:{background:"rgba(6,78,59,0.20)",border:"1px solid rgba(16,185,129,0.4)",borderRadius:"8px",padding:"12px 16px",fontSize:"var(--font-normal)",color:"#fff",outline:"none"},error:{background:"rgba(239,68,68,0.15)",border:"1px solid rgba(239,68,68,0.4)",borderRadius:"8px",padding:"10px 14px",color:"rgba(239,68,68,1)",fontSize:"var(--font-small)",textAlign:"center"},submitButton:{marginTop:"4px",padding:"14px 24px",background:"linear-gradient(135deg, rgba(16,185,129,0.4), rgba(6,78,59,0.6))",border:"2px solid rgba(16,185,129,0.7)",borderRadius:"8px",color:"#fff",fontSize:"var(--font-normal)",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 4px 15px rgba(16,185,129,0.3)"},submitButtonDisabled:{opacity:.5,cursor:"not-allowed"}};function Yx(){return b.jsx(ZD,{children:b.jsxs(JD,{children:[b.jsx(Kx,{}),b.jsx(WD,{}),b.jsx(cx,{}),b.jsxs("main",{style:{position:"relative",zIndex:1},children:[b.jsx("section",{id:"ranking",children:b.jsx(Ax,{})}),b.jsx("section",{id:"draw",children:b.jsx(qx,{})}),b.jsx("section",{id:"history",children:b.jsx(Fx,{})}),b.jsx("section",{id:"football-tips",children:b.jsx(Gx,{})})]}),b.jsx(ux,{})]})})}kb.createRoot(document.getElementById("root")).render(b.jsx(nt.StrictMode,{children:b.jsx(Yx,{})}));
