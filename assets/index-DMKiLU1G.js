(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Am={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function $R(){if(kT)return Kl;kT=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Kl.Fragment=t,Kl.jsx=n,Kl.jsxs=n,Kl}var UT;function ZR(){return UT||(UT=1,Am.exports=$R()),Am.exports}var mt=ZR(),bm={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT;function JR(){if(zT)return St;zT=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function M(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,H={};function Q(x,J,at){this.props=x,this.context=J,this.refs=H,this.updater=at||k}Q.prototype.isReactComponent={},Q.prototype.setState=function(x,J){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,J,"setState")},Q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function tt(){}tt.prototype=Q.prototype;function Z(x,J,at){this.props=x,this.context=J,this.refs=H,this.updater=at||k}var rt=Z.prototype=new tt;rt.constructor=Z,G(rt,Q.prototype),rt.isPureReactComponent=!0;var st=Array.isArray;function ot(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(x,J,at){var ut=at.ref;return{$$typeof:i,type:x,key:J,ref:ut!==void 0?ut:null,props:at}}function N(x,J){return C(x.type,J,x.props)}function V(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function L(x){var J={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(at){return J[at]})}var I=/\/+/g;function Wt(x,J){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):J.toString(36)}function ce(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ot,ot):(x.status="pending",x.then(function(J){x.status==="pending"&&(x.status="fulfilled",x.value=J)},function(J){x.status==="pending"&&(x.status="rejected",x.reason=J)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Y(x,J,at,ut,Et){var It=typeof x;(It==="undefined"||It==="boolean")&&(x=null);var Ut=!1;if(x===null)Ut=!0;else switch(It){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(x.$$typeof){case i:case t:Ut=!0;break;case v:return Ut=x._init,Y(Ut(x._payload),J,at,ut,Et)}}if(Ut)return Et=Et(x),Ut=ut===""?"."+Wt(x,0):ut,st(Et)?(at="",Ut!=null&&(at=Ut.replace(I,"$&/")+"/"),Y(Et,J,at,"",function(Tr){return Tr})):Et!=null&&(V(Et)&&(Et=N(Et,at+(Et.key==null||x&&x.key===Et.key?"":(""+Et.key).replace(I,"$&/")+"/")+Ut)),J.push(Et)),1;Ut=0;var xe=ut===""?".":ut+":";if(st(x))for(var ie=0;ie<x.length;ie++)ut=x[ie],It=xe+Wt(ut,ie),Ut+=Y(ut,J,at,It,Et);else if(ie=M(x),typeof ie=="function")for(x=ie.call(x),ie=0;!(ut=x.next()).done;)ut=ut.value,It=xe+Wt(ut,ie++),Ut+=Y(ut,J,at,It,Et);else if(It==="object"){if(typeof x.then=="function")return Y(ce(x),J,at,ut,Et);throw J=String(x),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function et(x,J,at){if(x==null)return x;var ut=[],Et=0;return Y(x,ut,"","",function(It){return J.call(at,It,Et++)}),ut}function ht(x){if(x._status===-1){var J=x._result;J=J(),J.then(function(at){(x._status===0||x._status===-1)&&(x._status=1,x._result=at)},function(at){(x._status===0||x._status===-1)&&(x._status=2,x._result=at)}),x._status===-1&&(x._status=0,x._result=J)}if(x._status===1)return x._result.default;throw x._result}var Ct=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ot={map:et,forEach:function(x,J,at){et(x,function(){J.apply(this,arguments)},at)},count:function(x){var J=0;return et(x,function(){J++}),J},toArray:function(x){return et(x,function(J){return J})||[]},only:function(x){if(!V(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return St.Activity=E,St.Children=Ot,St.Component=Q,St.Fragment=n,St.Profiler=o,St.PureComponent=Z,St.StrictMode=r,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(x){return R.H.useMemoCache(x)}},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(x,J,at){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ut=G({},x.props),Et=x.key;if(J!=null)for(It in J.key!==void 0&&(Et=""+J.key),J)!w.call(J,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&J.ref===void 0||(ut[It]=J[It]);var It=arguments.length-2;if(It===1)ut.children=at;else if(1<It){for(var Ut=Array(It),xe=0;xe<It;xe++)Ut[xe]=arguments[xe+2];ut.children=Ut}return C(x.type,Et,ut)},St.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},St.createElement=function(x,J,at){var ut,Et={},It=null;if(J!=null)for(ut in J.key!==void 0&&(It=""+J.key),J)w.call(J,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(Et[ut]=J[ut]);var Ut=arguments.length-2;if(Ut===1)Et.children=at;else if(1<Ut){for(var xe=Array(Ut),ie=0;ie<Ut;ie++)xe[ie]=arguments[ie+2];Et.children=xe}if(x&&x.defaultProps)for(ut in Ut=x.defaultProps,Ut)Et[ut]===void 0&&(Et[ut]=Ut[ut]);return C(x,It,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:m,render:x}},St.isValidElement=V,St.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:ht}},St.memo=function(x,J){return{$$typeof:g,type:x,compare:J===void 0?null:J}},St.startTransition=function(x){var J=R.T,at={};R.T=at;try{var ut=x(),Et=R.S;Et!==null&&Et(at,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(ot,Ct)}catch(It){Ct(It)}finally{J!==null&&at.types!==null&&(J.types=at.types),R.T=J}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(x){return R.H.use(x)},St.useActionState=function(x,J,at){return R.H.useActionState(x,J,at)},St.useCallback=function(x,J){return R.H.useCallback(x,J)},St.useContext=function(x){return R.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,J){return R.H.useDeferredValue(x,J)},St.useEffect=function(x,J){return R.H.useEffect(x,J)},St.useEffectEvent=function(x){return R.H.useEffectEvent(x)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(x,J,at){return R.H.useImperativeHandle(x,J,at)},St.useInsertionEffect=function(x,J){return R.H.useInsertionEffect(x,J)},St.useLayoutEffect=function(x,J){return R.H.useLayoutEffect(x,J)},St.useMemo=function(x,J){return R.H.useMemo(x,J)},St.useOptimistic=function(x,J){return R.H.useOptimistic(x,J)},St.useReducer=function(x,J,at){return R.H.useReducer(x,J,at)},St.useRef=function(x){return R.H.useRef(x)},St.useState=function(x){return R.H.useState(x)},St.useSyncExternalStore=function(x,J,at){return R.H.useSyncExternalStore(x,J,at)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.0",St}var BT;function Wp(){return BT||(BT=1,bm.exports=JR()),bm.exports}var lt=Wp(),wm={exports:{}},Yl={},Rm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function WR(){return jT||(jT=1,(function(i){function t(Y,et){var ht=Y.length;Y.push(et);t:for(;0<ht;){var Ct=ht-1>>>1,Ot=Y[Ct];if(0<o(Ot,et))Y[Ct]=et,Y[ht]=Ot,ht=Ct;else break t}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var et=Y[0],ht=Y.pop();if(ht!==et){Y[0]=ht;t:for(var Ct=0,Ot=Y.length,x=Ot>>>1;Ct<x;){var J=2*(Ct+1)-1,at=Y[J],ut=J+1,Et=Y[ut];if(0>o(at,ht))ut<Ot&&0>o(Et,at)?(Y[Ct]=Et,Y[ut]=ht,Ct=ut):(Y[Ct]=at,Y[J]=ht,Ct=J);else if(ut<Ot&&0>o(Et,ht))Y[Ct]=Et,Y[ut]=ht,Ct=ut;else break t}}return et}function o(Y,et){var ht=Y.sortIndex-et.sortIndex;return ht!==0?ht:Y.id-et.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,E=null,A=3,M=!1,k=!1,G=!1,H=!1,Q=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function rt(Y){for(var et=n(g);et!==null;){if(et.callback===null)r(g);else if(et.startTime<=Y)r(g),et.sortIndex=et.expirationTime,t(p,et);else break;et=n(g)}}function st(Y){if(G=!1,rt(Y),!k)if(n(p)!==null)k=!0,ot||(ot=!0,L());else{var et=n(g);et!==null&&ce(st,et.startTime-Y)}}var ot=!1,R=-1,w=5,C=-1;function N(){return H?!0:!(i.unstable_now()-C<w)}function V(){if(H=!1,ot){var Y=i.unstable_now();C=Y;var et=!0;try{t:{k=!1,G&&(G=!1,tt(R),R=-1),M=!0;var ht=A;try{e:{for(rt(Y),E=n(p);E!==null&&!(E.expirationTime>Y&&N());){var Ct=E.callback;if(typeof Ct=="function"){E.callback=null,A=E.priorityLevel;var Ot=Ct(E.expirationTime<=Y);if(Y=i.unstable_now(),typeof Ot=="function"){E.callback=Ot,rt(Y),et=!0;break e}E===n(p)&&r(p),rt(Y)}else r(p);E=n(p)}if(E!==null)et=!0;else{var x=n(g);x!==null&&ce(st,x.startTime-Y),et=!1}}break t}finally{E=null,A=ht,M=!1}et=void 0}}finally{et?L():ot=!1}}}var L;if(typeof Z=="function")L=function(){Z(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Wt=I.port2;I.port1.onmessage=V,L=function(){Wt.postMessage(null)}}else L=function(){Q(V,0)};function ce(Y,et){R=Q(function(){Y(i.unstable_now())},et)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var et=3;break;default:et=A}var ht=A;A=et;try{return Y()}finally{A=ht}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(Y,et){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ht=A;A=Y;try{return et()}finally{A=ht}},i.unstable_scheduleCallback=function(Y,et,ht){var Ct=i.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ct+ht:Ct):ht=Ct,Y){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=ht+Ot,Y={id:v++,callback:et,priorityLevel:Y,startTime:ht,expirationTime:Ot,sortIndex:-1},ht>Ct?(Y.sortIndex=ht,t(g,Y),n(p)===null&&Y===n(g)&&(G?(tt(R),R=-1):G=!0,ce(st,ht-Ct))):(Y.sortIndex=Ot,t(p,Y),k||M||(k=!0,ot||(ot=!0,L()))),Y},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(Y){var et=A;return function(){var ht=A;A=et;try{return Y.apply(this,arguments)}finally{A=ht}}}})(Cm)),Cm}var HT;function tC(){return HT||(HT=1,Rm.exports=WR()),Rm.exports}var Im={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function eC(){if(FT)return Je;FT=1;var i=Wp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Je.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Je.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},Je.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Je.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Je.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:M}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Je.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Je.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Je.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Je.requestFormReset=function(p){r.d.r(p)},Je.unstable_batchedUpdates=function(p,g){return p(g)},Je.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Je.useFormStatus=function(){return c.H.useHostTransitionStatus()},Je.version="19.2.0",Je}var qT;function nC(){if(qT)return Im.exports;qT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Im.exports=eC(),Im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function iC(){if(GT)return Yl;GT=1;var i=tC(),t=Wp(),n=nC();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function g(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case Q:return"Profiler";case H:return"StrictMode";case st:return"Suspense";case ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case Z:return e.displayName||"Context";case tt:return(e._context.displayName||"Context")+".Consumer";case rt:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return s=e.displayName||null,s!==null?s:Wt(e.type)||"Memo";case w:s=e._payload,e=e._init;try{return Wt(e(s))}catch{}}return null}var ce=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ct=[],Ot=-1;function x(e){return{current:e}}function J(e){0>Ot||(e.current=Ct[Ot],Ct[Ot]=null,Ot--)}function at(e,s){Ot++,Ct[Ot]=e.current,e.current=s}var ut=x(null),Et=x(null),It=x(null),Ut=x(null);function xe(e,s){switch(at(It,s),at(Et,e),at(ut,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?aT(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=aT(s),e=oT(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ut),at(ut,e)}function ie(){J(ut),J(Et),J(It)}function Tr(e){e.memoizedState!==null&&at(Ut,e);var s=ut.current,a=oT(s,e.type);s!==a&&(at(Et,e),at(ut,a))}function pa(e){Et.current===e&&(J(ut),J(Et)),Ut.current===e&&(J(Ut),Hl._currentValue=ht)}var ga,ya;function li(e){if(ga===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ga=s&&s[1]||"",ya=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ga+e+ya}var Ho=!1;function Er(e,s){if(!e||Ho)return"";Ho=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var j=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){j=q}e.call($.prototype)}}else{try{throw Error()}catch(q){j=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),B=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var K=`
`+D[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=f);break}}}finally{Ho=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?li(a):""}function Fo(e,s){switch(e.tag){case 26:case 27:case 5:return li(e.type);case 16:return li("Lazy");case 13:return e.child!==s&&s!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return Er(e.type,!1);case 11:return Er(e.type.render,!1);case 1:return Er(e.type,!0);case 31:return li("Activity");default:return""}}function qo(e){try{var s="",a=null;do s+=Fo(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Pe=i.unstable_scheduleCallback,ys=i.unstable_cancelCallback,wf=i.unstable_shouldYield,Lu=i.unstable_requestPaint,rn=i.unstable_now,Sr=i.unstable_getCurrentPriorityLevel,Go=i.unstable_ImmediatePriority,Ko=i.unstable_UserBlockingPriority,vs=i.unstable_NormalPriority,Rf=i.unstable_LowPriority,ku=i.unstable_IdlePriority,Uu=i.log,zu=i.unstable_setDisableYieldValue,Kn=null,Fe=null;function In(e){if(typeof Uu=="function"&&zu(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Kn,e)}catch{}}var me=Math.clz32?Math.clz32:ju,Bu=Math.log,va=Math.LN2;function ju(e){return e>>>=0,e===0?32:31-(Bu(e)/va|0)|0}var ui=256,Ar=262144,Se=4194304;function ci(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=ci(l):(_&=S,_!==0?f=ci(_):a||(a=S&~e,a!==0&&(f=ci(a))))):(S=l&~d,S!==0?f=ci(S):_!==0?f=ci(_):a||(a=l&~e,a!==0&&(f=ci(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Yn(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Cf(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hu(){var e=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),e}function fi(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function br(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function If(e,s,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,D=e.expirationTimes,B=e.hiddenUpdates;for(a=_&~a;0<a;){var K=31-me(a),$=1<<K;S[K]=0,D[K]=-1;var j=B[K];if(j!==null)for(B[K]=null,K=0;K<j.length;K++){var q=j[K];q!==null&&(q.lane&=-536870913)}a&=~$}l!==0&&wr(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~s))}function wr(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-me(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Yo(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-me(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function Qo(e,s){var a=s&-s;return a=(a&42)!==0?1:Rr(a),(a&(e.suspendedLanes|s))!==0?0:a}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:MT(e.type))}function Qn(e,s){var a=et.p;try{return et.p=e,s()}finally{et.p=a}}var Xn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Xn,ze="__reactProps$"+Xn,di="__reactContainer$"+Xn,_a="__reactEvents$"+Xn,Df="__reactListeners$"+Xn,qu="__reactHandles$"+Xn,Gu="__reactResources$"+Xn,mi="__reactMarker$"+Xn;function Ta(e){delete e[Ae],delete e[ze],delete e[_a],delete e[Df],delete e[qu]}function pi(e){var s=e[Ae];if(s)return s;for(var a=e.parentNode;a;){if(s=a[di]||a[Ae]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=mT(e);e!==null;){if(a=e[Ae])return a;e=mT(e)}return s}e=a,a=e.parentNode}return null}function Dn(e){if(e=e[Ae]||e[di]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function _n(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function gi(e){var s=e[Gu];return s||(s=e[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function be(e){e[mi]=!0}var Xo=new Set,$o={};function yi(e,s){vi(e,s),vi(e+"Capture",s)}function vi(e,s){for($o[e]=s,e=0;e<s.length;e++)Xo.add(s[e])}var Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},Wo={};function Ku(e){return Ee.call(Wo,e)?!0:Ee.call(Jo,e)?!1:Zo.test(e)?Wo[e]=!0:(Jo[e]=!0,!1)}function Ea(e,s,a){if(Ku(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function Tn(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function we(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _s(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tl(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Kt(e){if(!e._valueTracker){var s=_s(e)?"checked":"value";e._valueTracker=tl(e,s,""+e[s])}}function Cr(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=_s(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ir=/[\n"\\]/g;function cn(e){return e.replace(Ir,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sa(e,s,a,l,f,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),s!=null?_==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Be(s)):e.value!==""+Be(s)&&(e.value=""+Be(s)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),s!=null?el(e,_,Be(s)):a!=null?el(e,_,Be(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Be(S):e.removeAttribute("name")}function Yu(e,s,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Kt(e);return}a=a!=null?""+Be(a):"",s=s!=null?""+Be(s):a,S||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function el(e,s,a){s==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ts(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Be(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function Qu(e,s,a){if(s!=null&&(s=""+Be(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+Be(a):""}function Es(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ce(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Be(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function hn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var Xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||Xu.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function il(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&nl(e,f,l)}else for(var d in s)s.hasOwnProperty(d)&&nl(e,d,s[d])}function Aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(e){return Ss.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var sl=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,Ti=null;function Dr(e){var s=Dn(e);if(s&&(e=s.stateNode)){var a=e[ze]||null;t:switch(e=s.stateNode,s.type){case"input":if(Sa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[ze]||null;if(!f)throw Error(r(90));Sa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&Cr(l)}break t;case"textarea":Qu(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ts(e,!!a.multiple,s,!1)}}}var wa=!1;function bs(e,s,a){if(wa)return e(s,a);wa=!0;try{var l=e(s);return l}finally{if(wa=!1,(As!==null||Ti!==null)&&(Fc(),As&&(s=As,e=Ti,Ti=As=null,Dr(s),e)))for(s=0;s<e.length;s++)Dr(e[s])}}function Zn(e,s){var a=e.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Vn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{Mr=!1}var Ei=null,rl=null,Vr=null;function al(){if(Vr)return Vr;var e,s=rl,a=s.length,l,f="value"in Ei?Ei.value:Ei.textContent,d=f.length;for(e=0;e<a&&s[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return Vr=f.slice(e,1<l?1-l:void 0)}function Or(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function Jn(){return!1}function qe(e){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:Jn,this.isPropagationStopped=Jn,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),s}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=qe(Ki),ws=E({},Ki,{view:0,detail:0}),ol=qe(ws),Rs,Ra,Ai,Ca=E({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(Rs=e.screenX-Ai.screenX,Ra=e.screenY-Ai.screenY):Ra=Rs=0,Ai=e),Rs)},movementY:function(e){return"movementY"in e?e.movementY:Ra}}),ll=qe(Ca),Nr=E({},Ca,{dataTransfer:0}),Zu=qe(Nr),Ju=E({},ws,{relatedTarget:0}),xr=qe(Ju),ul=E({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Wu=qe(ul),Ia=E({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tc=qe(Ia),ec=E({},Ki,{data:0}),bi=qe(ec),nc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=sc[e])?!!s[e]:!1}function Cs(){return rc}var an=E({},ws,{key:function(e){if(e.key){var s=nc[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ic[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ac=qe(an),oc=E({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=qe(oc),h=E({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),y=qe(h),T=E({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=qe(T),U=E({},Ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F=qe(U),nt=E({},Ki,{newState:0,oldState:0}),wt=qe(nt),pe=[9,13,27,32],qt=Vn&&"CompositionEvent"in window,se=null;Vn&&"documentMode"in document&&(se=document.documentMode);var On=Vn&&"TextEvent"in window&&!se,wi=Vn&&(!qt||se&&8<se&&11>=se),Wn=" ",ti=!1;function Pr(e,s){switch(e){case"keyup":return pe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ma=!1;function Tw(e,s){switch(e){case"compositionend":return Da(s);case"keypress":return s.which!==32?null:(ti=!0,Wn);case"textInput":return e=s.data,e===Wn&&ti?null:e;default:return null}}function Ew(e,s){if(Ma)return e==="compositionend"||!qt&&Pr(e,s)?(e=al(),Vr=rl=Ei=null,Ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return wi&&s.locale!=="ko"?null:s.data;default:return null}}var Sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yy(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Sw[e.type]:s==="textarea"}function vy(e,s,a,l){As?Ti?Ti.push(l):Ti=[l]:As=l,s=$c(s,"onChange"),0<s.length&&(a=new Si("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var cl=null,hl=null;function Aw(e){tT(e,0)}function lc(e){var s=_n(e);if(Cr(s))return e}function _y(e,s){if(e==="change")return s}var Ty=!1;if(Vn){var Mf;if(Vn){var Vf="oninput"in document;if(!Vf){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),Vf=typeof Ey.oninput=="function"}Mf=Vf}else Mf=!1;Ty=Mf&&(!document.documentMode||9<document.documentMode)}function Sy(){cl&&(cl.detachEvent("onpropertychange",Ay),hl=cl=null)}function Ay(e){if(e.propertyName==="value"&&lc(hl)){var s=[];vy(s,hl,e,Mn(e)),bs(Aw,s)}}function bw(e,s,a){e==="focusin"?(Sy(),cl=s,hl=a,cl.attachEvent("onpropertychange",Ay)):e==="focusout"&&Sy()}function ww(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lc(hl)}function Rw(e,s){if(e==="click")return lc(s)}function Cw(e,s){if(e==="input"||e==="change")return lc(s)}function Iw(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var En=typeof Object.is=="function"?Object.is:Iw;function fl(e,s){if(En(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ee.call(s,f)||!En(e[f],s[f]))return!1}return!0}function by(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wy(e,s){var a=by(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=by(a)}}function Ry(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Ry(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Cy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=_i(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=_i(e.document)}return s}function Of(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var Dw=Vn&&"documentMode"in document&&11>=document.documentMode,Va=null,Nf=null,dl=null,xf=!1;function Iy(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||Va==null||Va!==_i(l)||(l=Va,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=$c(Nf,"onSelect"),0<l.length&&(s=new Si("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=Va)))}function Lr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var Oa={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Pf={},Dy={};Vn&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function kr(e){if(Pf[e])return Pf[e];if(!Oa[e])return e;var s=Oa[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Dy)return Pf[e]=s[a];return e}var My=kr("animationend"),Vy=kr("animationiteration"),Oy=kr("animationstart"),Mw=kr("transitionrun"),Vw=kr("transitionstart"),Ow=kr("transitioncancel"),Ny=kr("transitionend"),xy=new Map,Lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lf.push("scrollEnd");function ei(e,s){xy.set(e,s),yi(s,[e])}var uc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],Na=0,kf=0;function cc(){for(var e=Na,s=kf=Na=0;s<e;){var a=Nn[s];Nn[s++]=null;var l=Nn[s];Nn[s++]=null;var f=Nn[s];Nn[s++]=null;var d=Nn[s];if(Nn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Py(a,f,d)}}function hc(e,s,a,l){Nn[Na++]=e,Nn[Na++]=s,Nn[Na++]=a,Nn[Na++]=l,kf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Uf(e,s,a,l){return hc(e,s,a,l),fc(e)}function Ur(e,s){return hc(e,null,null,s),fc(e)}function Py(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&s!==null&&(f=31-me(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function fc(e){if(50<Pl)throw Pl=0,Yd=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var xa={};function Nw(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,s,a,l){return new Nw(e,s,a,l)}function zf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,s){var a=e.alternate;return a===null?(a=Sn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ly(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function dc(e,s,a,l,f,d){var _=0;if(l=e,typeof e=="function")zf(e)&&(_=1);else if(typeof e=="string")_=UR(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Sn(31,a,s,f),e.elementType=C,e.lanes=d,e;case G:return zr(a.children,f,d,s);case H:_=8,f|=24;break;case Q:return e=Sn(12,a,s,f|2),e.elementType=Q,e.lanes=d,e;case st:return e=Sn(13,a,s,f),e.elementType=st,e.lanes=d,e;case ot:return e=Sn(19,a,s,f),e.elementType=ot,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:_=10;break t;case tt:_=9;break t;case rt:_=11;break t;case R:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=Sn(_,a,s,f),s.elementType=e,s.type=l,s.lanes=d,s}function zr(e,s,a,l){return e=Sn(7,e,l,s),e.lanes=a,e}function Bf(e,s,a){return e=Sn(6,e,null,s),e.lanes=a,e}function ky(e){var s=Sn(18,null,null,0);return s.stateNode=e,s}function jf(e,s,a){return s=Sn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Uy=new WeakMap;function xn(e,s){if(typeof e=="object"&&e!==null){var a=Uy.get(e);return a!==void 0?a:(s={value:e,source:s,stack:qo(s)},Uy.set(e,s),s)}return{value:e,source:s,stack:qo(s)}}var Pa=[],La=0,mc=null,ml=0,Pn=[],Ln=0,Is=null,Ri=1,Ci="";function Xi(e,s){Pa[La++]=ml,Pa[La++]=mc,mc=e,ml=s}function zy(e,s,a){Pn[Ln++]=Ri,Pn[Ln++]=Ci,Pn[Ln++]=Is,Is=e;var l=Ri;e=Ci;var f=32-me(l)-1;l&=~(1<<f),a+=1;var d=32-me(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ri=1<<32-me(s)+f|a<<f|l,Ci=d+e}else Ri=1<<d|a<<f|l,Ci=e}function Hf(e){e.return!==null&&(Xi(e,1),zy(e,1,0))}function Ff(e){for(;e===mc;)mc=Pa[--La],Pa[La]=null,ml=Pa[--La],Pa[La]=null;for(;e===Is;)Is=Pn[--Ln],Pn[Ln]=null,Ci=Pn[--Ln],Pn[Ln]=null,Ri=Pn[--Ln],Pn[Ln]=null}function By(e,s){Pn[Ln++]=Ri,Pn[Ln++]=Ci,Pn[Ln++]=Is,Ri=s.id,Ci=s.overflow,Is=e}var Ge=null,ee=null,Lt=!1,Ds=null,kn=!1,qf=Error(r(519));function Ms(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(xn(s,e)),qf}function jy(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Ae]=e,s[ze]=l,a){case"dialog":Vt("cancel",s),Vt("close",s);break;case"iframe":case"object":case"embed":Vt("load",s);break;case"video":case"audio":for(a=0;a<kl.length;a++)Vt(kl[a],s);break;case"source":Vt("error",s);break;case"img":case"image":case"link":Vt("error",s),Vt("load",s);break;case"details":Vt("toggle",s);break;case"input":Vt("invalid",s),Yu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",s);break;case"textarea":Vt("invalid",s),Es(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||sT(s.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",s),Vt("toggle",s)),l.onScroll!=null&&Vt("scroll",s),l.onScrollEnd!=null&&Vt("scrollend",s),l.onClick!=null&&(s.onclick=$n),s=!0):s=!1,s||Ms(e,!0)}function Hy(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ge=Ge.return}}function ka(e){if(e!==Ge)return!1;if(!Lt)return Hy(e),Lt=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||lm(e.type,e.memoizedProps)),a=!a),a&&ee&&Ms(e),Hy(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ee=dT(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ee=dT(e)}else s===27?(s=ee,qs(e.type)?(e=dm,dm=null,ee=e):ee=s):ee=Ge?zn(e.stateNode.nextSibling):null;return!0}function Br(){ee=Ge=null,Lt=!1}function Gf(){var e=Ds;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ds=null),e}function pl(e){Ds===null?Ds=[e]:Ds.push(e)}var Kf=x(null),jr=null,$i=null;function Vs(e,s,a){at(Kf,s._currentValue),s._currentValue=a}function Zi(e){e._currentValue=Kf.current,J(Kf)}function Yf(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function Qf(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var D=0;D<s.length;D++)if(S.context===s[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Yf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Yf(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ua(e,s,a,l){e=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;En(f.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(f===Ut.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Hl):e=[Hl])}f=f.return}e!==null&&Qf(s,e,a,l),s.flags|=262144}function pc(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hr(e){jr=e,$i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Fy(jr,e)}function gc(e,s){return jr===null&&Hr(e),Fy(e,s)}function Fy(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},$i===null){if(e===null)throw Error(r(308));$i=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else $i=$i.next=s;return a}var xw=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},Pw=i.unstable_scheduleCallback,Lw=i.unstable_NormalPriority,Re={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new xw,data:new Map,refCount:0}}function gl(e){e.refCount--,e.refCount===0&&Pw(Lw,function(){e.controller.abort()})}var yl=null,$f=0,za=0,Ba=null;function kw(e,s){if(yl===null){var a=yl=[];$f=0,za=Wd(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $f++,s.then(qy,qy),s}function qy(){if(--$f===0&&yl!==null){Ba!==null&&(Ba.status="fulfilled");var e=yl;yl=null,za=0,Ba=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Uw(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Gy=Y.S;Y.S=function(e,s){I_=rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&kw(e,s),Gy!==null&&Gy(e,s)};var Fr=x(null);function Zf(){var e=Fr.current;return e!==null?e:te.pooledCache}function yc(e,s){s===null?at(Fr,Fr.current):at(Fr,s.pool)}function Ky(){var e=Zf();return e===null?null:{parent:Re._currentValue,pool:e}}var ja=Error(r(460)),Jf=Error(r(474)),vc=Error(r(542)),_c={then:function(){}};function Yy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qy(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then($n,$n),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,$y(e),e;default:if(typeof s.status=="string")s.then($n,$n);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,$y(e),e}throw Gr=s,ja}}function qr(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gr=a,ja):a}}var Gr=null;function Xy(){if(Gr===null)throw Error(r(459));var e=Gr;return Gr=null,e}function $y(e){if(e===ja||e===vc)throw Error(r(483))}var Ha=null,vl=0;function Tc(e){var s=vl;return vl+=1,Ha===null&&(Ha=[]),Qy(Ha,e,s)}function _l(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function Ec(e,s){throw s.$$typeof===A?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Zy(e){function s(P,O){if(e){var z=P.deletions;z===null?(P.deletions=[O],P.flags|=16):z.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)s(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function f(P,O){return P=Qi(P,O),P.index=0,P.sibling=null,P}function d(P,O,z){return P.index=z,e?(z=P.alternate,z!==null?(z=z.index,z<O?(P.flags|=67108866,O):z):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function S(P,O,z,X){return O===null||O.tag!==6?(O=Bf(z,P.mode,X),O.return=P,O):(O=f(O,z),O.return=P,O)}function D(P,O,z,X){var gt=z.type;return gt===G?K(P,O,z.props.children,X,z.key):O!==null&&(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&qr(gt)===O.type)?(O=f(O,z.props),_l(O,z),O.return=P,O):(O=dc(z.type,z.key,z.props,null,P.mode,X),_l(O,z),O.return=P,O)}function B(P,O,z,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=jf(z,P.mode,X),O.return=P,O):(O=f(O,z.children||[]),O.return=P,O)}function K(P,O,z,X,gt){return O===null||O.tag!==7?(O=zr(z,P.mode,X,gt),O.return=P,O):(O=f(O,z),O.return=P,O)}function $(P,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Bf(""+O,P.mode,z),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return z=dc(O.type,O.key,O.props,null,P.mode,z),_l(z,O),z.return=P,z;case k:return O=jf(O,P.mode,z),O.return=P,O;case w:return O=qr(O),$(P,O,z)}if(ce(O)||L(O))return O=zr(O,P.mode,z,null),O.return=P,O;if(typeof O.then=="function")return $(P,Tc(O),z);if(O.$$typeof===Z)return $(P,gc(P,O),z);Ec(P,O)}return null}function j(P,O,z,X){var gt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:S(P,O,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===gt?D(P,O,z,X):null;case k:return z.key===gt?B(P,O,z,X):null;case w:return z=qr(z),j(P,O,z,X)}if(ce(z)||L(z))return gt!==null?null:K(P,O,z,X,null);if(typeof z.then=="function")return j(P,O,Tc(z),X);if(z.$$typeof===Z)return j(P,O,gc(P,z),X);Ec(P,z)}return null}function q(P,O,z,X,gt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(z)||null,S(O,P,""+X,gt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case M:return P=P.get(X.key===null?z:X.key)||null,D(O,P,X,gt);case k:return P=P.get(X.key===null?z:X.key)||null,B(O,P,X,gt);case w:return X=qr(X),q(P,O,z,X,gt)}if(ce(X)||L(X))return P=P.get(z)||null,K(O,P,X,gt,null);if(typeof X.then=="function")return q(P,O,z,Tc(X),gt);if(X.$$typeof===Z)return q(P,O,z,gc(O,X),gt);Ec(O,X)}return null}function ft(P,O,z,X){for(var gt=null,Ht=null,dt=O,Dt=O=0,xt=null;dt!==null&&Dt<z.length;Dt++){dt.index>Dt?(xt=dt,dt=null):xt=dt.sibling;var Ft=j(P,dt,z[Dt],X);if(Ft===null){dt===null&&(dt=xt);break}e&&dt&&Ft.alternate===null&&s(P,dt),O=d(Ft,O,Dt),Ht===null?gt=Ft:Ht.sibling=Ft,Ht=Ft,dt=xt}if(Dt===z.length)return a(P,dt),Lt&&Xi(P,Dt),gt;if(dt===null){for(;Dt<z.length;Dt++)dt=$(P,z[Dt],X),dt!==null&&(O=d(dt,O,Dt),Ht===null?gt=dt:Ht.sibling=dt,Ht=dt);return Lt&&Xi(P,Dt),gt}for(dt=l(dt);Dt<z.length;Dt++)xt=q(dt,P,Dt,z[Dt],X),xt!==null&&(e&&xt.alternate!==null&&dt.delete(xt.key===null?Dt:xt.key),O=d(xt,O,Dt),Ht===null?gt=xt:Ht.sibling=xt,Ht=xt);return e&&dt.forEach(function(Xs){return s(P,Xs)}),Lt&&Xi(P,Dt),gt}function yt(P,O,z,X){if(z==null)throw Error(r(151));for(var gt=null,Ht=null,dt=O,Dt=O=0,xt=null,Ft=z.next();dt!==null&&!Ft.done;Dt++,Ft=z.next()){dt.index>Dt?(xt=dt,dt=null):xt=dt.sibling;var Xs=j(P,dt,Ft.value,X);if(Xs===null){dt===null&&(dt=xt);break}e&&dt&&Xs.alternate===null&&s(P,dt),O=d(Xs,O,Dt),Ht===null?gt=Xs:Ht.sibling=Xs,Ht=Xs,dt=xt}if(Ft.done)return a(P,dt),Lt&&Xi(P,Dt),gt;if(dt===null){for(;!Ft.done;Dt++,Ft=z.next())Ft=$(P,Ft.value,X),Ft!==null&&(O=d(Ft,O,Dt),Ht===null?gt=Ft:Ht.sibling=Ft,Ht=Ft);return Lt&&Xi(P,Dt),gt}for(dt=l(dt);!Ft.done;Dt++,Ft=z.next())Ft=q(dt,P,Dt,Ft.value,X),Ft!==null&&(e&&Ft.alternate!==null&&dt.delete(Ft.key===null?Dt:Ft.key),O=d(Ft,O,Dt),Ht===null?gt=Ft:Ht.sibling=Ft,Ht=Ft);return e&&dt.forEach(function(XR){return s(P,XR)}),Lt&&Xi(P,Dt),gt}function Jt(P,O,z,X){if(typeof z=="object"&&z!==null&&z.type===G&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:t:{for(var gt=z.key;O!==null;){if(O.key===gt){if(gt=z.type,gt===G){if(O.tag===7){a(P,O.sibling),X=f(O,z.props.children),X.return=P,P=X;break t}}else if(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&qr(gt)===O.type){a(P,O.sibling),X=f(O,z.props),_l(X,z),X.return=P,P=X;break t}a(P,O);break}else s(P,O);O=O.sibling}z.type===G?(X=zr(z.props.children,P.mode,X,z.key),X.return=P,P=X):(X=dc(z.type,z.key,z.props,null,P.mode,X),_l(X,z),X.return=P,P=X)}return _(P);case k:t:{for(gt=z.key;O!==null;){if(O.key===gt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(P,O.sibling),X=f(O,z.children||[]),X.return=P,P=X;break t}else{a(P,O);break}else s(P,O);O=O.sibling}X=jf(z,P.mode,X),X.return=P,P=X}return _(P);case w:return z=qr(z),Jt(P,O,z,X)}if(ce(z))return ft(P,O,z,X);if(L(z)){if(gt=L(z),typeof gt!="function")throw Error(r(150));return z=gt.call(z),yt(P,O,z,X)}if(typeof z.then=="function")return Jt(P,O,Tc(z),X);if(z.$$typeof===Z)return Jt(P,O,gc(P,z),X);Ec(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(P,O.sibling),X=f(O,z),X.return=P,P=X):(a(P,O),X=Bf(z,P.mode,X),X.return=P,P=X),_(P)):a(P,O)}return function(P,O,z,X){try{vl=0;var gt=Jt(P,O,z,X);return Ha=null,gt}catch(dt){if(dt===ja||dt===vc)throw dt;var Ht=Sn(29,dt,null,P.mode);return Ht.lanes=X,Ht.return=P,Ht}finally{}}}var Kr=Zy(!0),Jy=Zy(!1),Os=!1;function Wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xs(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=fc(e),Py(e,null,a),s}return hc(e,l,s,a),fc(e)}function Tl(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Yo(e,a)}}function ed(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var nd=!1;function El(){if(nd){var e=Ba;if(e!==null)throw e}}function Sl(e,s,a,l){nd=!1;var f=e.updateQueue;Os=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var K=e.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==_&&(S===null?K.firstBaseUpdate=B:S.next=B,K.lastBaseUpdate=D))}if(d!==null){var $=f.baseState;_=0,K=B=D=null,S=d;do{var j=S.lane&-536870913,q=j!==S.lane;if(q?(Nt&j)===j:(l&j)===j){j!==0&&j===za&&(nd=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=e,yt=S;j=s;var Jt=a;switch(yt.tag){case 1:if(ft=yt.payload,typeof ft=="function"){$=ft.call(Jt,$,j);break t}$=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=yt.payload,j=typeof ft=="function"?ft.call(Jt,$,j):ft,j==null)break t;$=E({},$,j);break t;case 2:Os=!0}}j=S.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[j]:q.push(j))}else q={lane:j,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(B=K=q,D=$):K=K.next=q,_|=j;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;q=S,S=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);K===null&&(D=$),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),zs|=_,e.lanes=_,e.memoizedState=$}}function Wy(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function tv(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wy(a[e],s)}var Fa=x(null),Sc=x(0);function ev(e,s){e=as,at(Sc,e),at(Fa,s),as=e|s.baseLanes}function id(){at(Sc,as),at(Fa,Fa.current)}function sd(){as=Sc.current,J(Fa),J(Sc)}var An=x(null),Un=null;function Ps(e){var s=e.alternate;at(ge,ge.current&1),at(An,e),Un===null&&(s===null||Fa.current!==null||s.memoizedState!==null)&&(Un=e)}function rd(e){at(ge,ge.current),at(An,e),Un===null&&(Un=e)}function nv(e){e.tag===22?(at(ge,ge.current),at(An,e),Un===null&&(Un=e)):Ls()}function Ls(){at(ge,ge.current),at(An,An.current)}function bn(e){J(An),Un===e&&(Un=null),J(ge)}var ge=x(0);function Ac(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hm(a)||fm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ji=0,Rt=null,$t=null,Ce=null,bc=!1,qa=!1,Yr=!1,wc=0,Al=0,Ga=null,zw=0;function he(){throw Error(r(321))}function ad(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!En(e[a],s[a]))return!1;return!0}function od(e,s,a,l,f,d){return Ji=d,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=e===null||e.memoizedState===null?zv:Sd,Yr=!1,d=a(l,f),Yr=!1,qa&&(d=sv(s,a,l,f)),iv(e),d}function iv(e){Y.H=Rl;var s=$t!==null&&$t.next!==null;if(Ji=0,Ce=$t=Rt=null,bc=!1,Al=0,Ga=null,s)throw Error(r(300));e===null||Ie||(e=e.dependencies,e!==null&&pc(e)&&(Ie=!0))}function sv(e,s,a,l){Rt=e;var f=0;do{if(qa&&(Ga=null),Al=0,qa=!1,25<=f)throw Error(r(301));if(f+=1,Ce=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Bv,d=s(a,l)}while(qa);return d}function Bw(){var e=Y.H,s=e.useState()[0];return s=typeof s.then=="function"?bl(s):s,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Rt.flags|=1024),s}function ld(){var e=wc!==0;return wc=0,e}function ud(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function cd(e){if(bc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}bc=!1}Ji=0,Ce=$t=Rt=null,qa=!1,Al=wc=0,Ga=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Rt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ye(){if($t===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var s=Ce===null?Rt.memoizedState:Ce.next;if(s!==null)Ce=s,$t=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ce===null?Rt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(e){var s=Al;return Al+=1,Ga===null&&(Ga=[]),e=Qy(Ga,e,s),s=Rt,(Ce===null?s.memoizedState:Ce.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?zv:Sd),e}function Cc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bl(e);if(e.$$typeof===Z)return Ke(e)}throw Error(r(438,String(e)))}function hd(e){var s=null,a=Rt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Rc(),Rt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=N;return s.index++,a}function Wi(e,s){return typeof s=="function"?s(e):s}function Ic(e){var s=ye();return fd(s,$t,e)}function fd(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{s=f.next;var S=_=null,D=null,B=s,K=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Nt&$)===$:(Ji&$)===$){var j=B.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===za&&(K=!0);else if((Ji&j)===j){B=B.next,j===za&&(K=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=$,_=d):D=D.next=$,Rt.lanes|=j,zs|=j;$=B.action,Yr&&a(d,$),d=B.hasEagerState?B.eagerState:a(d,$)}else j={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=j,_=d):D=D.next=j,Rt.lanes|=$,zs|=$;B=B.next}while(B!==null&&B!==s);if(D===null?_=d:D.next=S,!En(d,e.memoizedState)&&(Ie=!0,K&&(a=Ba,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function dd(e){var s=ye(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);En(d,s.memoizedState)||(Ie=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function rv(e,s,a){var l=Rt,f=ye(),d=Lt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!En(($t||f).memoizedState,a);if(_&&(f.memoizedState=a,Ie=!0),f=f.queue,gd(lv.bind(null,l,f,e),[e]),f.getSnapshot!==s||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},ov.bind(null,l,f,a,s),null),te===null)throw Error(r(349));d||(Ji&127)!==0||av(l,s,a)}return a}function av(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Rt.updateQueue,s===null?(s=Rc(),Rt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function ov(e,s,a,l){s.value=a,s.getSnapshot=l,uv(s)&&cv(e)}function lv(e,s,a){return a(function(){uv(s)&&cv(e)})}function uv(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!En(e,a)}catch{return!0}}function cv(e){var s=Ur(e,2);s!==null&&gn(s,e,2)}function md(e){var s=on();if(typeof e=="function"){var a=e;if(e=a(),Yr){In(!0);try{a()}finally{In(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},s}function hv(e,s,a,l){return e.baseState=a,fd(e,$t,typeof l=="function"?l:Wi)}function jw(e,s,a,l,f){if(Vc(e))throw Error(r(485));if(e=s.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,fv(s,d)):(d.next=a.next,s.pending=a.next=d)}}function fv(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var d=Y.T,_={};Y.T=_;try{var S=a(f,l),D=Y.S;D!==null&&D(_,S),dv(e,s,S)}catch(B){pd(e,s,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(f,l),dv(e,s,d)}catch(B){pd(e,s,B)}}function dv(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mv(e,s,l)},function(l){return pd(e,s,l)}):mv(e,s,a)}function mv(e,s,a){s.status="fulfilled",s.value=a,pv(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,fv(e,a)))}function pd(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,pv(s),s=s.next;while(s!==l)}e.action=null}function pv(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function gv(e,s){return s}function yv(e,s){if(Lt){var a=te.formState;if(a!==null){t:{var l=Rt;if(Lt){if(ee){e:{for(var f=ee,d=kn;f.nodeType!==8;){if(!d){f=null;break e}if(f=zn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ee=zn(f.nextSibling),l=f.data==="F!";break t}}Ms(l)}l=!1}l&&(s=a[0])}}return a=on(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gv,lastRenderedState:s},a.queue=l,a=Lv.bind(null,Rt,l),l.dispatch=a,l=md(!1),d=Ed.bind(null,Rt,!1,l.queue),l=on(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=jw.bind(null,Rt,f,d,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function vv(e){var s=ye();return _v(s,$t,e)}function _v(e,s,a){if(s=fd(e,s,gv)[0],e=Ic(Wi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=bl(s)}catch(_){throw _===ja?vc:_}else l=s;s=ye();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Rt.flags|=2048,Ka(9,{destroy:void 0},Hw.bind(null,f,a),null)),[l,d,e]}function Hw(e,s){e.action=s}function Tv(e){var s=ye(),a=$t;if(a!==null)return _v(s,a,e);ye(),s=s.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function Ka(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Rt.updateQueue,s===null&&(s=Rc(),Rt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Ev(){return ye().memoizedState}function Dc(e,s,a,l){var f=on();Rt.flags|=e,f.memoizedState=Ka(1|s,{destroy:void 0},a,l===void 0?null:l)}function Mc(e,s,a,l){var f=ye();l=l===void 0?null:l;var d=f.memoizedState.inst;$t!==null&&l!==null&&ad(l,$t.memoizedState.deps)?f.memoizedState=Ka(s,d,a,l):(Rt.flags|=e,f.memoizedState=Ka(1|s,d,a,l))}function Sv(e,s){Dc(8390656,8,e,s)}function gd(e,s){Mc(2048,8,e,s)}function Fw(e){Rt.flags|=4;var s=Rt.updateQueue;if(s===null)s=Rc(),Rt.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function Av(e){var s=ye().memoizedState;return Fw({ref:s,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function bv(e,s){return Mc(4,2,e,s)}function wv(e,s){return Mc(4,4,e,s)}function Rv(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Cv(e,s,a){a=a!=null?a.concat([e]):null,Mc(4,4,Rv.bind(null,s,e),a)}function yd(){}function Iv(e,s){var a=ye();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&ad(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function Dv(e,s){var a=ye();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&ad(s,l[1]))return l[0];if(l=e(),Yr){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,s],l}function vd(e,s,a){return a===void 0||(Ji&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=M_(),Rt.lanes|=e,zs|=e,a)}function Mv(e,s,a,l){return En(a,s)?a:Fa.current!==null?(e=vd(e,a,l),En(e,s)||(Ie=!0),e):(Ji&42)===0||(Ji&1073741824)!==0&&(Nt&261930)===0?(Ie=!0,e.memoizedState=a):(e=M_(),Rt.lanes|=e,zs|=e,s)}function Vv(e,s,a,l,f){var d=et.p;et.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,Ed(e,!1,s,a);try{var D=f(),B=Y.S;if(B!==null&&B(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=Uw(D,l);wl(e,s,K,Cn(e))}else wl(e,s,l,Cn(e))}catch($){wl(e,s,{then:function(){},status:"rejected",reason:$},Cn())}finally{et.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function qw(){}function _d(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=Ov(e).queue;Vv(e,f,s,ht,a===null?qw:function(){return Nv(e),a(l)})}function Ov(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ht},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Nv(e){var s=Ov(e);s.next===null&&(s=e.alternate.memoizedState),wl(e,s.next.queue,{},Cn())}function Td(){return Ke(Hl)}function xv(){return ye().memoizedState}function Pv(){return ye().memoizedState}function Gw(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Cn();e=Ns(a);var l=xs(s,e,a);l!==null&&(gn(l,s,a),Tl(l,s,a)),s={cache:Xf()},e.payload=s;return}s=s.return}}function Kw(e,s,a){var l=Cn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vc(e)?kv(s,a):(a=Uf(e,s,a,l),a!==null&&(gn(a,e,l),Uv(a,s,l)))}function Lv(e,s,a){var l=Cn();wl(e,s,a,l)}function wl(e,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vc(e))kv(s,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,En(S,_))return hc(e,s,f,0),te===null&&cc(),!1}catch{}finally{}if(a=Uf(e,s,f,l),a!==null)return gn(a,e,l),Uv(a,s,l),!0}return!1}function Ed(e,s,a,l){if(l={lane:2,revertLane:Wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vc(e)){if(s)throw Error(r(479))}else s=Uf(e,a,l,2),s!==null&&gn(s,e,2)}function Vc(e){var s=e.alternate;return e===Rt||s!==null&&s===Rt}function kv(e,s){qa=bc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function Uv(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Yo(e,a)}}var Rl={readContext:Ke,use:Cc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Rl.useEffectEvent=he;var zv={readContext:Ke,use:Cc,useCallback:function(e,s){return on().memoizedState=[e,s===void 0?null:s],e},useContext:Ke,useEffect:Sv,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,Dc(4194308,4,Rv.bind(null,s,e),a)},useLayoutEffect:function(e,s){return Dc(4194308,4,e,s)},useInsertionEffect:function(e,s){Dc(4,2,e,s)},useMemo:function(e,s){var a=on();s=s===void 0?null:s;var l=e();if(Yr){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=on();if(a!==void 0){var f=a(s);if(Yr){In(!0);try{a(s)}finally{In(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Kw.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var s=on();return e={current:e},s.memoizedState=e},useState:function(e){e=md(e);var s=e.queue,a=Lv.bind(null,Rt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:yd,useDeferredValue:function(e,s){var a=on();return vd(a,e,s)},useTransition:function(){var e=md(!1);return e=Vv.bind(null,Rt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Rt,f=on();if(Lt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),te===null)throw Error(r(349));(Nt&127)!==0||av(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Sv(lv.bind(null,l,d,e),[e]),l.flags|=2048,Ka(9,{destroy:void 0},ov.bind(null,l,d,a,s),null),a},useId:function(){var e=on(),s=te.identifierPrefix;if(Lt){var a=Ci,l=Ri;a=(l&~(1<<32-me(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=wc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=zw++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Td,useFormState:yv,useActionState:yv,useOptimistic:function(e){var s=on();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Ed.bind(null,Rt,!0,a),a.dispatch=s,[e,s]},useMemoCache:hd,useCacheRefresh:function(){return on().memoizedState=Gw.bind(null,Rt)},useEffectEvent:function(e){var s=on(),a={impl:e};return s.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Sd={readContext:Ke,use:Cc,useCallback:Iv,useContext:Ke,useEffect:gd,useImperativeHandle:Cv,useInsertionEffect:bv,useLayoutEffect:wv,useMemo:Dv,useReducer:Ic,useRef:Ev,useState:function(){return Ic(Wi)},useDebugValue:yd,useDeferredValue:function(e,s){var a=ye();return Mv(a,$t.memoizedState,e,s)},useTransition:function(){var e=Ic(Wi)[0],s=ye().memoizedState;return[typeof e=="boolean"?e:bl(e),s]},useSyncExternalStore:rv,useId:xv,useHostTransitionStatus:Td,useFormState:vv,useActionState:vv,useOptimistic:function(e,s){var a=ye();return hv(a,$t,e,s)},useMemoCache:hd,useCacheRefresh:Pv};Sd.useEffectEvent=Av;var Bv={readContext:Ke,use:Cc,useCallback:Iv,useContext:Ke,useEffect:gd,useImperativeHandle:Cv,useInsertionEffect:bv,useLayoutEffect:wv,useMemo:Dv,useReducer:dd,useRef:Ev,useState:function(){return dd(Wi)},useDebugValue:yd,useDeferredValue:function(e,s){var a=ye();return $t===null?vd(a,e,s):Mv(a,$t.memoizedState,e,s)},useTransition:function(){var e=dd(Wi)[0],s=ye().memoizedState;return[typeof e=="boolean"?e:bl(e),s]},useSyncExternalStore:rv,useId:xv,useHostTransitionStatus:Td,useFormState:Tv,useActionState:Tv,useOptimistic:function(e,s){var a=ye();return $t!==null?hv(a,$t,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:hd,useCacheRefresh:Pv};Bv.useEffectEvent=Av;function Ad(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var bd={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Cn(),f=Ns(l);f.payload=s,a!=null&&(f.callback=a),s=xs(e,f,l),s!==null&&(gn(s,e,l),Tl(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Cn(),f=Ns(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=xs(e,f,l),s!==null&&(gn(s,e,l),Tl(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Cn(),l=Ns(a);l.tag=2,s!=null&&(l.callback=s),s=xs(e,l,a),s!==null&&(gn(s,e,a),Tl(s,e,a))}};function jv(e,s,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!fl(a,l)||!fl(f,d):!0}function Hv(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&bd.enqueueReplaceState(s,s.state,null)}function Qr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=E({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function Fv(e){uc(e)}function qv(e){console.error(e)}function Gv(e){uc(e)}function Oc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Kv(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function wd(e,s,a){return a=Ns(a),a.tag=3,a.payload={element:null},a.callback=function(){Oc(e,s)},a}function Yv(e){return e=Ns(e),e.tag=3,e}function Qv(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){Kv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Kv(s,a,l),typeof f!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Yw(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ua(s,a,f,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?qc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===_c?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),$d(e,l,f)),!1;case 22:return a.flags|=65536,l===_c?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),$d(e,l,f)),!1}throw Error(r(435,a.tag))}return $d(e,l,f),qc(),!1}if(Lt)return s=An.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==qf&&(e=Error(r(422),{cause:l}),pl(xn(e,a)))):(l!==qf&&(s=Error(r(423),{cause:l}),pl(xn(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=xn(l,a),f=wd(e.stateNode,l,f),ed(e,f),fe!==4&&(fe=2)),!1;var d=Error(r(520),{cause:l});if(d=xn(d,a),xl===null?xl=[d]:xl.push(d),fe!==4&&(fe=2),s===null)return!0;l=xn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=wd(a.stateNode,l,e),ed(a,e),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Bs===null||!Bs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Yv(f),Qv(f,e,a,l),ed(a,f),!1}a=a.return}while(a!==null);return!1}var Rd=Error(r(461)),Ie=!1;function Ye(e,s,a,l){s.child=e===null?Jy(s,null,a,l):Kr(s,e.child,a,l)}function Xv(e,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Hr(s),l=od(e,s,a,_,d,f),S=ld(),e!==null&&!Ie?(ud(e,s,f),ts(e,s,f)):(Lt&&S&&Hf(s),s.flags|=1,Ye(e,s,l,f),s.child)}function $v(e,s,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!zf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,Zv(e,s,d,l,f)):(e=dc(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(d=e.child,!xd(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(_,l)&&e.ref===s.ref)return ts(e,s,f)}return s.flags|=1,e=Qi(d,l),e.ref=s.ref,e.return=s,s.child=e}function Zv(e,s,a,l,f){if(e!==null){var d=e.memoizedProps;if(fl(d,l)&&e.ref===s.ref)if(Ie=!1,s.pendingProps=l=d,xd(e,f))(e.flags&131072)!==0&&(Ie=!0);else return s.lanes=e.lanes,ts(e,s,f)}return Cd(e,s,a,l,f)}function Jv(e,s,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=s.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return Wv(e,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&yc(s,d!==null?d.cachePool:null),d!==null?ev(s,d):id(),nv(s);else return l=s.lanes=536870912,Wv(e,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(yc(s,d.cachePool),ev(s,d),Ls(),s.memoizedState=null):(e!==null&&yc(s,null),id(),Ls());return Ye(e,s,f,a),s.child}function Cl(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Wv(e,s,a,l,f){var d=Zf();return d=d===null?null:{parent:Re._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},e!==null&&yc(s,null),id(),nv(s),e!==null&&Ua(e,s,l,!0),s.childLanes=f,null}function Nc(e,s){return s=Pc({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function t_(e,s,a){return Kr(s,e.child,null,a),e=Nc(s,s.pendingProps),e.flags|=2,bn(s),s.memoizedState=null,e}function Qw(e,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(Lt){if(l.mode==="hidden")return e=Nc(s,l),s.lanes=536870912,Cl(null,e);if(rd(s),(e=ee)?(e=fT(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=ky(e),a.return=s,s.child=a,Ge=s,ee=null)):e=null,e===null)throw Ms(s);return s.lanes=536870912,null}return Nc(s,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(rd(s),f)if(s.flags&256)s.flags&=-257,s=t_(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ie||Ua(e,s,a,!1),f=(a&e.childLanes)!==0,Ie||f){if(l=te,l!==null&&(_=Qo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ur(e,_),gn(l,e,_),Rd;qc(),s=t_(e,s,a)}else e=d.treeContext,ee=zn(_.nextSibling),Ge=s,Lt=!0,Ds=null,kn=!1,e!==null&&By(s,e),s=Nc(s,l),s.flags|=4096;return s}return e=Qi(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function xc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Cd(e,s,a,l,f){return Hr(s),a=od(e,s,a,l,void 0,f),l=ld(),e!==null&&!Ie?(ud(e,s,f),ts(e,s,f)):(Lt&&l&&Hf(s),s.flags|=1,Ye(e,s,a,f),s.child)}function e_(e,s,a,l,f,d){return Hr(s),s.updateQueue=null,a=sv(s,l,a,f),iv(e),l=ld(),e!==null&&!Ie?(ud(e,s,d),ts(e,s,d)):(Lt&&l&&Hf(s),s.flags|=1,Ye(e,s,a,d),s.child)}function n_(e,s,a,l,f){if(Hr(s),s.stateNode===null){var d=xa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ke(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Wf(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ke(_):xa,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ad(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&bd.enqueueReplaceState(d,d.state,null),Sl(s,l,d,f),El(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){d=s.stateNode;var S=s.memoizedProps,D=Qr(a,S);d.props=D;var B=d.context,K=a.contextType;_=xa,typeof K=="object"&&K!==null&&(_=Ke(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&Hv(s,d,l,_),Os=!1;var j=s.memoizedState;d.state=j,Sl(s,l,d,f),El(),B=s.memoizedState,S||j!==B||Os?(typeof $=="function"&&(Ad(s,a,$,l),B=s.memoizedState),(D=Os||jv(s,a,D,l,j,B,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,td(e,s),_=s.memoizedProps,K=Qr(a,_),d.props=K,$=s.pendingProps,j=d.context,B=a.contextType,D=xa,typeof B=="object"&&B!==null&&(D=Ke(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||j!==D)&&Hv(s,d,l,D),Os=!1,j=s.memoizedState,d.state=j,Sl(s,l,d,f),El();var q=s.memoizedState;_!==$||j!==q||Os||e!==null&&e.dependencies!==null&&pc(e.dependencies)?(typeof S=="function"&&(Ad(s,a,S,l),q=s.memoizedState),(K=Os||jv(s,a,K,l,j,q,D)||e!==null&&e.dependencies!==null&&pc(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,D)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=q),d.props=l,d.state=q,d.context=D,l=K):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),l=!1)}return d=l,xc(e,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,e!==null&&l?(s.child=Kr(s,e.child,null,f),s.child=Kr(s,null,a,f)):Ye(e,s,a,f),s.memoizedState=d.state,e=s.child):e=ts(e,s,f),e}function i_(e,s,a,l){return Br(),s.flags|=256,Ye(e,s,a,l),s.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dd(e){return{baseLanes:e,cachePool:Ky()}}function Md(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Rn),e}function s_(e,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,e===null){if(Lt){if(f?Ps(s):Ls(),(e=ee)?(e=fT(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=ky(e),a.return=s,s.child=a,Ge=s,ee=null)):e=null,e===null)throw Ms(s);return fm(e)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Ls(),f=s.mode,S=Pc({mode:"hidden",children:S},f),l=zr(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=Dd(a),l.childLanes=Md(e,_,a),s.memoizedState=Id,Cl(null,l)):(Ps(s),Vd(s,S))}var D=e.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)s.flags&256?(Ps(s),s.flags&=-257,s=Od(e,s,a)):s.memoizedState!==null?(Ls(),s.child=e.child,s.flags|=128,s=null):(Ls(),S=l.fallback,f=s.mode,l=Pc({mode:"visible",children:l.children},f),S=zr(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,Kr(s,e.child,null,a),l=s.child,l.memoizedState=Dd(a),l.childLanes=Md(e,_,a),s.memoizedState=Id,s=Cl(null,l));else if(Ps(s),fm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(r(419)),l.stack="",l.digest=_,pl({value:l,source:null,stack:null}),s=Od(e,s,a)}else if(Ie||Ua(e,s,a,!1),_=(a&e.childLanes)!==0,Ie||_){if(_=te,_!==null&&(l=Qo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ur(e,l),gn(_,e,l),Rd;hm(S)||qc(),s=Od(e,s,a)}else hm(S)?(s.flags|=192,s.child=e.child,s=null):(e=D.treeContext,ee=zn(S.nextSibling),Ge=s,Lt=!0,Ds=null,kn=!1,e!==null&&By(s,e),s=Vd(s,l.children),s.flags|=4096);return s}return f?(Ls(),S=l.fallback,f=s.mode,D=e.child,B=D.sibling,l=Qi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?S=Qi(B,S):(S=zr(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,Cl(null,l),l=s.child,S=e.child.memoizedState,S===null?S=Dd(a):(f=S.cachePool,f!==null?(D=Re._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Ky(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Md(e,_,a),s.memoizedState=Id,Cl(e.child,l)):(Ps(s),a=e.child,e=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(_=s.deletions,_===null?(s.deletions=[e],s.flags|=16):_.push(e)),s.child=a,s.memoizedState=null,a)}function Vd(e,s){return s=Pc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Pc(e,s){return e=Sn(22,e,null,s),e.lanes=0,e}function Od(e,s,a){return Kr(s,e.child,null,a),e=Vd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function r_(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),Yf(e.return,s,a)}function Nd(e,s,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function a_(e,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ge.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,at(ge,_),Ye(e,s,l,a),l=Lt?ml:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&r_(e,a,s);else if(e.tag===19)r_(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&Ac(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Nd(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&Ac(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Nd(s,!0,a,null,d,l);break;case"together":Nd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ts(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),zs|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(Ua(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Qi(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Qi(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function xd(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&pc(e)))}function Xw(e,s,a){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),Vs(s,Re,e.memoizedState.cache),Br();break;case 27:case 5:Tr(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:Vs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,rd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ps(s),s.flags|=128,null):(a&s.child.childLanes)!==0?s_(e,s,a):(Ps(s),e=ts(e,s,a),e!==null?e.sibling:null);Ps(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ua(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return a_(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(ge,ge.current),l)break;return null;case 22:return s.lanes=0,Jv(e,s,a,s.pendingProps);case 24:Vs(s,Re,e.memoizedState.cache)}return ts(e,s,a)}function o_(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Ie=!0;else{if(!xd(e,a)&&(s.flags&128)===0)return Ie=!1,Xw(e,s,a);Ie=(e.flags&131072)!==0}else Ie=!1,Lt&&(s.flags&1048576)!==0&&zy(s,ml,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(e=qr(s.elementType),s.type=e,typeof e=="function")zf(e)?(l=Qr(e,l),s.tag=1,s=n_(null,s,e,l,a)):(s.tag=0,s=Cd(null,s,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===rt){s.tag=11,s=Xv(null,s,e,l,a);break t}else if(f===R){s.tag=14,s=$v(null,s,e,l,a);break t}}throw s=Wt(e)||e,Error(r(306,s,""))}}return s;case 0:return Cd(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Qr(l,s.pendingProps),n_(e,s,l,f,a);case 3:t:{if(xe(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,td(e,s),Sl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Vs(s,Re,l),l!==d.cache&&Qf(s,[Re],a,!0),El(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=i_(e,s,l,a);break t}else if(l!==f){f=xn(Error(r(424)),s),pl(f),s=i_(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=zn(e.firstChild),Ge=s,Lt=!0,Ds=null,kn=!0,a=Jy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Br(),l===f){s=ts(e,s,a);break t}Ye(e,s,l,a)}s=s.child}return s;case 26:return xc(e,s),e===null?(a=vT(s.type,null,s.pendingProps,null))?s.memoizedState=a:Lt||(a=s.type,e=s.pendingProps,l=Zc(It.current).createElement(a),l[Ae]=s,l[ze]=e,Qe(l,a,e),be(l),s.stateNode=l):s.memoizedState=vT(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Tr(s),e===null&&Lt&&(l=s.stateNode=pT(s.type,s.pendingProps,It.current),Ge=s,kn=!0,f=ee,qs(s.type)?(dm=f,ee=zn(l.firstChild)):ee=f),Ye(e,s,s.pendingProps.children,a),xc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Lt&&((f=l=ee)&&(l=wR(l,s.type,s.pendingProps,kn),l!==null?(s.stateNode=l,Ge=s,ee=zn(l.firstChild),kn=!1,f=!0):f=!1),f||Ms(s)),Tr(s),f=s.type,d=s.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,lm(f,d)?l=null:_!==null&&lm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=od(e,s,Bw,null,null,a),Hl._currentValue=f),xc(e,s),Ye(e,s,l,a),s.child;case 6:return e===null&&Lt&&((e=a=ee)&&(a=RR(a,s.pendingProps,kn),a!==null?(s.stateNode=a,Ge=s,ee=null,e=!0):e=!1),e||Ms(s)),null;case 13:return s_(e,s,a);case 4:return xe(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Kr(s,null,l,a):Ye(e,s,l,a),s.child;case 11:return Xv(e,s,s.type,s.pendingProps,a);case 7:return Ye(e,s,s.pendingProps,a),s.child;case 8:return Ye(e,s,s.pendingProps.children,a),s.child;case 12:return Ye(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Vs(s,s.type,l.value),Ye(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Hr(s),f=Ke(f),l=l(f),s.flags|=1,Ye(e,s,l,a),s.child;case 14:return $v(e,s,s.type,s.pendingProps,a);case 15:return Zv(e,s,s.type,s.pendingProps,a);case 19:return a_(e,s,a);case 31:return Qw(e,s,a);case 22:return Jv(e,s,a,s.pendingProps);case 24:return Hr(s),l=Ke(Re),e===null?(f=Zf(),f===null&&(f=te,d=Xf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Wf(s),Vs(s,Re,f)):((e.lanes&a)!==0&&(td(e,s),Sl(s,null,null,a),El()),f=e.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Vs(s,Re,l)):(l=d.cache,Vs(s,Re,l),l!==f.cache&&Qf(s,[Re],a,!0))),Ye(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function es(e){e.flags|=4}function Pd(e,s,a,l,f){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(x_())e.flags|=8192;else throw Gr=_c,Jf}else e.flags&=-16777217}function l_(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!AT(s))if(x_())e.flags|=8192;else throw Gr=_c,Jf}function Lc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Hu():536870912,e.lanes|=s,$a|=s)}function Il(e,s){if(!Lt)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function $w(e,s,a){var l=s.pendingProps;switch(Ff(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(s),null;case 1:return ne(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Zi(Re),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ka(s)?es(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Gf())),ne(s),null;case 26:var f=s.type,d=s.memoizedState;return e===null?(es(s),d!==null?(ne(s),l_(s,d)):(ne(s),Pd(s,f,null,l,a))):d?d!==e.memoizedState?(es(s),ne(s),l_(s,d)):(ne(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&es(s),ne(s),Pd(s,f,e,l,a)),null;case 27:if(pa(s),a=It.current,f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&es(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ne(s),null}e=ut.current,ka(s)?jy(s):(e=pT(f,l,a),s.stateNode=e,es(s))}return ne(s),null;case 5:if(pa(s),f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&es(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ne(s),null}if(d=ut.current,ka(s))jy(s);else{var _=Zc(It.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Ae]=s,d[ze]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(Qe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&es(s)}}return ne(s),Pd(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&es(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=It.current,ka(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=Ge,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ae]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||sT(e.nodeValue,a)),e||Ms(s,!0)}else e=Zc(e).createTextNode(l),e[Ae]=s,s.stateNode=e}return ne(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=ka(s),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ae]=s}else Br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ne(s),e=!1}else a=Gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(bn(s),s):(bn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ne(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=ka(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ae]=s}else Br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ne(s),f=!1}else f=Gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(bn(s),s):(bn(s),null)}return bn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),Lc(s,s.updateQueue),ne(s),null);case 4:return ie(),e===null&&im(s.stateNode.containerInfo),ne(s),null;case 10:return Zi(s.type),ne(s),null;case 19:if(J(ge),l=s.memoizedState,l===null)return ne(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Il(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(d=Ac(e),d!==null){for(s.flags|=128,Il(l,!1),e=d.updateQueue,s.updateQueue=e,Lc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)Ly(a,e),a=a.sibling;return at(ge,ge.current&1|2),Lt&&Xi(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&rn()>jc&&(s.flags|=128,f=!0,Il(l,!1),s.lanes=4194304)}else{if(!f)if(e=Ac(d),e!==null){if(s.flags|=128,f=!0,e=e.updateQueue,s.updateQueue=e,Lc(s,e),Il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Lt)return ne(s),null}else 2*rn()-l.renderingStartTime>jc&&a!==536870912&&(s.flags|=128,f=!0,Il(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(e=l.last,e!==null?e.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rn(),e.sibling=null,a=ge.current,at(ge,f?a&1|2:a&1),Lt&&Xi(s,l.treeForkCount),e):(ne(s),null);case 22:case 23:return bn(s),sd(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ne(s),s.subtreeFlags&6&&(s.flags|=8192)):ne(s),a=s.updateQueue,a!==null&&Lc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&J(Fr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Zi(Re),ne(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Zw(e,s){switch(Ff(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Zi(Re),ie(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return pa(s),null;case 31:if(s.memoizedState!==null){if(bn(s),s.alternate===null)throw Error(r(340));Br()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(bn(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Br()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return J(ge),null;case 4:return ie(),null;case 10:return Zi(s.type),null;case 22:case 23:return bn(s),sd(),e!==null&&J(Fr),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Zi(Re),null;case 25:return null;default:return null}}function u_(e,s){switch(Ff(s),s.tag){case 3:Zi(Re),ie();break;case 26:case 27:case 5:pa(s);break;case 4:ie();break;case 31:s.memoizedState!==null&&bn(s);break;case 13:bn(s);break;case 19:J(ge);break;case 10:Zi(s.type);break;case 22:case 23:bn(s),sd(),e!==null&&J(Fr);break;case 24:Zi(Re)}}function Dl(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Qt(s,s.return,S)}}function ks(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=s;var D=a,B=S;try{B()}catch(K){Qt(f,D,K)}}}l=l.next}while(l!==d)}}catch(K){Qt(s,s.return,K)}}function c_(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{tv(s,a)}catch(l){Qt(e,e.return,l)}}}function h_(e,s,a){a.props=Qr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(e,s,l)}}function Ml(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Qt(e,s,f)}}function Ii(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Qt(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Qt(e,s,f)}else a.current=null}function f_(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Qt(e,e.return,f)}}function Ld(e,s,a){try{var l=e.stateNode;_R(l,e.type,a,s),l[ze]=s}catch(f){Qt(e,e.return,f)}}function d_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qs(e.type)||e.tag===4}function kd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||d_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ud(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=$n));else if(l!==4&&(l===27&&qs(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(Ud(e,s,a),e=e.sibling;e!==null;)Ud(e,s,a),e=e.sibling}function kc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&qs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(kc(e,s,a),e=e.sibling;e!==null;)kc(e,s,a),e=e.sibling}function m_(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Qe(s,l,a),s[Ae]=e,s[ze]=a}catch(d){Qt(e,e.return,d)}}var ns=!1,De=!1,zd=!1,p_=typeof WeakSet=="function"?WeakSet:Set,je=null;function Jw(e,s){if(e=e.containerInfo,am=sh,e=Cy(e),Of(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,D=-1,B=0,K=0,$=e,j=null;e:for(;;){for(var q;$!==a||f!==0&&$.nodeType!==3||(S=_+f),$!==d||l!==0&&$.nodeType!==3||(D=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(q=$.firstChild)!==null;)j=$,$=q;for(;;){if($===e)break e;if(j===a&&++B===f&&(S=_),j===d&&++K===l&&(D=_),(q=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=q}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(om={focusedElem:e,selectionRange:a},sh=!1,je=s;je!==null;)if(s=je,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,je=e;else for(;je!==null;){switch(s=je,d=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ft=Qr(a.type,f);e=l.getSnapshotBeforeUpdate(ft,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Qt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)cm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,je=e;break}je=s.return}}function g_(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ss(e,a),l&4&&Dl(5,a);break;case 1:if(ss(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(_){Qt(a,a.return,_)}else{var f=Qr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Qt(a,a.return,_)}}l&64&&c_(a),l&512&&Ml(a,a.return);break;case 3:if(ss(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{tv(e,s)}catch(_){Qt(a,a.return,_)}}break;case 27:s===null&&l&4&&m_(a);case 26:case 5:ss(e,a),s===null&&l&4&&f_(a),l&512&&Ml(a,a.return);break;case 12:ss(e,a);break;case 31:ss(e,a),l&4&&__(e,a);break;case 13:ss(e,a),l&4&&T_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=oR.bind(null,a),CR(e,a))));break;case 22:if(l=a.memoizedState!==null||ns,!l){s=s!==null&&s.memoizedState!==null||De,f=ns;var d=De;ns=l,(De=s)&&!d?rs(e,a,(a.subtreeFlags&8772)!==0):ss(e,a),ns=f,De=d}break;case 30:break;default:ss(e,a)}}function y_(e){var s=e.alternate;s!==null&&(e.alternate=null,y_(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Ta(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,fn=!1;function is(e,s,a){for(a=a.child;a!==null;)v_(e,s,a),a=a.sibling}function v_(e,s,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:De||Ii(a,s),is(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Ii(a,s);var l=re,f=fn;qs(a.type)&&(re=a.stateNode,fn=!1),is(e,s,a),zl(a.stateNode),re=l,fn=f;break;case 5:De||Ii(a,s);case 6:if(l=re,f=fn,re=null,is(e,s,a),re=l,fn=f,re!==null)if(fn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(d){Qt(a,s,d)}else try{re.removeChild(a.stateNode)}catch(d){Qt(a,s,d)}break;case 18:re!==null&&(fn?(e=re,cT(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),so(e)):cT(re,a.stateNode));break;case 4:l=re,f=fn,re=a.stateNode.containerInfo,fn=!0,is(e,s,a),re=l,fn=f;break;case 0:case 11:case 14:case 15:ks(2,a,s),De||ks(4,a,s),is(e,s,a);break;case 1:De||(Ii(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&h_(a,s,l)),is(e,s,a);break;case 21:is(e,s,a);break;case 22:De=(l=De)||a.memoizedState!==null,is(e,s,a),De=l;break;default:is(e,s,a)}}function __(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{so(e)}catch(a){Qt(s,s.return,a)}}}function T_(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{so(e)}catch(a){Qt(s,s.return,a)}}function Ww(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new p_),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new p_),s;default:throw Error(r(435,e.tag))}}function Uc(e,s){var a=Ww(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=lR.bind(null,e,l);l.then(f,f)}})}function dn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=s,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(qs(S.type)){re=S.stateNode,fn=!1;break t}break;case 5:re=S.stateNode,fn=!1;break t;case 3:case 4:re=S.stateNode.containerInfo,fn=!0;break t}S=S.return}if(re===null)throw Error(r(160));v_(d,_,f),re=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)E_(s,e),s=s.sibling}var ni=null;function E_(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(s,e),mn(e),l&4&&(ks(3,e,e.return),Dl(3,e),ks(5,e,e.return));break;case 1:dn(s,e),mn(e),l&512&&(De||a===null||Ii(a,a.return)),l&64&&ns&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(dn(s,e),mn(e),l&512&&(De||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[mi]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qe(d,l,a),d[Ae]=e,be(d),l=d;break t;case"link":var _=ET("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),Qe(d,l,a),f.head.appendChild(d);break;case"meta":if(_=ET("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=f.createElement(l),Qe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ae]=e,be(d),l=d}e.stateNode=l}else ST(f,e.type,e.stateNode);else e.stateNode=TT(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ST(f,e.type,e.stateNode):TT(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ld(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(s,e),mn(e),l&512&&(De||a===null||Ii(a,a.return)),a!==null&&l&4&&Ld(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(s,e),mn(e),l&512&&(De||a===null||Ii(a,a.return)),e.flags&32){f=e.stateNode;try{hn(f,"")}catch(ft){Qt(e,e.return,ft)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Ld(e,f,a!==null?a.memoizedProps:f)),l&1024&&(zd=!0);break;case 6:if(dn(s,e),mn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ft){Qt(e,e.return,ft)}}break;case 3:if(th=null,f=ni,ni=Jc(s.containerInfo),dn(s,e),ni=f,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{so(s.containerInfo)}catch(ft){Qt(e,e.return,ft)}zd&&(zd=!1,S_(e));break;case 4:l=ni,ni=Jc(e.stateNode.containerInfo),dn(s,e),mn(e),ni=l;break;case 12:dn(s,e),mn(e);break;case 31:dn(s,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Uc(e,l)));break;case 13:dn(s,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bc=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Uc(e,l)));break;case 22:f=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=ns,K=De;if(ns=B||f,De=K||D,dn(s,e),De=K,ns=B,mn(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||ns||De||Xr(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var $=D.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;S.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ft){Qt(D,D.return,ft)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ft){Qt(D,D.return,ft)}}}else if(s.tag===18){if(a===null){D=s;try{var q=D.stateNode;f?hT(q,!0):hT(D.stateNode,!1)}catch(ft){Qt(D,D.return,ft)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Uc(e,a))));break;case 19:dn(s,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Uc(e,l)));break;case 30:break;case 21:break;default:dn(s,e),mn(e)}}function mn(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(d_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=kd(e);kc(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var S=kd(e);kc(e,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=kd(e);Ud(e,B,D);break;default:throw Error(r(161))}}catch(K){Qt(e,e.return,K)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function S_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;S_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function ss(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)g_(e,s.alternate,s),s=s.sibling}function Xr(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:ks(4,s,s.return),Xr(s);break;case 1:Ii(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&h_(s,s.return,a),Xr(s);break;case 27:zl(s.stateNode);case 26:case 5:Ii(s,s.return),Xr(s);break;case 22:s.memoizedState===null&&Xr(s);break;case 30:Xr(s);break;default:Xr(s)}e=e.sibling}}function rs(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:rs(f,d,a),Dl(4,d);break;case 1:if(rs(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Qt(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Wy(D[f],S)}catch(B){Qt(l,l.return,B)}}a&&_&64&&c_(d),Ml(d,d.return);break;case 27:m_(d);case 26:case 5:rs(f,d,a),a&&l===null&&_&4&&f_(d),Ml(d,d.return);break;case 12:rs(f,d,a);break;case 31:rs(f,d,a),a&&_&4&&__(f,d);break;case 13:rs(f,d,a),a&&_&4&&T_(f,d);break;case 22:d.memoizedState===null&&rs(f,d,a),Ml(d,d.return);break;case 30:break;default:rs(f,d,a)}s=s.sibling}}function Bd(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&gl(a))}function jd(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&gl(e))}function ii(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)A_(e,s,a,l),s=s.sibling}function A_(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ii(e,s,a,l),f&2048&&Dl(9,s);break;case 1:ii(e,s,a,l);break;case 3:ii(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&gl(e)));break;case 12:if(f&2048){ii(e,s,a,l),e=s.stateNode;try{var d=s.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Qt(s,s.return,D)}}else ii(e,s,a,l);break;case 31:ii(e,s,a,l);break;case 13:ii(e,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?ii(e,s,a,l):Vl(e,s):d._visibility&2?ii(e,s,a,l):(d._visibility|=2,Ya(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Bd(_,s);break;case 24:ii(e,s,a,l),f&2048&&jd(s.alternate,s);break;default:ii(e,s,a,l)}}function Ya(e,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=e,_=s,S=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ya(d,_,S,D,f),Dl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ya(d,_,S,D,f):Vl(d,_):(K._visibility|=2,Ya(d,_,S,D,f)),f&&B&2048&&Bd(_.alternate,_);break;case 24:Ya(d,_,S,D,f),f&&B&2048&&jd(_.alternate,_);break;default:Ya(d,_,S,D,f)}s=s.sibling}}function Vl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:Vl(a,l),f&2048&&Bd(l.alternate,l);break;case 24:Vl(a,l),f&2048&&jd(l.alternate,l);break;default:Vl(a,l)}s=s.sibling}}var Ol=8192;function Qa(e,s,a){if(e.subtreeFlags&Ol)for(e=e.child;e!==null;)b_(e,s,a),e=e.sibling}function b_(e,s,a){switch(e.tag){case 26:Qa(e,s,a),e.flags&Ol&&e.memoizedState!==null&&zR(a,ni,e.memoizedState,e.memoizedProps);break;case 5:Qa(e,s,a);break;case 3:case 4:var l=ni;ni=Jc(e.stateNode.containerInfo),Qa(e,s,a),ni=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,Qa(e,s,a),Ol=l):Qa(e,s,a));break;default:Qa(e,s,a)}}function w_(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Nl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];je=l,C_(l,e)}w_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)R_(e),e=e.sibling}function R_(e){switch(e.tag){case 0:case 11:case 15:Nl(e),e.flags&2048&&ks(9,e,e.return);break;case 3:Nl(e);break;case 12:Nl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,zc(e)):Nl(e);break;default:Nl(e)}}function zc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];je=l,C_(l,e)}w_(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:ks(8,s,s.return),zc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,zc(s));break;default:zc(s)}e=e.sibling}}function C_(e,s){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:ks(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=e;je!==null;){l=je;var f=l.sibling,d=l.return;if(y_(l),l===a){je=null;break t}if(f!==null){f.return=d,je=f;break t}je=d}}}var tR={getCacheForType:function(e){var s=Ke(Re),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return Ke(Re).controller.signal}},eR=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,Mt=null,Nt=0,Yt=0,wn=null,Us=!1,Xa=!1,Hd=!1,as=0,fe=0,zs=0,$r=0,Fd=0,Rn=0,$a=0,xl=null,pn=null,qd=!1,Bc=0,I_=0,jc=1/0,Hc=null,Bs=null,Le=0,js=null,Za=null,os=0,Gd=0,Kd=null,D_=null,Pl=0,Yd=null;function Cn(){return(Gt&2)!==0&&Nt!==0?Nt&-Nt:Y.T!==null?Wd():Fu()}function M_(){if(Rn===0)if((Nt&536870912)===0||Lt){var e=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),Rn=e}else Rn=536870912;return e=An.current,e!==null&&(e.flags|=32),Rn}function gn(e,s,a){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ja(e,0),Hs(e,Nt,Rn,!1)),br(e,a),((Gt&2)===0||e!==te)&&(e===te&&((Gt&2)===0&&($r|=a),fe===4&&Hs(e,Nt,Rn,!1)),Di(e))}function V_(e,s,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||Yn(e,s),f=l?sR(e,s):Xd(e,s,!0),d=l;do{if(f===0){Xa&&!l&&Hs(e,s,0,!1);break}else{if(a=e.current.alternate,d&&!nR(a)){f=Xd(e,s,!1),d=!1;continue}if(f===2){if(d=s,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var S=e;f=xl;var D=S.current.memoizedState.isDehydrated;if(D&&(Ja(S,_).flags|=256),_=Xd(S,_,!1),_!==2){if(Hd&&!D){S.errorRecoveryDisabledLanes|=d,$r|=d,f=4;break t}d=pn,pn=f,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ja(e,0),Hs(e,s,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Hs(l,s,Rn,!Us);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Bc+300-rn(),10<f)){if(Hs(l,s,Rn,!Us),hi(l,0,!0)!==0)break t;os=s,l.timeoutHandle=lT(O_.bind(null,l,a,pn,Hc,qd,s,Rn,$r,$a,Us,d,"Throttled",-0,0),f);break t}O_(l,a,pn,Hc,qd,s,Rn,$r,$a,Us,d,null,-0,0)}}break}while(!0);Di(e)}function O_(e,s,a,l,f,d,_,S,D,B,K,$,j,q){if(e.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},b_(s,d,$);var ft=(d&62914560)===d?Bc-rn():(d&4194048)===d?I_-rn():0;if(ft=BR($,ft),ft!==null){os=d,e.cancelPendingCommit=ft(B_.bind(null,e,s,d,a,l,f,_,S,D,K,$,null,j,q)),Hs(e,d,_,!B);return}}B_(e,s,d,a,l,f,_,S,D)}function nR(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!En(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hs(e,s,a,l){s&=~Fd,s&=~$r,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var d=31-me(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&wr(e,a,s)}function Fc(){return(Gt&6)===0?(Ll(0),!1):!0}function Qd(){if(Mt!==null){if(Yt===0)var e=Mt.return;else e=Mt,$i=jr=null,cd(e),Ha=null,vl=0,e=Mt;for(;e!==null;)u_(e.alternate,e),e=e.return;Mt=null}}function Ja(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,SR(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),os=0,Qd(),te=e,Mt=a=Qi(e.current,null),Nt=s,Yt=0,wn=null,Us=!1,Xa=Yn(e,s),Hd=!1,$a=Rn=Fd=$r=zs=fe=0,pn=xl=null,qd=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-me(l),d=1<<f;s|=e[f],l&=~d}return as=s,cc(),a}function N_(e,s){Rt=null,Y.H=Rl,s===ja||s===vc?(s=Xy(),Yt=3):s===Jf?(s=Xy(),Yt=4):Yt=s===Rd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wn=s,Mt===null&&(fe=1,Oc(e,xn(s,e.current)))}function x_(){var e=An.current;return e===null?!0:(Nt&4194048)===Nt?Un===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Un:!1}function P_(){var e=Y.H;return Y.H=Rl,e===null?Rl:e}function L_(){var e=Y.A;return Y.A=tR,e}function qc(){fe=4,Us||(Nt&4194048)!==Nt&&An.current!==null||(Xa=!0),(zs&134217727)===0&&($r&134217727)===0||te===null||Hs(te,Nt,Rn,!1)}function Xd(e,s,a){var l=Gt;Gt|=2;var f=P_(),d=L_();(te!==e||Nt!==s)&&(Hc=null,Ja(e,s)),s=!1;var _=fe;t:do try{if(Yt!==0&&Mt!==null){var S=Mt,D=wn;switch(Yt){case 8:Qd(),_=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(s=!0);var B=Yt;if(Yt=0,wn=null,Wa(e,S,D,B),a&&Xa){_=0;break t}break;default:B=Yt,Yt=0,wn=null,Wa(e,S,D,B)}}iR(),_=fe;break}catch(K){N_(e,K)}while(!0);return s&&e.shellSuspendCounter++,$i=jr=null,Gt=l,Y.H=f,Y.A=d,Mt===null&&(te=null,Nt=0,cc()),_}function iR(){for(;Mt!==null;)k_(Mt)}function sR(e,s){var a=Gt;Gt|=2;var l=P_(),f=L_();te!==e||Nt!==s?(Hc=null,jc=rn()+500,Ja(e,s)):Xa=Yn(e,s);t:do try{if(Yt!==0&&Mt!==null){s=Mt;var d=wn;e:switch(Yt){case 1:Yt=0,wn=null,Wa(e,s,d,1);break;case 2:case 9:if(Yy(d)){Yt=0,wn=null,U_(s);break}s=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),Di(e)},d.then(s,s);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Yy(d)?(Yt=0,wn=null,U_(s)):(Yt=0,wn=null,Wa(e,s,d,7));break;case 5:var _=null;switch(Mt.tag){case 26:_=Mt.memoizedState;case 5:case 27:var S=Mt;if(_?AT(_):S.stateNode.complete){Yt=0,wn=null;var D=S.sibling;if(D!==null)Mt=D;else{var B=S.return;B!==null?(Mt=B,Gc(B)):Mt=null}break e}}Yt=0,wn=null,Wa(e,s,d,5);break;case 6:Yt=0,wn=null,Wa(e,s,d,6);break;case 8:Qd(),fe=6;break t;default:throw Error(r(462))}}rR();break}catch(K){N_(e,K)}while(!0);return $i=jr=null,Y.H=l,Y.A=f,Gt=a,Mt!==null?0:(te=null,Nt=0,cc(),fe)}function rR(){for(;Mt!==null&&!wf();)k_(Mt)}function k_(e){var s=o_(e.alternate,e,as);e.memoizedProps=e.pendingProps,s===null?Gc(e):Mt=s}function U_(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=e_(a,s,s.pendingProps,s.type,void 0,Nt);break;case 11:s=e_(a,s,s.pendingProps,s.type.render,s.ref,Nt);break;case 5:cd(s);default:u_(a,s),s=Mt=Ly(s,as),s=o_(a,s,as)}e.memoizedProps=e.pendingProps,s===null?Gc(e):Mt=s}function Wa(e,s,a,l){$i=jr=null,cd(s),Ha=null,vl=0;var f=s.return;try{if(Yw(e,f,s,a,Nt)){fe=1,Oc(e,xn(a,e.current)),Mt=null;return}}catch(d){if(f!==null)throw Mt=f,d;fe=1,Oc(e,xn(a,e.current)),Mt=null;return}s.flags&32768?(Lt||l===1?e=!0:Xa||(Nt&536870912)!==0?e=!1:(Us=e=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),z_(s,e)):Gc(s)}function Gc(e){var s=e;do{if((s.flags&32768)!==0){z_(s,Us);return}e=s.return;var a=$w(s.alternate,s,as);if(a!==null){Mt=a;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=e}while(s!==null);fe===0&&(fe=5)}function z_(e,s){do{var a=Zw(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);fe=6,Mt=null}function B_(e,s,a,l,f,d,_,S,D){e.cancelPendingCommit=null;do Kc();while(Le!==0);if((Gt&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=kf,If(e,a,d,_,S,D),e===te&&(Mt=te=null,Nt=0),Za=s,js=e,os=a,Gd=d,Kd=f,D_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uR(vs,function(){return G_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=et.p,et.p=2,_=Gt,Gt|=4;try{Jw(e,s,a)}finally{Gt=_,et.p=f,Y.T=l}}Le=1,j_(),H_(),F_()}}function j_(){if(Le===1){Le=0;var e=js,s=Za,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=et.p;et.p=2;var f=Gt;Gt|=4;try{E_(s,e);var d=om,_=Cy(e.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Ry(S.ownerDocument.documentElement,S)){if(D!==null&&Of(S)){var B=D.start,K=D.end;if(K===void 0&&(K=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(K,S.value.length);else{var $=S.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var q=j.getSelection(),ft=S.textContent.length,yt=Math.min(D.start,ft),Jt=D.end===void 0?yt:Math.min(D.end,ft);!q.extend&&yt>Jt&&(_=Jt,Jt=yt,yt=_);var P=wy(S,yt),O=wy(S,Jt);if(P&&O&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var z=$.createRange();z.setStart(P.node,P.offset),q.removeAllRanges(),yt>Jt?(q.addRange(z),q.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),q.addRange(z))}}}}for($=[],q=S;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<$.length;S++){var X=$[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}sh=!!am,om=am=null}finally{Gt=f,et.p=l,Y.T=a}}e.current=s,Le=2}}function H_(){if(Le===2){Le=0;var e=js,s=Za,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=et.p;et.p=2;var f=Gt;Gt|=4;try{g_(e,s.alternate,s)}finally{Gt=f,et.p=l,Y.T=a}}Le=3}}function F_(){if(Le===4||Le===3){Le=0,Lu();var e=js,s=Za,a=os,l=D_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Le=5:(Le=0,Za=js=null,q_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Bs=null),qi(a),s=s.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Kn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Y.T,f=et.p,et.p=2,Y.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=s,et.p=f}}(os&3)!==0&&Kc(),Di(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Yd?Pl++:(Pl=0,Yd=e):Pl=0,Ll(0)}}function q_(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,gl(s)))}function Kc(){return j_(),H_(),F_(),G_()}function G_(){if(Le!==5)return!1;var e=js,s=Gd;Gd=0;var a=qi(os),l=Y.T,f=et.p;try{et.p=32>a?32:a,Y.T=null,a=Kd,Kd=null;var d=js,_=os;if(Le=0,Za=js=null,os=0,(Gt&6)!==0)throw Error(r(331));var S=Gt;if(Gt|=4,R_(d.current),A_(d,d.current,_,a),Gt=S,Ll(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{et.p=f,Y.T=l,q_(e,s)}}function K_(e,s,a){s=xn(a,s),s=wd(e.stateNode,s,2),e=xs(e,s,2),e!==null&&(br(e,2),Di(e))}function Qt(e,s,a){if(e.tag===3)K_(e,e,a);else for(;s!==null;){if(s.tag===3){K_(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bs===null||!Bs.has(l))){e=xn(a,e),a=Yv(2),l=xs(s,a,2),l!==null&&(Qv(a,l,s,e),br(l,2),Di(l));break}}s=s.return}}function $d(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new eR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Hd=!0,f.add(a),e=aR.bind(null,e,s,a),s.then(e,e))}function aR(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Nt&a)===a&&(fe===4||fe===3&&(Nt&62914560)===Nt&&300>rn()-Bc?(Gt&2)===0&&Ja(e,0):Fd|=a,$a===Nt&&($a=0)),Di(e)}function Y_(e,s){s===0&&(s=Hu()),e=Ur(e,s),e!==null&&(br(e,s),Di(e))}function oR(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Y_(e,a)}function lR(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Y_(e,a)}function uR(e,s){return Pe(e,s)}var Yc=null,to=null,Zd=!1,Qc=!1,Jd=!1,Fs=0;function Di(e){e!==to&&e.next===null&&(to===null?Yc=to=e:to=to.next=e),Qc=!0,Zd||(Zd=!0,hR())}function Ll(e,s){if(!Jd&&Qc){Jd=!0;do for(var a=!1,l=Yc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-me(42|e)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Z_(l,d))}else d=Nt,d=hi(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,Z_(l,d));l=l.next}while(a);Jd=!1}}function cR(){Q_()}function Q_(){Qc=Zd=!1;var e=0;Fs!==0&&ER()&&(e=Fs);for(var s=rn(),a=null,l=Yc;l!==null;){var f=l.next,d=X_(l,s);d===0?(l.next=null,a===null?Yc=f:a.next=f,f===null&&(to=a)):(a=l,(e!==0||(d&3)!==0)&&(Qc=!0)),l=f}Le!==0&&Le!==5||Ll(e),Fs!==0&&(Fs=0)}function X_(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-me(d),S=1<<_,D=f[_];D===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Cf(S,s)):D<=s&&(e.expiredLanes|=S),d&=~S}if(s=te,a=Nt,a=hi(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ys(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yn(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&ys(l),qi(a)){case 2:case 8:a=Ko;break;case 32:a=vs;break;case 268435456:a=ku;break;default:a=vs}return l=$_.bind(null,e),a=Pe(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&ys(l),e.callbackPriority=2,e.callbackNode=null,2}function $_(e,s){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Kc()&&e.callbackNode!==a)return null;var l=Nt;return l=hi(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(V_(e,l,s),X_(e,rn()),e.callbackNode!=null&&e.callbackNode===a?$_.bind(null,e):null)}function Z_(e,s){if(Kc())return null;V_(e,s,!0)}function hR(){AR(function(){(Gt&6)!==0?Pe(Go,cR):Q_()})}function Wd(){if(Fs===0){var e=za;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Fs=e}return Fs}function J_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ba(""+e)}function W_(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function fR(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=J_((f[ze]||null).action),_=l.submitter;_&&(s=(s=_[ze]||null)?J_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var S=new Si("action","action",null,l,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var D=_?W_(f,_):new FormData(f);_d(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?W_(f,_):new FormData(f),_d(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var tm=0;tm<Lf.length;tm++){var em=Lf[tm],dR=em.toLowerCase(),mR=em[0].toUpperCase()+em.slice(1);ei(dR,"on"+mR)}ei(My,"onAnimationEnd"),ei(Vy,"onAnimationIteration"),ei(Oy,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(Mw,"onTransitionRun"),ei(Vw,"onTransitionStart"),ei(Ow,"onTransitionCancel"),ei(Ny,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function tT(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,B=S.currentTarget;if(S=S.listener,D!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=B;try{d(f)}catch(K){uc(K)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,B=S.currentTarget,S=S.listener,D!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=B;try{d(f)}catch(K){uc(K)}f.currentTarget=null,d=D}}}}function Vt(e,s){var a=s[_a];a===void 0&&(a=s[_a]=new Set);var l=e+"__bubble";a.has(l)||(eT(s,e,2,!1),a.add(l))}function nm(e,s,a){var l=0;s&&(l|=4),eT(a,e,l,s)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function im(e){if(!e[Xc]){e[Xc]=!0,Xo.forEach(function(a){a!=="selectionchange"&&(pR.has(a)||nm(a,!1,e),nm(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Xc]||(s[Xc]=!0,nm("selectionchange",!1,s))}}function eT(e,s,a,l){switch(MT(s)){case 2:var f=FR;break;case 8:f=qR;break;default:f=vm}a=f.bind(null,s,a,e),f=void 0,!Mr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function sm(e,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=pi(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}S=S.parentNode}}l=l.return}bs(function(){var B=d,K=Mn(a),$=[];t:{var j=xy.get(e);if(j!==void 0){var q=Si,ft=e;switch(e){case"keypress":if(Or(a)===0)break t;case"keydown":case"keyup":q=ac;break;case"focusin":ft="focus",q=xr;break;case"focusout":ft="blur",q=xr;break;case"beforeblur":case"afterblur":q=xr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=y;break;case My:case Vy:case Oy:q=Wu;break;case Ny:q=b;break;case"scroll":case"scrollend":q=ol;break;case"wheel":q=F;break;case"copy":case"cut":case"paste":q=tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Yi;break;case"toggle":case"beforetoggle":q=wt}var yt=(s&4)!==0,Jt=!yt&&(e==="scroll"||e==="scrollend"),P=yt?j!==null?j+"Capture":null:j;yt=[];for(var O=B,z;O!==null;){var X=O;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||P===null||(X=Zn(O,P),X!=null&&yt.push(Ul(O,X,z))),Jt)break;O=O.return}0<yt.length&&(j=new q(j,ft,null,a,K),$.push({event:j,listeners:yt}))}}if((s&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==sl&&(ft=a.relatedTarget||a.fromElement)&&(pi(ft)||ft[di]))break t;if((q||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ft=a.relatedTarget||a.toElement,q=B,ft=ft?pi(ft):null,ft!==null&&(Jt=u(ft),yt=ft.tag,ft!==Jt||yt!==5&&yt!==27&&yt!==6)&&(ft=null)):(q=null,ft=B),q!==ft)){if(yt=ll,X="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Yi,X="onPointerLeave",P="onPointerEnter",O="pointer"),Jt=q==null?j:_n(q),z=ft==null?j:_n(ft),j=new yt(X,O+"leave",q,a,K),j.target=Jt,j.relatedTarget=z,X=null,pi(K)===B&&(yt=new yt(P,O+"enter",ft,a,K),yt.target=z,yt.relatedTarget=Jt,X=yt),Jt=X,q&&ft)e:{for(yt=gR,P=q,O=ft,z=0,X=P;X;X=yt(X))z++;X=0;for(var gt=O;gt;gt=yt(gt))X++;for(;0<z-X;)P=yt(P),z--;for(;0<X-z;)O=yt(O),X--;for(;z--;){if(P===O||O!==null&&P===O.alternate){yt=P;break e}P=yt(P),O=yt(O)}yt=null}else yt=null;q!==null&&nT($,j,q,yt,!1),ft!==null&&Jt!==null&&nT($,Jt,ft,yt,!0)}}t:{if(j=B?_n(B):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ht=_y;else if(yy(j))if(Ty)Ht=Cw;else{Ht=ww;var dt=bw}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Aa(B.elementType)&&(Ht=_y):Ht=Rw;if(Ht&&(Ht=Ht(e,B))){vy($,Ht,a,K);break t}dt&&dt(e,j,B),e==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&el(j,"number",j.value)}switch(dt=B?_n(B):window,e){case"focusin":(yy(dt)||dt.contentEditable==="true")&&(Va=dt,Nf=B,dl=null);break;case"focusout":dl=Nf=Va=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Iy($,a,K);break;case"selectionchange":if(Dw)break;case"keydown":case"keyup":Iy($,a,K)}var Dt;if(qt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else Ma?Pr(e,a)&&(xt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(wi&&a.locale!=="ko"&&(Ma||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Ma&&(Dt=al()):(Ei=K,rl="value"in Ei?Ei.value:Ei.textContent,Ma=!0)),dt=$c(B,xt),0<dt.length&&(xt=new bi(xt,e,null,a,K),$.push({event:xt,listeners:dt}),Dt?xt.data=Dt:(Dt=Da(a),Dt!==null&&(xt.data=Dt)))),(Dt=On?Tw(e,a):Ew(e,a))&&(xt=$c(B,"onBeforeInput"),0<xt.length&&(dt=new bi("onBeforeInput","beforeinput",null,a,K),$.push({event:dt,listeners:xt}),dt.data=Dt)),fR($,e,B,a,K)}tT($,s)})}function Ul(e,s,a){return{instance:e,listener:s,currentTarget:a}}function $c(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Zn(e,a),f!=null&&l.unshift(Ul(e,f,d)),f=Zn(e,s),f!=null&&l.push(Ul(e,f,d))),e.tag===3)return l;e=e.return}return[]}function gR(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nT(e,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,B=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||B===null||(D=B,f?(B=Zn(a,d),B!=null&&_.unshift(Ul(a,B,D))):f||(B=Zn(a,d),B!=null&&_.push(Ul(a,B,D)))),a=a.return}_.length!==0&&e.push({event:s,listeners:_})}var yR=/\r\n?/g,vR=/\u0000|\uFFFD/g;function iT(e){return(typeof e=="string"?e:""+e).replace(yR,`
`).replace(vR,"")}function sT(e,s){return s=iT(s),iT(e)===s}function Zt(e,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||hn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&hn(e,""+l);break;case"className":Tn(e,"class",l);break;case"tabIndex":Tn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,a,l);break;case"style":il(e,l,d);break;case"data":if(s!=="object"){Tn(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ba(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Zt(e,s,"name",f.name,f,null),Zt(e,s,"formEncType",f.formEncType,f,null),Zt(e,s,"formMethod",f.formMethod,f,null),Zt(e,s,"formTarget",f.formTarget,f,null)):(Zt(e,s,"encType",f.encType,f,null),Zt(e,s,"method",f.method,f,null),Zt(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ba(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ba(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Ea(e,"popover",l);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$u.get(a)||a,Ea(e,a,l))}}function rm(e,s,a,l,f,d){switch(a){case"style":il(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?hn(e,l):(typeof l=="number"||typeof l=="bigint")&&hn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=e[ze]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ea(e,a,l)}}}function Qe(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(e,s,d,_,a,null)}}f&&Zt(e,s,"srcSet",a.srcSet,a,null),l&&Zt(e,s,"src",a.src,a,null);return;case"input":Vt("invalid",e);var S=d=_=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":_=K;break;case"checked":D=K;break;case"defaultChecked":B=K;break;case"value":d=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:Zt(e,s,l,K,a,null)}}Yu(e,d,S,D,B,_,f,!1);return;case"select":Vt("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Zt(e,s,f,S,a,null)}s=d,a=_,e.multiple=!!l,s!=null?Ts(e,!!l,s,!1):a!=null&&Ts(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Zt(e,s,_,S,a,null)}Es(e,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(e,s,D,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<kl.length;l++)Vt(kl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(e,s,B,l,a,null)}return;default:if(Aa(s)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&rm(e,s,K,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Zt(e,s,S,l,a,null))}function _R(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,D=null,B=null,K=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(q)||Zt(e,s,q,null,l,$)}}for(var j in l){var q=l[j];if($=a[j],l.hasOwnProperty(j)&&(q!=null||$!=null))switch(j){case"type":d=q;break;case"name":f=q;break;case"checked":B=q;break;case"defaultChecked":K=q;break;case"value":_=q;break;case"defaultValue":S=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:q!==$&&Zt(e,s,j,q,l,$)}}Sa(e,_,S,D,B,K,d,f);return;case"select":q=_=S=j=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":q=D;default:l.hasOwnProperty(d)||Zt(e,s,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":j=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&Zt(e,s,f,d,l,D)}s=S,a=_,l=q,j!=null?Ts(e,!!a,j,!1):!!l!=!!a&&(s!=null?Ts(e,!!a,s,!0):Ts(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Zt(e,s,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":j=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Zt(e,s,_,f,l,d)}Qu(e,j,q);return;case"option":for(var ft in a)if(j=a[ft],a.hasOwnProperty(ft)&&j!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":e.selected=!1;break;default:Zt(e,s,ft,null,l,j)}for(D in l)if(j=l[D],q=a[D],l.hasOwnProperty(D)&&j!==q&&(j!=null||q!=null))switch(D){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Zt(e,s,D,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&Zt(e,s,yt,null,l,j);for(B in l)if(j=l[B],q=a[B],l.hasOwnProperty(B)&&j!==q&&(j!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:Zt(e,s,B,j,l,q)}return;default:if(Aa(s)){for(var Jt in a)j=a[Jt],a.hasOwnProperty(Jt)&&j!==void 0&&!l.hasOwnProperty(Jt)&&rm(e,s,Jt,void 0,l,j);for(K in l)j=l[K],q=a[K],!l.hasOwnProperty(K)||j===q||j===void 0&&q===void 0||rm(e,s,K,j,l,q);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!l.hasOwnProperty(P)&&Zt(e,s,P,null,l,j);for($ in l)j=l[$],q=a[$],!l.hasOwnProperty($)||j===q||j==null&&q==null||Zt(e,s,$,j,l,q)}function rT(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TR(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&rT(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>S)break;var K=D.transferSize,$=D.initiatorType;K&&rT($)&&(D=D.responseEnd,_+=K*(D<S?1:(S-B)/(D-B)))}if(--l,s+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var am=null,om=null;function Zc(e){return e.nodeType===9?e:e.ownerDocument}function aT(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oT(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function lm(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var um=null;function ER(){var e=window.event;return e&&e.type==="popstate"?e===um?!1:(um=e,!0):(um=null,!1)}var lT=typeof setTimeout=="function"?setTimeout:void 0,SR=typeof clearTimeout=="function"?clearTimeout:void 0,uT=typeof Promise=="function"?Promise:void 0,AR=typeof queueMicrotask=="function"?queueMicrotask:typeof uT<"u"?function(e){return uT.resolve(null).then(e).catch(bR)}:lT;function bR(e){setTimeout(function(){throw e})}function qs(e){return e==="head"}function cT(e,s){var a=s,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),so(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,zl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[mi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&zl(e.ownerDocument.body);a=f}while(a);so(s)}function hT(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function cm(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cm(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wR(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[mi])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function RR(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function fT(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=zn(e.nextSibling),e===null))return null;return e}function hm(e){return e.data==="$?"||e.data==="$~"}function fm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function CR(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function zn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var dm=null;function dT(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return zn(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function mT(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function pT(e,s,a){switch(s=Zc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function zl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Ta(e)}var Bn=new Map,gT=new Set;function Jc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ls=et.d;et.d={f:IR,r:DR,D:MR,C:VR,L:OR,m:NR,X:PR,S:xR,M:LR};function IR(){var e=ls.f(),s=Fc();return e||s}function DR(e){var s=Dn(e);s!==null&&s.tag===5&&s.type==="form"?Nv(s):ls.r(e)}var eo=typeof document>"u"?null:document;function yT(e,s,a){var l=eo;if(l&&typeof s=="string"&&s){var f=cn(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),gT.has(f)||(gT.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Qe(s,"link",e),be(s),l.head.appendChild(s)))}}function MR(e){ls.D(e),yT("dns-prefetch",e,null)}function VR(e,s){ls.C(e,s),yT("preconnect",e,s)}function OR(e,s,a){ls.L(e,s,a);var l=eo;if(l&&e&&s){var f='link[rel="preload"][as="'+cn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(e)+'"]';var d=f;switch(s){case"style":d=no(e);break;case"script":d=io(e)}Bn.has(d)||(e=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Bn.set(d,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(Bl(d))||s==="script"&&l.querySelector(jl(d))||(s=l.createElement("link"),Qe(s,"link",e),be(s),l.head.appendChild(s)))}}function NR(e,s){ls.m(e,s);var a=eo;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(e)}if(!Bn.has(d)&&(e=E({rel:"modulepreload",href:e},s),Bn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),Qe(l,"link",e),be(l),a.head.appendChild(l)}}}function xR(e,s,a){ls.S(e,s,a);var l=eo;if(l&&e){var f=gi(l).hoistableStyles,d=no(e);s=s||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Bl(d)))S.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Bn.get(d))&&mm(e,a);var D=_=l.createElement("link");be(D),Qe(D,"link",e),D._p=new Promise(function(B,K){D.onload=B,D.onerror=K}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wc(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function PR(e,s){ls.X(e,s);var a=eo;if(a&&e){var l=gi(a).hoistableScripts,f=io(e),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(e=E({src:e,async:!0},s),(s=Bn.get(f))&&pm(e,s),d=a.createElement("script"),be(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function LR(e,s){ls.M(e,s);var a=eo;if(a&&e){var l=gi(a).hoistableScripts,f=io(e),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(e=E({src:e,async:!0,type:"module"},s),(s=Bn.get(f))&&pm(e,s),d=a.createElement("script"),be(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function vT(e,s,a,l){var f=(f=It.current)?Jc(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=no(a.href),a=gi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=no(a.href);var d=gi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Bl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(e,a),d||kR(f,e,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=io(a),a=gi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function no(e){return'href="'+cn(e)+'"'}function Bl(e){return'link[rel="stylesheet"]['+e+"]"}function _T(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function kR(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Qe(s,"link",a),be(s),e.head.appendChild(s))}function io(e){return'[src="'+cn(e)+'"]'}function jl(e){return"script[async]"+e}function TT(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return s.instance=l,be(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),be(l),Qe(l,"style",f),Wc(l,a.precedence,e),s.instance=l;case"stylesheet":f=no(a.href);var d=e.querySelector(Bl(f));if(d)return s.state.loading|=4,s.instance=d,be(d),d;l=_T(a),(f=Bn.get(f))&&mm(l,f),d=(e.ownerDocument||e).createElement("link"),be(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Qe(d,"link",l),s.state.loading|=4,Wc(d,a.precedence,e),s.instance=d;case"script":return d=io(a.src),(f=e.querySelector(jl(d)))?(s.instance=f,be(f),f):(l=a,(f=Bn.get(d))&&(l=E({},a),pm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),be(f),Qe(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Wc(l,a.precedence,e));return s.instance}function Wc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function mm(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function pm(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var th=null;function ET(e,s,a){if(th===null){var l=new Map,f=th=new Map;f.set(a,l)}else f=th,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[mi]||d[Ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function ST(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function UR(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function AT(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function zR(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=no(l.href),d=s.querySelector(Bl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=eh.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=d,be(d);return}d=s.ownerDocument||s,l=_T(l),(f=Bn.get(f))&&mm(l,f),d=d.createElement("link"),be(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Qe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=eh.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var gm=0;function BR(e,s){return e.stylesheets&&e.count===0&&ih(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&ih(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+s);0<e.imgBytes&&gm===0&&(gm=62500*TR());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ih(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>gm?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ih(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nh=null;function ih(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nh=new Map,s.forEach(jR,e),nh=null,eh.call(e))}function jR(e,s){if(!(s.state.loading&4)){var a=nh.get(e);if(a)var l=a.get(null);else{a=new Map,nh.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=eh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var Hl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function HR(e,s,a,l,f,d,_,S,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function bT(e,s,a,l,f,d,_,S,D,B,K,$){return e=new HR(e,s,a,_,D,B,K,$,S),s=1,d===!0&&(s|=24),d=Sn(3,null,null,s),e.current=d,d.stateNode=e,s=Xf(),s.refCount++,e.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Wf(d),e}function wT(e){return e?(e=xa,e):xa}function RT(e,s,a,l,f,d){f=wT(f),l.context===null?l.context=f:l.pendingContext=f,l=Ns(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xs(e,l,s),a!==null&&(gn(a,e,s),Tl(a,e,s))}function CT(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function ym(e,s){CT(e,s),(e=e.alternate)&&CT(e,s)}function IT(e){if(e.tag===13||e.tag===31){var s=Ur(e,67108864);s!==null&&gn(s,e,67108864),ym(e,67108864)}}function DT(e){if(e.tag===13||e.tag===31){var s=Cn();s=Rr(s);var a=Ur(e,s);a!==null&&gn(a,e,s),ym(e,s)}}var sh=!0;function FR(e,s,a,l){var f=Y.T;Y.T=null;var d=et.p;try{et.p=2,vm(e,s,a,l)}finally{et.p=d,Y.T=f}}function qR(e,s,a,l){var f=Y.T;Y.T=null;var d=et.p;try{et.p=8,vm(e,s,a,l)}finally{et.p=d,Y.T=f}}function vm(e,s,a,l){if(sh){var f=_m(l);if(f===null)sm(e,s,l,rh,a),VT(e,l);else if(KR(f,e,s,a,l))l.stopPropagation();else if(VT(e,l),s&4&&-1<GR.indexOf(e)){for(;f!==null;){var d=Dn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-me(_);S.entanglements[1]|=D,_&=~D}Di(d),(Gt&6)===0&&(jc=rn()+500,Ll(0))}}break;case 31:case 13:S=Ur(d,2),S!==null&&gn(S,d,2),Fc(),ym(d,2)}if(d=_m(l),d===null&&sm(e,s,l,rh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else sm(e,s,l,null,a)}}function _m(e){return e=Mn(e),Tm(e)}var rh=null;function Tm(e){if(rh=null,e=pi(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=c(s),e!==null)return e;e=null}else if(a===31){if(e=m(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return rh=e,null}function MT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case Go:return 2;case Ko:return 8;case vs:case Rf:return 32;case ku:return 268435456;default:return 32}default:return 32}}var Em=!1,Gs=null,Ks=null,Ys=null,Fl=new Map,ql=new Map,Qs=[],GR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VT(e,s){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Fl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(s.pointerId)}}function Gl(e,s,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Dn(s),s!==null&&IT(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function KR(e,s,a,l,f){switch(s){case"focusin":return Gs=Gl(Gs,e,s,a,l,f),!0;case"dragenter":return Ks=Gl(Ks,e,s,a,l,f),!0;case"mouseover":return Ys=Gl(Ys,e,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Fl.set(d,Gl(Fl.get(d)||null,e,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ql.set(d,Gl(ql.get(d)||null,e,s,a,l,f)),!0}return!1}function OT(e){var s=pi(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){e.blockedOn=s,Qn(e.priority,function(){DT(a)});return}}else if(s===31){if(s=m(a),s!==null){e.blockedOn=s,Qn(e.priority,function(){DT(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ah(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=_m(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);sl=l,a.target.dispatchEvent(l),sl=null}else return s=Dn(a),s!==null&&IT(s),e.blockedOn=a,!1;s.shift()}return!0}function NT(e,s,a){ah(e)&&a.delete(s)}function YR(){Em=!1,Gs!==null&&ah(Gs)&&(Gs=null),Ks!==null&&ah(Ks)&&(Ks=null),Ys!==null&&ah(Ys)&&(Ys=null),Fl.forEach(NT),ql.forEach(NT)}function oh(e,s){e.blockedOn===s&&(e.blockedOn=null,Em||(Em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,YR)))}var lh=null;function xT(e){lh!==e&&(lh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){lh===e&&(lh=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(Tm(l||a)===null)continue;break}var d=Dn(a);d!==null&&(e.splice(s,3),s-=3,_d(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function so(e){function s(D){return oh(D,e)}Gs!==null&&oh(Gs,e),Ks!==null&&oh(Ks,e),Ys!==null&&oh(Ys,e),Fl.forEach(s),ql.forEach(s);for(var a=0;a<Qs.length;a++){var l=Qs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qs.length&&(a=Qs[0],a.blockedOn===null);)OT(a),a.blockedOn===null&&Qs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[ze]||null;if(typeof d=="function")_||xT(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[ze]||null)S=_.formAction;else if(Tm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),xT(a)}}}function PT(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Sm(e){this._internalRoot=e}uh.prototype.render=Sm.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Cn();RT(a,l,e,s,null,null)},uh.prototype.unmount=Sm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;RT(e.current,2,null,e,null,null),Fc(),s[di]=null}};function uh(e){this._internalRoot=e}uh.prototype.unstable_scheduleHydration=function(e){if(e){var s=Fu();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Qs.length&&s!==0&&s<Qs[a].priority;a++);Qs.splice(a,0,e),a===0&&OT(e)}};var LT=t.version;if(LT!=="19.2.0")throw Error(r(527,LT,"19.2.0"));et.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var QR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Kn=ch.inject(QR),Fe=ch}catch{}}return Yl.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=Fv,d=qv,_=Gv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=bT(e,1,!1,null,null,a,l,null,f,d,_,PT),e[di]=s.current,im(e),new Sm(s)},Yl.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",d=Fv,_=qv,S=Gv,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=bT(e,1,!0,s,a??null,l,f,D,d,_,S,PT),s.context=wT(null),a=s.current,l=Cn(),l=Rr(l),f=Ns(l),f.callback=null,xs(a,f,l),a=l,s.current.lanes=a,br(s,a),Di(s),e[di]=s.current,im(e),new uh(s)},Yl.version="19.2.0",Yl}var KT;function sC(){if(KT)return wm.exports;KT=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),wm.exports=iC(),wm.exports}var rC=sC();function aC(){const i=t=>{const n=document.getElementById(t);n&&n.scrollIntoView({behavior:"smooth"})};return mt.jsxs("header",{style:Dm.header,children:[mt.jsx("h1",{style:Dm.logo,children:"⚽ Football Sanci"}),mt.jsxs("nav",{style:Dm.nav,children:[mt.jsx("button",{onClick:()=>i("ranking"),children:"Ranking"}),mt.jsx("button",{onClick:()=>i("history"),children:"Match History"}),mt.jsx("button",{onClick:()=>i("statistics"),children:"Statistics"}),mt.jsx("button",{onClick:()=>i("draw"),children:"Draw"})]})]})}const Dm={header:{position:"fixed",top:0,left:0,right:0,background:"#222",color:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 20px",zIndex:1e3},logo:{fontSize:"1.2rem"},nav:{display:"flex",gap:"15px"}};function oC(){return mt.jsx("footer",{style:lC.footer,children:mt.jsxs("p",{children:["© ",new Date().getFullYear()," FootballSanci. All rights reserved."]})})}const lC={footer:{textAlign:"center",padding:"20px 0",background:"#111",color:"#ccc",marginTop:"50px"}},uC=()=>{};var YT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(i){const t=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},cC=function(i){const t=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],c=i[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},jS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,E=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,M=g&63;p||(M=64,c||(A=64)),r.push(n[v],n[E],n[A],n[M])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(BS(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):cC(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const E=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||E==null)throw new hC;const A=u<<2|m>>4;if(r.push(A),g!==64){const M=m<<4&240|g>>2;if(r.push(M),E!==64){const k=g<<6&192|E;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class hC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fC=function(i){const t=BS(i);return jS.encodeByteArray(t,!0)},Lh=function(i){return fC(i).replace(/\./g,"")},HS=function(i){try{return jS.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=()=>dC().__FIREBASE_DEFAULTS__,pC=()=>{if(typeof process>"u"||typeof YT>"u")return;const i=YT.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},gC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&HS(i[1]);return t&&JSON.parse(t)},rf=()=>{try{return uC()||mC()||pC()||gC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},FS=i=>rf()?.emulatorHosts?.[i],qS=i=>{const t=FS(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},GS=()=>rf()?.config,KS=i=>rf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tg(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Lh(JSON.stringify(n)),Lh(JSON.stringify(c)),""].join(".")}const Wl={};function vC(){const i={prod:[],emulator:[]};for(const t of Object.keys(Wl))Wl[t]?i.emulator.push(t):i.prod.push(t);return i}function _C(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let QT=!1;function eg(i,t){if(typeof window>"u"||typeof document>"u"||!fa(window.location.host)||Wl[i]===t||Wl[i]||QT)return;Wl[i]=t;function n(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=vC().prod.length>0;function c(){const A=document.getElementById(r);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{QT=!0,c()},A}function v(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=_C(r),M=n("text"),k=document.getElementById(M)||document.createElement("span"),G=n("learnmore"),H=document.getElementById(G)||document.createElement("a"),Q=n("preprendIcon"),tt=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Z=A.element;m(Z),v(H,G);const rt=g();p(tt,Q),Z.append(tt,k,H,rt),document.body.appendChild(Z)}u?(k.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function EC(){const i=rf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function bC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wC(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function RC(){return!EC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CC(){try{return typeof indexedDB=="object"}catch{return!1}}function IC(){return new Promise((i,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="FirebaseError";class Hi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=DC,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?MC(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Hi(o,m,r)}}function MC(i,t){return i.replace(VC,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const VC=/\{\$([^}]+)}/g;function OC(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function la(i,t){if(i===t)return!0;const n=Object.keys(i),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=i[o],c=t[o];if(XT(u)&&XT(c)){if(!la(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function XT(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(i){const t=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function NC(i,t){const n=new xC(i,t);return n.subscribe.bind(n)}class xC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PC(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Mm),o.error===void 0&&(o.error=Mm),o.complete===void 0&&(o.complete=Mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PC(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Mm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(i){return i&&i._delegate?i._delegate:i}class ur{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new yC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(UC(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kC(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kC(i){return i===Jr?void 0:i}function UC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new LC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pt||(Pt={}));const BC={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},jC=Pt.INFO,HC={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},FC=(i,t,...n)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=HC[t];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ng{constructor(t){this.name=t,this._logLevel=jC,this._logHandler=FC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const qC=(i,t)=>t.some(n=>i instanceof n);let $T,ZT;function GC(){return $T||($T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KC(){return ZT||(ZT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QS=new WeakMap,rp=new WeakMap,XS=new WeakMap,Vm=new WeakMap,ig=new WeakMap;function YC(i){const t=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(sr(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&QS.set(n,i)}).catch(()=>{}),ig.set(t,i),t}function QC(i){if(rp.has(i))return;const t=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});rp.set(i,t)}let ap={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return rp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||XS.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function XC(i){ap=i(ap)}function $C(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=i.call(Om(this),t,...n);return XS.set(r,t.sort?t.sort():[t]),sr(r)}:KC().includes(i)?function(...t){return i.apply(Om(this),t),sr(QS.get(this))}:function(...t){return sr(i.apply(Om(this),t))}}function ZC(i){return typeof i=="function"?$C(i):(i instanceof IDBTransaction&&QC(i),qC(i,GC())?new Proxy(i,ap):i)}function sr(i){if(i instanceof IDBRequest)return YC(i);if(Vm.has(i))return Vm.get(i);const t=ZC(i);return t!==i&&(Vm.set(i,t),ig.set(t,i)),t}const Om=i=>ig.get(i);function JC(i,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),m=sr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(sr(c.result),p.oldVersion,p.newVersion,sr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const WC=["get","getKey","getAll","getAllKeys","count"],tI=["put","add","delete","clear"],Nm=new Map;function JT(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Nm.get(t))return Nm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=tI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||WC.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Nm.set(t,u),u}XC(i=>({...i,get:(t,n,r)=>JT(t,n)||i.get(t,n,r),has:(t,n)=>!!JT(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nI(i){return i.getComponent()?.type==="VERSION"}const op="@firebase/app",WT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new ng("@firebase/app"),iI="@firebase/app-compat",sI="@firebase/analytics-compat",rI="@firebase/analytics",aI="@firebase/app-check-compat",oI="@firebase/app-check",lI="@firebase/auth",uI="@firebase/auth-compat",cI="@firebase/database",hI="@firebase/data-connect",fI="@firebase/database-compat",dI="@firebase/functions",mI="@firebase/functions-compat",pI="@firebase/installations",gI="@firebase/installations-compat",yI="@firebase/messaging",vI="@firebase/messaging-compat",_I="@firebase/performance",TI="@firebase/performance-compat",EI="@firebase/remote-config",SI="@firebase/remote-config-compat",AI="@firebase/storage",bI="@firebase/storage-compat",wI="@firebase/firestore",RI="@firebase/ai",CI="@firebase/firestore-compat",II="firebase",DI="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]",MI={[op]:"fire-core",[iI]:"fire-core-compat",[rI]:"fire-analytics",[sI]:"fire-analytics-compat",[oI]:"fire-app-check",[aI]:"fire-app-check-compat",[lI]:"fire-auth",[uI]:"fire-auth-compat",[cI]:"fire-rtdb",[hI]:"fire-data-connect",[fI]:"fire-rtdb-compat",[dI]:"fire-fn",[mI]:"fire-fn-compat",[pI]:"fire-iid",[gI]:"fire-iid-compat",[yI]:"fire-fcm",[vI]:"fire-fcm-compat",[_I]:"fire-perf",[TI]:"fire-perf-compat",[EI]:"fire-rc",[SI]:"fire-rc-compat",[AI]:"fire-gcs",[bI]:"fire-gcs-compat",[wI]:"fire-fst",[CI]:"fire-fst-compat",[RI]:"fire-vertex","fire-js":"fire-js",[II]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,VI=new Map,up=new Map;function t0(i,t){try{i.container.addComponent(t)}catch(n){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function ua(i){const t=i.name;if(up.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;up.set(t,i);for(const n of kh.values())t0(n,i);for(const n of VI.values())t0(n,i);return!0}function af(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function ri(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new Su("app","Firebase",OI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=DI;function $S(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const r={name:lp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw rr.create("bad-app-name",{appName:String(o)});if(n||(n=GS()),!n)throw rr.create("no-options");const u=kh.get(o);if(u){if(la(n,u.options)&&la(r,u.config))return u;throw rr.create("duplicate-app",{appName:o})}const c=new zC(o);for(const p of up.values())c.addComponent(p);const m=new NI(n,r,c);return kh.set(o,m),m}function sg(i=lp){const t=kh.get(i);if(!t&&i===lp&&GS())return $S();if(!t)throw rr.create("no-app",{appName:i});return t}function Ni(i,t,n){let r=MI[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(c.join(" "));return}ua(new ur(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="firebase-heartbeat-database",PI=1,cu="firebase-heartbeat-store";let xm=null;function ZS(){return xm||(xm=JC(xI,PI,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(cu)}catch(n){console.warn(n)}}}}).catch(i=>{throw rr.create("idb-open",{originalErrorMessage:i.message})})),xm}async function LI(i){try{const n=(await ZS()).transaction(cu),r=await n.objectStore(cu).get(JS(i));return await n.done,r}catch(t){if(t instanceof Hi)hs.warn(t.message);else{const n=rr.create("idb-get",{originalErrorMessage:t?.message});hs.warn(n.message)}}}async function e0(i,t){try{const r=(await ZS()).transaction(cu,"readwrite");await r.objectStore(cu).put(t,JS(i)),await r.done}catch(n){if(n instanceof Hi)hs.warn(n.message);else{const r=rr.create("idb-set",{originalErrorMessage:n?.message});hs.warn(r.message)}}}function JS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1024,UI=30;class zI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>UI){const o=HI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n0(),{heartbeatsToSend:n,unsentEntries:r}=BI(this._heartbeatsCache.heartbeats),o=Lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hs.warn(t),""}}}function n0(){return new Date().toISOString().substring(0,10)}function BI(i,t=kI){const n=[];let r=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),i0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),i0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CC()?IC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function i0(i){return Lh(JSON.stringify({version:2,heartbeats:i})).length}function HI(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(i){ua(new ur("platform-logger",t=>new eI(t),"PRIVATE")),ua(new ur("heartbeat",t=>new zI(t),"PRIVATE")),Ni(op,WT,i),Ni(op,WT,"esm2020"),Ni("fire-js","")}FI("");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ar,WS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(N,V,L){for(var I=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)I[Wt-2]=arguments[Wt];return w.prototype[V].apply(N,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,C){C||(C=0);const N=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)N[V]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(V=0;V<16;++V)N[V]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],V=R.g[2];let L=R.g[3],I;I=w+(L^C&(V^L))+N[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(V^w&(C^V))+N[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=V+(C^L&(w^C))+N[2]+606105819&4294967295,V=L+(I<<17&4294967295|I>>>15),I=C+(w^V&(L^w))+N[3]+3250441966&4294967295,C=V+(I<<22&4294967295|I>>>10),I=w+(L^C&(V^L))+N[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(V^w&(C^V))+N[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=V+(C^L&(w^C))+N[6]+2821735955&4294967295,V=L+(I<<17&4294967295|I>>>15),I=C+(w^V&(L^w))+N[7]+4249261313&4294967295,C=V+(I<<22&4294967295|I>>>10),I=w+(L^C&(V^L))+N[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(V^w&(C^V))+N[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=V+(C^L&(w^C))+N[10]+4294925233&4294967295,V=L+(I<<17&4294967295|I>>>15),I=C+(w^V&(L^w))+N[11]+2304563134&4294967295,C=V+(I<<22&4294967295|I>>>10),I=w+(L^C&(V^L))+N[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(V^w&(C^V))+N[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=V+(C^L&(w^C))+N[14]+2792965006&4294967295,V=L+(I<<17&4294967295|I>>>15),I=C+(w^V&(L^w))+N[15]+1236535329&4294967295,C=V+(I<<22&4294967295|I>>>10),I=w+(V^L&(C^V))+N[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^V&(w^C))+N[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=V+(w^C&(L^w))+N[11]+643717713&4294967295,V=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(V^L))+N[0]+3921069994&4294967295,C=V+(I<<20&4294967295|I>>>12),I=w+(V^L&(C^V))+N[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^V&(w^C))+N[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=V+(w^C&(L^w))+N[15]+3634488961&4294967295,V=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(V^L))+N[4]+3889429448&4294967295,C=V+(I<<20&4294967295|I>>>12),I=w+(V^L&(C^V))+N[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^V&(w^C))+N[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=V+(w^C&(L^w))+N[3]+4107603335&4294967295,V=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(V^L))+N[8]+1163531501&4294967295,C=V+(I<<20&4294967295|I>>>12),I=w+(V^L&(C^V))+N[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^V&(w^C))+N[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=V+(w^C&(L^w))+N[7]+1735328473&4294967295,V=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(V^L))+N[12]+2368359562&4294967295,C=V+(I<<20&4294967295|I>>>12),I=w+(C^V^L)+N[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^V)+N[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=V+(L^w^C)+N[11]+1839030562&4294967295,V=L+(I<<16&4294967295|I>>>16),I=C+(V^L^w)+N[14]+4259657740&4294967295,C=V+(I<<23&4294967295|I>>>9),I=w+(C^V^L)+N[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^V)+N[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=V+(L^w^C)+N[7]+4139469664&4294967295,V=L+(I<<16&4294967295|I>>>16),I=C+(V^L^w)+N[10]+3200236656&4294967295,C=V+(I<<23&4294967295|I>>>9),I=w+(C^V^L)+N[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^V)+N[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=V+(L^w^C)+N[3]+3572445317&4294967295,V=L+(I<<16&4294967295|I>>>16),I=C+(V^L^w)+N[6]+76029189&4294967295,C=V+(I<<23&4294967295|I>>>9),I=w+(C^V^L)+N[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^V)+N[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=V+(L^w^C)+N[15]+530742520&4294967295,V=L+(I<<16&4294967295|I>>>16),I=C+(V^L^w)+N[2]+3299628645&4294967295,C=V+(I<<23&4294967295|I>>>9),I=w+(V^(C|~L))+N[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~V))+N[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=V+(w^(L|~C))+N[14]+2878612391&4294967295,V=L+(I<<15&4294967295|I>>>17),I=C+(L^(V|~w))+N[5]+4237533241&4294967295,C=V+(I<<21&4294967295|I>>>11),I=w+(V^(C|~L))+N[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~V))+N[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=V+(w^(L|~C))+N[10]+4293915773&4294967295,V=L+(I<<15&4294967295|I>>>17),I=C+(L^(V|~w))+N[1]+2240044497&4294967295,C=V+(I<<21&4294967295|I>>>11),I=w+(V^(C|~L))+N[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~V))+N[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=V+(w^(L|~C))+N[6]+2734768916&4294967295,V=L+(I<<15&4294967295|I>>>17),I=C+(L^(V|~w))+N[13]+1309151649&4294967295,C=V+(I<<21&4294967295|I>>>11),I=w+(V^(C|~L))+N[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~V))+N[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=V+(w^(L|~C))+N[2]+718787259&4294967295,V=L+(I<<15&4294967295|I>>>17),I=C+(L^(V|~w))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,N=this.C;let V=this.h,L=0;for(;L<w;){if(V==0)for(;L<=C;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<w;)if(N[V++]=R.charCodeAt(L++),V==this.blockSize){o(this,N),V=0;break}}else for(;L<w;)if(N[V++]=R[L++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)R[w++]=this.g[C]>>>N&255;return R};function u(R,w){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function c(R,w){this.h=w;const C=[];let N=!0;for(let V=R.length-1;V>=0;V--){const L=R[V]|0;N&&L==w||(C[V]=L,N=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new c([w|0],w<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return H(g(-R));const w=[];let C=1;for(let N=0;R>=C;N++)w[N]=R/C|0,C*=4294967296;return new c(w,0)}function v(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return H(v(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let N=E;for(let L=0;L<R.length;L+=8){var V=Math.min(8,R.length-L);const I=parseInt(R.substring(L,L+V),w);V<8?(V=g(Math.pow(w,V)),N=N.j(V).add(g(I))):(N=N.j(C),N=N.add(g(I)))}return N}var E=p(0),A=p(1),M=p(16777216);i=c.prototype,i.m=function(){if(G(this))return-H(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);R+=(N>=0?N:4294967296+N)*w,w*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(k(this))return"0";if(G(this))return"-"+H(this).toString(R);const w=g(Math.pow(R,6));var C=this;let N="";for(;;){const V=rt(C,w).g;C=Q(C,V.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=V,k(C))return L+N;for(;L.length<6;)L="0"+L;N=L+N}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function k(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function G(R){return R.h==-1}i.l=function(R){return R=Q(this,R),G(R)?-1:k(R)?0:1};function H(R){const w=R.g.length,C=[];for(let N=0;N<w;N++)C[N]=~R.g[N];return new c(C,~R.h).add(A)}i.abs=function(){return G(this)?H(this):this},i.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let N=0;for(let V=0;V<=w;V++){let L=N+(this.i(V)&65535)+(R.i(V)&65535),I=(L>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);N=I>>>16,L&=65535,I&=65535,C[V]=I<<16|L}return new c(C,C[C.length-1]&-2147483648?-1:0)};function Q(R,w){return R.add(H(w))}i.j=function(R){if(k(this)||k(R))return E;if(G(this))return G(R)?H(this).j(H(R)):H(H(this).j(R));if(G(R))return H(this.j(H(R)));if(this.l(M)<0&&R.l(M)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var N=0;N<2*w;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let V=0;V<R.g.length;V++){const L=this.i(N)>>>16,I=this.i(N)&65535,Wt=R.i(V)>>>16,ce=R.i(V)&65535;C[2*N+2*V]+=I*ce,tt(C,2*N+2*V),C[2*N+2*V+1]+=L*ce,tt(C,2*N+2*V+1),C[2*N+2*V+1]+=I*Wt,tt(C,2*N+2*V+1),C[2*N+2*V+2]+=L*Wt,tt(C,2*N+2*V+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new c(C,0)};function tt(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function Z(R,w){this.g=R,this.h=w}function rt(R,w){if(k(w))throw Error("division by zero");if(k(R))return new Z(E,E);if(G(R))return w=rt(H(R),w),new Z(H(w.g),H(w.h));if(G(w))return w=rt(R,H(w)),new Z(H(w.g),w.h);if(R.g.length>30){if(G(R)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var C=A,N=w;N.l(R)<=0;)C=st(C),N=st(N);var V=ot(C,1),L=ot(N,1);for(N=ot(N,2),C=ot(C,2);!k(N);){var I=L.add(N);I.l(R)<=0&&(V=V.add(C),L=I),N=ot(N,1),C=ot(C,1)}return w=Q(R,V.j(w)),new Z(V,w)}for(V=E;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),L=g(C),I=L.j(w);G(I)||I.l(R)>0;)C-=N,L=g(C),I=L.j(w);k(L)&&(L=A),V=V.add(L),R=Q(R,I)}return new Z(V,R)}i.B=function(R){return rt(this,R).h},i.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)&R.i(N);return new c(C,this.h&R.h)},i.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)|R.i(N);return new c(C,this.h|R.h)},i.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)^R.i(N);return new c(C,this.h^R.h)};function st(R){const w=R.g.length+1,C=[];for(let N=0;N<w;N++)C[N]=R.i(N)<<1|R.i(N-1)>>>31;return new c(C,R.h)}function ot(R,w){const C=w>>5;w%=32;const N=R.g.length-C,V=[];for(let L=0;L<N;L++)V[L]=w>0?R.i(L+C)>>>w|R.i(L+C+1)<<32-w:R.i(L+C);return new c(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,WS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,ar=c}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tA,Xl,eA,Ah,cp,nA,iA,sA;(function(){var i,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var U=h[b];if(!(U in T))break t;T=T[U]}h=h[h.length-1],b=T[h],y=y(b),y!=b&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&T.push([b,y[b]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(b,U,F){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return y.prototype[U].apply(b,nt)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function M(h){const y=h.length;if(y>0){const T=Array(y);for(let b=0;b<y;b++)T[b]=h[b];return T}return[]}function k(h,y){for(let b=1;b<arguments.length;b++){const U=arguments[b];var T=typeof U;if(T=T!="object"?T:U?Array.isArray(U)?"array":T:"null",T=="array"||T=="object"&&typeof U.length=="number"){T=h.length||0;const F=U.length||0;h.length=T+F;for(let nt=0;nt<F;nt++)h[T+nt]=U[nt]}else h.push(U)}}class G{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(h){c.setTimeout(()=>{throw h},0)}function Q(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class tt{constructor(){this.h=this.g=null}add(y,T){const b=Z.get();b.set(y,T),this.h?this.h.next=b:this.g=b,this.h=b}}var Z=new G(()=>new rt,h=>h.reset());class rt{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ot=!1,R=new tt,w=()=>{const h=Promise.resolve(void 0);st=()=>{h.then(C)}};function C(){for(var h;h=Q();){try{h.h.call(h.g)}catch(T){H(T)}var y=Z;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ot=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function Wt(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(Wt,V),Wt.prototype.init=function(h,y){const T=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),Y=0;function et(h,y,T,b,U){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!b,this.ha=U,this.key=++Y,this.da=this.fa=!1}function ht(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ct(h,y,T){for(const b in h)y.call(T,h[b],b,h)}function Ot(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function x(h){const y={};for(const T in h)y[T]=h[T];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(h,y){let T,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(T in b)h[T]=b[T];for(let F=0;F<J.length;F++)T=J[F],Object.prototype.hasOwnProperty.call(b,T)&&(h[T]=b[T])}}function ut(h){this.src=h,this.g={},this.h=0}ut.prototype.add=function(h,y,T,b,U){const F=h.toString();h=this.g[F],h||(h=this.g[F]=[],this.h++);const nt=It(h,y,b,U);return nt>-1?(y=h[nt],T||(y.fa=!1)):(y=new et(y,this.src,F,!!b,U),y.fa=T,h.push(y)),y};function Et(h,y){const T=y.type;if(T in h.g){var b=h.g[T],U=Array.prototype.indexOf.call(b,y,void 0),F;(F=U>=0)&&Array.prototype.splice.call(b,U,1),F&&(ht(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function It(h,y,T,b){for(let U=0;U<h.length;++U){const F=h[U];if(!F.da&&F.listener==y&&F.capture==!!T&&F.ha==b)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),xe={};function ie(h,y,T,b,U){if(Array.isArray(y)){for(let F=0;F<y.length;F++)ie(h,y[F],T,b,U);return null}return T=qo(T),h&&h[ce]?h.J(y,T,m(b)?!!b.capture:!1,U):Tr(h,y,T,!1,b,U)}function Tr(h,y,T,b,U,F){if(!y)throw Error("Invalid event type");const nt=m(U)?!!U.capture:!!U;let wt=Er(h);if(wt||(h[Ut]=wt=new ut(h)),T=wt.add(y,T,b,nt,F),T.proxy)return T;if(b=pa(),T.proxy=b,b.src=h,b.listener=T,h.addEventListener)L||(U=nt),U===void 0&&(U=!1),h.addEventListener(y.toString(),b,U);else if(h.attachEvent)h.attachEvent(li(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function pa(){function h(T){return y.call(h.src,h.listener,T)}const y=Ho;return h}function ga(h,y,T,b,U){if(Array.isArray(y))for(var F=0;F<y.length;F++)ga(h,y[F],T,b,U);else b=m(b)?!!b.capture:!!b,T=qo(T),h&&h[ce]?(h=h.i,F=String(y).toString(),F in h.g&&(y=h.g[F],T=It(y,T,b,U),T>-1&&(ht(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[F],h.h--)))):h&&(h=Er(h))&&(y=h.g[y.toString()],h=-1,y&&(h=It(y,T,b,U)),(T=h>-1?y[h]:null)&&ya(T))}function ya(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ce])Et(y.i,h);else{var T=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(T,b,h.capture):y.detachEvent?y.detachEvent(li(T),b):y.addListener&&y.removeListener&&y.removeListener(b),(T=Er(y))?(Et(T,h),T.h==0&&(T.src=null,y[Ut]=null)):ht(h)}}}function li(h){return h in xe?xe[h]:xe[h]="on"+h}function Ho(h,y){if(h.da)h=!0;else{y=new Wt(y,this);const T=h.listener,b=h.ha||h.src;h.fa&&ya(h),h=T.call(b,y)}return h}function Er(h){return h=h[Ut],h instanceof ut?h:null}var Fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function qo(h){return typeof h=="function"?h:(h[Fo]||(h[Fo]=function(y){return h.handleEvent(y)}),h[Fo])}function Ee(){N.call(this),this.i=new ut(this),this.M=this,this.G=null}E(Ee,N),Ee.prototype[ce]=!0,Ee.prototype.removeEventListener=function(h,y,T,b){ga(this,h,y,T,b)};function Pe(h,y){var T,b=h.G;if(b)for(T=[];b;b=b.G)T.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var U=y;y=new V(b,h),at(y,U)}U=!0;let F,nt;if(T)for(nt=T.length-1;nt>=0;nt--)F=y.g=T[nt],U=ys(F,b,!0,y)&&U;if(F=y.g=h,U=ys(F,b,!0,y)&&U,U=ys(F,b,!1,y)&&U,T)for(nt=0;nt<T.length;nt++)F=y.g=T[nt],U=ys(F,b,!1,y)&&U}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let b=0;b<T.length;b++)ht(T[b]);delete h.g[y],h.h--}}this.G=null},Ee.prototype.J=function(h,y,T,b){return this.i.add(String(h),y,!1,T,b)},Ee.prototype.K=function(h,y,T,b){return this.i.add(String(h),y,!0,T,b)};function ys(h,y,T,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let F=0;F<y.length;++F){const nt=y[F];if(nt&&!nt.da&&nt.capture==T){const wt=nt.listener,pe=nt.ha||nt.src;nt.fa&&Et(h.i,nt),U=wt.call(pe,b)!==!1&&U}}return U&&!b.defaultPrevented}function wf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Lu(h){h.g=wf(()=>{h.g=null,h.i&&(h.i=!1,Lu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rn extends N{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Lu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(h){N.call(this),this.h=h,this.g={}}E(Sr,N);var Go=[];function Ko(h){Ct(h.g,function(y,T){this.g.hasOwnProperty(T)&&ya(y)},h),h.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),Ko(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=c.JSON.stringify,Rf=c.JSON.parse,ku=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Uu(){}function zu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){V.call(this,"d")}E(Fe,V);function In(){V.call(this,"c")}E(In,V);var me={},Bu=null;function va(){return Bu=Bu||new Ee}me.Ia="serverreachability";function ju(h){V.call(this,me.Ia,h)}E(ju,V);function ui(h){const y=va();Pe(y,new ju(y))}me.STAT_EVENT="statevent";function Ar(h,y){V.call(this,me.STAT_EVENT,h),this.stat=y}E(Ar,V);function Se(h){const y=va();Pe(y,new Ar(y,h))}me.Ja="timingevent";function ci(h,y){V.call(this,me.Ja,h),this.size=y}E(ci,V);function hi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Cf(h,y,T,b,U,F){h.info(function(){if(h.g)if(F){var nt="",wt=F.split("&");for(let qt=0;qt<wt.length;qt++){var pe=wt[qt].split("=");if(pe.length>1){const se=pe[0];pe=pe[1];const On=se.split("_");nt=On.length>=2&&On[1]=="type"?nt+(se+"="+pe+"&"):nt+(se+"=redacted&")}}}else nt=null;else nt=F;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+T+`
`+nt})}function Hu(h,y,T,b,U,F,nt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+T+`
`+F+" "+nt})}function fi(h,y,T,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+If(h,T)+(b?" "+b:"")})}function br(h,y){h.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function If(h,y){if(!h.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(h=0;h<F.length;h++)if(Array.isArray(F[h])){var T=F[h];if(!(T.length<2)){var b=T[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let nt=1;nt<b.length;nt++)b[nt]=""}}}}return vs(F)}catch{return y}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qo;function Rr(){}E(Rr,Uu),Rr.prototype.g=function(){return new XMLHttpRequest},Qo=new Rr;function qi(h){return encodeURIComponent(String(h))}function Fu(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function Qn(h,y,T,b){this.j=h,this.i=y,this.l=T,this.S=b||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Ae={},ze={};function di(h,y,T){h.M=1,h.A=Cr(we(y)),h.u=T,h.R=!0,_a(h,null)}function _a(h,y){h.F=Date.now(),mi(h),h.B=we(h.A);var T=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Aa(T.i,"t",b),h.C=0,T=h.j.L,h.h=new Xn,h.g=sc(h.j,T?y:null,!h.u),h.P>0&&(h.O=new rn(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,b=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(Go[0]=U.toString()),U=Go);for(let F=0;F<U.length;F++){const nt=ie(T,U[F],b||y.handleEvent,!1,y.h||y);if(!nt)break;y.g[nt.key]=nt}y=h.J?x(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),ui(),Cf(h.i,h.v,h.B,h.l,h.S,h.u)}Qn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Jn(h)==3?y.j():this.Y(h)},Qn.prototype.Y=function(h){try{if(h==this.g)t:{const wt=Jn(this.g),pe=this.g.ya(),qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||wt!=4||pe==7||(pe==8||qt<=0?ui(3):ui(2)),pi(this);var y=this.g.ca();this.X=y;var T=Df(this);if(this.o=y==200,Hu(this.i,this.v,this.B,this.l,this.S,wt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var F=b;break e}}F=null}if(h=F)fi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,h);else{this.o=!1,this.m=3,Se(12),_n(this),Dn(this);break t}}if(this.R){h=!0;let se;for(;!this.K&&this.C<T.length;)if(se=Gu(this,T),se==ze){wt==4&&(this.m=4,Se(14),h=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(se==Ae){this.m=4,Se(15),fi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else fi(this.i,this.l,se,null),gi(this,se);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||T.length!=0||this.h.h||(this.m=1,Se(16),h=!1),this.o=this.o&&h,!h)fi(this.i,this.l,T,"[Invalid Chunked Response]"),_n(this),Dn(this);else if(T.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ul(nt),nt.P=!0,Se(11))}}else fi(this.i,this.l,T,null),gi(this,T);wt==4&&_n(this),this.o&&!this.K&&(wt==4?tc(this.j,this):(this.o=!1,mi(this)))}else Ki(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),_n(this),Dn(this)}}}catch{}finally{}};function Df(h){if(!qu(h))return h.g.la();const y=qe(h.g);if(y==="")return"";let T="";const b=y.length,U=Jn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return _n(h),Dn(h),"";h.h.i=new c.TextDecoder}for(let F=0;F<b;F++)h.h.h=!0,T+=h.h.i.decode(y[F],{stream:!(U&&F==b-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function qu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Gu(h,y){var T=h.C,b=y.indexOf(`
`,T);return b==-1?ze:(T=Number(y.substring(T,b)),isNaN(T)?Ae:(b+=1,b+T>y.length?ze:(y=y.slice(b,b+T),h.C=b+T,y)))}Qn.prototype.cancel=function(){this.K=!0,_n(this)};function mi(h){h.T=Date.now()+h.H,Ta(h,h.H)}function Ta(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=hi(g(h.aa,h),y)}function pi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Qn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(br(this.i,this.B),this.M!=2&&(ui(),Se(17)),_n(this),this.m=2,Dn(this)):Ta(this,this.T-h)};function Dn(h){h.j.I==0||h.K||tc(h.j,h)}function _n(h){pi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Ko(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function gi(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||vi(T.h,h))){if(!h.L&&vi(T.h,h)&&T.I==3){try{var b=T.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Ia(T),Rs(T);else break t;xr(T),Se(18)}}else T.xa=U[1],0<T.xa-T.K&&U[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=hi(g(T.Va,T),6e3));yi(T.h)<=1&&T.ta&&(T.ta=void 0)}else bi(T,11)}else if((h.L||T.g==h)&&Ia(T),!I(y))for(U=T.Ba.g.parse(y),y=0;y<U.length;y++){let qt=U[y];const se=qt[0];if(!(se<=T.K))if(T.K=se,qt=qt[1],T.I==2)if(qt[0]=="c"){T.M=qt[1],T.ba=qt[2];const On=qt[3];On!=null&&(T.ka=On,T.j.info("VER="+T.ka));const wi=qt[4];wi!=null&&(T.za=wi,T.j.info("SVER="+T.za));const Wn=qt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(b=1.5*Wn,T.O=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const ti=h.g;if(ti){const Pr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var F=b.h;F.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Zo(F,F.h),F.h=null))}if(b.G){const Da=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(b.wa=Da,Kt(b.J,b.G,Da))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),b=T;var nt=h;if(b.na=ic(b,b.L?b.ba:null,b.W),nt.L){Jo(b.h,nt);var wt=nt,pe=b.O;pe&&(wt.H=pe),wt.D&&(pi(wt),mi(wt)),b.g=nt}else Ju(b);T.i.length>0&&Ai(T)}else qt[0]!="stop"&&qt[0]!="close"||bi(T,7);else T.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?bi(T,7):ol(T):qt[0]!="noop"&&T.l&&T.l.qa(qt),T.A=0)}}ui(4)}catch{}}var be=class{constructor(h,y){this.g=h,this.map=y}};function Xo(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function yi(h){return h.h?1:h.g?h.g.size:0}function vi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Zo(h,y){h.g?h.g.add(y):h.h=y}function Jo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Xo.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return M(h.i)}var Ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const b=h[T].indexOf("=");let U,F=null;b>=0?(U=h[T].substring(0,b),F=h[T].substring(b+1)):U=h[T],y(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Tn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Tn?(this.l=h.l,Be(this,h.j),this.o=h.o,this.g=h.g,_s(this,h.u),this.h=h.h,tl(this,$u(h.i)),this.m=h.m):h&&(y=String(h).match(Ku))?(this.l=!1,Be(this,y[1]||"",!0),this.o=_i(y[2]||""),this.g=_i(y[3]||"",!0),_s(this,y[4]),this.h=_i(y[5]||"",!0),tl(this,y[6]||"",!0),this.m=_i(y[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}Tn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ir(y,Sa,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ir(y,Sa,!0),"@"),h.push(qi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ir(T,T.charAt(0)=="/"?el:Yu,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ir(T,Qu)),h.join("")},Tn.prototype.resolve=function(h){const y=we(this);let T=!!h.j;T?Be(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var b=h.h;if(T)_s(y,h.u);else if(T=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=y.h.lastIndexOf("/");U!=-1&&(b=y.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let nt=0;nt<U.length;){const wt=U[nt++];wt=="."?b&&nt==U.length&&F.push(""):wt==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),b&&nt==U.length&&F.push("")):(F.push(wt),b=!0)}b=F.join("/")}else b=U}return T?y.h=b:T=h.i.toString()!=="",T?tl(y,$u(h.i)):T=!!h.m,T&&(y.m=h.m),y};function we(h){return new Tn(h)}function Be(h,y,T){h.j=T?_i(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function _s(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function tl(h,y,T){y instanceof Es?(h.i=y,ba(h.i,h.l)):(T||(y=Ir(y,Ts)),h.i=new Es(y,h.l))}function Kt(h,y,T){h.i.set(y,T)}function Cr(h){return Kt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function _i(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ir(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,cn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Sa=/[#\/\?@]/g,Yu=/[#\?:]/g,el=/[#\?]/g,Ts=/[#\?@]/g,Qu=/#/g;function Es(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ea(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}i=Es.prototype,i.add=function(h,y){hn(this),this.i=null,h=Ss(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function Xu(h,y){hn(h),y=Ss(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function nl(h,y){return hn(h),y=Ss(h,y),h.g.has(y)}i.forEach=function(h,y){hn(this),this.g.forEach(function(T,b){T.forEach(function(U){h.call(y,U,b,this)},this)},this)};function il(h,y){hn(h);let T=[];if(typeof y=="string")nl(h,y)&&(T=T.concat(h.g.get(Ss(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}i.set=function(h,y){return hn(this),this.i=null,h=Ss(this,h),nl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=il(this,h),h.length>0?String(h[0]):y):y};function Aa(h,y,T){Xu(h,y),T.length>0&&(h.i=null,h.g.set(Ss(h,y),M(T)),h.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var T=y[b];const U=qi(T);T=il(this,T);for(let F=0;F<T.length;F++){let nt=U;T[F]!==""&&(nt+="="+qi(T[F])),h.push(nt)}}return this.i=h.join("&")};function $u(h){const y=new Es;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Ss(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ba(h,y){y&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(T,b){const U=b.toLowerCase();b!=U&&(Xu(this,b),Aa(this,U,T))},h)),h.j=y}function $n(h,y){const T=new Yn;if(c.Image){const b=new Image;b.onload=v(Mn,T,"TestLoadImage: loaded",!0,y,b),b.onerror=v(Mn,T,"TestLoadImage: error",!1,y,b),b.onabort=v(Mn,T,"TestLoadImage: abort",!1,y,b),b.ontimeout=v(Mn,T,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function sl(h,y){const T=new Yn,b=new AbortController,U=setTimeout(()=>{b.abort(),Mn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(F=>{clearTimeout(U),F.ok?Mn(T,"TestPingServer: ok",!0,y):Mn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Mn(T,"TestPingServer: error",!1,y)})}function Mn(h,y,T,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(T)}catch{}}function As(){this.g=new ku}function Ti(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ti,Uu),Ti.prototype.g=function(){return new Dr(this.i,this.h)};function Dr(h,y){Ee.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Dr,Ee),i=Dr.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Zn(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?bs(this):Zn(this),this.readyState==3&&wa(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,bs(this))},i.Na=function(h){this.g&&(this.response=h,bs(this))},i.ga=function(){this.g&&bs(this)};function bs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Zn(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function Zn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vn(h){let y="";return Ct(h,function(T,b){y+=b,y+=":",y+=T,y+=`\r
`}),y}function Mr(h,y,T){t:{for(b in T){var b=!1;break t}b=!0}b||(T=Vn(T),typeof h=="string"?T!=null&&qi(T):Kt(h,y,T))}function Xt(h){Ee.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Xt,Ee);var Ei=/^https?$/i,rl=["POST","PUT"];i=Xt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(F){Vr(this,F);return}if(h=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)T.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())T.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(F=>F.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(rl,y,void 0)>=0)||b||U||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,nt]of T)this.g.setRequestHeader(F,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(F){Vr(this,F)}};function Vr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,al(h),Gi(h)}function al(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pe(this,"complete"),Pe(this,"abort"),Gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Xt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},i.Xa=function(){Or(this)};function Or(h){if(h.h&&typeof u<"u"){if(h.v&&Jn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pe(h,"readystatechange"),Jn(h)==4){h.h=!1;try{const F=h.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var b;if(b=F===0){let nt=String(h.D).match(Ku)[1]||null;!nt&&c.self&&c.self.location&&(nt=c.self.location.protocol.slice(0,-1)),b=!Ei.test(nt?nt.toLowerCase():"")}T=b}if(T)Pe(h,"complete"),Pe(h,"success");else{h.o=6;try{var U=Jn(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",al(h)}}finally{Gi(h)}}}}function Gi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Pe(h,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Jn(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Rf(y)}};function qe(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(h){const y={};h=(h.g&&Jn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(I(h[b]))continue;var T=Fu(h[b]);const U=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const F=y[U]||[];y[U]=F,F.push(T)}Ot(y,function(b){return b.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function ws(h){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,h),this.Za=Si("retryDelaySeedMs",1e4,h),this.Ta=Si("forwardChannelMaxRetries",2,h),this.va=Si("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Xo(h&&h.concurrentRequestLimit),this.Ba=new As,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ws.prototype,i.ka=8,i.I=1,i.connect=function(h,y,T,b){Se(0),this.W=h,this.H=y||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.J=ic(this,null,this.W),Ai(this)};function ol(h){if(Ra(h),h.I==3){var y=h.V++,T=we(h.J);if(Kt(T,"SID",h.M),Kt(T,"RID",y),Kt(T,"TYPE","terminate"),Nr(h,T),y=new Qn(h,h.j,y),y.M=2,y.A=Cr(we(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=sc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),mi(y)}nc(h)}function Rs(h){h.g&&(ul(h),h.g.cancel(),h.g=null)}function Ra(h){Rs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ia(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ai(h){if(!$o(h.h)&&!h.m){h.m=!0;var y=h.Ea;st||w(),ot||(st(),ot=!0),R.add(y,h),h.D=0}}function Ca(h,y){return yi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=hi(g(h.Ea,h,y),ec(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Qn(this,this.j,h);let F=this.o;if(this.U&&(F?(F=x(F),at(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=Zu(this,U,y),T=we(this.J),Kt(T,"RID",h),Kt(T,"CVER",22),this.G&&Kt(T,"X-HTTP-Session-Id",this.G),Nr(this,T),F&&(this.R?y="headers="+qi(Vn(F))+"&"+y:this.u&&Mr(T,this.u,F)),Zo(this.h,U),this.Ra&&Kt(T,"TYPE","init"),this.S?(Kt(T,"$req",y),Kt(T,"SID","null"),U.U=!0,di(U,T,null)):di(U,T,y),this.I=2}}else this.I==3&&(h?ll(this,h):this.i.length==0||$o(this.h)||ll(this))};function ll(h,y){var T;y?T=y.l:T=h.V++;const b=we(h.J);Kt(b,"SID",h.M),Kt(b,"RID",T),Kt(b,"AID",h.K),Nr(h,b),h.u&&h.o&&Mr(b,h.u,h.o),T=new Qn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Zu(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Zo(h.h,T),di(T,b,y)}function Nr(h,y){h.H&&Ct(h.H,function(T,b){Kt(y,b,T)}),h.l&&Ct({},function(T,b){Kt(y,b,T)})}function Zu(h,y,T){T=Math.min(h.i.length,T);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var U=h.i;let wt=-1;for(;;){const pe=["count="+T];wt==-1?T>0?(wt=U[0].g,pe.push("ofs="+wt)):wt=0:pe.push("ofs="+wt);let qt=!0;for(let se=0;se<T;se++){var F=U[se].g;const On=U[se].map;if(F-=wt,F<0)wt=Math.max(0,U[se].g-100),qt=!1;else try{F="req"+F+"_"||"";try{var nt=On instanceof Map?On:Object.entries(On);for(const[wi,Wn]of nt){let ti=Wn;m(Wn)&&(ti=vs(Wn)),pe.push(F+wi+"="+encodeURIComponent(ti))}}catch(wi){throw pe.push(F+"type="+encodeURIComponent("_badmap")),wi}}catch{b&&b(On)}}if(qt){nt=pe.join("&");break t}}nt=void 0}return h=h.i.splice(0,T),y.G=h,nt}function Ju(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;st||w(),ot||(st(),ot=!0),R.add(y,h),h.A=0}}function xr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=hi(g(h.Da,h),ec(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=hi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Rs(this),Wu(this))};function ul(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Wu(h){h.g=new Qn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=we(h.na);Kt(y,"RID","rpc"),Kt(y,"SID",h.M),Kt(y,"AID",h.K),Kt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Kt(y,"TO",h.ia),Kt(y,"TYPE","xmlhttp"),Nr(h,y),h.u&&h.o&&Mr(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Cr(we(y)),T.u=null,T.R=!0,_a(T,h)}i.Va=function(){this.C!=null&&(this.C=null,Rs(this),xr(this),Se(19))};function Ia(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function tc(h,y){var T=null;if(h.g==y){Ia(h),ul(h),h.g=null;var b=2}else if(vi(h.h,y))T=y.G,Jo(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var U=h.D;b=va(),Pe(b,new ci(b,T)),Ai(h)}else Ju(h);else if(U=y.m,U==3||U==0&&y.X>0||!(b==1&&Ca(h,y)||b==2&&xr(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),U){case 1:bi(h,5);break;case 4:bi(h,10);break;case 3:bi(h,6);break;default:bi(h,2)}}}function ec(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function bi(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),b=h.Ua;const U=!b;b=new Tn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Be(b,"https"),Cr(b),U?$n(b.toString(),T):sl(b.toString(),T)}else Se(2);h.I=0,h.l&&h.l.pa(y),nc(h),Ra(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function nc(h){if(h.I=0,h.ja=[],h.l){const y=Wo(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ja,y),k(h.ja,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.oa()}}function ic(h,y,T){var b=T instanceof Tn?we(T):new Tn(T);if(b.g!="")y&&(b.g=y+"."+b.g),_s(b,b.u);else{var U=c.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const F=new Tn(null);b&&Be(F,b),y&&(F.g=y),U&&_s(F,U),T&&(F.h=T),b=F}return T=h.G,y=h.wa,T&&y&&Kt(b,T,y),Kt(b,"VER",h.ka),Nr(h,b),b}function sc(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Xt(new Ti({ab:T})):new Xt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}i=rc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Cs(){}Cs.prototype.g=function(h,y){return new an(h,y)};function an(h,y){Ee.call(this),this.g=new ws(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Yi(this)}E(an,Ee),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){ol(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=vs(h),h=T);y.i.push(new be(y.Ya++,h)),y.I==3&&Ai(y)},an.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,an.Z.N.call(this)};function ac(h){Fe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(ac,Fe);function oc(){In.call(this),this.status=1}E(oc,In);function Yi(h){this.g=h}E(Yi,rc),Yi.prototype.ra=function(){Pe(this.g,"a")},Yi.prototype.qa=function(h){Pe(this.g,new ac(h))},Yi.prototype.pa=function(h){Pe(this.g,new oc)},Yi.prototype.oa=function(){Pe(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,sA=function(){return new Cs},iA=function(){return va()},nA=me,cp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Ah=wr,Yo.COMPLETE="complete",eA=Yo,zu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Xl=zu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,tA=Xt}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const r0="@firebase/firestore",a0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new ng("@firebase/firestore");function ro(){return ca.logLevel}function ct(i,...t){if(ca.logLevel<=Pt.DEBUG){const n=t.map(rg);ca.debug(`Firestore (${Po}): ${i}`,...n)}}function fs(i,...t){if(ca.logLevel<=Pt.ERROR){const n=t.map(rg);ca.error(`Firestore (${Po}): ${i}`,...n)}}function wo(i,...t){if(ca.logLevel<=Pt.WARN){const n=t.map(rg);ca.warn(`Firestore (${Po}): ${i}`,...n)}}function rg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(i,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,rA(i,r,n)}function rA(i,t,n){let r=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fs(r),new Error(r)}function ue(i,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||rA(t,o,r)}function Bt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Hi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class GI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KI{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ue(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ia,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ia)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string",31837,{l:r}),new aA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ue(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class YI{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new YI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ue(this.o===void 0,3512);const r=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=$I(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function kt(i,t){return i<t?-1:i>t?1:0}function hp(i,t){const n=Math.min(i.length,t.length);for(let r=0;r<n;r++){const o=i.charAt(r),u=t.charAt(r);if(o!==u)return Pm(o)===Pm(u)?kt(o,u):Pm(o)?1:-1}return kt(i.length,t.length)}const ZI=55296,JI=57343;function Pm(i){const t=i.charCodeAt(0);return t>=ZI&&t<=JI}function Ro(i,t,n){return i.length===t.length&&i.every(((r,o)=>n(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="__name__";class Mi{constructor(t,n,r){n===void 0?n=0:n>t.length&&bt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&bt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Mi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const r=Mi.isNumericId(t),o=Mi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Mi.extractNumericId(t).compare(Mi.extractNumericId(n)):hp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}}class oe extends Mi{construct(t,n,r){return new oe(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new pt(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const WI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Mi{construct(t,n,r){return new ln(t,n,r)}static isValidIdentifier(t){return WI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l0}static keyField(){return new ln([l0])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new pt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new pt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new pt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(oe.fromString(t))}static fromName(t){return new vt(oe.fromString(t).popFirst(5))}static empty(){return new vt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(i,t,n){if(!n)throw new pt(it.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function eD(i,t,n,r){if(t===!0&&r===!0)throw new pt(it.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function u0(i){if(vt.isDocumentKey(i))throw new pt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nD(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function iD(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":bt(12329,{type:typeof i})}function fp(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new pt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iD(i);throw new pt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(i,t){const n={typeString:i};return t&&(n.value=t),n}function bu(i,t){if(!nD(i))throw new pt(it.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new pt(it.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=-62135596800,h0=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(t){return Oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*h0);return new Oe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<c0)throw new pt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h0}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(bu(t,Oe._jsonSchema))return new Oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-c0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Oe._jsonSchemaVersion="firestore/timestamp/1.0",Oe._jsonSchema={type:Ne("string",Oe._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Oe(0,0))}static max(){return new At(new Oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=-1;function sD(i,t){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new Oe(n+1,0):new Oe(n,r));return new cr(o,vt.empty(),t)}function rD(i){return new cr(i.readTime,i.key,hu)}class cr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(At.min(),vt.empty(),hu)}static max(){return new cr(At.max(),vt.empty(),hu)}}function aD(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(i.documentKey,t.documentKey),n!==0?n:kt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(i){if(i.code!==it.FAILED_PRECONDITION||i.message!==oD)throw i;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,r)=>{n(t)}))}static reject(t){return new W(((n,r)=>{r(t)}))}static waitFor(t){return new W(((n,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>r(p)))})),c=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const r of t)n=n.next((o=>o?W.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new W(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,n){return new W(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function uD(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=-1;function uf(i){return i==null}function dp(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="";function hD(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=f0(t)),t=fD(i.get(n),t);return f0(t)}function fD(i,t){let n=t;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case lA:n+="";break;default:n+=u}}return n}function f0(i){return i+lA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function wu(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function dD(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new Te(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fh(this.root,t,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fh(this.root,t,this.comparator,!0)}}class fh{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new $e(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(t){return new m0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class m0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new nr([])}unionWith(t){let n=new Ue(ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new nr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ro(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new uA("Invalid base64 string: "+u):u}})(t);return new Ze(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Ze(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const mD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(i){if(ue(!!i,39018),typeof i=="string"){let t=0;const n=mD.exec(i);if(ue(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_e(i.seconds),nanos:_e(i.nanos)}}function _e(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function fr(i){return typeof i=="string"?Ze.fromBase64String(i):Ze.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="server_timestamp",hA="__type__",fA="__previous_value__",dA="__local_write_time__";function ag(i){return(i?.mapValue?.fields||{})[hA]?.stringValue===cA}function cf(i){const t=i.mapValue.fields[fA];return ag(t)?cf(t):t}function fu(i){const t=hr(i.mapValue.fields[dA].timestampValue);return new Oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t,n,r,o,u,c,m,p,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Uh="(default)";class du{constructor(t,n){this.projectId=t,this.database=n||Uh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(t){return t instanceof du&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="__type__",yD="__max__",dh={mapValue:{}},vD="__vector__",mp="value";function dr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ag(i)?4:TD(i)?9007199254740991:_D(i)?10:11:bt(28295,{value:i})}function zi(i,t){if(i===t)return!0;const n=dr(i);if(n!==dr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return fu(i).isEqual(fu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=hr(o.timestampValue),m=hr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return fr(o.bytesValue).isEqual(fr(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=_e(o.doubleValue),m=_e(u.doubleValue);return c===m?dp(c)===dp(m):isNaN(c)&&isNaN(m)}return!1})(i,t);case 9:return Ro(i.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(d0(c)!==d0(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!zi(c[p],m[p])))return!1;return!0})(i,t);default:return bt(52216,{left:i})}}function mu(i,t){return(i.values||[]).find((n=>zi(n,t)))!==void 0}function Co(i,t){if(i===t)return 0;const n=dr(i),r=dr(t);if(n!==r)return kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=_e(u.integerValue||u.doubleValue),p=_e(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return p0(i.timestampValue,t.timestampValue);case 4:return p0(fu(i),fu(t));case 5:return hp(i.stringValue,t.stringValue);case 6:return(function(u,c){const m=fr(u),p=fr(c);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=kt(m[g],p[g]);if(v!==0)return v}return kt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=kt(_e(u.latitude),_e(c.latitude));return m!==0?m:kt(_e(u.longitude),_e(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return g0(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[mp]?.arrayValue,v=p[mp]?.arrayValue,E=kt(g?.values?.length||0,v?.values?.length||0);return E!==0?E:g0(g,v)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===dh.mapValue&&c===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(c===dh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const A=hp(p[E],v[E]);if(A!==0)return A;const M=Co(m[p[E]],g[v[E]]);if(M!==0)return M}return kt(p.length,v.length)})(i.mapValue,t.mapValue);default:throw bt(23264,{he:n})}}function p0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return kt(i,t);const n=hr(i),r=hr(t),o=kt(n.seconds,r.seconds);return o!==0?o:kt(n.nanos,r.nanos)}function g0(i,t){const n=i.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Co(n[o],r[o]);if(u)return u}return kt(n.length,r.length)}function Io(i){return pp(i)}function pp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=hr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return fr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return vt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=pp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${pp(n.fields[c])}`;return o+"}"})(i.mapValue):bt(61005,{value:i})}function bh(i){switch(dr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=cf(i);return t?16+bh(t):16;case 5:return 2*i.stringValue.length;case 6:return fr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+bh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return wu(r.fields,((u,c)=>{o+=u.length+bh(c)})),o})(i.mapValue);default:throw bt(13486,{value:i})}}function gp(i){return!!i&&"integerValue"in i}function og(i){return!!i&&"arrayValue"in i}function y0(i){return!!i&&"nullValue"in i}function v0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Lm(i){return!!i&&"mapValue"in i}function _D(i){return(i?.mapValue?.fields||{})[gD]?.stringValue===vD}function tu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return wu(i.mapValue.fields,((n,r)=>t.mapValue.fields[n]=tu(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tu(i.arrayValue.values[n]);return t}return{...i}}function TD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===yD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.value=t}static empty(){return new Vi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Lm(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=tu(n)}setAll(t){let n=ln.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}c?r[m.lastSegment()]=tu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Lm(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Lm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){wu(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Vi(tu(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,n,r,o,u,c,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new en(t,0,At.min(),At.min(),At.min(),Vi.empty(),0)}static newFoundDocument(t,n,r,o){return new en(t,1,n,At.min(),r,o,0)}static newNoDocument(t,n){return new en(t,2,n,At.min(),At.min(),Vi.empty(),0)}static newUnknownDocument(t,n){return new en(t,3,n,At.min(),At.min(),Vi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,n){this.position=t,this.inclusive=n}}function _0(i,t,n){let r=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?r=vt.comparator(vt.fromName(c.referenceValue),n.key):r=Co(c,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function T0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!zi(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n="asc"){this.field=t,this.dir=n}}function ED(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{}class ke extends mA{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new AD(t,n,r):n==="array-contains"?new RD(t,r):n==="in"?new CD(t,r):n==="not-in"?new ID(t,r):n==="array-contains-any"?new DD(t,r):new ke(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new bD(t,r):new wD(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends mA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Bi(t,n)}matches(t){return pA(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pA(i){return i.op==="and"}function gA(i){return SD(i)&&pA(i)}function SD(i){for(const t of i.filters)if(t instanceof Bi)return!1;return!0}function yp(i){if(i instanceof ke)return i.field.canonicalString()+i.op.toString()+Io(i.value);if(gA(i))return i.filters.map((t=>yp(t))).join(",");{const t=i.filters.map((n=>yp(n))).join(",");return`${i.op}(${t})`}}function yA(i,t){return i instanceof ke?(function(r,o){return o instanceof ke&&r.op===o.op&&r.field.isEqual(o.field)&&zi(r.value,o.value)})(i,t):i instanceof Bi?(function(r,o){return o instanceof Bi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&yA(c,o.filters[m])),!0):!1})(i,t):void bt(19439)}function vA(i){return i instanceof ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`})(i):i instanceof Bi?(function(n){return n.op.toString()+" {"+n.getFilters().map(vA).join(" ,")+"}"})(i):"Filter"}class AD extends ke{constructor(t,n,r){super(t,n,r),this.key=vt.fromName(r.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class bD extends ke{constructor(t,n){super(t,"in",n),this.keys=_A("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class wD extends ke{constructor(t,n){super(t,"not-in",n),this.keys=_A("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function _A(i,t){return(t.arrayValue?.values||[]).map((n=>vt.fromName(n.referenceValue)))}class RD extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return og(n)&&mu(n.arrayValue,this.value)}}class CD extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class ID extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class DD extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!og(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t,n=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function E0(i,t=null,n=[],r=[],o=null,u=null,c=null){return new MD(i,t,n,r,o,u,c)}function lg(i){const t=Bt(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>yp(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),uf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Io(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Io(r))).join(",")),t.Te=n}return t.Te}function ug(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!ED(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!yA(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!T0(i.startAt,t.startAt)&&T0(i.endAt,t.endAt)}function vp(i){return vt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,n=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VD(i,t,n,r,o,u,c,m){return new hf(i,t,n,r,o,u,c,m)}function TA(i){return new hf(i)}function S0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function OD(i){return i.collectionGroup!==null}function eu(i){const t=Bt(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ue(ln.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Bh(u,r))})),n.has(ln.keyField().canonicalString())||t.Ie.push(new Bh(ln.keyField(),r))}return t.Ie}function xi(i){const t=Bt(i);return t.Ee||(t.Ee=ND(t,eu(i))),t.Ee}function ND(i,t){if(i.limitType==="F")return E0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Bh(o.field,u)}));const n=i.endAt?new zh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new zh(i.startAt.position,i.startAt.inclusive):null;return E0(i.path,i.collectionGroup,t,i.filters,i.limit,n,r)}}function _p(i,t,n){return new hf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function ff(i,t){return ug(xi(i),xi(t))&&i.limitType===t.limitType}function EA(i){return`${lg(xi(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>vA(o))).join(", ")}]`),uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Io(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Io(o))).join(",")),`Target(${r})`})(xi(i))}; limitType=${i.limitType})`}function df(i,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):vt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,o){for(const u of eu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=_0(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,eu(r),o)||r.endAt&&!(function(c,m,p){const g=_0(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,eu(r),o))})(i,t)}function xD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function SA(i){return(t,n)=>{let r=!1;for(const o of eu(i)){const u=PD(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function PD(i,t,n){const r=i.field.isKeyField()?vt.comparator(t.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Co(p,g):bt(42886)})(i.field,t,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){wu(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return dD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Te(vt.comparator);function mr(){return LD}const AA=new Te(vt.comparator);function $l(...i){let t=AA;for(const n of i)t=t.insert(n.key,n);return t}function kD(i){let t=AA;return i.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function ta(){return nu()}function bA(){return nu()}function nu(){return new ma((i=>i.toString()),((i,t)=>i.isEqual(t)))}const UD=new Ue(vt.comparator);function jt(...i){let t=UD;for(const n of i)t=t.add(n);return t}const zD=new Ue(kt);function BD(){return zD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dp(t)?"-0":t}}function HD(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function FD(i,t,n){return i instanceof Tp?(function(o,u){const c={fields:{[hA]:{stringValue:cA},[dA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ag(u)&&(u=cf(u)),u&&(c.fields[fA]=u),{mapValue:c}})(n,t):i instanceof jh?wA(i,t):i instanceof Hh?RA(i,t):(function(o,u){const c=GD(o,u),m=A0(c)+A0(o.Ae);return gp(c)&&gp(o.Ae)?HD(m):jD(o.serializer,m)})(i,t)}function qD(i,t,n){return i instanceof jh?wA(i,t):i instanceof Hh?RA(i,t):n}function GD(i,t){return i instanceof Ep?(function(r){return gp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Tp extends mf{}class jh extends mf{constructor(t){super(),this.elements=t}}function wA(i,t){const n=CA(t);for(const r of i.elements)n.some((o=>zi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Hh extends mf{constructor(t){super(),this.elements=t}}function RA(i,t){let n=CA(t);for(const r of i.elements)n=n.filter((o=>!zi(o,r)));return{arrayValue:{values:n}}}class Ep extends mf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function A0(i){return _e(i.integerValue||i.doubleValue)}function CA(i){return og(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function KD(i,t){return i.field.isEqual(t.field)&&(function(r,o){return r instanceof jh&&o instanceof jh||r instanceof Hh&&o instanceof Hh?Ro(r.elements,o.elements,zi):r instanceof Ep&&o instanceof Ep?zi(r.Ae,o.Ae):r instanceof Tp&&o instanceof Tp})(i.transform,t.transform)}class sa{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new sa}static exists(t){return new sa(void 0,t)}static updateTime(t){return new sa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class cg{}function IA(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new QD(i.key,sa.none()):new hg(i.key,i.data,sa.none());{const n=i.data,r=Vi.empty();let o=new Ue(ln.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new pf(i.key,r,new nr(o.toArray()),sa.none())}}function YD(i,t,n){i instanceof hg?(function(o,u,c){const m=o.value.clone(),p=w0(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,n):i instanceof pf?(function(o,u,c){if(!wh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=w0(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(DA(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function iu(i,t,n,r){return i instanceof hg?(function(u,c,m,p){if(!wh(u.precondition,c))return m;const g=u.value.clone(),v=R0(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,n,r):i instanceof pf?(function(u,c,m,p){if(!wh(u.precondition,c))return m;const g=R0(u.fieldTransforms,p,c),v=c.data;return v.setAll(DA(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(i,t,n,r):(function(u,c,m){return wh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,t,n)}function b0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ro(r,o,((u,c)=>KD(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class hg extends cg{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pf extends cg{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function DA(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);t.set(n,r)}})),t}function w0(i,t,n){const r=new Map;ue(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,qD(c,m,n[o]))}return r}function R0(i,t,n){const r=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);r.set(o.field,FD(u,c,t))}return r}class QD extends cg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&YD(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=iu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=iu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=bA();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=IA(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),jt())}isEqual(t){return this.batchId===t.batchId&&Ro(this.mutations,t.mutations,((n,r)=>b0(n,r)))&&Ro(this.baseMutations,t.baseMutations,((n,r)=>b0(n,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,zt;function MA(i){if(i===void 0)return fs("GRPC error has no .code"),it.UNKNOWN;switch(i){case Me.OK:return it.OK;case Me.CANCELLED:return it.CANCELLED;case Me.UNKNOWN:return it.UNKNOWN;case Me.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Me.INTERNAL:return it.INTERNAL;case Me.UNAVAILABLE:return it.UNAVAILABLE;case Me.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Me.NOT_FOUND:return it.NOT_FOUND;case Me.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Me.ABORTED:return it.ABORTED;case Me.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Me.DATA_LOSS:return it.DATA_LOSS;default:return bt(39323,{code:i})}}(zt=Me||(Me={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new ar([4294967295,4294967295],0);function C0(i){const t=JD().encode(i),n=new WS;return n.update(t),new Uint8Array(n.digest())}function I0(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ar([n,r],0),new ar([o,u],0)]}class fg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ar.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(ar.fromNumber(r)));return o.compare(WD)===1&&(o=new ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=C0(t),[r,o]=I0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new fg(u,o,n);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const n=C0(t),[r,o]=I0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Ru.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new gf(At.min(),o,new Te(kt),mr(),jt())}}class Ru{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ru(r,n,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class VA{constructor(t,n){this.targetId=t,this.Ce=n}}class OA{constructor(t,n,r=Ze.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class D0{constructor(){this.ve=0,this.Fe=M0(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),n=jt(),r=jt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:u})}})),new Ru(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=M0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class t2{constructor(t){this.Ge=t,this.ze=new Map,this.je=mr(),this.Je=mh(),this.He=mh(),this.Ye=new Te(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(vp(u))if(r===0){const c=new vt(u.path);this.et(n,c,en.newNoDocument(c,At.min()))}else ue(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=fr(r).toUint8Array()}catch(p){if(p instanceof uA)return wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new fg(c,o,u)}catch(p){return wo(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&vp(m.target)){const p=new vt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,en.newNoDocument(p,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let r=jt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new gf(t,n,this.Ye,this.je,r);return this.je=mr(),this.Je=mh(),this.He=mh(),this.Ye=new Te(kt),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new D0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ue(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ue(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new D0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function mh(){return new Te(vt.comparator)}function M0(){return new Te(vt.comparator)}const e2={asc:"ASCENDING",desc:"DESCENDING"},n2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i2={and:"AND",or:"OR"};class s2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Sp(i,t){return i.useProto3Json||uf(t)?t:{value:t}}function r2(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function a2(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function go(i){return ue(!!i,49232),At.fromTimestamp((function(n){const r=hr(n);return new Oe(r.seconds,r.nanos)})(i))}function o2(i,t){return Ap(i,t).canonicalString()}function Ap(i,t){const n=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function NA(i){const t=oe.fromString(i);return ue(UA(t),10190,{key:t.toString()}),t}function km(i,t){const n=NA(t);if(n.get(1)!==i.databaseId.projectId)throw new pt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new vt(PA(n))}function xA(i,t){return o2(i.databaseId,t)}function l2(i){const t=NA(i);return t.length===4?oe.emptyPath():PA(t)}function V0(i){return new oe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function PA(i){return ue(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function u2(i,t){let n;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:bt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(ue(v===void 0||typeof v=="string",58123),Ze.fromBase64String(v||"")):(ue(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ze.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?it.UNKNOWN:MA(g.code);return new pt(v,g.message||"")})(c);n=new OA(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=km(i,r.document.name),u=go(r.document.updateTime),c=r.document.createTime?go(r.document.createTime):At.min(),m=new Vi({mapValue:{fields:r.document.fields}}),p=en.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];n=new Rh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=km(i,r.document),u=r.readTime?go(r.readTime):At.min(),c=en.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Rh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=km(i,r.document),u=r.removedTargetIds||[];n=new Rh([],u,o,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new ZD(o,u),m=r.targetId;n=new VA(m,c)}}return n}function c2(i,t){return{documents:[xA(i,t.path)]}}function h2(i,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xA(i,o);const u=(function(g){if(g.length!==0)return kA(Bi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:oo(A.field),direction:m2(A.dir)}})(v)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Sp(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function f2(i){let t=l2(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ue(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(E){const A=LA(E);return A instanceof Bi&&gA(A)?A.getFilters():[A]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((A=>(function(k){return new Bh(lo(k.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let A;return A=typeof E=="object"?E.value:E,uf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(E){const A=!!E.before,M=E.values||[];return new zh(M,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const A=!E.before,M=E.values||[];return new zh(M,A)})(n.endAt)),VD(t,o,c,u,m,"F",p,g)}function d2(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function LA(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lo(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=lo(n.unaryFilter.field);return ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(i):i.fieldFilter!==void 0?(function(n){return ke.create(lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Bi.create(n.compositeFilter.filters.map((r=>LA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(n.compositeFilter.op))})(i):bt(30097,{filter:i})}function m2(i){return e2[i]}function p2(i){return n2[i]}function g2(i){return i2[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return ln.fromServerFormat(i.fieldPath)}function kA(i){return i instanceof ke?(function(n){if(n.op==="=="){if(v0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(y0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(y0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:p2(n.op),value:n.value}}})(i):i instanceof Bi?(function(n){const r=n.getFilters().map((o=>kA(o)));return r.length===1?r[0]:{compositeFilter:{op:g2(n.op),filters:r}}})(i):bt(54877,{filter:i})}function UA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,n,r,o,u=At.min(),c=At.min(),m=Ze.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){this.yt=t}}function v2(i){const t=f2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_p(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.Cn=new T2}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(cr.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(cr.min())}updateCollectionGroup(t,n,r){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class T2{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Ue(oe.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ue(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zA=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(zA,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="LruGarbageCollector",E2=1048576;function x0([i,t],[n,r]){const o=kt(i,n);return o===0?kt(t,r):o}class S2{constructor(t){this.Ir=t,this.buffer=new Ue(x0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();x0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A2{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(N0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?ct(N0,"Ignoring IndexedDB error during garbage collection: ",n):await of(n)}await this.Vr(3e5)}))}}class b2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(lf.ce);const r=new S2(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(O0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(t,r,n)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(g=Date.now(),ro()<=Pt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function w2(i,t){return new b2(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.changes=new ma((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&iu(r.mutation,o,nr.empty(),Oe.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,jt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=jt()){const o=ta();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let c=$l();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=ta();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,jt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(t,n,r,o){let u=mr();const c=nu(),m=(function(){return nu()})();return n.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof pf)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),iu(v.mutation,g,v.mutation.getFieldMask(),Oe.now())):c.set(g.key,nr.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>m.set(g,new C2(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=nu();let o=new Te(((c,m)=>c-m)),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=r.get(p)||nr.empty();v=m.applyToLocalView(g,v),r.set(p,v);const E=(o.get(m.batchId)||jt()).add(p);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=bA();v.forEach((A=>{if(!u.has(A)){const M=IA(n.get(A),r.get(A));M!==null&&E.set(A,M),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return W.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):OD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):W.resolve(ta());let m=hu,p=u;return c.next((g=>W.forEach(g,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(v)?W.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,jt()))).next((v=>({batchId:m,changes:kD(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((r=>{let o=$l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let c=$l();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(p=>{const g=(function(E,A){return new hf(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((E,A)=>{c=c.insert(E,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,en.newInvalidDocument(v)))}));let m=$l();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&iu(v.mutation,g,nr.empty(),Oe.now()),df(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:go(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:v2(o.bundledQuery),readTime:go(o.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.overlays=new Te(vt.comparator),this.qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ta();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(t,n,r){const o=ta(),u=n.length+1,c=new vt(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new Te(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=ta(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return W.resolve(m)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new $D(n,r));let u=this.qr.get(n);u===void 0&&(u=jt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.Qr=new Ue(He.$r),this.Ur=new Ue(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new He(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new He(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new vt(new oe([])),r=new He(n,t),o=new He(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new vt(new oe([])),r=new He(n,t),o=new He(n,t+1);let u=jt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new He(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class He{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return vt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(He.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XD(u,n,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new He(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(c)}lookupMutationBatch(t,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?cD:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new He(n,0),o=new He(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ue(kt);return n.forEach((o=>{const u=new He(o,0),c=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;vt.isDocumentKey(u)||(u=u.child(""));const c=new He(new vt(u),0);let m=new Ue(kt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),W.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){ue(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,(o=>{const u=new He(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new He(n,0),o=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t){this.ri=t,this.docs=(function(){return new Te(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(t,n){let r=mr();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),W.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=mr();const c=n.path,m=new vt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||aD(rD(v),r)<=0||(o.has(v.key)||df(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,r,o){bt(9500)}ii(t,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new x2(this)}getSize(t){return W.resolve(this.size)}}class x2 extends R2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),W.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t){this.persistence=t,this.si=new ma((n=>lg(n)),ug),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new dg,this.targetCount=0,this.ai=Do.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Do(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Pr(n),W.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(t,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,n){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new V2,this.referenceDelegate=t(this),this.Pi=new P2(this),this.indexManager=new _2,this.remoteDocumentCache=(function(o){return new N2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new y2(n),this.Ii=new D2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new M2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new O2(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){ct("MemoryPersistence","Starting transaction:",t);const o=new L2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class L2 extends lD{constructor(t){super(),this.currentSequenceNumber=t}}class mg{constructor(t){this.persistence=t,this.Ri=new dg,this.Vi=null}static mi(t){return new mg(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const o=vt.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Fh{constructor(t,n){this.persistence=t,this.pi=new ma((r=>hD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=w2(this,n)}static mi(t,n){return new Fh(t,n)}Ei(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return W.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((m=>{m||(r++,u.removeEntry(c,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),W.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=bh(t.data.value)),n}br(t,n,r){return W.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=jt(),o=jt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new pg(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RC()?8:uD(sn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new k2;return this.Ss(t,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,c,m.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(ro()<=Pt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(ro()<=Pt.DEBUG&&ct("QueryEngine","Query:",ao(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ro()<=Pt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):W.resolve())}ys(t,n){if(S0(n))return W.resolve(null);let r=xi(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_p(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=jt(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(t,_p(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,r,o){return S0(n)||o.isEqual(At.min())?W.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,r,o)?W.resolve(null):(ro()<=Pt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.vs(t,c,n,sD(o,hu)).next((m=>m)))}))}Ds(t,n){let r=new Ue(SA(t));return n.forEach(((o,u)=>{df(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return ro()<=Pt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ps.getDocumentsMatchingQuery(t,n,cr.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",z2=3e8;class B2{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new Te(kt),this.xs=new ma((u=>lg(u)),ug),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function j2(i,t,n,r){return new B2(i,t,n,r)}async function jA(i,t){const n=Bt(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=jt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function HA(i){const t=Bt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function H2(i,t){const n=Bt(i),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((v,E)=>{const A=o.get(E);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,E))));let M=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?M=M.withResumeToken(Ze.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):v.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(v.resumeToken,r)),o=o.insert(E,M),(function(G,H,Q){return G.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=z2?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(A,M,v)&&m.push(n.Pi.updateTargetData(u,M))}));let p=mr(),g=jt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(F2(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!r.isEqual(At.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return W.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function F2(i,t,n){let r=jt(),o=jt();return n.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let c=mr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ct(gg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function q2(i,t){const n=Bt(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new ir(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function bp(i,t,n){const r=Bt(i),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Lo(c))throw c;ct(gg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function P0(i,t,n){const r=Bt(i);let o=At.min(),u=jt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=Bt(p),A=E.xs.get(v);return A!==void 0?W.resolve(E.Ms.get(A)):E.Pi.getTargetData(g,v)})(r,c,xi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,n?o:At.min(),n?u:jt()))).next((m=>(G2(r,xD(t),m),{documents:m,Qs:u})))))}function G2(i,t,n){let r=i.Os.get(t)||At.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(t,r)}class L0{constructor(){this.activeTargetIds=BD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class K2{constructor(){this.Mo=new L0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new L0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="ConnectivityMonitor";class U0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(k0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(k0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function wp(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",Q2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Uh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const c=wp(),m=this.zo(t,n.toUriEncodedString());ct(Um,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=fa(g);return this.Jo(t,m,p,r,v).then((E=>(ct(Um,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw wo(Um,`RPC '${t}' ${c} failed with error: `,E,"url: ",m,"request:",r),E}))}Ho(t,n,r,o,u,c){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=Q2[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class Z2 extends X2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const c=wp();return new Promise(((m,p)=>{const g=new tA;g.setWithCredentials(!0),g.listenOnce(eA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ah.NO_ERROR:const E=g.getResponseJson();ct(We,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),m(E);break;case Ah.TIMEOUT:ct(We,`RPC '${t}' ${c} timed out`),p(new pt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const A=g.getStatus();if(ct(We,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const k=M?.error;if(k&&k.status&&k.message){const G=(function(Q){const tt=Q.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(tt)>=0?tt:it.UNKNOWN})(k.status);p(new pt(G,k.message))}else p(new pt(it.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pt(it.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ct(We,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);ct(We,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",v,r,15)}))}T_(t,n,r){const o=wp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=sA(),m=iA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ct(We,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let A=!1,M=!1;const k=new $2({Yo:H=>{M?ct(We,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(A||(ct(We,`Opening RPC '${t}' stream ${o} transport.`),E.open(),A=!0),ct(We,`RPC '${t}' stream ${o} sending:`,H),E.send(H))},Zo:()=>E.close()}),G=(H,Q,tt)=>{H.listen(Q,(Z=>{try{tt(Z)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return G(E,Xl.EventType.OPEN,(()=>{M||(ct(We,`RPC '${t}' stream ${o} transport opened.`),k.o_())})),G(E,Xl.EventType.CLOSE,(()=>{M||(M=!0,ct(We,`RPC '${t}' stream ${o} transport closed`),k.a_(),this.E_(E))})),G(E,Xl.EventType.ERROR,(H=>{M||(M=!0,wo(We,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),k.a_(new pt(it.UNAVAILABLE,"The operation could not be completed")))})),G(E,Xl.EventType.MESSAGE,(H=>{if(!M){const Q=H.data[0];ue(!!Q,16349);const tt=Q,Z=tt?.error||tt[0]?.error;if(Z){ct(We,`RPC '${t}' stream ${o} received error:`,Z);const rt=Z.status;let st=(function(w){const C=Me[w];if(C!==void 0)return MA(C)})(rt),ot=Z.message;st===void 0&&(st=it.INTERNAL,ot="Unknown error status: "+rt+" with message "+Z.message),M=!0,k.a_(new pt(st,ot)),E.close()}else ct(We,`RPC '${t}' stream ${o} received:`,Q),k.u_(Q)}})),G(m,nA.STAT_EVENT,(H=>{H.stat===cp.PROXY?ct(We,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===cp.NOPROXY&&ct(We,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(i){return new s2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="PersistentStream";class J2{constructor(t,n,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new pt(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(z0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ct(z0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class W2 extends J2{constructor(t,n,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=u2(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?go(c.readTime):At.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=V0(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=vp(p)?{documents:c2(u,p)}:{query:h2(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=a2(u,c.resumeToken);const g=Sp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){m.readTime=r2(u,c.snapshotVersion.toTimestamp());const g=Sp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=d2(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=V0(this.serializer),n.removeTarget=t,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{}class eM extends tM{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,Ap(n,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(it.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,Ap(n,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(it.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(n),this.aa=!1):ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="RemoteStore";class iM{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Iu(this)&&(ct(Mo,"Restarting streams for network reachability change."),await(async function(p){const g=Bt(p);g.Ea.add(4),await Cu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await yf(g)})(this))}))})),this.Ra=new nM(r,o)}}async function yf(i){if(Iu(i))for(const t of i.da)await t(!0)}async function Cu(i){for(const t of i.da)await t(!1)}function GA(i,t){const n=Bt(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Tg(n)?_g(n):ko(n).O_()&&vg(n,t))}function yg(i,t){const n=Bt(i),r=ko(n);n.Ia.delete(t),r.O_()&&KA(n,t),n.Ia.size===0&&(r.O_()?r.L_():Iu(n)&&n.Ra.set("Unknown"))}function vg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ko(i).Y_(t)}function KA(i,t){i.Va.Ue(t),ko(i).Z_(t)}function _g(i){i.Va=new t2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),ko(i).start(),i.Ra.ua()}function Tg(i){return Iu(i)&&!ko(i).x_()&&i.Ia.size>0}function Iu(i){return Bt(i).Ea.size===0}function YA(i){i.Va=void 0}async function sM(i){i.Ra.set("Online")}async function rM(i){i.Ia.forEach(((t,n)=>{vg(i,t)}))}async function aM(i,t){YA(i),Tg(i)?(i.Ra.ha(t),_g(i)):i.Ra.set("Unknown")}async function oM(i,t,n){if(i.Ra.set("Online"),t instanceof OA&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(r){ct(Mo,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await B0(i,r)}else if(t instanceof Rh?i.Va.Ze(t):t instanceof VA?i.Va.st(t):i.Va.tt(t),!n.isEqual(At.min()))try{const r=await HA(i.localStore);n.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Ze.EMPTY_BYTE_STRING,v.snapshotVersion)),KA(u,p);const E=new ir(v.target,p,g,v.sequenceNumber);vg(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(r){ct(Mo,"Failed to raise snapshot:",r),await B0(i,r)}}async function B0(i,t,n){if(!Lo(t))throw t;i.Ea.add(1),await Cu(i),i.Ra.set("Offline"),n||(n=()=>HA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ct(Mo,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await yf(i)}))}async function j0(i,t){const n=Bt(i);n.asyncQueue.verifyOperationInProgress(),ct(Mo,"RemoteStore received new credentials");const r=Iu(n);n.Ea.add(3),await Cu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await yf(n)}async function lM(i,t){const n=Bt(i);t?(n.Ea.delete(2),await yf(n)):t||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function ko(i){return i.ma||(i.ma=(function(n,r,o){const u=Bt(n);return u.sa(),new W2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:sM.bind(null,i),t_:rM.bind(null,i),r_:aM.bind(null,i),H_:oM.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Tg(i)?_g(i):i.Ra.set("Unknown")):(await i.ma.stop(),YA(i))}))),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const c=Date.now()+r,m=new Eg(t,n,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QA(i,t){if(fs("AsyncQueue",`${t}: ${i}`),Lo(i))return new pt(it.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(t){return new yo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=$l(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof yo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new yo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.ga=new Te(vt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class Vo{constructor(t,n,r,o,u,c,m,p,g){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,r,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Vo(t,n,yo.emptySet(n),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ff(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class cM{constructor(){this.queries=F0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Bt(n),u=o.queries;o.queries=F0(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new pt(it.ABORTED,"Firestore shutting down"))}}function F0(){return new ma((i=>EA(i)),ff)}async function hM(i,t){const n=Bt(i);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new uM,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=QA(c,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Sg(n)}async function fM(i,t){const n=Bt(i),r=t.query;let o=3;const u=n.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dM(i,t){const n=Bt(i);let r=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&Sg(n)}function mM(i,t,n){const r=Bt(i),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function Sg(i){i.Ca.forEach((t=>{t.next()}))}var Rp,q0;(q0=Rp||(Rp={})).Ma="default",q0.Cache="cache";class pM{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Vo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Vo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t){this.key=t}}class $A{constructor(t){this.key=t}}class gM{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=SA(t),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new H0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,E)=>{const A=o.get(v),M=df(this.query,E)?E:null,k=!!A&&this.mutatedKeys.has(A.key),G=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let H=!1;A&&M?A.data.isEqual(M.data)?k!==G&&(r.track({type:3,doc:M}),H=!0):this.su(A,M)||(r.track({type:2,doc:M}),H=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!A&&M?(r.track({type:0,doc:M}),H=!0):A&&!M&&(r.track({type:1,doc:A}),H=!0,(p||g)&&(m=!0)),H&&(M?(c=c.add(M),u=G?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,E)=>(function(M,k){const G=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:H})}};return G(M)-G(k)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Vo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new H0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new $A(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new XA(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=jt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ag="SyncEngine";class yM{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class vM{constructor(t){this.key=t,this.hu=!1}}class _M{constructor(t,n,r,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ma((m=>EA(m)),ff),this.Iu=new Map,this.Eu=new Set,this.du=new Te(vt.comparator),this.Au=new Map,this.Ru=new dg,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TM(i,t,n=!0){const r=e1(i);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ZA(r,t,n,!0),o}async function EM(i,t){const n=e1(i);await ZA(n,t,!0,!1)}async function ZA(i,t,n,r){const o=await q2(i.localStore,xi(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await SM(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&GA(i.remoteStore,o),m}async function SM(i,t,n,r,o){i.pu=(E,A,M)=>(async function(G,H,Q,tt){let Z=H.view.ru(Q);Z.Cs&&(Z=await P0(G.localStore,H.query,!1).then((({documents:R})=>H.view.ru(R,Z))));const rt=tt&&tt.targetChanges.get(H.targetId),st=tt&&tt.targetMismatches.get(H.targetId)!=null,ot=H.view.applyChanges(Z,G.isPrimaryClient,rt,st);return K0(G,H.targetId,ot.au),ot.snapshot})(i,E,A,M);const u=await P0(i.localStore,t,!0),c=new gM(t,u.Qs),m=c.ru(u.documents),p=Ru.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);K0(i,n,g.au);const v=new yM(t,n,c);return i.Tu.set(t,v),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),g.snapshot}async function AM(i,t,n){const r=Bt(i),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!ff(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await bp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&yg(r.remoteStore,o.targetId),Cp(r,o.targetId)})).catch(of)):(Cp(r,o.targetId),await bp(r.localStore,o.targetId,!0))}async function bM(i,t){const n=Bt(i),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yg(n.remoteStore,r.targetId))}async function JA(i,t){const n=Bt(i);try{const r=await H2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ue(c.hu,14607):o.removedDocuments.size>0&&(ue(c.hu,42227),c.hu=!1))})),await t1(n,r,t)}catch(r){await of(r)}}function G0(i,t,n){const r=Bt(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Bt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,E)=>{for(const A of E.Sa)A.va(m)&&(g=!0)})),g&&Sg(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wM(i,t,n){const r=Bt(i);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Te(vt.comparator);c=c.insert(u,en.newNoDocument(u,At.min()));const m=jt().add(u),p=new gf(At.min(),new Map,new Te(kt),c,m);await JA(r,p),r.du=r.du.remove(u),r.Au.delete(t),bg(r)}else await bp(r.localStore,t,!1).then((()=>Cp(r,t,n))).catch(of)}function Cp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((r=>{i.Ru.containsKey(r)||WA(i,r)}))}function WA(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(yg(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),bg(i))}function K0(i,t,n){for(const r of n)r instanceof XA?(i.Ru.addReference(r.key,t),RM(i,r)):r instanceof $A?(ct(Ag,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||WA(i,r.key)):bt(19791,{wu:r})}function RM(i,t){const n=t.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(ct(Ag,"New document in limbo: "+n),i.Eu.add(r),bg(i))}function bg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new vt(oe.fromString(t)),r=i.fu.next();i.Au.set(r,new vM(n)),i.du=i.du.insert(n,r),GA(i.remoteStore,new ir(xi(TA(n.path)),r,"TargetPurposeLimboResolution",lf.ce))}}async function t1(i,t,n){const r=Bt(i),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,n).then((g=>{if((g||n)&&r.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=pg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const v=Bt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>W.forEach(g,(A=>W.forEach(A.Es,(M=>v.persistence.referenceDelegate.addReference(E,A.targetId,M))).next((()=>W.forEach(A.ds,(M=>v.persistence.referenceDelegate.removeReference(E,A.targetId,M)))))))))}catch(E){if(!Lo(E))throw E;ct(gg,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const M=v.Ms.get(A),k=M.snapshotVersion,G=M.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(A,G)}}})(r.localStore,u))}async function CM(i,t){const n=Bt(i);if(!n.currentUser.isEqual(t)){ct(Ag,"User change. New user:",t.toKey());const r=await jA(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new pt(it.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await t1(n,r.Ls)}}function IM(i,t){const n=Bt(i),r=n.Au.get(t);if(r&&r.hu)return jt().add(r.key);{let o=jt();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function e1(i){const t=Bt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=JA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wM.bind(null,t),t.Pu.H_=dM.bind(null,t.eventManager),t.Pu.yu=mM.bind(null,t.eventManager),t}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=FA(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return j2(this.persistence,new U2,t.initialUser,this.serializer)}Cu(t){return new BA(mg.mi,this.serializer)}Du(t){return new K2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class DM extends qh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ue(this.persistence.referenceDelegate instanceof Fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new A2(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new BA((r=>Fh.mi(r,n)),this.serializer)}}class Ip{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CM.bind(null,this.syncEngine),await lM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cM})()}createDatastore(t){const n=FA(t.databaseInfo.databaseId),r=(function(u){return new Z2(u)})(t.databaseInfo);return(function(u,c,m,p){return new eM(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,c,m){return new iM(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>G0(this.syncEngine,n,0)),(function(){return U0.v()?new U0:new Y2})())}createSyncEngine(t,n){return(function(o,u,c,m,p,g,v){const E=new _M(o,u,c,m,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Bt(n);ct(Mo,"RemoteStore shutting down."),r.Ea.add(5),await Cu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ip.provider={build:()=>new Ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="FirestoreClient";class VM{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=oA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ct(pr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ct(pr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=QA(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Bm(i,t){i.asyncQueue.verifyOperationInProgress(),ct(pr,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await jA(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function Y0(i,t){i.asyncQueue.verifyOperationInProgress();const n=await OM(i);ct(pr,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((r=>j0(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>j0(t.remoteStore,o))),i._onlineComponents=t}async function OM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ct(pr,"Using user provided OfflineComponentProvider");try{await Bm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await Bm(i,new qh)}}else ct(pr,"Using default OfflineComponentProvider"),await Bm(i,new DM(void 0));return i._offlineComponents}async function NM(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ct(pr,"Using user provided OnlineComponentProvider"),await Y0(i,i._uninitializedComponentsProvider._online)):(ct(pr,"Using default OnlineComponentProvider"),await Y0(i,new Ip))),i._onlineComponents}async function xM(i){const t=await NM(i),n=t.eventManager;return n.onListen=TM.bind(null,t.syncEngine),n.onUnlisten=AM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=EM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bM.bind(null,t.syncEngine),n}function PM(i,t,n={}){const r=new ia;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new MM({next:A=>{v.Nu(),c.enqueueAndForget((()=>fM(u,E))),A.fromCache&&p.source==="server"?g.reject(new pt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new pM(m,v,{includeMetadataChanges:!0,qa:!0});return hM(u,E)})(await xM(i),i.asyncQueue,t,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="firestore.googleapis.com",X0=!0;class $0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i1,this.ssl=X0}else this.host=t.host,this.ssl=t.ssl??X0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<E2)throw new pt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wg{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qI;switch(r.type){case"firstParty":return new QI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Q0.get(n);r&&(ct("ComponentProvider","Removing Datastore"),Q0.delete(n),r.terminate())})(this),Promise.resolve()}}function LM(i,t,n,r={}){i=fp(i,wg);const o=fa(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${n}`;o&&(tg(`https://${m}`),eg("Firestore",!0)),u.host!==i1&&u.host!==m&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!la(p,c)&&(i._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=tn.MOCK_USER;else{g=YS(r.mockUserToken,i._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new pt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new tn(E)}i._authCredentials=new GI(new aA(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new vf(this.firestore,t,this._query)}}class Fn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fn(this.firestore,t,this._key)}toJSON(){return{type:Fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(bu(n,Fn._jsonSchema))return new Fn(t,r||null,new vt(oe.fromString(n.referencePath)))}}Fn._jsonSchemaVersion="firestore/documentReference/1.0",Fn._jsonSchema={type:Ne("string",Fn._jsonSchemaVersion),referencePath:Ne("string")};class vo extends vf{constructor(t,n,r){super(t,n,TA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fn(this.firestore,null,new vt(t))}withConverter(t){return new vo(this.firestore,t,this._path)}}function Z0(i,t,...n){if(i=vr(i),tD("collection","path",t),i instanceof wg){const r=oe.fromString(t,...n);return u0(r),new vo(i,null,r)}{if(!(i instanceof Fn||i instanceof vo))throw new pt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(oe.fromString(t,...n));return u0(r),new vo(i.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="AsyncQueue";class W0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qA(this,"async_queue_retry"),this._c=()=>{const r=zm();r&&ct(J0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Lo(t))throw t;ct(J0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",tE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Eg.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:tE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function tE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class s1 extends wg{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new W0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new W0(t),this._firestoreClient=void 0,await t}}}function kM(i,t){const n=typeof i=="object"?i:sg(),r=typeof i=="string"?i:Uh,o=af(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=qS("firestore");u&&LM(o,...u)}return o}function UM(i){if(i._terminated)throw new pt(it.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||zM(i),i._firestoreClient}function zM(i){const t=i._freezeSettings(),n=(function(o,u,c,m){return new pD(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,n1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new VM(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Oi(Ze.fromBase64String(t))}catch(n){throw new pt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Oi(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(bu(t,Oi._jsonSchema))return Oi.fromBase64String(t.bytes)}}Oi._jsonSchemaVersion="firestore/bytes/1.0",Oi._jsonSchema={type:Ne("string",Oi._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:or._jsonSchemaVersion}}static fromJSON(t){if(bu(t,or._jsonSchema))return new or(t.latitude,t.longitude)}}or._jsonSchemaVersion="firestore/geoPoint/1.0",or._jsonSchema={type:Ne("string",or._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(bu(t,lr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new lr(t.vectorValues);throw new pt(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}lr._jsonSchemaVersion="firestore/vectorValue/1.0",lr._jsonSchema={type:Ne("string",lr._jsonSchemaVersion),vectorValues:Ne("object")};const BM=new RegExp("[~\\*/\\[\\]]");function jM(i,t,n){if(t.search(BM)>=0)throw eE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new r1(...t.split("."))._internalPath}catch{throw eE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function eE(i,t,n,r,o){let u=`Function ${t}() called with invalid data`;u+=". ";let c="";return new pt(it.INVALID_ARGUMENT,u+i+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(o1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HM extends a1{data(){return super.data()}}function o1(i,t){return typeof t=="string"?jM(i,t):t instanceof r1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qM{convertValue(t,n="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return wu(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[mp].arrayValue?.values?.map((r=>_e(r.doubleValue)));return new lr(n)}convertGeoPoint(t){return new or(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=cf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fu(t));default:return null}}convertTimestamp(t){const n=hr(t);return new Oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=oe.fromString(t);ue(UA(r),9688,{name:t});const o=new du(r.get(1),r.get(3)),u=new vt(r.popFirst(5));return o.isEqual(n)||fs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class gh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _o extends a1{constructor(t,n,r,o,u,c){super(t,n,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(o1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=_o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:Ne("string",_o._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Ch extends _o{data(t={}){return super.data(t)}}class To{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new gh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Ch(this._firestore,this._userDataWriter,r.key,r,new gh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:GM(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=To._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=oA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function GM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:i})}}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:Ne("string",To._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class KM extends qM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Oi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function nE(i){i=fp(i,vf);const t=fp(i.firestore,s1),n=UM(t),r=new KM(t);return FM(i._query),PM(n,i._query).then((o=>new To(t,r,i,o)))}(function(t,n=!0){(function(o){Po=o})(da),ua(new ur("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new s1(new KI(r.getProvider("auth-internal")),new XI(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ni(r0,a0,t),Ni(r0,a0,"esm2020")})();var YM="firebase",QM="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(YM,QM,"app");function l1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XM=l1,u1=new Su("auth","Firebase",l1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new ng("@firebase/auth");function $M(i,...t){Gh.logLevel<=Pt.WARN&&Gh.warn(`Auth (${da}): ${i}`,...t)}function Ih(i,...t){Gh.logLevel<=Pt.ERROR&&Gh.error(`Auth (${da}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(i,...t){throw Rg(i,...t)}function Pi(i,...t){return Rg(i,...t)}function c1(i,t,n){const r={...XM(),[t]:n};return new Su("auth","Firebase",r).create(t,{appName:i.name})}function ra(i){return c1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rg(i,...t){if(typeof i!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return u1.create(i,...t)}function Tt(i,t,...n){if(!i)throw Rg(t,...n)}function us(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Ih(t),new Error(t)}function ms(i,t){i||us(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(){return typeof self<"u"&&self.location?.href||""}function ZM(){return iE()==="http:"||iE()==="https:"}function iE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZM()||AC()||"connection"in navigator)?navigator.onLine:!0}function WM(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,n){this.shortDelay=t,this.longDelay=n,ms(n>t,"Short delay should be less than long delay!"),this.isMobile=TC()||bC()}get(){return JM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(i,t){ms(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nV=new Du(3e4,6e4);function Ig(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function Uo(i,t,n,r,o={}){return f1(i,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=Au({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return SC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&fa(i.emulatorConfig.host)&&(g.credentials="include"),h1.fetch()(await d1(i,i.config.apiHost,n,m),g)})}async function f1(i,t,n){i._canInitEmulator=!1;const r={...tV,...t};try{const o=new sV(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw yh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw yh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw yh(i,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw c1(i,v,g);ds(i,v)}}catch(o){if(o instanceof Hi)throw o;ds(i,"network-request-failed",{message:String(o)})}}async function iV(i,t,n,r,o={}){const u=await Uo(i,t,n,r,o);return"mfaPendingCredential"in u&&ds(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function d1(i,t,n,r){const o=`${t}${n}?${r}`,u=i,c=u.config.emulator?Cg(i.config,o):`${i.config.apiScheme}://${o}`;return eV.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class sV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),nV.get())})}}function yh(i,t,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Pi(i,t,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(i,t){return Uo(i,"POST","/v1/accounts:delete",t)}async function Kh(i,t){return Uo(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aV(i,t=!1){const n=vr(i),r=await n.getIdToken(t),o=Dg(r);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:su(jm(o.auth_time)),issuedAtTime:su(jm(o.iat)),expirationTime:su(jm(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function jm(i){return Number(i)*1e3}function Dg(i){const[t,n,r]=i.split(".");if(t===void 0||n===void 0||r===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=HS(n);return o?JSON.parse(o):(Ih("Failed to decode base64 JWT payload"),null)}catch(o){return Ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function sE(i){const t=Dg(i);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(i,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Hi&&oV(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function oV({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(i){const t=i.auth,n=await i.getIdToken(),r=await pu(i,Kh(t,{idToken:n}));Tt(r?.users.length,t,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?m1(o.providerUserInfo):[],c=cV(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Mp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function uV(i){const t=vr(i);await Yh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cV(i,t){return[...i.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function m1(i){return i.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV(i,t){const n=await f1(i,{},async()=>{const r=Au({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await d1(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&fa(i.emulatorConfig.host)&&(p.credentials="include"),h1.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fV(i,t){return Uo(i,"POST","/v2/accounts:revokeToken",Ig(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=sE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await hV(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new Eo;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Tt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(i,t){Tt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new lV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await pu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return aV(this,t)}reload(){return uV(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(ra(this.auth));const t=await this.getIdToken();return await pu(this,rV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:M,providerData:k,stsTokenManager:G}=n;Tt(E&&G,t,"internal-error");const H=Eo.fromJSON(this.name,G);Tt(typeof E=="string",t,"internal-error"),$s(r,t.name),$s(o,t.name),Tt(typeof A=="boolean",t,"internal-error"),Tt(typeof M=="boolean",t,"internal-error"),$s(u,t.name),$s(c,t.name),$s(m,t.name),$s(p,t.name),$s(g,t.name),$s(v,t.name);const Q=new ai({uid:E,auth:t,email:o,emailVerified:A,displayName:r,isAnonymous:M,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(Q.providerData=k.map(tt=>({...tt}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(t,n,r=!1){const o=new Eo;o.updateFromServerResponse(n);const u=new ai({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Yh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?m1(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Eo;m.updateFromIdToken(r);const p=new ai({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;function cs(i){ms(i instanceof Function,"Expected a class definition");let t=rE.get(i);return t?(ms(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,rE.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}p1.type="NONE";const aE=p1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(i,t,n){return`firebase:${i}:${t}:${n}`}class So{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Kh(this.auth,{idToken:t}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new So(cs(aE),t,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cs(aE);const c=Dh(r,t.config.apiKey,t.name);let m=null;for(const g of n)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const A=await Kh(t,{idToken:v}).catch(()=>{});if(!A)break;E=await ai._fromGetAccountInfoResponse(t,A,v)}else E=ai._fromJSON(t,v);g!==u&&(m=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new So(u,t,r):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new So(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(g1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(E1(t))return"Blackberry";if(S1(t))return"Webos";if(y1(t))return"Safari";if((t.includes("chrome/")||v1(t))&&!t.includes("edge/"))return"Chrome";if(T1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function g1(i=sn()){return/firefox\//i.test(i)}function y1(i=sn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function v1(i=sn()){return/crios\//i.test(i)}function _1(i=sn()){return/iemobile/i.test(i)}function T1(i=sn()){return/android/i.test(i)}function E1(i=sn()){return/blackberry/i.test(i)}function S1(i=sn()){return/webos/i.test(i)}function Mg(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function dV(i=sn()){return Mg(i)&&!!window.navigator?.standalone}function mV(){return wC()&&document.documentMode===10}function A1(i=sn()){return Mg(i)||T1(i)||S1(i)||E1(i)||/windows phone/i.test(i)||_1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(i,t=[]){let n;switch(i){case"Browser":n=oE(sn());break;case"Worker":n=`${oE(sn())}-${i}`;break;default:n=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(i,t={}){return Uo(i,"GET","/v2/passwordPolicy",Ig(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=6;class vV{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new pV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Kh(this,{idToken:t}),r=await ai._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ri(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Yh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=WM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ri(this.app))return Promise.reject(ra(this));const n=t?vr(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ri(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gV(this),n=new vV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Su("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fV(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&cs(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=b1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&$M(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Vg(i){return vr(i)}class lE{constructor(t){this.auth=t,this.observer=null,this.addObserver=NC(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TV(i){Og=i}function EV(i){return Og.loadJS(i)}function SV(){return Og.gapiScript}function AV(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(i,t){const n=af(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(la(u,t??{}))return o;ds(o,"already-initialized")}return n.initialize({options:t})}function wV(i,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(cs);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t?.popupRedirectResolver)}function RV(i,t,n){const r=Vg(i);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=w1(t),{host:c,port:m}=CV(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(la(g,r.config.emulator)&&la(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,fa(c)?(tg(`${u}//${c}${p}`),eg("Auth",!0)):IV()}function w1(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function CV(i){const t=w1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:uE(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:uE(c)}}}function uE(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function IV(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,n){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i,t){return iV(i,"POST","/v1/accounts:signInWithIdp",Ig(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="http://localhost";class ha extends R1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ha(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const c=new ha(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Ao(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ao(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ao(t,n)}buildRequest(){const t={requestUri:DV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Au(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends C1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Mu{constructor(){super("facebook.com")}static credential(t){return ha._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ha._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Mu{constructor(){super("github.com")}static credential(t){return ha._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Mu{constructor(){super("twitter.com")}static credential(t,n){return ha._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return er.credential(n,r)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await ai._fromIdTokenResponse(t,r,o),c=cE(r);return new Oo({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=cE(r);return new Oo({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function cE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Hi{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new Qh(t,n,r,o)}}function I1(i,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(i,u,t,r):u})}async function MV(i,t,n=!1){const r=await pu(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return Oo._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(i,t,n=!1){const{auth:r}=i;if(ri(r.app))return Promise.reject(ra(r));const o="reauthenticate";try{const u=await pu(i,I1(r,o,t,i),n);Tt(u.idToken,r,"internal-error");const c=Dg(u.idToken);Tt(c,r,"internal-error");const{sub:m}=c;return Tt(i.uid===m,r,"user-mismatch"),Oo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ds(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(i,t,n=!1){if(ri(i.app))return Promise.reject(ra(i));const r="signIn",o=await I1(i,r,t),u=await Oo._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(u.user),u}function NV(i,t,n,r){return vr(i).onIdTokenChanged(t,n,r)}function xV(i,t,n){return vr(i).beforeAuthStateChanged(t,n)}const Xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=1e3,LV=10;class M1 extends D1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);mV()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,LV):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},PV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}M1.type="LOCAL";const kV=M1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends D1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}V1.type="SESSION";const O1=V1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new _f(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await UV(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(i="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Ng("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function BV(i){Li().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function jV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HV(){return navigator?.serviceWorker?.controller||null}function FV(){return N1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="firebaseLocalStorageDb",qV=1,$h="firebaseLocalStorage",P1="fbase_key";class Vu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tf(i,t){return i.transaction([$h],t?"readwrite":"readonly").objectStore($h)}function GV(){const i=indexedDB.deleteDatabase(x1);return new Vu(i).toPromise()}function Vp(){const i=indexedDB.open(x1,qV);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore($h,{keyPath:P1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains($h)?t(r):(r.close(),await GV(),t(await Vp()))})})}async function hE(i,t,n){const r=Tf(i,!0).put({[P1]:t,value:n});return new Vu(r).toPromise()}async function KV(i,t){const n=Tf(i,!1).get(t),r=await new Vu(n).toPromise();return r===void 0?null:r.value}function fE(i,t){const n=Tf(i,!0).delete(t);return new Vu(n).toPromise()}const YV=800,QV=3;class L1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>QV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(FV()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jV(),!this.activeServiceWorker)return;this.sender=new zV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vp();return await hE(t,Xh,"1"),await fE(t,Xh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>KV(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Tf(o,!1).getAll();return new Vu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L1.type="LOCAL";const XV=L1;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(i,t){return t?cs(t):(Tt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends R1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ao(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ao(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ZV(i){return OV(i.auth,new xg(i),i.bypassAuthState)}function JV(i){const{auth:t,user:n}=i;return Tt(n,t,"internal-error"),VV(n,new xg(i),i.bypassAuthState)}async function WV(i){const{auth:t,user:n}=i;return Tt(n,t,"internal-error"),MV(n,new xg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ZV;case"linkViaPopup":case"linkViaRedirect":return WV;case"reauthViaPopup":case"reauthViaRedirect":return JV;default:ds(this.auth,"internal-error")}}resolve(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new Du(2e3,1e4);class uo extends k1{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const t=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tO.get())};t()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="pendingRedirect",Mh=new Map;class nO extends k1{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Mh.get(this.auth._key());if(!t){try{const r=await iO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Mh.set(this.auth._key(),t)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iO(i,t){const n=aO(t),r=rO(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function sO(i,t){Mh.set(i._key(),t)}function rO(i){return cs(i._redirectPersistence)}function aO(i){return Dh(eO,i.config.apiKey,i.name)}async function oO(i,t,n=!1){if(ri(i.app))return Promise.reject(ra(i));const r=Vg(i),o=$V(r,t),c=await new nO(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=600*1e3;class uO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!U1(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lO&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(t))}saveEventToCache(t){this.cachedEventUids.add(dE(t)),this.lastProcessedEventTime=Date.now()}}function dE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function U1({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function cO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(i,t={}){return Uo(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dO=/^https?/;async function mO(i){if(i.config.emulator)return;const{authorizedDomains:t}=await hO(i);for(const n of t)try{if(pO(n))return}catch{}ds(i,"unauthorized-domain")}function pO(i){const t=Dp(),{protocol:n,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!dO.test(n))return!1;if(fO.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new Du(3e4,6e4);function mE(){const i=Li().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function yO(i){return new Promise((t,n)=>{function r(){mE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(Pi(i,"network-request-failed"))},timeout:gO.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)r();else{const o=AV("iframefcb");return Li()[o]=()=>{gapi.load?r():n(Pi(i,"network-request-failed"))},EV(`${SV()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Vh=null,t})}let Vh=null;function vO(i){return Vh=Vh||yO(i),Vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new Du(5e3,15e3),TO="__/auth/iframe",EO="emulator/auth/iframe",SO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bO(i){const t=i.config;Tt(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Cg(t,EO):`https://${i.config.authDomain}/${TO}`,r={apiKey:t.apiKey,appName:i.name,v:da},o=AO.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Au(r).slice(1)}`}async function wO(i){const t=await vO(i),n=Li().gapi;return Tt(n,i,"internal-error"),t.open({where:document.body,url:bO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SO,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Pi(i,"network-request-failed"),m=Li().setTimeout(()=>{u(c)},_O.get());function p(){Li().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CO=500,IO=600,DO="_blank",MO="http://localhost";class pE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VO(i,t,n,r=CO,o=IO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...RO,width:r.toString(),height:o.toString(),top:u,left:c},g=sn().toLowerCase();n&&(m=v1(g)?DO:n),g1(g)&&(t=t||MO,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[M,k])=>`${A}${M}=${k},`,"");if(dV(g)&&m!=="_self")return OO(t||"",m),new pE(null);const E=window.open(t||"",m,v);Tt(E,i,"popup-blocked");try{E.focus()}catch{}return new pE(E)}function OO(i,t){const n=document.createElement("a");n.href=i,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="__/auth/handler",xO="emulator/auth/handler",PO=encodeURIComponent("fac");async function gE(i,t,n,r,o,u){Tt(i.config.authDomain,i,"auth-domain-config-required"),Tt(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:da,eventId:o};if(t instanceof C1){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",OC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof Mu){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${PO}=${encodeURIComponent(p)}`:"";return`${LO(i)}?${Au(m).slice(1)}${g}`}function LO({config:i}){return i.emulator?Cg(i,xO):`https://${i.authDomain}/${NO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class kO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O1,this._completeRedirectFn=oO,this._overrideRedirectResult=sO}async _openPopup(t,n,r,o){ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await gE(t,n,r,Dp(),o);return VO(t,u,Ng())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await gE(t,n,r,Dp(),o);return BV(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ms(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await wO(t),r=new uO(t);return n.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Hm,{type:Hm},o=>{const u=o?.[0]?.[Hm];u!==void 0&&n(!!u),ds(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return A1()||y1()||Mg()}}const UO=kO;var yE="@firebase/auth",vE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jO(i){ua(new ur("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b1(i)},g=new _V(r,o,u,p);return wV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ua(new ur("auth-internal",t=>{const n=Vg(t.getProvider("auth").getImmediate());return(r=>new zO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(yE,vE,BO(i)),Ni(yE,vE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=300,FO=KS("authIdTokenMaxAge")||HO;let _E=null;const qO=i=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FO)return;const o=n?.token;_E!==o&&(_E=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function GO(i=sg()){const t=af(i,"auth");if(t.isInitialized())return t.getImmediate();const n=bV(i,{popupRedirectResolver:UO,persistence:[XV,kV,O1]}),r=KS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=qO(u.toString());xV(n,c,()=>c(n.currentUser)),NV(n,m=>c(m))}}const o=FS("auth");return o&&RV(n,`http://${o}`),n}function KO(){return document.getElementsByTagName("head")?.[0]??document}TV({loadJS(i){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",KO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jO("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebasestorage.googleapis.com",YO="storageBucket",QO=120*1e3,XO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Hi{constructor(t,n,r=0){super(Fm(t),`Firebase Storage: ${n} (${Fm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Fm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ji;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ji||(ji={}));function Fm(i){return"storage/"+i}function $O(){const i="An unknown error occurred, please check the error payload for server response.";return new Fi(ji.UNKNOWN,i)}function ZO(){return new Fi(ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JO(){return new Fi(ji.CANCELED,"User canceled the upload/download.")}function WO(i){return new Fi(ji.INVALID_URL,"Invalid URL '"+i+"'.")}function tN(i){return new Fi(ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function TE(i){return new Fi(ji.INVALID_ARGUMENT,i)}function B1(){return new Fi(ji.APP_DELETED,"The Firebase app was deleted.")}function eN(i){return new Fi(ji.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=oi.makeFromUrl(t,n)}catch{return new oi(t,"")}if(r.path==="")return r;throw tN(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(rt){rt.path.charAt(rt.path.length-1)==="/"&&(rt.path_=rt.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(rt){rt.path_=decodeURIComponent(rt.path)}const v="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",M=new RegExp(`^https?://${E}/${v}/b/${o}/o${A}`,"i"),k={bucket:1,path:3},G=n===z1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,H="([^?#]*)",Q=new RegExp(`^https?://${G}/${o}/${H}`,"i"),Z=[{regex:m,indices:p,postModify:u},{regex:M,indices:k,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let rt=0;rt<Z.length;rt++){const st=Z[rt],ot=st.regex.exec(t);if(ot){const R=ot[st.indices.bucket];let w=ot[st.indices.path];w||(w=""),r=new oi(R,w),st.postModify(r);break}}if(r==null)throw WO(t);return r}}class nN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(i,t,n){let r=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let g=!1;function v(...H){g||(g=!0,t.apply(null,H))}function E(H){o=setTimeout(()=>{o=null,i(M,p())},H)}function A(){u&&clearTimeout(u)}function M(H,...Q){if(g){A();return}if(H){A(),v.call(null,H,...Q);return}if(p()||c){A(),v.call(null,H,...Q);return}r<64&&(r*=2);let Z;m===1?(m=2,Z=0):Z=(r+Math.random())*1e3,E(Z)}let k=!1;function G(H){k||(k=!0,A(),!g&&(o!==null?(H||(m=2),clearTimeout(o),E(0)):H||(m=1)))}return E(0),u=setTimeout(()=>{c=!0,G(!0)},n),G}function sN(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(i){return i!==void 0}function EE(i,t,n,r){if(r<t)throw TE(`Invalid value for '${i}'. Expected ${t} or greater.`);if(r>n)throw TE(`Invalid value for '${i}'. Expected ${n} or less.`)}function aN(i){const t=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const o=t(r)+"="+t(i[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Zh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Zh||(Zh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(i,t){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=t.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,n,r,o,u,c,m,p,g,v,E,A=!0,M=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,G)=>{this.resolve_=k,this.reject_=G,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new vh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===Zh.NO_ERROR,p=u.getStatus();if(!m||oN(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Zh.ABORT;r(!1,new vh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new vh(g,u))})},n=(r,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());rN(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=$O();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?B1():JO();c(p)}else{const p=ZO();c(p)}};this.canceled_?n(!1,new vh(!1,null,!0)):this.backoffId_=iN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&sN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function uN(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function cN(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function hN(i,t){t&&(i["X-Firebase-GMPID"]=t)}function fN(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function dN(i,t,n,r,o,u,c=!0,m=!1){const p=aN(i.urlParams),g=i.url+p,v=Object.assign({},i.headers);return hN(v,t),uN(v,n),cN(v,u),fN(v,r),new lN(g,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(i){if(i.length===0)return null;const t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function pN(i){const t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,n){this._service=t,n instanceof oi?this._location=n:this._location=oi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Jh(t,n)}get root(){const t=new oi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pN(this._location.path)}get storage(){return this._service}get parent(){const t=mN(this._location.path);if(t===null)return null;const n=new oi(this._location.bucket,t);return new Jh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw eN(t)}}function SE(i,t){const n=t?.[YO];return n==null?null:oi.makeFromBucketSpec(n,i)}function gN(i,t,n,r={}){i.host=`${t}:${n}`;const o=fa(t);o&&(tg(`https://${i.host}/b`),eg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(i._overrideAuthToken=typeof u=="string"?u:YS(u,i.app.options.projectId))}class yN{constructor(t,n,r,o,u,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=z1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QO,this._maxUploadRetryTime=XO,this._requests=new Set,o!=null?this._bucket=oi.makeFromBucketSpec(o,this._host):this._bucket=SE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=oi.makeFromBucketSpec(this._url,t):this._bucket=SE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){EE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){EE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Jh(this,t)}_makeRequest(t,n,r,o,u=!0){if(this._deleted)return new nN(B1());{const c=dN(t,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const AE="@firebase/storage",bE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="storage";function vN(i=sg(),t){i=vr(i);const r=af(i,j1).getImmediate({identifier:t}),o=qS("storage");return o&&_N(r,...o),r}function _N(i,t,n,r={}){gN(i,t,n,r)}function TN(i,{instanceIdentifier:t}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new yN(n,r,o,t,da)}function EN(){ua(new ur(j1,TN,"PUBLIC").setMultipleInstances(!0)),Ni(AE,bE,""),Ni(AE,bE,"esm2020")}EN();const SN={apiKey:"AIzaSyAsRvsb-_QY_JAVz2GaRWifR95aCRiddLA",authDomain:"footballsanci.firebaseapp.com",databaseURL:"https://footballsanci-default-rtdb.europe-west1.firebasedatabase.app",projectId:"footballsanci",storageBucket:"footballsanci.appspot.com",messagingSenderId:"108108129157",appId:"1:108108129157:web:c881c7b4d787677c43daec",measurementId:"G-VESXDYD12H"},Pg=$S(SN);GO(Pg);const wE=kM(Pg);vN(Pg);const Lg=lt.createContext({});function kg(i){const t=lt.useRef(null);return t.current===null&&(t.current=i()),t.current}const Ug=typeof window<"u",H1=Ug?lt.useLayoutEffect:lt.useEffect,Ef=lt.createContext(null);function zg(i,t){i.indexOf(t)===-1&&i.push(t)}function Bg(i,t){const n=i.indexOf(t);n>-1&&i.splice(n,1)}const ps=(i,t,n)=>n>t?t:n<i?i:n;let jg=()=>{};const gs={},F1=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function q1(i){return typeof i=="object"&&i!==null}const G1=i=>/^0[^.\s]+$/u.test(i);function Hg(i){let t;return()=>(t===void 0&&(t=i()),t)}const Gn=i=>i,AN=(i,t)=>n=>t(i(n)),Ou=(...i)=>i.reduce(AN),gu=(i,t,n)=>{const r=t-i;return r===0?1:(n-i)/r};class Fg{constructor(){this.subscriptions=[]}add(t){return zg(this.subscriptions,t),()=>Bg(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ki=i=>i*1e3,qn=i=>i/1e3;function K1(i,t){return t?i*(1e3/t):0}const Y1=(i,t,n)=>(((1-3*n+3*t)*i+(3*n-6*t))*i+3*t)*i,bN=1e-7,wN=12;function RN(i,t,n,r,o){let u,c,m=0;do c=t+(n-t)/2,u=Y1(c,r,o)-i,u>0?n=c:t=c;while(Math.abs(u)>bN&&++m<wN);return c}function Nu(i,t,n,r){if(i===t&&n===r)return Gn;const o=u=>RN(u,0,1,i,n);return u=>u===0||u===1?u:Y1(o(u),t,r)}const Q1=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,X1=i=>t=>1-i(1-t),$1=Nu(.33,1.53,.69,.99),qg=X1($1),Z1=Q1(qg),J1=i=>(i*=2)<1?.5*qg(i):.5*(2-Math.pow(2,-10*(i-1))),Gg=i=>1-Math.sin(Math.acos(i)),W1=X1(Gg),tb=Q1(Gg),CN=Nu(.42,0,1,1),IN=Nu(0,0,.58,1),eb=Nu(.42,0,.58,1),DN=i=>Array.isArray(i)&&typeof i[0]!="number",nb=i=>Array.isArray(i)&&typeof i[0]=="number",MN={linear:Gn,easeIn:CN,easeInOut:eb,easeOut:IN,circIn:Gg,circInOut:tb,circOut:W1,backIn:qg,backInOut:Z1,backOut:$1,anticipate:J1},VN=i=>typeof i=="string",RE=i=>{if(nb(i)){jg(i.length===4);const[t,n,r,o]=i;return Nu(t,n,r,o)}else if(VN(i))return MN[i];return i},_h=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ON(i,t){let n=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),i()),v(m)}const g={schedule:(v,E=!1,A=!1)=>{const k=A&&o?n:r;return E&&c.add(v),k.has(v)||k.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(p),n.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const NN=40;function ib(i,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=_h.reduce((Z,rt)=>(Z[rt]=ON(u),Z),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:A,render:M,postRender:k}=c,G=()=>{const Z=gs.useManualTiming?o.timestamp:performance.now();n=!1,gs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Z-o.timestamp,NN),1)),o.timestamp=Z,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),E.process(o),A.process(o),M.process(o),k.process(o),o.isProcessing=!1,n&&t&&(r=!1,i(G))},H=()=>{n=!0,r=!0,o.isProcessing||i(G)};return{schedule:_h.reduce((Z,rt)=>{const st=c[rt];return Z[rt]=(ot,R=!1,w=!1)=>(n||H(),st.schedule(ot,R,w)),Z},{}),cancel:Z=>{for(let rt=0;rt<_h.length;rt++)c[_h[rt]].cancel(Z)},state:o,steps:c}}const{schedule:ae,cancel:gr,state:Xe,steps:qm}=ib(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let Oh;function xN(){Oh=void 0}const vn={now:()=>(Oh===void 0&&vn.set(Xe.isProcessing||gs.useManualTiming?Xe.timestamp:performance.now()),Oh),set:i=>{Oh=i,queueMicrotask(xN)}},sb=i=>t=>typeof t=="string"&&t.startsWith(i),Kg=sb("--"),PN=sb("var(--"),Yg=i=>PN(i)?LN.test(i.split("/*")[0].trim()):!1,LN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zo={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},yu={...zo,transform:i=>ps(0,1,i)},Th={...zo,default:1},ru=i=>Math.round(i*1e5)/1e5,Qg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kN(i){return i==null}const UN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xg=(i,t)=>n=>!!(typeof n=="string"&&UN.test(n)&&n.startsWith(i)||t&&!kN(n)&&Object.prototype.hasOwnProperty.call(n,t)),rb=(i,t,n)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Qg);return{[i]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},zN=i=>ps(0,255,i),Gm={...zo,transform:i=>Math.round(zN(i))},ea={test:Xg("rgb","red"),parse:rb("red","green","blue"),transform:({red:i,green:t,blue:n,alpha:r=1})=>"rgba("+Gm.transform(i)+", "+Gm.transform(t)+", "+Gm.transform(n)+", "+ru(yu.transform(r))+")"};function BN(i){let t="",n="",r="",o="";return i.length>5?(t=i.substring(1,3),n=i.substring(3,5),r=i.substring(5,7),o=i.substring(7,9)):(t=i.substring(1,2),n=i.substring(2,3),r=i.substring(3,4),o=i.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Op={test:Xg("#"),parse:BN,transform:ea.transform},xu=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),Zs=xu("deg"),Ui=xu("%"),_t=xu("px"),jN=xu("vh"),HN=xu("vw"),CE={...Ui,parse:i=>Ui.parse(i)/100,transform:i=>Ui.transform(i*100)},co={test:Xg("hsl","hue"),parse:rb("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(i)+", "+Ui.transform(ru(t))+", "+Ui.transform(ru(n))+", "+ru(yu.transform(r))+")"},Ve={test:i=>ea.test(i)||Op.test(i)||co.test(i),parse:i=>ea.test(i)?ea.parse(i):co.test(i)?co.parse(i):Op.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?ea.transform(i):co.transform(i),getAnimatableNone:i=>{const t=Ve.parse(i);return t.alpha=0,Ve.transform(t)}},FN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qN(i){return isNaN(i)&&typeof i=="string"&&(i.match(Qg)?.length||0)+(i.match(FN)?.length||0)>0}const ab="number",ob="color",GN="var",KN="var(",IE="${}",YN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vu(i){const t=i.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(YN,p=>(Ve.test(p)?(r.color.push(u),o.push(ob),n.push(Ve.parse(p))):p.startsWith(KN)?(r.var.push(u),o.push(GN),n.push(p)):(r.number.push(u),o.push(ab),n.push(parseFloat(p))),++u,IE)).split(IE);return{values:n,split:m,indexes:r,types:o}}function lb(i){return vu(i).values}function ub(i){const{split:t,types:n}=vu(i),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=n[c];m===ab?u+=ru(o[c]):m===ob?u+=Ve.transform(o[c]):u+=o[c]}return u}}const QN=i=>typeof i=="number"?0:Ve.test(i)?Ve.getAnimatableNone(i):i;function XN(i){const t=lb(i);return ub(i)(t.map(QN))}const yr={test:qN,parse:lb,createTransformer:ub,getAnimatableNone:XN};function Km(i,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?i+(t-i)*6*n:n<1/2?t:n<2/3?i+(t-i)*(2/3-n)*6:i}function $N({hue:i,saturation:t,lightness:n,alpha:r}){i/=360,t/=100,n/=100;let o=0,u=0,c=0;if(!t)o=u=c=n;else{const m=n<.5?n*(1+t):n+t-n*t,p=2*n-m;o=Km(p,m,i+1/3),u=Km(p,m,i),c=Km(p,m,i-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Wh(i,t){return n=>n>0?t:i}const le=(i,t,n)=>i+(t-i)*n,Ym=(i,t,n)=>{const r=i*i,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},ZN=[Op,ea,co],JN=i=>ZN.find(t=>t.test(i));function DE(i){const t=JN(i);if(!t)return!1;let n=t.parse(i);return t===co&&(n=$N(n)),n}const ME=(i,t)=>{const n=DE(i),r=DE(t);if(!n||!r)return Wh(i,t);const o={...n};return u=>(o.red=Ym(n.red,r.red,u),o.green=Ym(n.green,r.green,u),o.blue=Ym(n.blue,r.blue,u),o.alpha=le(n.alpha,r.alpha,u),ea.transform(o))},Np=new Set(["none","hidden"]);function WN(i,t){return Np.has(i)?n=>n<=0?i:t:n=>n>=1?t:i}function tx(i,t){return n=>le(i,t,n)}function $g(i){return typeof i=="number"?tx:typeof i=="string"?Yg(i)?Wh:Ve.test(i)?ME:ix:Array.isArray(i)?cb:typeof i=="object"?Ve.test(i)?ME:ex:Wh}function cb(i,t){const n=[...i],r=n.length,o=i.map((u,c)=>$g(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)n[c]=o[c](u);return n}}function ex(i,t){const n={...i,...t},r={};for(const o in n)i[o]!==void 0&&t[o]!==void 0&&(r[o]=$g(i[o])(i[o],t[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function nx(i,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=i.indexes[u][r[u]],m=i.values[c]??0;n[o]=m,r[u]++}return n}const ix=(i,t)=>{const n=yr.createTransformer(t),r=vu(i),o=vu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Np.has(i)&&!o.values.length||Np.has(t)&&!r.values.length?WN(i,t):Ou(cb(nx(r,o),o.values),n):Wh(i,t)};function hb(i,t,n){return typeof i=="number"&&typeof t=="number"&&typeof n=="number"?le(i,t,n):$g(i)(i,t)}const sx=i=>{const t=({timestamp:n})=>i(n);return{start:(n=!0)=>ae.update(t,n),stop:()=>gr(t),now:()=>Xe.isProcessing?Xe.timestamp:vn.now()}},fb=(i,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)r+=Math.round(i(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},tf=2e4;function Zg(i){let t=0;const n=50;let r=i.next(t);for(;!r.done&&t<tf;)t+=n,r=i.next(t);return t>=tf?1/0:t}function rx(i,t=100,n){const r=n({...i,keyframes:[0,t]}),o=Math.min(Zg(r),tf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:qn(o)}}const ax=5;function db(i,t,n){const r=Math.max(t-ax,0);return K1(n-i(r),t-r)}const de={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qm=.001;function ox({duration:i=de.duration,bounce:t=de.bounce,velocity:n=de.velocity,mass:r=de.mass}){let o,u,c=1-t;c=ps(de.minDamping,de.maxDamping,c),i=ps(de.minDuration,de.maxDuration,qn(i)),c<1?(o=g=>{const v=g*c,E=v*i,A=v-n,M=xp(g,c),k=Math.exp(-E);return Qm-A/M*k},u=g=>{const E=g*c*i,A=E*n+n,M=Math.pow(c,2)*Math.pow(g,2)*i,k=Math.exp(-E),G=xp(Math.pow(g,2),c);return(-o(g)+Qm>0?-1:1)*((A-M)*k)/G}):(o=g=>{const v=Math.exp(-g*i),E=(g-n)*i+1;return-Qm+v*E},u=g=>{const v=Math.exp(-g*i),E=(n-g)*(i*i);return v*E});const m=5/i,p=ux(o,u,m);if(i=ki(i),isNaN(p))return{stiffness:de.stiffness,damping:de.damping,duration:i};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:i}}}const lx=12;function ux(i,t,n){let r=n;for(let o=1;o<lx;o++)r=r-i(r)/t(r);return r}function xp(i,t){return i*Math.sqrt(1-t*t)}const cx=["duration","bounce"],hx=["stiffness","damping","mass"];function VE(i,t){return t.some(n=>i[n]!==void 0)}function fx(i){let t={velocity:de.velocity,stiffness:de.stiffness,damping:de.damping,mass:de.mass,isResolvedFromDuration:!1,...i};if(!VE(i,hx)&&VE(i,cx))if(i.visualDuration){const n=i.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*ps(.05,1,1-(i.bounce||0))*Math.sqrt(o);t={...t,mass:de.mass,stiffness:o,damping:u}}else{const n=ox(i);t={...t,...n,mass:de.mass},t.isResolvedFromDuration=!0}return t}function ef(i=de.visualDuration,t=de.bounce){const n=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:A,isResolvedFromDuration:M}=fx({...n,velocity:-qn(n.velocity||0)}),k=A||0,G=g/(2*Math.sqrt(p*v)),H=c-u,Q=qn(Math.sqrt(p/v)),tt=Math.abs(H)<5;r||(r=tt?de.restSpeed.granular:de.restSpeed.default),o||(o=tt?de.restDelta.granular:de.restDelta.default);let Z;if(G<1){const st=xp(Q,G);Z=ot=>{const R=Math.exp(-G*Q*ot);return c-R*((k+G*Q*H)/st*Math.sin(st*ot)+H*Math.cos(st*ot))}}else if(G===1)Z=st=>c-Math.exp(-Q*st)*(H+(k+Q*H)*st);else{const st=Q*Math.sqrt(G*G-1);Z=ot=>{const R=Math.exp(-G*Q*ot),w=Math.min(st*ot,300);return c-R*((k+G*Q*H)*Math.sinh(w)+st*H*Math.cosh(w))/st}}const rt={calculatedDuration:M&&E||null,next:st=>{const ot=Z(st);if(M)m.done=st>=E;else{let R=st===0?k:0;G<1&&(R=st===0?ki(k):db(Z,st,ot));const w=Math.abs(R)<=r,C=Math.abs(c-ot)<=o;m.done=w&&C}return m.value=m.done?c:ot,m},toString:()=>{const st=Math.min(Zg(rt),tf),ot=fb(R=>rt.next(st*R).value,st,30);return st+"ms "+ot},toTransition:()=>{}};return rt}ef.applyToOptions=i=>{const t=rx(i,100,ef);return i.ease=t.ease,i.duration=ki(t.duration),i.type="keyframes",i};function Pp({keyframes:i,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const E=i[0],A={done:!1,value:E},M=w=>m!==void 0&&w<m||p!==void 0&&w>p,k=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let G=n*t;const H=E+G,Q=c===void 0?H:c(H);Q!==H&&(G=Q-E);const tt=w=>-G*Math.exp(-w/r),Z=w=>Q+tt(w),rt=w=>{const C=tt(w),N=Z(w);A.done=Math.abs(C)<=g,A.value=A.done?Q:N};let st,ot;const R=w=>{M(A.value)&&(st=w,ot=ef({keyframes:[A.value,k(A.value)],velocity:db(Z,w,A.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return R(0),{calculatedDuration:null,next:w=>{let C=!1;return!ot&&st===void 0&&(C=!0,rt(w),R(w)),st!==void 0&&w>=st?ot.next(w-st):(!C&&rt(w),A)}}}function dx(i,t,n){const r=[],o=n||gs.mix||hb,u=i.length-1;for(let c=0;c<u;c++){let m=o(i[c],i[c+1]);if(t){const p=Array.isArray(t)?t[c]||Gn:t;m=Ou(p,m)}r.push(m)}return r}function mx(i,t,{clamp:n=!0,ease:r,mixer:o}={}){const u=i.length;if(jg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),t=[...t].reverse());const m=dx(t,r,o),p=m.length,g=v=>{if(c&&v<i[0])return t[0];let E=0;if(p>1)for(;E<i.length-2&&!(v<i[E+1]);E++);const A=gu(i[E],i[E+1],v);return m[E](A)};return n?v=>g(ps(i[0],i[u-1],v)):g}function px(i,t){const n=i[i.length-1];for(let r=1;r<=t;r++){const o=gu(0,t,r);i.push(le(n,1,o))}}function gx(i){const t=[0];return px(t,i.length-1),t}function yx(i,t){return i.map(n=>n*t)}function vx(i,t){return i.map(()=>t||eb).splice(0,i.length-1)}function au({duration:i=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=DN(r)?r.map(RE):RE(r),u={done:!1,value:t[0]},c=yx(n&&n.length===t.length?n:gx(t),i),m=mx(c,t,{ease:Array.isArray(o)?o:vx(t,o)});return{calculatedDuration:i,next:p=>(u.value=m(p),u.done=p>=i,u)}}const _x=i=>i!==null;function Jg(i,{repeat:t,repeatType:n="loop"},r,o=1){const u=i.filter(_x),m=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const Tx={decay:Pp,inertia:Pp,tween:au,keyframes:au,spring:ef};function mb(i){typeof i.type=="string"&&(i.type=Tx[i.type])}class Wg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Ex=i=>i/100;class ty extends Wg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;mb(t);const{type:n=au,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=n||au;p!==au&&typeof m[0]!="number"&&(this.mixKeyframes=Ou(Ex,hb(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Zg(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:A,repeatDelay:M,type:k,onUpdate:G,finalKeyframe:H}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const Q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),tt=this.playbackSpeed>=0?Q<0:Q>o;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Z=this.currentTime,rt=r;if(E){const w=Math.min(this.currentTime,o)/m;let C=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&C--,C=Math.min(C,E+1),!!(C%2)&&(A==="reverse"?(N=1-N,M&&(N-=M/m)):A==="mirror"&&(rt=c)),Z=ps(0,1,N)*m}const st=tt?{done:!1,value:v[0]}:rt.next(Z);u&&(st.value=u(st.value));let{done:ot}=st;!tt&&p!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return R&&k!==Pp&&(st.value=Jg(v,this.options,H,this.speed)),G&&G(st.value),R&&this.finish(),st}then(t,n){return this.finished.then(t,n)}get duration(){return qn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+qn(t)}get time(){return qn(this.currentTime)}set time(t){t=ki(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=qn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=sx,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Sx(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const na=i=>i*180/Math.PI,Lp=i=>{const t=na(Math.atan2(i[1],i[0]));return kp(t)},Ax={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:Lp,rotateZ:Lp,skewX:i=>na(Math.atan(i[1])),skewY:i=>na(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},kp=i=>(i=i%360,i<0&&(i+=360),i),OE=Lp,NE=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),xE=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),bx={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:NE,scaleY:xE,scale:i=>(NE(i)+xE(i))/2,rotateX:i=>kp(na(Math.atan2(i[6],i[5]))),rotateY:i=>kp(na(Math.atan2(-i[2],i[0]))),rotateZ:OE,rotate:OE,skewX:i=>na(Math.atan(i[4])),skewY:i=>na(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function Up(i){return i.includes("scale")?1:0}function zp(i,t){if(!i||i==="none")return Up(t);const n=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=bx,o=n;else{const m=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Ax,o=m}if(!o)return Up(t);const u=r[t],c=o[1].split(",").map(Rx);return typeof u=="function"?u(c):c[u]}const wx=(i,t)=>{const{transform:n="none"}=getComputedStyle(i);return zp(n,t)};function Rx(i){return parseFloat(i.trim())}const Bo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jo=new Set(Bo),PE=i=>i===zo||i===_t,Cx=new Set(["x","y","z"]),Ix=Bo.filter(i=>!Cx.has(i));function Dx(i){const t=[];return Ix.forEach(n=>{const r=i.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const aa={width:({x:i},{paddingLeft:t="0",paddingRight:n="0"})=>i.max-i.min-parseFloat(t)-parseFloat(n),height:({y:i},{paddingTop:t="0",paddingBottom:n="0"})=>i.max-i.min-parseFloat(t)-parseFloat(n),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>zp(t,"x"),y:(i,{transform:t})=>zp(t,"y")};aa.translateX=aa.x;aa.translateY=aa.y;const oa=new Set;let Bp=!1,jp=!1,Hp=!1;function pb(){if(jp){const i=Array.from(oa).filter(r=>r.needsMeasurement),t=new Set(i.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=Dx(r);o.length&&(n.set(r,o),r.render())}),i.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jp=!1,Bp=!1,oa.forEach(i=>i.complete(Hp)),oa.clear()}function gb(){oa.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(jp=!0)})}function Mx(){Hp=!0,gb(),pb(),Hp=!1}class ey{constructor(t,n,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(oa.add(this),Bp||(Bp=!0,ae.read(gb),ae.resolveKeyframes(pb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&n){const m=r.readValue(n,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}Sx(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),oa.delete(this)}cancel(){this.state==="scheduled"&&(oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Vx=i=>i.startsWith("--");function Ox(i,t,n){Vx(t)?i.style.setProperty(t,n):i.style[t]=n}const Nx=Hg(()=>window.ScrollTimeline!==void 0),xx={};function Px(i,t){const n=Hg(i);return()=>xx[t]??n()}const yb=Px(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jl=([i,t,n,r])=>`cubic-bezier(${i}, ${t}, ${n}, ${r})`,LE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jl([0,.65,.55,1]),circOut:Jl([.55,0,1,.45]),backIn:Jl([.31,.01,.66,-.59]),backOut:Jl([.33,1.53,.69,.99])};function vb(i,t){if(i)return typeof i=="function"?yb()?fb(i,t):"ease-out":nb(i)?Jl(i):Array.isArray(i)?i.map(n=>vb(n,t)||LE.easeOut):LE[i]}function Lx(i,t,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:n};p&&(v.offset=p);const E=vb(m,o);Array.isArray(E)&&(v.easing=E);const A={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(A.pseudoElement=g),i.animate(v,A)}function _b(i){return typeof i=="function"&&"applyToOptions"in i}function kx({type:i,...t}){return _b(i)&&yb()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Ux extends Wg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,jg(typeof t.type!="string");const g=kx(t);this.animation=Lx(n,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Jg(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):Ox(n,r,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return qn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+qn(t)}get time(){return qn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ki(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Nx()?(this.animation.timeline=t,Gn):n(this)}}const Tb={anticipate:J1,backInOut:Z1,circInOut:tb};function zx(i){return i in Tb}function Bx(i){typeof i.ease=="string"&&zx(i.ease)&&(i.ease=Tb[i.ease])}const kE=10;class jx extends Ux{constructor(t){Bx(t),mb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const m=new ty({...c,autoplay:!1}),p=ki(this.finishedTime??this.time);n.setWithVelocity(m.sample(p-kE).value,m.sample(p).value,kE),m.stop()}}const UE=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(yr.test(i)||i==="0")&&!i.startsWith("url("));function Hx(i){const t=i[0];if(i.length===1)return!0;for(let n=0;n<i.length;n++)if(i[n]!==t)return!0}function Fx(i,t,n,r){const o=i[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=i[i.length-1],c=UE(o,t),m=UE(u,t);return!c||!m?!1:Hx(i)||(n==="spring"||_b(n))&&r}function Fp(i){i.duration=0,i.type="keyframes"}const qx=new Set(["opacity","clipPath","filter","transform"]),Gx=Hg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kx(i){const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:u,type:c}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return Gx()&&n&&qx.has(n)&&(n!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const Yx=40;class Qx extends Wg{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vn.now();const A={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...E},M=v?.KeyframeResolver||ey;this.keyframeResolver=new M(m,(k,G,H)=>this.onKeyframesResolved(k,G,A,!H),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=vn.now(),Fx(t,u,c,m)||((gs.instantAnimations||!p)&&v?.(Jg(t,r,n)),t[0]=t[t.length-1],Fp(r),r.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Yx?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},M=!g&&Kx(A)?new jx({...A,element:A.motionValue.owner.current}):new ty(A);M.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Mx()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Xx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $x(i){const t=Xx.exec(i);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function Eb(i,t,n=1){const[r,o]=$x(i);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return F1(c)?parseFloat(c):c}return Yg(o)?Eb(o,t,n+1):o}function ny(i,t){return i?.[t]??i?.default??i}const Sb=new Set(["width","height","top","left","right","bottom",...Bo]),Zx={test:i=>i==="auto",parse:i=>i},Ab=i=>t=>t.test(i),bb=[zo,_t,Ui,Zs,HN,jN,Zx],zE=i=>bb.find(Ab(i));function Jx(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||G1(i):!0}const Wx=new Set(["brightness","contrast","saturate","opacity"]);function tP(i){const[t,n]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[r]=n.match(Qg)||[];if(!r)return i;const o=n.replace(r,"");let u=Wx.has(t)?1:0;return r!==n&&(u*=100),t+"("+u+o+")"}const eP=/\b([a-z-]*)\(.*?\)/gu,qp={...yr,getAnimatableNone:i=>{const t=i.match(eP);return t?t.map(tP).join(" "):i}},BE={...zo,transform:Math.round},nP={rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:Th,scaleX:Th,scaleY:Th,scaleZ:Th,skew:Zs,skewX:Zs,skewY:Zs,distance:_t,translateX:_t,translateY:_t,translateZ:_t,x:_t,y:_t,z:_t,perspective:_t,transformPerspective:_t,opacity:yu,originX:CE,originY:CE,originZ:_t},iy={borderWidth:_t,borderTopWidth:_t,borderRightWidth:_t,borderBottomWidth:_t,borderLeftWidth:_t,borderRadius:_t,radius:_t,borderTopLeftRadius:_t,borderTopRightRadius:_t,borderBottomRightRadius:_t,borderBottomLeftRadius:_t,width:_t,maxWidth:_t,height:_t,maxHeight:_t,top:_t,right:_t,bottom:_t,left:_t,padding:_t,paddingTop:_t,paddingRight:_t,paddingBottom:_t,paddingLeft:_t,margin:_t,marginTop:_t,marginRight:_t,marginBottom:_t,marginLeft:_t,backgroundPositionX:_t,backgroundPositionY:_t,...nP,zIndex:BE,fillOpacity:yu,strokeOpacity:yu,numOctaves:BE},iP={...iy,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:qp,WebkitFilter:qp},wb=i=>iP[i];function Rb(i,t){let n=wb(i);return n!==qp&&(n=yr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const sP=new Set(["auto","none","0"]);function rP(i,t,n){let r=0,o;for(;r<i.length&&!o;){const u=i[r];typeof u=="string"&&!sP.has(u)&&vu(u).values.length&&(o=i[r]),r++}if(o&&n)for(const u of t)i[u]=Rb(n,o)}class aP extends ey{constructor(t,n,r,o,u){super(t,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Yg(g))){const v=Eb(g,n.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Sb.has(r)||t.length!==2)return;const[o,u]=t,c=zE(o),m=zE(u);if(c!==m)if(PE(c)&&PE(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else aa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||Jx(t[o]))&&r.push(o);r.length&&rP(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=aa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=aa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function oP(i,t,n){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let r=document;const o=n?.[i]??r.querySelectorAll(i);return o?Array.from(o):[]}return Array.from(i)}const Cb=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function Ib(i){return q1(i)&&"offsetHeight"in i}const jE=30,lP=i=>!isNaN(parseFloat(i));class uP{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=vn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=vn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=lP(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Fg);const r=this.events[t].add(n);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jE);return K1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function No(i,t){return new uP(i,t)}const{schedule:sy}=ib(queueMicrotask,!1),si={x:!1,y:!1};function Db(){return si.x||si.y}function cP(i){return i==="x"||i==="y"?si[i]?null:(si[i]=!0,()=>{si[i]=!1}):si.x||si.y?null:(si.x=si.y=!0,()=>{si.x=si.y=!1})}function Mb(i,t){const n=oP(i),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function HE(i){return!(i.pointerType==="touch"||Db())}function hP(i,t,n={}){const[r,o,u]=Mb(i,n),c=m=>{if(!HE(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=E=>{HE(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const Vb=(i,t)=>t?i===t?!0:Vb(i,t.parentElement):!1,ry=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,fP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dP(i){return fP.has(i.tagName)||i.tabIndex!==-1}const Nh=new WeakSet;function FE(i){return t=>{t.key==="Enter"&&i(t)}}function Xm(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mP=(i,t)=>{const n=i.currentTarget;if(!n)return;const r=FE(()=>{if(Nh.has(n))return;Xm(n,"down");const o=FE(()=>{Xm(n,"up")}),u=()=>Xm(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function qE(i){return ry(i)&&!Db()}function pP(i,t,n={}){const[r,o,u]=Mb(i,n),c=m=>{const p=m.currentTarget;if(!qE(m))return;Nh.add(p);const g=t(p,m),v=(M,k)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",A),Nh.has(p)&&Nh.delete(p),qE(M)&&typeof g=="function"&&g(M,{success:k})},E=M=>{v(M,p===window||p===document||n.useGlobalTarget||Vb(p,M.target))},A=M=>{v(M,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",A,o)};return r.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),Ib(m)&&(m.addEventListener("focus",g=>mP(g,o)),!dP(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Ob(i){return q1(i)&&"ownerSVGElement"in i}function gP(i){return Ob(i)&&i.tagName==="svg"}const nn=i=>!!(i&&i.getVelocity),yP=[...bb,Ve,yr],vP=i=>yP.find(Ab(i)),ay=lt.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function GE(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function _P(...i){return t=>{let n=!1;const r=i.map(o=>{const u=GE(o,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():GE(i[o],null)}}}}function TP(...i){return lt.useCallback(_P(...i),i)}class EP extends lt.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=Ib(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function SP({children:i,isPresent:t,anchorX:n,root:r}){const o=lt.useId(),u=lt.useRef(null),c=lt.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=lt.useContext(ay),p=TP(u,i?.ref);return lt.useInsertionEffect(()=>{const{width:g,height:v,top:E,left:A,right:M}=c.current;if(t||!u.current||!g||!v)return;const k=n==="left"?`left: ${A}`:`right: ${M}`;u.current.dataset.motionPopId=o;const G=document.createElement("style");m&&(G.nonce=m);const H=r??document.head;return H.appendChild(G),G.sheet&&G.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${k}px !important;
            top: ${E}px !important;
          }
        `),()=>{H.contains(G)&&H.removeChild(G)}},[t]),mt.jsx(EP,{isPresent:t,childRef:u,sizeRef:c,children:lt.cloneElement(i,{ref:p})})}const AP=({children:i,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=kg(bP),v=lt.useId();let E=!0,A=lt.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:n,custom:o,onExitComplete:M=>{g.set(M,!0);for(const k of g.values())if(!k)return;r&&r()},register:M=>(g.set(M,!1),()=>g.delete(M))}),[n,g,r]);return u&&E&&(A={...A}),lt.useMemo(()=>{g.forEach((M,k)=>g.set(k,!1))},[n]),lt.useEffect(()=>{!n&&!g.size&&r&&r()},[n]),c==="popLayout"&&(i=mt.jsx(SP,{isPresent:n,anchorX:m,root:p,children:i})),mt.jsx(Ef.Provider,{value:A,children:i})};function bP(){return new Map}function Nb(i=!0){const t=lt.useContext(Ef);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,u=lt.useId();lt.useEffect(()=>{if(i)return o(u)},[i]);const c=lt.useCallback(()=>i&&r&&r(u),[u,r,i]);return!n&&r?[!1,c]:[!0]}const Eh=i=>i.key||"";function KE(i){const t=[];return lt.Children.forEach(i,n=>{lt.isValidElement(n)&&t.push(n)}),t}const wP=({children:i,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,v]=Nb(c),E=lt.useMemo(()=>KE(i),[i]),A=c&&!g?[]:E.map(Eh),M=lt.useRef(!0),k=lt.useRef(E),G=kg(()=>new Map),[H,Q]=lt.useState(E),[tt,Z]=lt.useState(E);H1(()=>{M.current=!1,k.current=E;for(let ot=0;ot<tt.length;ot++){const R=Eh(tt[ot]);A.includes(R)?G.delete(R):G.get(R)!==!0&&G.set(R,!1)}},[tt,A.length,A.join("-")]);const rt=[];if(E!==H){let ot=[...E];for(let R=0;R<tt.length;R++){const w=tt[R],C=Eh(w);A.includes(C)||(ot.splice(R,0,w),rt.push(w))}return u==="wait"&&rt.length&&(ot=rt),Z(KE(ot)),Q(E),null}const{forceRender:st}=lt.useContext(Lg);return mt.jsx(mt.Fragment,{children:tt.map(ot=>{const R=Eh(ot),w=c&&!g?!1:E===tt||A.includes(R),C=()=>{if(G.has(R))G.set(R,!0);else return;let N=!0;G.forEach(V=>{V||(N=!1)}),N&&(st?.(),Z(k.current),c&&v?.(),r&&r())};return mt.jsx(AP,{isPresent:w,initial:!M.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:w?void 0:C,anchorX:m,children:ot},R)})})},xb=lt.createContext({strict:!1}),YE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xo={};for(const i in YE)xo[i]={isEnabled:t=>YE[i].some(n=>!!t[n])};function RP(i){for(const t in i)xo[t]={...xo[t],...i[t]}}const CP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nf(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||CP.has(i)}let Pb=i=>!nf(i);function IP(i){typeof i=="function"&&(Pb=t=>t.startsWith("on")?!nf(t):i(t))}try{IP(require("@emotion/is-prop-valid").default)}catch{}function DP(i,t,n){const r={};for(const o in i)o==="values"&&typeof i.values=="object"||(Pb(o)||n===!0&&nf(o)||!t&&!nf(o)||i.draggable&&o.startsWith("onDrag"))&&(r[o]=i[o]);return r}const Sf=lt.createContext({});function Af(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function _u(i){return typeof i=="string"||Array.isArray(i)}const oy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ly=["initial",...oy];function bf(i){return Af(i.animate)||ly.some(t=>_u(i[t]))}function Lb(i){return!!(bf(i)||i.variants)}function MP(i,t){if(bf(i)){const{initial:n,animate:r}=i;return{initial:n===!1||_u(n)?n:void 0,animate:_u(r)?r:void 0}}return i.inherit!==!1?t:{}}function VP(i){const{initial:t,animate:n}=MP(i,lt.useContext(Sf));return lt.useMemo(()=>({initial:t,animate:n}),[QE(t),QE(n)])}function QE(i){return Array.isArray(i)?i.join(" "):i}const Tu={};function OP(i){for(const t in i)Tu[t]=i[t],Kg(t)&&(Tu[t].isCSSVariable=!0)}function kb(i,{layout:t,layoutId:n}){return jo.has(i)||i.startsWith("origin")||(t||n!==void 0)&&(!!Tu[i]||i==="opacity")}const NP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xP=Bo.length;function PP(i,t,n){let r="",o=!0;for(let u=0;u<xP;u++){const c=Bo[u],m=i[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||n){const g=Cb(m,iy[c]);if(!p){o=!1;const v=NP[c]||c;r+=`${v}(${g}) `}n&&(t[c]=g)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function uy(i,t,n){const{style:r,vars:o,transformOrigin:u}=i;let c=!1,m=!1;for(const p in t){const g=t[p];if(jo.has(p)){c=!0;continue}else if(Kg(p)){o[p]=g;continue}else{const v=Cb(g,iy[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||n?r.transform=PP(t,i.transform,n):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const cy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ub(i,t,n){for(const r in t)!nn(t[r])&&!kb(r,n)&&(i[r]=t[r])}function LP({transformTemplate:i},t){return lt.useMemo(()=>{const n=cy();return uy(n,t,i),Object.assign({},n.vars,n.style)},[t])}function kP(i,t){const n=i.style||{},r={};return Ub(r,n,i),Object.assign(r,LP(i,t)),r}function UP(i,t){const n={},r=kP(i,t);return i.drag&&i.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(n.tabIndex=0),n.style=r,n}const zP={offset:"stroke-dashoffset",array:"stroke-dasharray"},BP={offset:"strokeDashoffset",array:"strokeDasharray"};function jP(i,t,n=1,r=0,o=!0){i.pathLength=1;const u=o?zP:BP;i[u.offset]=_t.transform(-r);const c=_t.transform(t),m=_t.transform(n);i[u.array]=`${c} ${m}`}function zb(i,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(uy(i,m,g),p){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:E,style:A}=i;E.transform&&(A.transform=E.transform,delete E.transform),(A.transform||E.transformOrigin)&&(A.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),A.transform&&(A.transformBox=v?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),o!==void 0&&jP(E,o,u,c,!1)}const Bb=()=>({...cy(),attrs:{}}),jb=i=>typeof i=="string"&&i.toLowerCase()==="svg";function HP(i,t,n,r){const o=lt.useMemo(()=>{const u=Bb();return zb(u,t,jb(r),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[t]);if(i.style){const u={};Ub(u,i.style,i),o.style={...u,...o.style}}return o}const FP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hy(i){return typeof i!="string"||i.includes("-")?!1:!!(FP.indexOf(i)>-1||/[A-Z]/u.test(i))}function qP(i,t,n,{latestValues:r},o,u=!1){const m=(hy(i)?HP:UP)(t,r,o,i),p=DP(t,typeof i=="string",u),g=i!==lt.Fragment?{...p,...m,ref:n}:{},{children:v}=t,E=lt.useMemo(()=>nn(v)?v.get():v,[v]);return lt.createElement(i,{...g,children:E})}function XE(i){const t=[{},{}];return i?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function fy(i,t,n,r){if(typeof t=="function"){const[o,u]=XE(r);t=t(n!==void 0?n:i.custom,o,u)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[o,u]=XE(r);t=t(n!==void 0?n:i.custom,o,u)}return t}function xh(i){return nn(i)?i.get():i}function GP({scrapeMotionValuesFromProps:i,createRenderState:t},n,r,o){return{latestValues:KP(n,r,o,i),renderState:t()}}function KP(i,t,n,r){const o={},u=r(i,{});for(const A in u)o[A]=xh(u[A]);let{initial:c,animate:m}=i;const p=bf(i),g=Lb(i);t&&g&&!p&&i.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const E=v?m:c;if(E&&typeof E!="boolean"&&!Af(E)){const A=Array.isArray(E)?E:[E];for(let M=0;M<A.length;M++){const k=fy(i,A[M]);if(k){const{transitionEnd:G,transition:H,...Q}=k;for(const tt in Q){let Z=Q[tt];if(Array.isArray(Z)){const rt=v?Z.length-1:0;Z=Z[rt]}Z!==null&&(o[tt]=Z)}for(const tt in G)o[tt]=G[tt]}}}return o}const Hb=i=>(t,n)=>{const r=lt.useContext(Sf),o=lt.useContext(Ef),u=()=>GP(i,t,r,o);return n?u():kg(u)};function dy(i,t,n){const{style:r}=i,o={};for(const u in r)(nn(r[u])||t.style&&nn(t.style[u])||kb(u,i)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const YP=Hb({scrapeMotionValuesFromProps:dy,createRenderState:cy});function Fb(i,t,n){const r=dy(i,t,n);for(const o in i)if(nn(i[o])||nn(t[o])){const u=Bo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=i[o]}return r}const QP=Hb({scrapeMotionValuesFromProps:Fb,createRenderState:Bb}),XP=Symbol.for("motionComponentSymbol");function ho(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function $P(i,t,n){return lt.useCallback(r=>{r&&i.onMount&&i.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ho(n)&&(n.current=r))},[t])}const my=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZP="framerAppearId",qb="data-"+my(ZP),Gb=lt.createContext({});function JP(i,t,n,r,o){const{visualElement:u}=lt.useContext(Sf),c=lt.useContext(xb),m=lt.useContext(Ef),p=lt.useContext(ay).reducedMotion,g=lt.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(i,{visualState:t,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=lt.useContext(Gb);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&WP(g.current,n,o,E);const A=lt.useRef(!1);lt.useInsertionEffect(()=>{v&&A.current&&v.update(n,m)});const M=n[qb],k=lt.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return H1(()=>{v&&(A.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),k.current&&v.animationState&&v.animationState.animateChanges())}),lt.useEffect(()=>{v&&(!k.current&&v.animationState&&v.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),k.current=!1),v.enteringChildren=void 0)}),v}function WP(i,t,n,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;i.projection=new n(i.latestValues,t["data-framer-portal-id"]?void 0:Kb(i.parent)),i.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&ho(m),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function Kb(i){if(i)return i.options.allowProjection!==!1?i.projection:Kb(i.parent)}function $m(i,{forwardMotionProps:t=!1}={},n,r){n&&RP(n);const o=hy(i)?QP:YP;function u(m,p){let g;const v={...lt.useContext(ay),...m,layoutId:t4(m)},{isStatic:E}=v,A=VP(m),M=o(m,E);if(!E&&Ug){e4();const k=n4(v);g=k.MeasureLayout,A.visualElement=JP(i,M,v,r,k.ProjectionNode)}return mt.jsxs(Sf.Provider,{value:A,children:[g&&A.visualElement?mt.jsx(g,{visualElement:A.visualElement,...v}):null,qP(i,m,$P(M,A.visualElement,p),M,E,t)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=lt.forwardRef(u);return c[XP]=i,c}function t4({layoutId:i}){const t=lt.useContext(Lg).id;return t&&i!==void 0?t+"-"+i:i}function e4(i,t){lt.useContext(xb).strict}function n4(i){const{drag:t,layout:n}=xo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(i)||n?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function i4(i,t){if(typeof Proxy>"u")return $m;const n=new Map,r=(u,c)=>$m(u,c,i,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(n.has(c)||n.set(c,$m(c,void 0,i,t)),n.get(c))})}function Yb({top:i,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:i,max:r}}}function s4({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function r4(i,t){if(!t)return i;const n=t({x:i.left,y:i.top}),r=t({x:i.right,y:i.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zm(i){return i===void 0||i===1}function Gp({scale:i,scaleX:t,scaleY:n}){return!Zm(i)||!Zm(t)||!Zm(n)}function Wr(i){return Gp(i)||Qb(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function Qb(i){return $E(i.x)||$E(i.y)}function $E(i){return i&&i!=="0%"}function sf(i,t,n){const r=i-n,o=t*r;return n+o}function ZE(i,t,n,r,o){return o!==void 0&&(i=sf(i,o,r)),sf(i,n,r)+t}function Kp(i,t=0,n=1,r,o){i.min=ZE(i.min,t,n,r,o),i.max=ZE(i.max,t,n,r,o)}function Xb(i,{x:t,y:n}){Kp(i.x,t.translate,t.scale,t.originPoint),Kp(i.y,n.translate,n.scale,n.originPoint)}const JE=.999999999999,WE=1.0000000000001;function a4(i,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=n[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&mo(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Xb(i,c)),r&&Wr(u.latestValues)&&mo(i,u.latestValues))}t.x<WE&&t.x>JE&&(t.x=1),t.y<WE&&t.y>JE&&(t.y=1)}function fo(i,t){i.min=i.min+t,i.max=i.max+t}function tS(i,t,n,r,o=.5){const u=le(i.min,i.max,o);Kp(i,t,n,u,r)}function mo(i,t){tS(i.x,t.x,t.scaleX,t.scale,t.originX),tS(i.y,t.y,t.scaleY,t.scale,t.originY)}function $b(i,t){return Yb(r4(i.getBoundingClientRect(),t))}function o4(i,t,n){const r=$b(i,n),{scroll:o}=t;return o&&(fo(r.x,o.offset.x),fo(r.y,o.offset.y)),r}const eS=()=>({translate:0,scale:1,origin:0,originPoint:0}),po=()=>({x:eS(),y:eS()}),nS=()=>({min:0,max:0}),ve=()=>({x:nS(),y:nS()}),Yp={current:null},Zb={current:!1};function l4(){if(Zb.current=!0,!!Ug)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>Yp.current=i.matches;i.addEventListener("change",t),t()}else Yp.current=!1}const u4=new WeakMap;function c4(i,t,n){for(const r in t){const o=t[r],u=n[r];if(nn(o))i.addValue(r,o);else if(nn(u))i.addValue(r,No(o,{owner:i}));else if(u!==o)if(i.hasValue(r)){const c=i.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=i.getStaticValue(r);i.addValue(r,No(c!==void 0?c:o,{owner:i}))}}for(const r in n)t[r]===void 0&&i.removeValue(r);return t}const iS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class h4{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ey,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=vn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=bf(n),this.isVariantNode=Lb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in E){const M=E[A];p[A]!==void 0&&nn(M)&&M.set(p[A])}}mount(t){this.current=t,u4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Zb.current||l4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gr(this.notifyUpdate),gr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=jo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in xo){const n=xo[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<iS.length;r++){const o=iS[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=c4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=No(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(F1(r)||G1(r))?r=parseFloat(r):!vP(r)&&yr.test(n)&&(r=Rb(t,n)),this.setBaseTarget(t,nn(r)?r.get():r)),nn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=fy(this.props,n,this.presenceContext?.custom);u&&(r=u[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!nn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Fg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){sy.render(this.render)}}class Jb extends h4{constructor(){super(...arguments),this.KeyframeResolver=aP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;nn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Wb(i,{style:t,vars:n},r,o){const u=i.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in n)u.setProperty(c,n[c])}function f4(i){return window.getComputedStyle(i)}class d4 extends Jb{constructor(){super(...arguments),this.type="html",this.renderInstance=Wb}readValueFromInstance(t,n){if(jo.has(n))return this.projection?.isProjecting?Up(n):wx(t,n);{const r=f4(t),o=(Kg(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return $b(t,n)}build(t,n,r){uy(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return dy(t,n,r)}}const tw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function m4(i,t,n,r){Wb(i,t,void 0,r);for(const o in t.attrs)i.setAttribute(tw.has(o)?o:my(o),t.attrs[o])}class p4 extends Jb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(jo.has(n)){const r=wb(n);return r&&r.default||0}return n=tw.has(n)?n:my(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Fb(t,n,r)}build(t,n,r){zb(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){m4(t,n,r,o)}mount(t){this.isSVGTag=jb(t.tagName),super.mount(t)}}const g4=(i,t)=>hy(i)?new p4(t):new d4(t,{allowProjection:i!==lt.Fragment});function bo(i,t,n){const r=i.getProps();return fy(r,t,n!==void 0?n:r.custom,i)}const Qp=i=>Array.isArray(i);function y4(i,t,n){i.hasValue(t)?i.getValue(t).set(n):i.addValue(t,No(n))}function v4(i){return Qp(i)?i[i.length-1]||0:i}function _4(i,t){const n=bo(i,t);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const c in u){const m=v4(u[c]);y4(i,c,m)}}function T4(i){return!!(nn(i)&&i.add)}function Xp(i,t){const n=i.getValue("willChange");if(T4(n))return n.add(t);if(!n&&gs.WillChange){const r=new gs.WillChange("auto");i.addValue("willChange",r),r.add(t)}}function ew(i){return i.props[qb]}const E4=i=>i!==null;function S4(i,{repeat:t,repeatType:n="loop"},r){const o=i.filter(E4),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const A4={type:"spring",stiffness:500,damping:25,restSpeed:10},b4=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),w4={type:"keyframes",duration:.8},R4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},C4=(i,{keyframes:t})=>t.length>2?w4:jo.has(i)?i.startsWith("scale")?b4(t[1]):A4:R4;function I4({when:i,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const py=(i,t,n,r={},o,u)=>c=>{const m=ny(r,i)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-ki(p);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:A=>{t.set(A),m.onUpdate&&m.onUpdate(A)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:i,motionValue:t,element:u?void 0:o};I4(m)||Object.assign(v,C4(i,v)),v.duration&&(v.duration=ki(v.duration)),v.repeatDelay&&(v.repeatDelay=ki(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Fp(v),v.delay===0&&(E=!0)),(gs.instantAnimations||gs.skipAnimations)&&(E=!0,Fp(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,E&&!u&&t.get()!==void 0){const A=S4(v.keyframes,m);if(A!==void 0){ae.update(()=>{v.onUpdate(A),v.onComplete()});return}}return m.isSync?new ty(v):new Qx(v)};function D4({protectedKeys:i,needsAnimating:t},n){const r=i.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function nw(i,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&i.animationState&&i.animationState.getState()[o];for(const v in m){const E=i.getValue(v,i.latestValues[v]??null),A=m[v];if(A===void 0||g&&D4(g,v))continue;const M={delay:n,...ny(u||{},v)},k=E.get();if(k!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===k&&!M.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const Q=ew(i);if(Q){const tt=window.MotionHandoffAnimation(Q,v,ae);tt!==null&&(M.startTime=tt,G=!0)}}Xp(i,v),E.start(py(v,E,A,i.shouldReduceMotion&&Sb.has(v)?{type:!1}:M,i,G));const H=E.animation;H&&p.push(H)}return c&&Promise.all(p).then(()=>{ae.update(()=>{c&&_4(i,c)})}),p}function iw(i,t,n,r=0,o=1){const u=Array.from(i).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=i.size,m=(c-1)*r;return typeof n=="function"?n(u,c):o===1?u*r:m-u*r}function $p(i,t,n={}){const r=bo(i,t,n.type==="exit"?i.presenceContext?.custom:void 0);let{transition:o=i.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(nw(i,r,n)):()=>Promise.resolve(),c=i.variantChildren&&i.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=o;return M4(i,t,p,g,v,E,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function M4(i,t,n=0,r=0,o=0,u=1,c){const m=[];for(const p of i.variantChildren)p.notify("AnimationStart",t),m.push($p(p,t,{...c,delay:n+(typeof r=="function"?0:r)+iw(i.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function V4(i,t,n={}){i.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>$p(i,u,n));r=Promise.all(o)}else if(typeof t=="string")r=$p(i,t,n);else{const o=typeof t=="function"?bo(i,t,n.custom):t;r=Promise.all(nw(i,o,n))}return r.then(()=>{i.notify("AnimationComplete",t)})}function sw(i,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==i.length)return!1;for(let r=0;r<n;r++)if(t[r]!==i[r])return!1;return!0}const O4=ly.length;function rw(i){if(!i)return;if(!i.isControllingVariants){const n=i.parent?rw(i.parent)||{}:{};return i.props.initial!==void 0&&(n.initial=i.props.initial),n}const t={};for(let n=0;n<O4;n++){const r=ly[n],o=i.props[r];(_u(o)||o===!1)&&(t[r]=o)}return t}const N4=[...oy].reverse(),x4=oy.length;function P4(i){return t=>Promise.all(t.map(({animation:n,options:r})=>V4(i,n,r)))}function L4(i){let t=P4(i),n=sS(),r=!0;const o=p=>(g,v)=>{const E=bo(i,v,p==="exit"?i.presenceContext?.custom:void 0);if(E){const{transition:A,transitionEnd:M,...k}=E;g={...g,...k,...M}}return g};function u(p){t=p(i)}function c(p){const{props:g}=i,v=rw(i.parent)||{},E=[],A=new Set;let M={},k=1/0;for(let H=0;H<x4;H++){const Q=N4[H],tt=n[Q],Z=g[Q]!==void 0?g[Q]:v[Q],rt=_u(Z),st=Q===p?tt.isActive:null;st===!1&&(k=H);let ot=Z===v[Q]&&Z!==g[Q]&&rt;if(ot&&r&&i.manuallyAnimateOnMount&&(ot=!1),tt.protectedKeys={...M},!tt.isActive&&st===null||!Z&&!tt.prevProp||Af(Z)||typeof Z=="boolean")continue;const R=k4(tt.prevProp,Z);let w=R||Q===p&&tt.isActive&&!ot&&rt||H>k&&rt,C=!1;const N=Array.isArray(Z)?Z:[Z];let V=N.reduce(o(Q),{});st===!1&&(V={});const{prevResolvedValues:L={}}=tt,I={...L,...V},Wt=et=>{w=!0,A.has(et)&&(C=!0,A.delete(et)),tt.needsAnimating[et]=!0;const ht=i.getValue(et);ht&&(ht.liveStyle=!1)};for(const et in I){const ht=V[et],Ct=L[et];if(M.hasOwnProperty(et))continue;let Ot=!1;Qp(ht)&&Qp(Ct)?Ot=!sw(ht,Ct):Ot=ht!==Ct,Ot?ht!=null?Wt(et):A.add(et):ht!==void 0&&A.has(et)?Wt(et):tt.protectedKeys[et]=!0}tt.prevProp=Z,tt.prevResolvedValues=V,tt.isActive&&(M={...M,...V}),r&&i.blockInitialAnimation&&(w=!1);const ce=ot&&R;w&&(!ce||C)&&E.push(...N.map(et=>{const ht={type:Q};if(typeof et=="string"&&r&&!ce&&i.manuallyAnimateOnMount&&i.parent){const{parent:Ct}=i,Ot=bo(Ct,et);if(Ct.enteringChildren&&Ot){const{delayChildren:x}=Ot.transition||{};ht.delay=iw(Ct.enteringChildren,i,x)}}return{animation:et,options:ht}}))}if(A.size){const H={};if(typeof g.initial!="boolean"){const Q=bo(i,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(H.transition=Q.transition)}A.forEach(Q=>{const tt=i.getBaseTarget(Q),Z=i.getValue(Q);Z&&(Z.liveStyle=!0),H[Q]=tt??null}),E.push({animation:H})}let G=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!i.manuallyAnimateOnMount&&(G=!1),r=!1,G?t(E):Promise.resolve()}function m(p,g){if(n[p].isActive===g)return Promise.resolve();i.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),n[p].isActive=g;const v=c(p);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=sS()}}}function k4(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!sw(t,i):!1}function Zr(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sS(){return{animate:Zr(!0),whileInView:Zr(),whileHover:Zr(),whileTap:Zr(),whileDrag:Zr(),whileFocus:Zr(),exit:Zr()}}class _r{constructor(t){this.isMounted=!1,this.node=t}update(){}}class U4 extends _r{constructor(t){super(t),t.animationState||(t.animationState=L4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Af(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let z4=0;class B4 extends _r{constructor(){super(...arguments),this.id=z4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const j4={animation:{Feature:U4},exit:{Feature:B4}};function Eu(i,t,n,r={passive:!0}){return i.addEventListener(t,n,r),()=>i.removeEventListener(t,n)}function Pu(i){return{point:{x:i.pageX,y:i.pageY}}}const H4=i=>t=>ry(t)&&i(t,Pu(t));function ou(i,t,n,r){return Eu(i,t,H4(n),r)}const aw=1e-4,F4=1-aw,q4=1+aw,ow=.01,G4=0-ow,K4=0+ow;function un(i){return i.max-i.min}function Y4(i,t,n){return Math.abs(i-t)<=n}function rS(i,t,n,r=.5){i.origin=r,i.originPoint=le(t.min,t.max,i.origin),i.scale=un(n)/un(t),i.translate=le(n.min,n.max,i.origin)-i.originPoint,(i.scale>=F4&&i.scale<=q4||isNaN(i.scale))&&(i.scale=1),(i.translate>=G4&&i.translate<=K4||isNaN(i.translate))&&(i.translate=0)}function lu(i,t,n,r){rS(i.x,t.x,n.x,r?r.originX:void 0),rS(i.y,t.y,n.y,r?r.originY:void 0)}function aS(i,t,n){i.min=n.min+t.min,i.max=i.min+un(t)}function Q4(i,t,n){aS(i.x,t.x,n.x),aS(i.y,t.y,n.y)}function oS(i,t,n){i.min=t.min-n.min,i.max=i.min+un(t)}function uu(i,t,n){oS(i.x,t.x,n.x),oS(i.y,t.y,n.y)}function Hn(i){return[i("x"),i("y")]}const lw=({current:i})=>i?i.ownerDocument.defaultView:null,lS=(i,t)=>Math.abs(i-t);function X4(i,t){const n=lS(i.x,t.x),r=lS(i.y,t.y);return Math.sqrt(n**2+r**2)}class uw{constructor(t,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Wm(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,k=X4(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!k)return;const{point:G}=A,{timestamp:H}=Xe;this.history.push({...G,timestamp:H});const{onStart:Q,onMove:tt}=this.handlers;M||(Q&&Q(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),tt&&tt(this.lastMoveEvent,A)},this.handlePointerMove=(A,M)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Jm(M,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(A,M)=>{this.end();const{onEnd:k,onSessionEnd:G,resumeAnimation:H}=this.handlers;if(this.dragSnapToOrigin&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=Wm(A.type==="pointercancel"?this.lastMoveEventInfo:Jm(M,this.transformPagePoint),this.history);this.startEvent&&k&&k(A,Q),G&&G(A,Q)},!ry(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=Pu(t),p=Jm(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=Xe;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=n;E&&E(t,Wm(p,this.history)),this.removeListeners=Ou(ou(this.contextWindow,"pointermove",this.handlePointerMove),ou(this.contextWindow,"pointerup",this.handlePointerUp),ou(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gr(this.updatePoint)}}function Jm(i,t){return t?{point:t(i.point)}:i}function uS(i,t){return{x:i.x-t.x,y:i.y-t.y}}function Wm({point:i},t){return{point:i,delta:uS(i,cw(t)),offset:uS(i,$4(t)),velocity:Z4(t,.1)}}function $4(i){return i[0]}function cw(i){return i[i.length-1]}function Z4(i,t){if(i.length<2)return{x:0,y:0};let n=i.length-1,r=null;const o=cw(i);for(;n>=0&&(r=i[n],!(o.timestamp-r.timestamp>ki(t)));)n--;if(!r)return{x:0,y:0};const u=qn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function J4(i,{min:t,max:n},r){return t!==void 0&&i<t?i=r?le(t,i,r.min):Math.max(i,t):n!==void 0&&i>n&&(i=r?le(n,i,r.max):Math.min(i,n)),i}function cS(i,t,n){return{min:t!==void 0?i.min+t:void 0,max:n!==void 0?i.max+n-(i.max-i.min):void 0}}function W4(i,{top:t,left:n,bottom:r,right:o}){return{x:cS(i.x,n,o),y:cS(i.y,t,r)}}function hS(i,t){let n=t.min-i.min,r=t.max-i.max;return t.max-t.min<i.max-i.min&&([n,r]=[r,n]),{min:n,max:r}}function tL(i,t){return{x:hS(i.x,t.x),y:hS(i.y,t.y)}}function eL(i,t){let n=.5;const r=un(i),o=un(t);return o>r?n=gu(t.min,t.max-r,i.min):r>o&&(n=gu(i.min,i.max-o,t.min)),ps(0,1,n)}function nL(i,t){const n={};return t.min!==void 0&&(n.min=t.min-i.min),t.max!==void 0&&(n.max=t.max-i.min),n}const Zp=.35;function iL(i=Zp){return i===!1?i=0:i===!0&&(i=Zp),{x:fS(i,"left","right"),y:fS(i,"top","bottom")}}function fS(i,t,n){return{min:dS(i,t),max:dS(i,n)}}function dS(i,t){return typeof i=="number"?i:i[t]||0}const sL=new WeakMap;class rL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pu(E).point)},c=(E,A)=>{const{drag:M,dragPropagation:k,onDragStart:G}=this.getProps();if(M&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cP(M),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(Q=>{let tt=this.getAxisMotionValue(Q).get()||0;if(Ui.test(tt)){const{projection:Z}=this.visualElement;if(Z&&Z.layout){const rt=Z.layout.layoutBox[Q];rt&&(tt=un(rt)*(parseFloat(tt)/100))}}this.originPoint[Q]=tt}),G&&ae.postRender(()=>G(E,A)),Xp(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},m=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A;const{dragPropagation:M,dragDirectionLock:k,onDirectionLock:G,onDrag:H}=this.getProps();if(!M&&!this.openDragLock)return;const{offset:Q}=A;if(k&&this.currentDirection===null){this.currentDirection=aL(Q),this.currentDirection!==null&&G&&G(this.currentDirection);return}this.updateAxis("x",A.point,Q),this.updateAxis("y",A.point,Q),this.visualElement.render(),H&&H(E,A)},p=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A,this.stop(E,A),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Hn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new uw(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:lw(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ae.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Sh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=J4(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&ho(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=W4(r.layoutBox,t):this.constraints=!1,this.elastic=iL(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=nL(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ho(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=o4(r,o.root,this.visualElement.getTransformPagePoint());let c=tL(o.layout.layoutBox,u);if(n){const m=n(s4(c));this.hasMutatedConstraints=!!m,m&&(c=Yb(m))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Hn(v=>{if(!Sh(v,n,this.currentDirection))return;let E=p&&p[v]||{};c&&(E={min:0,max:0});const A=o?200:1e6,M=o?40:1e7,k={type:"inertia",velocity:r?t[v]:0,bounceStiffness:A,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,k)});return Promise.all(g).then(m)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Xp(this.visualElement,t),r.start(py(t,r,0,n,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Hn(n=>{const{drag:r}=this.getProps();if(!Sh(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[n];u.set(t[n]-le(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ho(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Hn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=eL({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(c=>{if(!Sh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(le(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;sL.set(this.visualElement,this);const t=this.visualElement.current,n=ou(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();ho(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(r);const c=Eu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Hn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Zp,dragMomentum:m=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Sh(i,t,n){return(t===!0||t===i)&&(n===null||n===i)}function aL(i,t=10){let n=null;return Math.abs(i.y)>t?n="y":Math.abs(i.x)>t&&(n="x"),n}class oL extends _r{constructor(t){super(t),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new rL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const mS=i=>(t,n)=>{i&&ae.postRender(()=>i(t,n))};class lL extends _r{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(t){this.session=new uw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:mS(t),onStart:mS(n),onMove:r,onEnd:(u,c)=>{delete this.session,o&&ae.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=ou(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pS(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const Ql={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(_t.test(i))i=parseFloat(i);else return i;const n=pS(i,t.target.x),r=pS(i,t.target.y);return`${n}% ${r}%`}},uL={correct:(i,{treeScale:t,projectionDelta:n})=>{const r=i,o=yr.parse(i);if(o.length>5)return r;const u=yr.createTransformer(i),c=typeof o[0]!="number"?1:0,m=n.x.scale*t.x,p=n.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=le(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let tp=!1;class cL extends lt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;OP(hL),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),tp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,tp=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ae.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;tp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hw(i){const[t,n]=Nb(),r=lt.useContext(Lg);return mt.jsx(cL,{...i,layoutGroup:r,switchLayoutGroup:lt.useContext(Gb),isPresent:t,safeToRemove:n})}const hL={borderRadius:{...Ql,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ql,borderTopRightRadius:Ql,borderBottomLeftRadius:Ql,borderBottomRightRadius:Ql,boxShadow:uL};function fL(i,t,n){const r=nn(i)?i:No(i);return r.start(py("",r,t,n)),r.animation}const dL=(i,t)=>i.depth-t.depth;class mL{constructor(){this.children=[],this.isDirty=!1}add(t){zg(this.children,t),this.isDirty=!0}remove(t){Bg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dL),this.isDirty=!1,this.children.forEach(t)}}function pL(i,t){const n=vn.now(),r=({timestamp:o})=>{const u=o-n;u>=t&&(gr(r),i(u-t))};return ae.setup(r,!0),()=>gr(r)}const fw=["TopLeft","TopRight","BottomLeft","BottomRight"],gL=fw.length,gS=i=>typeof i=="string"?parseFloat(i):i,yS=i=>typeof i=="number"||_t.test(i);function yL(i,t,n,r,o,u){o?(i.opacity=le(0,n.opacity??1,vL(r)),i.opacityExit=le(t.opacity??1,0,_L(r))):u&&(i.opacity=le(t.opacity??1,n.opacity??1,r));for(let c=0;c<gL;c++){const m=`border${fw[c]}Radius`;let p=vS(t,m),g=vS(n,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||yS(p)===yS(g)?(i[m]=Math.max(le(gS(p),gS(g),r),0),(Ui.test(g)||Ui.test(p))&&(i[m]+="%")):i[m]=g}(t.rotate||n.rotate)&&(i.rotate=le(t.rotate||0,n.rotate||0,r))}function vS(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const vL=dw(0,.5,W1),_L=dw(.5,.95,Gn);function dw(i,t,n){return r=>r<i?0:r>t?1:n(gu(i,t,r))}function _S(i,t){i.min=t.min,i.max=t.max}function jn(i,t){_S(i.x,t.x),_S(i.y,t.y)}function TS(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}function ES(i,t,n,r,o){return i-=t,i=sf(i,1/n,r),o!==void 0&&(i=sf(i,1/o,r)),i}function TL(i,t=0,n=1,r=.5,o,u=i,c=i){if(Ui.test(t)&&(t=parseFloat(t),t=le(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=le(u.min,u.max,r);i===u&&(m-=t),i.min=ES(i.min,t,n,m,o),i.max=ES(i.max,t,n,m,o)}function SS(i,t,[n,r,o],u,c){TL(i,t[n],t[r],t[o],t.scale,u,c)}const EL=["x","scaleX","originX"],SL=["y","scaleY","originY"];function AS(i,t,n,r){SS(i.x,t,EL,n?n.x:void 0,r?r.x:void 0),SS(i.y,t,SL,n?n.y:void 0,r?r.y:void 0)}function bS(i){return i.translate===0&&i.scale===1}function mw(i){return bS(i.x)&&bS(i.y)}function wS(i,t){return i.min===t.min&&i.max===t.max}function AL(i,t){return wS(i.x,t.x)&&wS(i.y,t.y)}function RS(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function pw(i,t){return RS(i.x,t.x)&&RS(i.y,t.y)}function CS(i){return un(i.x)/un(i.y)}function IS(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}class bL{constructor(){this.members=[]}add(t){zg(this.members,t),t.scheduleRender()}remove(t){if(Bg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wL(i,t,n){let r="";const o=i.x.translate/t.x,u=i.y.translate/t.y,c=n?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:A,skewX:M,skewY:k}=n;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),A&&(r+=`rotateY(${A}deg) `),M&&(r+=`skewX(${M}deg) `),k&&(r+=`skewY(${k}deg) `)}const m=i.x.scale*t.x,p=i.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const ep=["","X","Y","Z"],RL=1e3;let CL=0;function np(i,t,n,r){const{latestValues:o}=t;o[i]&&(n[i]=o[i],t.setStaticValue(i,0),r&&(r[i]=0))}function gw(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const n=ew(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(n,"transform",ae,!(o||u))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&gw(r)}function yw({attachResizeListener:i,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=CL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ML),this.nodes.forEach(xL),this.nodes.forEach(PL),this.nodes.forEach(VL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new mL)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Fg),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Ob(c)&&!gP(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),i){let v,E=0;const A=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{E=window.innerWidth}),i(c,()=>{const M=window.innerWidth;M!==E&&(E=M,this.root.updateBlockedByResize=!0,v&&v(),v=pL(A,250),Ph.hasAnimatedSinceResize&&(Ph.hasAnimatedSinceResize=!1,this.nodes.forEach(VS)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||g.getDefaultTransition()||BL,{onLayoutAnimationStart:G,onLayoutAnimationComplete:H}=g.getProps(),Q=!this.targetLayout||!pw(this.targetLayout,M),tt=!E&&A;if(this.options.layoutRoot||this.resumeFrom||tt||E&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Z={...ny(k,"layout"),onPlay:G,onComplete:H};(g.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z),this.setAnimationOrigin(v,tt)}else E||VS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(MS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NL),this.nodes.forEach(IL),this.nodes.forEach(DL)):this.nodes.forEach(MS),this.clearAllSnapshots();const m=vn.now();Xe.delta=ps(0,1e3/60,m-Xe.timestamp),Xe.timestamp=m,Xe.isProcessing=!0,qm.update.process(Xe),qm.preRender.process(Xe),qm.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OL),this.sharedNodes.forEach(kL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!mw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||Wr(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),jL(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ve();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(HL))){const{scroll:g}=this.root;g&&(fo(m.x,g.offset.x),fo(m.y,g.offset.y))}return m}removeElementScroll(c){const m=ve();if(jn(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&jn(m,c),fo(m.x,v.offset.x),fo(m.y,v.offset.y))}return m}applyTransform(c,m=!1){const p=ve();jn(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&mo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Wr(v.latestValues)&&mo(p,v.latestValues)}return Wr(this.latestValues)&&mo(p,this.latestValues),p}removeTransform(c){const m=ve();jn(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Wr(g.latestValues))continue;Gp(g.latestValues)&&g.updateSnapshot();const v=ve(),E=g.measurePageBox();jn(v,E),AS(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Wr(this.latestValues)&&AS(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),uu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jn(this.target,this.layout.layoutBox),Xb(this.target,this.targetDelta)):jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),uu(this.relativeTargetOrigin,this.target,A.target),jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gp(this.parent.latestValues)||Qb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;jn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;a4(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:M}=c;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(TS(this.prevProjectionDelta.x,this.projectionDelta.x),TS(this.prevProjectionDelta.y,this.projectionDelta.y)),lu(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!IS(this.projectionDelta.x,this.prevProjectionDelta.x)||!IS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=po(),this.projectionDelta=po(),this.projectionDeltaWithTransform=po()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const A=ve(),M=p?p.source:void 0,k=this.layout?this.layout.source:void 0,G=M!==k,H=this.getStack(),Q=!H||H.members.length<=1,tt=!!(G&&!Q&&this.options.crossfade===!0&&!this.path.some(zL));this.animationProgress=0;let Z;this.mixTargetDelta=rt=>{const st=rt/1e3;OS(E.x,c.x,st),OS(E.y,c.y,st),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uu(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UL(this.relativeTarget,this.relativeTargetOrigin,A,st),Z&&AL(this.relativeTarget,Z)&&(this.isProjectionDirty=!1),Z||(Z=ve()),jn(Z,this.relativeTarget)),G&&(this.animationValues=v,yL(v,g,this.latestValues,st,tt,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Ph.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=No(0)),this.currentAnimation=fL(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&vw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ve();const E=un(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const A=un(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+A}jn(m,p),mo(m,v),lu(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new bL),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&np("z",c,g,this.animationValues);for(let v=0;v<ep.length;v++)np(`rotate${ep[v]}`,c,g,this.animationValues),np(`skew${ep[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=xh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=xh(m?.pointerEvents)||""),this.hasProjected&&!Wr(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=wL(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),c.transform=E;const{x:A,y:M}=this.projectionDelta;c.transformOrigin=`${A.origin*100}% ${M.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const k in Tu){if(v[k]===void 0)continue;const{correct:G,applyTo:H,isCSSVariable:Q}=Tu[k],tt=E==="none"?v[k]:G(v[k],g);if(H){const Z=H.length;for(let rt=0;rt<Z;rt++)c[H[rt]]=tt}else Q?this.options.visualElement.renderState.vars[k]=tt:c[k]=tt}this.options.layoutId&&(c.pointerEvents=g===this?xh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(DS),this.root.sharedNodes.clear()}}}function IL(i){i.updateLayout()}function DL(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=i.layout,{animationType:o}=i.options,u=t.source!==i.layout.source;o==="size"?Hn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],A=un(E);E.min=n[v].min,E.max=E.min+A}):vw(o,t.layoutBox,n)&&Hn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],A=un(n[v]);E.max=E.min+A,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[v].max=i.relativeTarget[v].min+A)});const c=po();lu(c,n,t.layoutBox);const m=po();u?lu(m,i.applyTransform(r,!0),t.measuredBox):lu(m,n,t.layoutBox);const p=!mw(c);let g=!1;if(!i.resumeFrom){const v=i.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:A}=v;if(E&&A){const M=ve();uu(M,t.layoutBox,E.layoutBox);const k=ve();uu(k,n,A.layoutBox),pw(M,k)||(g=!0),v.options.layoutRoot&&(i.relativeTarget=k,i.relativeTargetOrigin=M,i.relativeParent=v)}}}i.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(i.isLead()){const{onExitComplete:n}=i.options;n&&n()}i.options.transition=void 0}function ML(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function VL(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function OL(i){i.clearSnapshot()}function DS(i){i.clearMeasurements()}function MS(i){i.isLayoutDirty=!1}function NL(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function VS(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function xL(i){i.resolveTargetDelta()}function PL(i){i.calcProjection()}function LL(i){i.resetSkewAndRotation()}function kL(i){i.removeLeadSnapshot()}function OS(i,t,n){i.translate=le(t.translate,0,n),i.scale=le(t.scale,1,n),i.origin=t.origin,i.originPoint=t.originPoint}function NS(i,t,n,r){i.min=le(t.min,n.min,r),i.max=le(t.max,n.max,r)}function UL(i,t,n,r){NS(i.x,t.x,n.x,r),NS(i.y,t.y,n.y,r)}function zL(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const BL={duration:.45,ease:[.4,0,.1,1]},xS=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),PS=xS("applewebkit/")&&!xS("chrome/")?Math.round:Gn;function LS(i){i.min=PS(i.min),i.max=PS(i.max)}function jL(i){LS(i.x),LS(i.y)}function vw(i,t,n){return i==="position"||i==="preserve-aspect"&&!Y4(CS(t),CS(n),.2)}function HL(i){return i!==i.root&&i.scroll?.wasRoot}const FL=yw({attachResizeListener:(i,t)=>Eu(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ip={current:void 0},_w=yw({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!ip.current){const i=new FL({});i.mount(window),i.setOptions({layoutScroll:!0}),ip.current=i}return ip.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),qL={pan:{Feature:lL},drag:{Feature:oL,ProjectionNode:_w,MeasureLayout:hw}};function kS(i,t,n){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&ae.postRender(()=>u(t,Pu(t)))}class GL extends _r{mount(){const{current:t}=this.node;t&&(this.unmount=hP(t,(n,r)=>(kS(this.node,r,"Start"),o=>kS(this.node,o,"End"))))}unmount(){}}class KL extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ou(Eu(this.node.current,"focus",()=>this.onFocus()),Eu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function US(i,t,n){const{props:r}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&r.whileTap&&i.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&ae.postRender(()=>u(t,Pu(t)))}class YL extends _r{mount(){const{current:t}=this.node;t&&(this.unmount=pP(t,(n,r)=>(US(this.node,r,"Start"),(o,{success:u})=>US(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jp=new WeakMap,sp=new WeakMap,QL=i=>{const t=Jp.get(i.target);t&&t(i)},XL=i=>{i.forEach(QL)};function $L({root:i,...t}){const n=i||document;sp.has(n)||sp.set(n,{});const r=sp.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(XL,{root:i,...t})),r[o]}function ZL(i,t,n){const r=$L(t);return Jp.set(i,n),r.observe(i),()=>{Jp.delete(i),r.unobserve(i)}}const JL={some:0,all:1};class WL extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:JL[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),A=g?v:E;A&&A(p)};return ZL(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(t3(t,n))&&this.startObserver()}unmount(){}}function t3({viewport:i={}},{viewport:t={}}={}){return n=>i[n]!==t[n]}const e3={inView:{Feature:WL},tap:{Feature:YL},focus:{Feature:KL},hover:{Feature:GL}},n3={layout:{ProjectionNode:_w,MeasureLayout:hw}},i3={...j4,...e3,...qL,...n3},s3=i4(i3,g4);function r3(){const[i,t]=lt.useState([]),[n,r]=lt.useState(""),[o,u]=lt.useState([]),[c,m]=lt.useState(!0),[p,g]=lt.useState(0);lt.useEffect(()=>{(async()=>{const H=(await nE(Z0(wE,"seasons"))).docs.map(Q=>Q.id).sort();t(H),H.length>0&&r(H[H.length-1])})()},[]),lt.useEffect(()=>{if(!n)return;(async()=>{m(!0);try{const H=(await nE(Z0(wE,`seasons/${n}/players`))).docs.map(Q=>({id:Q.id,...Q.data()})).sort((Q,tt)=>Q.rank-tt.rank);u(H),g(0)}catch(G){console.error("Erreur joueurs :",G)}finally{m(!1)}})()},[n]);const v=()=>{p<o.length-1&&g(p+1)},E=()=>{p>0&&g(p-1)};if(c)return mt.jsx("p",{className:"loading",children:"Chargement..."});const A=o[p],M=k=>{switch(k){case 1:return"linear-gradient(135deg, #FFD700, #FFC700)";case 2:return"linear-gradient(135deg, #C0C0C0, #B0B0B0)";case 3:return"linear-gradient(135deg, #CD7F32, #B06C2F)";default:return"linear-gradient(135deg, #14293E, #0A1C30)"}};return mt.jsxs("div",{className:"ranking-container",children:[mt.jsx("div",{className:"season-select",children:mt.jsx("select",{value:n,onChange:k=>r(k.target.value),children:i.map(k=>mt.jsx("option",{value:k,children:k},k))})}),mt.jsxs("div",{className:"carousel",children:[mt.jsx("button",{onClick:E,disabled:p===0,className:"nav-btn",children:"◀"}),mt.jsx(wP,{mode:"wait",children:mt.jsxs(s3.div,{initial:{opacity:0,y:40,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-40,scale:.9},transition:{duration:.4},className:"player-card",style:{background:M(A.rank)},children:[mt.jsx("div",{className:"card-glow"}),mt.jsxs("div",{className:"rank-badge",children:["#",A.rank]}),mt.jsx("h2",{className:"player-name",children:A.name}),mt.jsxs("p",{className:"player-points",children:[A.points," pts"]}),mt.jsx("div",{className:"stats-grid",children:[["Winrate",`${A.winrate}%`],["Matchs",A.matches],["Victoires",A.wins],["Défaites",A.losses],["Nuls",A.draws],["Valeur",A.value],["Bonus 5 Goals",A.bonus5goal]].map(([k,G],H)=>mt.jsxs("div",{className:"stat-card",children:[mt.jsx("span",{className:"stat-label",children:k}),mt.jsx("span",{className:"stat-value",children:G})]},H))})]},A.id)}),mt.jsx("button",{onClick:v,disabled:p===o.length-1,className:"nav-btn",children:"▶"})]}),mt.jsxs("p",{className:"counter",children:[p+1," / ",o.length]})]})}function gy({title:i,children:t}){return mt.jsxs("div",{style:zS.container,children:[mt.jsx("h2",{style:zS.title,children:i}),mt.jsx("div",{children:t})]})}const zS={container:{padding:"100px 20px",minHeight:"100vh",background:"#f9f9f9"},title:{textAlign:"center",marginBottom:"30px"}};function a3(){return mt.jsx(gy,{title:"Match History",children:mt.jsx("p",{children:"Coming soon: list of past matches here."})})}function o3(){return mt.jsx(gy,{title:"Statistics",children:mt.jsx("p",{children:"Coming soon: global and player statistics."})})}function l3(){return mt.jsx(gy,{title:"Draw",children:mt.jsx("p",{children:"Coming soon: match draw generator."})})}function u3(){return mt.jsxs(mt.Fragment,{children:[mt.jsx(aC,{}),mt.jsxs("main",{children:[mt.jsx("section",{id:"ranking",children:mt.jsx(r3,{})}),mt.jsx("section",{id:"history",children:mt.jsx(a3,{})}),mt.jsx("section",{id:"statistics",children:mt.jsx(o3,{})}),mt.jsx("section",{id:"draw",children:mt.jsx(l3,{})})]}),mt.jsx(oC,{})]})}rC.createRoot(document.getElementById("root")).render(mt.jsx(lt.StrictMode,{children:mt.jsx(u3,{})}));
