(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Ld={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function JA(){if(Q_)return Tl;Q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Tl.Fragment=t,Tl.jsx=n,Tl.jsxs=n,Tl}var Y_;function WA(){return Y_||(Y_=1,Ld.exports=JA()),Ld.exports}var V=WA(),Ud={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function t1(){if(X_)return bt;X_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function F(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,G={};function W(D,Q,nt){this.props=D,this.context=Q,this.refs=G,this.updater=nt||tt}W.prototype.isReactComponent={},W.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ft(){}ft.prototype=W.prototype;function st(D,Q,nt){this.props=D,this.context=Q,this.refs=G,this.updater=nt||tt}var dt=st.prototype=new ft;dt.constructor=st,et(dt,W.prototype),dt.isPureReactComponent=!0;var Mt=Array.isArray;function wt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(D,Q,nt){var rt=nt.ref;return{$$typeof:s,type:D,key:Q,ref:rt!==void 0?rt:null,props:nt}}function x(D,Q){return R(D.type,Q,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function P(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return Q[nt]})}var w=/\/+/g;function ie(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?P(""+D.key):Q.toString(36)}function Tt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(wt,wt):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function B(D,Q,nt,rt,mt){var yt=typeof D;(yt==="undefined"||yt==="boolean")&&(D=null);var Ot=!1;if(D===null)Ot=!0;else switch(yt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(D.$$typeof){case s:case t:Ot=!0;break;case E:return Ot=D._init,B(Ot(D._payload),Q,nt,rt,mt)}}if(Ot)return mt=mt(D),Ot=rt===""?"."+ie(D,0):rt,Mt(mt)?(nt="",Ot!=null&&(nt=Ot.replace(w,"$&/")+"/"),B(mt,Q,nt,"",function(zi){return zi})):mt!=null&&(M(mt)&&(mt=x(mt,nt+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(w,"$&/")+"/")+Ot)),Q.push(mt)),1;Ot=0;var Vt=rt===""?".":rt+":";if(Mt(D))for(var Zt=0;Zt<D.length;Zt++)rt=D[Zt],yt=Vt+ie(rt,Zt),Ot+=B(rt,Q,nt,yt,mt);else if(Zt=F(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(rt=D.next()).done;)rt=rt.value,yt=Vt+ie(rt,Zt++),Ot+=B(rt,Q,nt,yt,mt);else if(yt==="object"){if(typeof D.then=="function")return B(Tt(D),Q,nt,rt,mt);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function J(D,Q,nt){if(D==null)return D;var rt=[],mt=0;return B(D,rt,"","",function(yt){return Q.call(nt,yt,mt++)}),rt}function lt(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var St=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},It={map:J,forEach:function(D,Q,nt){J(D,function(){Q.apply(this,arguments)},nt)},count:function(D){var Q=0;return J(D,function(){Q++}),Q},toArray:function(D){return J(D,function(Q){return Q})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return bt.Activity=A,bt.Children=It,bt.Component=W,bt.Fragment=n,bt.Profiler=l,bt.PureComponent=st,bt.StrictMode=r,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,bt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},bt.cache=function(D){return function(){return D.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(D,Q,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=et({},D.props),mt=D.key;if(Q!=null)for(yt in Q.key!==void 0&&(mt=""+Q.key),Q)!b.call(Q,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&Q.ref===void 0||(rt[yt]=Q[yt]);var yt=arguments.length-2;if(yt===1)rt.children=nt;else if(1<yt){for(var Ot=Array(yt),Vt=0;Vt<yt;Vt++)Ot[Vt]=arguments[Vt+2];rt.children=Ot}return R(D.type,mt,rt)},bt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},bt.createElement=function(D,Q,nt){var rt,mt={},yt=null;if(Q!=null)for(rt in Q.key!==void 0&&(yt=""+Q.key),Q)b.call(Q,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(mt[rt]=Q[rt]);var Ot=arguments.length-2;if(Ot===1)mt.children=nt;else if(1<Ot){for(var Vt=Array(Ot),Zt=0;Zt<Ot;Zt++)Vt[Zt]=arguments[Zt+2];mt.children=Vt}if(D&&D.defaultProps)for(rt in Ot=D.defaultProps,Ot)mt[rt]===void 0&&(mt[rt]=Ot[rt]);return R(D,yt,mt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:p,render:D}},bt.isValidElement=M,bt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:lt}},bt.memo=function(D,Q){return{$$typeof:g,type:D,compare:Q===void 0?null:Q}},bt.startTransition=function(D){var Q=I.T,nt={};I.T=nt;try{var rt=D(),mt=I.S;mt!==null&&mt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(wt,St)}catch(yt){St(yt)}finally{Q!==null&&nt.types!==null&&(Q.types=nt.types),I.T=Q}},bt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},bt.use=function(D){return I.H.use(D)},bt.useActionState=function(D,Q,nt){return I.H.useActionState(D,Q,nt)},bt.useCallback=function(D,Q){return I.H.useCallback(D,Q)},bt.useContext=function(D){return I.H.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D,Q){return I.H.useDeferredValue(D,Q)},bt.useEffect=function(D,Q){return I.H.useEffect(D,Q)},bt.useEffectEvent=function(D){return I.H.useEffectEvent(D)},bt.useId=function(){return I.H.useId()},bt.useImperativeHandle=function(D,Q,nt){return I.H.useImperativeHandle(D,Q,nt)},bt.useInsertionEffect=function(D,Q){return I.H.useInsertionEffect(D,Q)},bt.useLayoutEffect=function(D,Q){return I.H.useLayoutEffect(D,Q)},bt.useMemo=function(D,Q){return I.H.useMemo(D,Q)},bt.useOptimistic=function(D,Q){return I.H.useOptimistic(D,Q)},bt.useReducer=function(D,Q,nt){return I.H.useReducer(D,Q,nt)},bt.useRef=function(D){return I.H.useRef(D)},bt.useState=function(D){return I.H.useState(D)},bt.useSyncExternalStore=function(D,Q,nt){return I.H.useSyncExternalStore(D,Q,nt)},bt.useTransition=function(){return I.H.useTransition()},bt.version="19.2.0",bt}var $_;function Nm(){return $_||($_=1,Ud.exports=t1()),Ud.exports}var at=Nm(),zd={exports:{}},Sl={},jd={exports:{}},Bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function e1(){return Z_||(Z_=1,(function(s){function t(B,J){var lt=B.length;B.push(J);t:for(;0<lt;){var St=lt-1>>>1,It=B[St];if(0<l(It,J))B[St]=J,B[lt]=It,lt=St;else break t}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var J=B[0],lt=B.pop();if(lt!==J){B[0]=lt;t:for(var St=0,It=B.length,D=It>>>1;St<D;){var Q=2*(St+1)-1,nt=B[Q],rt=Q+1,mt=B[rt];if(0>l(nt,lt))rt<It&&0>l(mt,nt)?(B[St]=mt,B[rt]=lt,St=rt):(B[St]=nt,B[Q]=lt,St=Q);else if(rt<It&&0>l(mt,lt))B[St]=mt,B[rt]=lt,St=rt;else break t}}return J}function l(B,J){var lt=B.sortIndex-J.sortIndex;return lt!==0?lt:B.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],g=[],E=1,A=null,N=3,F=!1,tt=!1,et=!1,G=!1,W=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function dt(B){for(var J=n(g);J!==null;){if(J.callback===null)r(g);else if(J.startTime<=B)r(g),J.sortIndex=J.expirationTime,t(y,J);else break;J=n(g)}}function Mt(B){if(et=!1,dt(B),!tt)if(n(y)!==null)tt=!0,wt||(wt=!0,P());else{var J=n(g);J!==null&&Tt(Mt,J.startTime-B)}}var wt=!1,I=-1,b=5,R=-1;function x(){return G?!0:!(s.unstable_now()-R<b)}function M(){if(G=!1,wt){var B=s.unstable_now();R=B;var J=!0;try{t:{tt=!1,et&&(et=!1,ft(I),I=-1),F=!0;var lt=N;try{e:{for(dt(B),A=n(y);A!==null&&!(A.expirationTime>B&&x());){var St=A.callback;if(typeof St=="function"){A.callback=null,N=A.priorityLevel;var It=St(A.expirationTime<=B);if(B=s.unstable_now(),typeof It=="function"){A.callback=It,dt(B),J=!0;break e}A===n(y)&&r(y),dt(B)}else r(y);A=n(y)}if(A!==null)J=!0;else{var D=n(g);D!==null&&Tt(Mt,D.startTime-B),J=!1}}break t}finally{A=null,N=lt,F=!1}J=void 0}}finally{J?P():wt=!1}}}var P;if(typeof st=="function")P=function(){st(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=M,P=function(){ie.postMessage(null)}}else P=function(){W(M,0)};function Tt(B,J){I=W(function(){B(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(B){switch(N){case 1:case 2:case 3:var J=3;break;default:J=N}var lt=N;N=J;try{return B()}finally{N=lt}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var lt=N;N=B;try{return J()}finally{N=lt}},s.unstable_scheduleCallback=function(B,J,lt){var St=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?St+lt:St):lt=St,B){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=lt+It,B={id:E++,callback:J,priorityLevel:B,startTime:lt,expirationTime:It,sortIndex:-1},lt>St?(B.sortIndex=lt,t(g,B),n(y)===null&&B===n(g)&&(et?(ft(I),I=-1):et=!0,Tt(Mt,lt-St))):(B.sortIndex=It,t(y,B),tt||F||(tt=!0,wt||(wt=!0,P()))),B},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(B){var J=N;return function(){var lt=N;N=J;try{return B.apply(this,arguments)}finally{N=lt}}}})(Bd)),Bd}var J_;function n1(){return J_||(J_=1,jd.exports=e1()),jd.exports}var qd={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function i1(){if(W_)return Xe;W_=1;var s=Nm();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:g,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,E)},Xe.flushSync=function(y){var g=d.T,E=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=g,r.p=E,r.d.f()}},Xe.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},Xe.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Xe.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,A=p(E,g.crossOrigin),N=typeof g.integrity=="string"?g.integrity:void 0,F=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:F}):E==="script"&&r.d.X(y,{crossOrigin:A,integrity:N,fetchPriority:F,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xe.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},Xe.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=p(E,g.crossOrigin);r.d.L(y,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xe.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=p(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},Xe.requestFormReset=function(y){r.d.r(y)},Xe.unstable_batchedUpdates=function(y,g){return y(g)},Xe.useFormState=function(y,g,E){return d.H.useFormState(y,g,E)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var tv;function s1(){if(tv)return qd.exports;tv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),qd.exports=i1(),qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function r1(){if(ev)return Sl;ev=1;var s=n1(),t=Nm(),n=s1();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(r(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,o=f;break}if(T===o){_=!0,o=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,o=h;break}if(T===o){_=!0,o=f,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),st=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),Mt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case W:return"Profiler";case G:return"StrictMode";case Mt:return"Suspense";case wt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case st:return e.displayName||"Context";case ft:return(e._context.displayName||"Context")+".Consumer";case dt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:ie(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return ie(e(i))}catch{}}return null}var Tt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},St=[],It=-1;function D(e){return{current:e}}function Q(e){0>It||(e.current=St[It],St[It]=null,It--)}function nt(e,i){It++,St[It]=e.current,e.current=i}var rt=D(null),mt=D(null),yt=D(null),Ot=D(null);function Vt(e,i){switch(nt(yt,i),nt(mt,e),nt(rt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?g_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=g_(i),e=y_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(rt),nt(rt,e)}function Zt(){Q(rt),Q(mt),Q(yt)}function zi(e){e.memoizedState!==null&&nt(Ot,e);var i=rt.current,a=y_(i,e.type);i!==a&&(nt(mt,e),nt(rt,a))}function ds(e){mt.current===e&&(Q(rt),Q(mt)),Ot.current===e&&(Q(Ot),yl._currentValue=lt)}var ms,ji;function dn(e){if(ms===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ms=i&&i[1]||"",ji=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ms+e+ji}var ei=!1;function ni(e,i){if(!e||ei)return"";ei=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){j=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var C=_.split(`
`),z=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var K=`
`+C[o].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=o&&0<=h);break}}}finally{ei=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?dn(a):""}function ps(e,i){switch(e.tag){case 26:case 27:case 5:return dn(e.type);case 16:return dn("Lazy");case 13:return e.child!==i&&i!==null?dn("Suspense Fallback"):dn("Suspense");case 19:return dn("SuspenseList");case 0:case 15:return ni(e.type,!1);case 11:return ni(e.type.render,!1);case 1:return ni(e.type,!0);case 31:return dn("Activity");default:return""}}function gs(e){try{var i="",a=null;do i+=ps(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ce=Object.prototype.hasOwnProperty,me=s.unstable_scheduleCallback,ys=s.unstable_cancelCallback,Uh=s.unstable_shouldYield,eu=s.unstable_requestPaint,tn=s.unstable_now,_r=s.unstable_getCurrentPriorityLevel,Eo=s.unstable_ImmediatePriority,To=s.unstable_UserBlockingPriority,_s=s.unstable_NormalPriority,zh=s.unstable_LowPriority,nu=s.unstable_IdlePriority,iu=s.log,su=s.unstable_setDisableYieldValue,zn=null,je=null;function bn(e){if(typeof iu=="function"&&su(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(zn,e)}catch{}}var pe=Math.clz32?Math.clz32:au,ru=Math.log,oa=Math.LN2;function au(e){return e>>>=0,e===0?32:31-(ru(e)/oa|0)|0}var ii=256,vr=262144,Ee=4194304;function si(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=si(o):(_&=T,_!==0?h=si(_):a||(a=T&~e,a!==0&&(h=si(a))))):(T=o&~f,T!==0?h=si(T):_!==0?h=si(_):a||(a=o&~e,a!==0&&(h=si(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function jn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function jh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function ai(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Er(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bh(e,i,a,o,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var K=31-pe(a),X=1<<K;T[K]=0,C[K]=-1;var j=z[K];if(j!==null)for(z[K]=null,K=0;K<j.length;K++){var H=j[K];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&Tr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~i))}function Tr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-pe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function So(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-pe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ao(e,i){var a=i&-i;return a=(a&42)!==0?1:Sr(a),(a&(e.suspendedLanes|i))!==0?0:a}function Sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function Bn(e,i){var a=J.p;try{return J.p=e,i()}finally{J.p=a}}var qn=Math.random().toString(36).slice(2),Te="__reactFiber$"+qn,ke="__reactProps$"+qn,oi="__reactContainer$"+qn,la="__reactEvents$"+qn,qh="__reactListeners$"+qn,uu="__reactHandles$"+qn,cu="__reactResources$"+qn,li="__reactMarker$"+qn;function ua(e){delete e[Te],delete e[ke],delete e[la],delete e[qh],delete e[uu]}function ui(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[oi]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=b_(e);e!==null;){if(a=e[Te])return a;e=b_(e)}return i}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Te]||e[oi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function mn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function ci(e){var i=e[cu];return i||(i=e[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Se(e){e[li]=!0}var bo=new Set,Ro={};function hi(e,i){fi(e,i),fi(e+"Capture",i)}function fi(e,i){for(Ro[e]=i,e=0;e<i.length;e++)bo.add(i[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Co={};function hu(e){return ce.call(Co,e)?!0:ce.call(Io,e)?!1:wo.test(e)?Co[e]=!0:(Io[e]=!0,!1)}function ca(e,i,a){if(hu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function pn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ae(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vs(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function No(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Yt(e){if(!e._valueTracker){var i=vs(e)?"checked":"value";e._valueTracker=No(e,i,""+e[i])}}function Ar(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=vs(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var br=/[\n"\\]/g;function sn(e){return e.replace(br,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(e,i,a,o,h,f,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Do(e,_,Pe(i)):a!=null?Do(e,_,Pe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Pe(T):e.removeAttribute("name")}function fu(e,i,a,o,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Yt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Yt(e)}function Do(e,i,a){i==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Es(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function du(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function Ts(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(Tt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Yt(e)}function rn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||mu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Mo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Oo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Oo(e,f,i[f])}function fa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(e){return Ss.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Vo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,mi=null;function Rr(e){var i=Rn(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(ha(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(r(90));ha(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&Ar(o)}break t;case"textarea":du(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Es(e,!!a.multiple,i,!1)}}}var ma=!1;function bs(e,i,a){if(ma)return e(i,a);ma=!0;try{var o=e(i);return o}finally{if(ma=!1,(As!==null||mi!==null)&&(lc(),As&&(i=As,e=mi,mi=As=null,Rr(i),e)))for(i=0;i<e.length;i++)Rr(e[i])}}function Fn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(In)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){wr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{wr=!1}var pi=null,xo=null,Ir=null;function ko(){if(Ir)return Ir;var e,i=xo,a=i.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Ir=h.slice(e,1<o?1-o:void 0)}function Cr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function qi(){return!0}function Gn(){return!1}function Be(e){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qi:Gn,this.isPropagationStopped=Gn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Be(Hi),Rs=A({},Hi,{view:0,detail:0}),Po=Be(Rs),ws,pa,yi,ga=A({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(ws=e.screenX-yi.screenX,pa=e.screenY-yi.screenY):pa=ws=0,yi=e),ws)},movementY:function(e){return"movementY"in e?e.movementY:pa}}),Lo=Be(ga),Nr=A({},ga,{dataTransfer:0}),gu=Be(Nr),yu=A({},Rs,{relatedTarget:0}),Dr=Be(yu),Uo=A({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Be(Uo),ya=A({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vu=Be(ya),Eu=A({},Hi,{data:0}),_i=Be(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Au[e])?!!i[e]:!1}function Is(){return bu}var en=A({},Rs,{key:function(e){if(e.key){var i=Tu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(e){return e.type==="keypress"?Cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ru=Be(en),wu=A({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Be(wu),c=A({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),m=Be(c),v=A({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Be(v),L=A({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(L),it=A({},Hi,{newState:0,oldState:0}),Ct=Be(it),ge=[9,13,27,32],Gt=In&&"CompositionEvent"in window,le=null;In&&"documentMode"in document&&(le=document.documentMode);var Cn=In&&"TextEvent"in window&&!le,vi=In&&(!Gt||le&&8<le&&11>=le),Kn=" ",Qn=!1;function Or(e,i){switch(e){case"keyup":return ge.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function SS(e,i){switch(e){case"compositionend":return _a(i);case"keypress":return i.which!==32?null:(Qn=!0,Kn);case"textInput":return e=i.data,e===Kn&&Qn?null:e;default:return null}}function AS(e,i){if(va)return e==="compositionend"||!Gt&&Or(e,i)?(e=ko(),Ir=xo=pi=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vi&&i.locale!=="ko"?null:i.data;default:return null}}var bS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!bS[e.type]:i==="textarea"}function Cp(e,i,a,o){As?mi?mi.push(o):mi=[o]:As=o,i=pc(i,"onChange"),0<i.length&&(a=new gi("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var zo=null,jo=null;function RS(e){c_(e,0)}function Iu(e){var i=mn(e);if(Ar(i))return e}function Np(e,i){if(e==="change")return i}var Dp=!1;if(In){var Hh;if(In){var Fh="oninput"in document;if(!Fh){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Fh=typeof Op.oninput=="function"}Hh=Fh}else Hh=!1;Dp=Hh&&(!document.documentMode||9<document.documentMode)}function Mp(){zo&&(zo.detachEvent("onpropertychange",Vp),jo=zo=null)}function Vp(e){if(e.propertyName==="value"&&Iu(jo)){var i=[];Cp(i,jo,e,wn(e)),bs(RS,i)}}function wS(e,i,a){e==="focusin"?(Mp(),zo=i,jo=a,zo.attachEvent("onpropertychange",Vp)):e==="focusout"&&Mp()}function IS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(jo)}function CS(e,i){if(e==="click")return Iu(i)}function NS(e,i){if(e==="input"||e==="change")return Iu(i)}function DS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var gn=typeof Object.is=="function"?Object.is:DS;function Bo(e,i){if(gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ce.call(i,h)||!gn(e[h],i[h]))return!1}return!0}function xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kp(e,i){var a=xp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=xp(a)}}function Pp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Pp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Lp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=di(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=di(e.document)}return i}function Gh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var OS=In&&"documentMode"in document&&11>=document.documentMode,Ea=null,Kh=null,qo=null,Qh=!1;function Up(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||Ea==null||Ea!==di(o)||(o=Ea,"selectionStart"in o&&Gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=pc(Kh,"onSelect"),0<o.length&&(i=new gi("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Ea)))}function Mr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ta={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Yh={},zp={};In&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Vr(e){if(Yh[e])return Yh[e];if(!Ta[e])return e;var i=Ta[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in zp)return Yh[e]=i[a];return e}var jp=Vr("animationend"),Bp=Vr("animationiteration"),qp=Vr("animationstart"),MS=Vr("transitionrun"),VS=Vr("transitionstart"),xS=Vr("transitioncancel"),Hp=Vr("transitionend"),Fp=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function Yn(e,i){Fp.set(e,i),hi(i,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],Sa=0,$h=0;function Nu(){for(var e=Sa,i=$h=Sa=0;i<e;){var a=Nn[i];Nn[i++]=null;var o=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var f=Nn[i];if(Nn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Gp(a,h,f)}}function Du(e,i,a,o){Nn[Sa++]=e,Nn[Sa++]=i,Nn[Sa++]=a,Nn[Sa++]=o,$h|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Zh(e,i,a,o){return Du(e,i,a,o),Ou(e)}function xr(e,i){return Du(e,null,null,i),Ou(e)}function Gp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-pe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Ou(e){if(50<cl)throw cl=0,od=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Aa={};function kS(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,i,a,o){return new kS(e,i,a,o)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gi(e,i){var a=e.alternate;return a===null?(a=yn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Mu(e,i,a,o,h,f){var _=0;if(o=e,typeof e=="function")Jh(e)&&(_=1);else if(typeof e=="string")_=jA(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=yn(31,a,i,h),e.elementType=R,e.lanes=f,e;case et:return kr(a.children,h,f,i);case G:_=8,h|=24;break;case W:return e=yn(12,a,i,h|2),e.elementType=W,e.lanes=f,e;case Mt:return e=yn(13,a,i,h),e.elementType=Mt,e.lanes=f,e;case wt:return e=yn(19,a,i,h),e.elementType=wt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:_=10;break t;case ft:_=9;break t;case dt:_=11;break t;case I:_=14;break t;case b:_=16,o=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=yn(_,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function kr(e,i,a,o){return e=yn(7,e,o,i),e.lanes=a,e}function Wh(e,i,a){return e=yn(6,e,null,i),e.lanes=a,e}function Qp(e){var i=yn(18,null,null,0);return i.stateNode=e,i}function tf(e,i,a){return i=yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Yp=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var a=Yp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:gs(i)},Yp.set(e,i),i)}return{value:e,source:i,stack:gs(i)}}var ba=[],Ra=0,Vu=null,Ho=0,On=[],Mn=0,Cs=null,Ei=1,Ti="";function Ki(e,i){ba[Ra++]=Ho,ba[Ra++]=Vu,Vu=e,Ho=i}function Xp(e,i,a){On[Mn++]=Ei,On[Mn++]=Ti,On[Mn++]=Cs,Cs=e;var o=Ei;e=Ti;var h=32-pe(o)-1;o&=~(1<<h),a+=1;var f=32-pe(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ei=1<<32-pe(i)+h|a<<h|o,Ti=f+e}else Ei=1<<f|a<<h|o,Ti=e}function ef(e){e.return!==null&&(Ki(e,1),Xp(e,1,0))}function nf(e){for(;e===Vu;)Vu=ba[--Ra],ba[Ra]=null,Ho=ba[--Ra],ba[Ra]=null;for(;e===Cs;)Cs=On[--Mn],On[Mn]=null,Ti=On[--Mn],On[Mn]=null,Ei=On[--Mn],On[Mn]=null}function $p(e,i){On[Mn++]=Ei,On[Mn++]=Ti,On[Mn++]=Cs,Ei=i.id,Ti=i.overflow,Cs=e}var qe=null,se=null,Bt=!1,Ns=null,Vn=!1,sf=Error(r(519));function Ds(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(Dn(i,e)),sf}function Zp(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Te]=e,i[ke]=o,a){case"dialog":kt("cancel",i),kt("close",i);break;case"iframe":case"object":case"embed":kt("load",i);break;case"video":case"audio":for(a=0;a<fl.length;a++)kt(fl[a],i);break;case"source":kt("error",i);break;case"img":case"image":case"link":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"input":kt("invalid",i),fu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",i);break;case"textarea":kt("invalid",i),Ts(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||m_(i.textContent,a)?(o.popover!=null&&(kt("beforetoggle",i),kt("toggle",i)),o.onScroll!=null&&kt("scroll",i),o.onScrollEnd!=null&&kt("scrollend",i),o.onClick!=null&&(i.onclick=Hn),i=!0):i=!1,i||Ds(e,!0)}function Jp(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qe=qe.return}}function wa(e){if(e!==qe)return!1;if(!Bt)return Jp(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sd(e.type,e.memoizedProps)),a=!a),a&&se&&Ds(e),Jp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=A_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=A_(e)}else i===27?(i=se,Fs(e.type)?(e=Id,Id=null,se=e):se=i):se=qe?kn(e.stateNode.nextSibling):null;return!0}function Pr(){se=qe=null,Bt=!1}function rf(){var e=Ns;return e!==null&&(un===null?un=e:un.push.apply(un,e),Ns=null),e}function Fo(e){Ns===null?Ns=[e]:Ns.push(e)}var af=D(null),Lr=null,Qi=null;function Os(e,i,a){nt(af,i._currentValue),i._currentValue=a}function Yi(e){e._currentValue=af.current,Q(af)}function of(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function lf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),of(f.return,a,e),o||(_=null);break t}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),of(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ia(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;gn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ot.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&lf(i,e,a,o),i.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ur(e){Lr=e,Qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Wp(Lr,e)}function ku(e,i){return Lr===null&&Ur(e),Wp(e,i)}function Wp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(e===null)throw Error(r(308));Qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Qi=Qi.next=i;return a}var PS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},LS=s.unstable_scheduleCallback,US=s.unstable_NormalPriority,be={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new PS,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&LS(US,function(){e.controller.abort()})}var Ko=null,cf=0,Ca=0,Na=null;function zS(e,i){if(Ko===null){var a=Ko=[];cf=0,Ca=dd(),Na={status:"pending",value:void 0,then:function(o){a.push(o)}}}return cf++,i.then(tg,tg),i}function tg(){if(--cf===0&&Ko!==null){Na!==null&&(Na.status="fulfilled");var e=Ko;Ko=null,Ca=0,Na=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function jS(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var eg=B.S;B.S=function(e,i){Uy=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&zS(e,i),eg!==null&&eg(e,i)};var zr=D(null);function hf(){var e=zr.current;return e!==null?e:ne.pooledCache}function Pu(e,i){i===null?nt(zr,zr.current):nt(zr,i.pool)}function ng(){var e=hf();return e===null?null:{parent:be._currentValue,pool:e}}var Da=Error(r(460)),ff=Error(r(474)),Lu=Error(r(542)),Uu={then:function(){}};function ig(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Hn,Hn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ag(e),e;default:if(typeof i.status=="string")i.then(Hn,Hn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ag(e),e}throw Br=i,Da}}function jr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Br=a,Da):a}}var Br=null;function rg(){if(Br===null)throw Error(r(459));var e=Br;return Br=null,e}function ag(e){if(e===Da||e===Lu)throw Error(r(483))}var Oa=null,Qo=0;function zu(e){var i=Qo;return Qo+=1,Oa===null&&(Oa=[]),sg(Oa,e,i)}function Yo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ju(e,i){throw i.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function og(e){function i(k,O){if(e){var U=k.deletions;U===null?(k.deletions=[O],k.flags|=16):U.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Gi(k,O),k.index=0,k.sibling=null,k}function f(k,O,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<O?(k.flags|=67108866,O):U):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,U,Y){return O===null||O.tag!==6?(O=Wh(U,k.mode,Y),O.return=k,O):(O=h(O,U),O.return=k,O)}function C(k,O,U,Y){var pt=U.type;return pt===et?K(k,O,U.props.children,Y,U.key):O!==null&&(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&jr(pt)===O.type)?(O=h(O,U.props),Yo(O,U),O.return=k,O):(O=Mu(U.type,U.key,U.props,null,k.mode,Y),Yo(O,U),O.return=k,O)}function z(k,O,U,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=tf(U,k.mode,Y),O.return=k,O):(O=h(O,U.children||[]),O.return=k,O)}function K(k,O,U,Y,pt){return O===null||O.tag!==7?(O=kr(U,k.mode,Y,pt),O.return=k,O):(O=h(O,U),O.return=k,O)}function X(k,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Wh(""+O,k.mode,U),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return U=Mu(O.type,O.key,O.props,null,k.mode,U),Yo(U,O),U.return=k,U;case tt:return O=tf(O,k.mode,U),O.return=k,O;case b:return O=jr(O),X(k,O,U)}if(Tt(O)||P(O))return O=kr(O,k.mode,U,null),O.return=k,O;if(typeof O.then=="function")return X(k,zu(O),U);if(O.$$typeof===st)return X(k,ku(k,O),U);ju(k,O)}return null}function j(k,O,U,Y){var pt=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return pt!==null?null:T(k,O,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return U.key===pt?C(k,O,U,Y):null;case tt:return U.key===pt?z(k,O,U,Y):null;case b:return U=jr(U),j(k,O,U,Y)}if(Tt(U)||P(U))return pt!==null?null:K(k,O,U,Y,null);if(typeof U.then=="function")return j(k,O,zu(U),Y);if(U.$$typeof===st)return j(k,O,ku(k,U),Y);ju(k,U)}return null}function H(k,O,U,Y,pt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(U)||null,T(O,k,""+Y,pt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case F:return k=k.get(Y.key===null?U:Y.key)||null,C(O,k,Y,pt);case tt:return k=k.get(Y.key===null?U:Y.key)||null,z(O,k,Y,pt);case b:return Y=jr(Y),H(k,O,U,Y,pt)}if(Tt(Y)||P(Y))return k=k.get(U)||null,K(O,k,Y,pt,null);if(typeof Y.then=="function")return H(k,O,U,zu(Y),pt);if(Y.$$typeof===st)return H(k,O,U,ku(O,Y),pt);ju(O,Y)}return null}function ut(k,O,U,Y){for(var pt=null,Ht=null,ht=O,Dt=O=0,Lt=null;ht!==null&&Dt<U.length;Dt++){ht.index>Dt?(Lt=ht,ht=null):Lt=ht.sibling;var Ft=j(k,ht,U[Dt],Y);if(Ft===null){ht===null&&(ht=Lt);break}e&&ht&&Ft.alternate===null&&i(k,ht),O=f(Ft,O,Dt),Ht===null?pt=Ft:Ht.sibling=Ft,Ht=Ft,ht=Lt}if(Dt===U.length)return a(k,ht),Bt&&Ki(k,Dt),pt;if(ht===null){for(;Dt<U.length;Dt++)ht=X(k,U[Dt],Y),ht!==null&&(O=f(ht,O,Dt),Ht===null?pt=ht:Ht.sibling=ht,Ht=ht);return Bt&&Ki(k,Dt),pt}for(ht=o(ht);Dt<U.length;Dt++)Lt=H(ht,k,Dt,U[Dt],Y),Lt!==null&&(e&&Lt.alternate!==null&&ht.delete(Lt.key===null?Dt:Lt.key),O=f(Lt,O,Dt),Ht===null?pt=Lt:Ht.sibling=Lt,Ht=Lt);return e&&ht.forEach(function(Xs){return i(k,Xs)}),Bt&&Ki(k,Dt),pt}function _t(k,O,U,Y){if(U==null)throw Error(r(151));for(var pt=null,Ht=null,ht=O,Dt=O=0,Lt=null,Ft=U.next();ht!==null&&!Ft.done;Dt++,Ft=U.next()){ht.index>Dt?(Lt=ht,ht=null):Lt=ht.sibling;var Xs=j(k,ht,Ft.value,Y);if(Xs===null){ht===null&&(ht=Lt);break}e&&ht&&Xs.alternate===null&&i(k,ht),O=f(Xs,O,Dt),Ht===null?pt=Xs:Ht.sibling=Xs,Ht=Xs,ht=Lt}if(Ft.done)return a(k,ht),Bt&&Ki(k,Dt),pt;if(ht===null){for(;!Ft.done;Dt++,Ft=U.next())Ft=X(k,Ft.value,Y),Ft!==null&&(O=f(Ft,O,Dt),Ht===null?pt=Ft:Ht.sibling=Ft,Ht=Ft);return Bt&&Ki(k,Dt),pt}for(ht=o(ht);!Ft.done;Dt++,Ft=U.next())Ft=H(ht,k,Dt,Ft.value,Y),Ft!==null&&(e&&Ft.alternate!==null&&ht.delete(Ft.key===null?Dt:Ft.key),O=f(Ft,O,Dt),Ht===null?pt=Ft:Ht.sibling=Ft,Ht=Ft);return e&&ht.forEach(function(ZA){return i(k,ZA)}),Bt&&Ki(k,Dt),pt}function ee(k,O,U,Y){if(typeof U=="object"&&U!==null&&U.type===et&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case F:t:{for(var pt=U.key;O!==null;){if(O.key===pt){if(pt=U.type,pt===et){if(O.tag===7){a(k,O.sibling),Y=h(O,U.props.children),Y.return=k,k=Y;break t}}else if(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&jr(pt)===O.type){a(k,O.sibling),Y=h(O,U.props),Yo(Y,U),Y.return=k,k=Y;break t}a(k,O);break}else i(k,O);O=O.sibling}U.type===et?(Y=kr(U.props.children,k.mode,Y,U.key),Y.return=k,k=Y):(Y=Mu(U.type,U.key,U.props,null,k.mode,Y),Yo(Y,U),Y.return=k,k=Y)}return _(k);case tt:t:{for(pt=U.key;O!==null;){if(O.key===pt)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(k,O.sibling),Y=h(O,U.children||[]),Y.return=k,k=Y;break t}else{a(k,O);break}else i(k,O);O=O.sibling}Y=tf(U,k.mode,Y),Y.return=k,k=Y}return _(k);case b:return U=jr(U),ee(k,O,U,Y)}if(Tt(U))return ut(k,O,U,Y);if(P(U)){if(pt=P(U),typeof pt!="function")throw Error(r(150));return U=pt.call(U),_t(k,O,U,Y)}if(typeof U.then=="function")return ee(k,O,zu(U),Y);if(U.$$typeof===st)return ee(k,O,ku(k,U),Y);ju(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(k,O.sibling),Y=h(O,U),Y.return=k,k=Y):(a(k,O),Y=Wh(U,k.mode,Y),Y.return=k,k=Y),_(k)):a(k,O)}return function(k,O,U,Y){try{Qo=0;var pt=ee(k,O,U,Y);return Oa=null,pt}catch(ht){if(ht===Da||ht===Lu)throw ht;var Ht=yn(29,ht,null,k.mode);return Ht.lanes=Y,Ht.return=k,Ht}finally{}}}var qr=og(!0),lg=og(!1),Ms=!1;function df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xs(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Ou(e),Gp(e,null,a),i}return Du(e,o,i,a),Ou(e)}function Xo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,So(e,a)}}function pf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var gf=!1;function $o(){if(gf){var e=Na;if(e!==null)throw e}}function Zo(e,i,a,o){gf=!1;var h=e.updateQueue;Ms=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,_===null?f=z:_.next=z,_=C;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;_=0,K=z=C=null,T=f;do{var j=T.lane&-536870913,H=j!==T.lane;if(H?(Pt&j)===j:(o&j)===j){j!==0&&j===Ca&&(gf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=e,_t=T;j=i;var ee=a;switch(_t.tag){case 1:if(ut=_t.payload,typeof ut=="function"){X=ut.call(ee,X,j);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=_t.payload,j=typeof ut=="function"?ut.call(ee,X,j):ut,j==null)break t;X=A({},X,j);break t;case 2:Ms=!0}}j=T.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=H,C=X):K=K.next=H,_|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),zs|=_,e.lanes=_,e.memoizedState=X}}function ug(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function cg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ug(a[e],i)}var Ma=D(null),Bu=D(0);function hg(e,i){e=is,nt(Bu,e),nt(Ma,i),is=e|i.baseLanes}function yf(){nt(Bu,is),nt(Ma,Ma.current)}function _f(){is=Bu.current,Q(Ma),Q(Bu)}var _n=D(null),xn=null;function ks(e){var i=e.alternate;nt(ye,ye.current&1),nt(_n,e),xn===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(xn=e)}function vf(e){nt(ye,ye.current),nt(_n,e),xn===null&&(xn=e)}function fg(e){e.tag===22?(nt(ye,ye.current),nt(_n,e),xn===null&&(xn=e)):Ps()}function Ps(){nt(ye,ye.current),nt(_n,_n.current)}function vn(e){Q(_n),xn===e&&(xn=null),Q(ye)}var ye=D(0);function qu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||wd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Nt=null,Wt=null,Re=null,Hu=!1,Va=!1,Hr=!1,Fu=0,Jo=0,xa=null,BS=0;function fe(){throw Error(r(321))}function Ef(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!gn(e[a],i[a]))return!1;return!0}function Tf(e,i,a,o,h,f){return Xi=f,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=e===null||e.memoizedState===null?Xg:Pf,Hr=!1,f=a(o,h),Hr=!1,Va&&(f=mg(i,a,o,h)),dg(e),f}function dg(e){B.H=el;var i=Wt!==null&&Wt.next!==null;if(Xi=0,Re=Wt=Nt=null,Hu=!1,Jo=0,xa=null,i)throw Error(r(300));e===null||we||(e=e.dependencies,e!==null&&xu(e)&&(we=!0))}function mg(e,i,a,o){Nt=e;var h=0;do{if(Va&&(xa=null),Jo=0,Va=!1,25<=h)throw Error(r(301));if(h+=1,Re=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=$g,f=i(a,o)}while(Va);return f}function qS(){var e=B.H,i=e.useState()[0];return i=typeof i.then=="function"?Wo(i):i,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Nt.flags|=1024),i}function Sf(){var e=Fu!==0;return Fu=0,e}function Af(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function bf(e){if(Hu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Hu=!1}Xi=0,Re=Wt=Nt=null,Va=!1,Jo=Fu=0,xa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Nt.memoizedState=Re=e:Re=Re.next=e,Re}function _e(){if(Wt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var i=Re===null?Nt.memoizedState:Re.next;if(i!==null)Re=i,Wt=e;else{if(e===null)throw Nt.alternate===null?Error(r(467)):Error(r(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Re===null?Nt.memoizedState=Re=e:Re=Re.next=e}return Re}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var i=Jo;return Jo+=1,xa===null&&(xa=[]),e=sg(xa,e,i),i=Nt,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?Xg:Pf),e}function Ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===st)return He(e)}throw Error(r(438,String(e)))}function Rf(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Gu(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=x;return i.index++,a}function $i(e,i){return typeof i=="function"?i(e):i}function Qu(e){var i=_e();return wf(i,Wt,e)}function wf(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var T=_=null,C=null,z=i,K=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Pt&X)===X:(Xi&X)===X){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ca&&(K=!0);else if((Xi&j)===j){z=z.next,j===Ca&&(K=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=X,_=f):C=C.next=X,Nt.lanes|=j,zs|=j;X=z.action,Hr&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=j,_=f):C=C.next=j,Nt.lanes|=X,zs|=X;z=z.next}while(z!==null&&z!==i);if(C===null?_=f:C.next=T,!gn(f,e.memoizedState)&&(we=!0,K&&(a=Na,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function If(e){var i=_e(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);gn(f,i.memoizedState)||(we=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function pg(e,i,a){var o=Nt,h=_e(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!gn((Wt||h).memoizedState,a);if(_&&(h.memoizedState=a,we=!0),h=h.queue,Df(_g.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,ka(9,{destroy:void 0},yg.bind(null,o,h,a,i),null),ne===null)throw Error(r(349));f||(Xi&127)!==0||gg(o,i,a)}return a}function gg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=Gu(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function yg(e,i,a,o){i.value=a,i.getSnapshot=o,vg(i)&&Eg(e)}function _g(e,i,a){return a(function(){vg(i)&&Eg(e)})}function vg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!gn(e,a)}catch{return!0}}function Eg(e){var i=xr(e,2);i!==null&&cn(i,e,2)}function Cf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),Hr){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},i}function Tg(e,i,a,o){return e.baseState=a,wf(e,Wt,typeof o=="function"?o:$i)}function HS(e,i,a,o,h){if($u(e))throw Error(r(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};B.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Sg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Sg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=B.T,_={};B.T=_;try{var T=a(h,o),C=B.S;C!==null&&C(_,T),Ag(e,i,T)}catch(z){Nf(e,i,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),B.T=f}}else try{f=a(h,o),Ag(e,i,f)}catch(z){Nf(e,i,z)}}function Ag(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){bg(e,i,o)},function(o){return Nf(e,i,o)}):bg(e,i,a)}function bg(e,i,a){i.status="fulfilled",i.value=a,Rg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Sg(e,a)))}function Nf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Rg(i),i=i.next;while(i!==o)}e.action=null}function Rg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function wg(e,i){return i}function Ig(e,i){if(Bt){var a=ne.formState;if(a!==null){t:{var o=Nt;if(Bt){if(se){e:{for(var h=se,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=kn(h.nextSibling),o=h.data==="F!";break t}}Ds(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:i},a.queue=o,a=Kg.bind(null,Nt,o),o.dispatch=a,o=Cf(!1),f=kf.bind(null,Nt,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=HS.bind(null,Nt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Cg(e){var i=_e();return Ng(i,Wt,e)}function Ng(e,i,a){if(i=wf(e,i,wg)[0],e=Qu($i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Wo(i)}catch(_){throw _===Da?Lu:_}else o=i;i=_e();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,ka(9,{destroy:void 0},FS.bind(null,h,a),null)),[o,f,e]}function FS(e,i){e.action=i}function Dg(e){var i=_e(),a=Wt;if(a!==null)return Ng(i,a,e);_e(),i=i.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function ka(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=Gu(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Og(){return _e().memoizedState}function Yu(e,i,a,o){var h=nn();Nt.flags|=e,h.memoizedState=ka(1|i,{destroy:void 0},a,o===void 0?null:o)}function Xu(e,i,a,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;Wt!==null&&o!==null&&Ef(o,Wt.memoizedState.deps)?h.memoizedState=ka(i,f,a,o):(Nt.flags|=e,h.memoizedState=ka(1|i,f,a,o))}function Mg(e,i){Yu(8390656,8,e,i)}function Df(e,i){Xu(2048,8,e,i)}function GS(e){Nt.flags|=4;var i=Nt.updateQueue;if(i===null)i=Gu(),Nt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Vg(e){var i=_e().memoizedState;return GS({ref:i,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function xg(e,i){return Xu(4,2,e,i)}function kg(e,i){return Xu(4,4,e,i)}function Pg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Lg(e,i,a){a=a!=null?a.concat([e]):null,Xu(4,4,Pg.bind(null,i,e),a)}function Of(){}function Ug(e,i){var a=_e();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Ef(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function zg(e,i){var a=_e();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Ef(i,o[1]))return o[0];if(o=e(),Hr){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,i],o}function Mf(e,i,a){return a===void 0||(Xi&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=jy(),Nt.lanes|=e,zs|=e,a)}function jg(e,i,a,o){return gn(a,i)?a:Ma.current!==null?(e=Mf(e,a,o),gn(e,i)||(we=!0),e):(Xi&42)===0||(Xi&1073741824)!==0&&(Pt&261930)===0?(we=!0,e.memoizedState=a):(e=jy(),Nt.lanes|=e,zs|=e,i)}function Bg(e,i,a,o,h){var f=J.p;J.p=f!==0&&8>f?f:8;var _=B.T,T={};B.T=T,kf(e,!1,i,a);try{var C=h(),z=B.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=jS(C,o);tl(e,i,K,Sn(e))}else tl(e,i,o,Sn(e))}catch(X){tl(e,i,{then:function(){},status:"rejected",reason:X},Sn())}finally{J.p=f,_!==null&&T.types!==null&&(_.types=T.types),B.T=_}}function KS(){}function Vf(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=qg(e).queue;Bg(e,h,i,lt,a===null?KS:function(){return Hg(e),a(o)})}function qg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:lt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Hg(e){var i=qg(e);i.next===null&&(i=e.alternate.memoizedState),tl(e,i.next.queue,{},Sn())}function xf(){return He(yl)}function Fg(){return _e().memoizedState}function Gg(){return _e().memoizedState}function QS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();e=Vs(a);var o=xs(i,e,a);o!==null&&(cn(o,i,a),Xo(o,i,a)),i={cache:uf()},e.payload=i;return}i=i.return}}function YS(e,i,a){var o=Sn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$u(e)?Qg(i,a):(a=Zh(e,i,a,o),a!==null&&(cn(a,e,o),Yg(a,i,o)))}function Kg(e,i,a){var o=Sn();tl(e,i,a,o)}function tl(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($u(e))Qg(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,gn(T,_))return Du(e,i,h,0),ne===null&&Nu(),!1}catch{}finally{}if(a=Zh(e,i,h,o),a!==null)return cn(a,e,o),Yg(a,i,o),!0}return!1}function kf(e,i,a,o){if(o={lane:2,revertLane:dd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(i)throw Error(r(479))}else i=Zh(e,a,o,2),i!==null&&cn(i,e,2)}function $u(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function Qg(e,i){Va=Hu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Yg(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,So(e,a)}}var el={readContext:He,use:Ku,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};el.useEffectEvent=fe;var Xg={readContext:He,use:Ku,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Mg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Yu(4194308,4,Pg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Yu(4194308,4,e,i)},useInsertionEffect:function(e,i){Yu(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var o=e();if(Hr){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=nn();if(a!==void 0){var h=a(i);if(Hr){bn(!0);try{a(i)}finally{bn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=YS.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=Cf(e);var i=e.queue,a=Kg.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(e,i){var a=nn();return Mf(a,e,i)},useTransition:function(){var e=Cf(!1);return e=Bg.bind(null,Nt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Nt,h=nn();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ne===null)throw Error(r(349));(Pt&127)!==0||gg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Mg(_g.bind(null,o,f,e),[e]),o.flags|=2048,ka(9,{destroy:void 0},yg.bind(null,o,f,a,i),null),a},useId:function(){var e=nn(),i=ne.identifierPrefix;if(Bt){var a=Ti,o=Ei;a=(o&~(1<<32-pe(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Fu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=BS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:xf,useFormState:Ig,useActionState:Ig,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=kf.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Rf,useCacheRefresh:function(){return nn().memoizedState=QS.bind(null,Nt)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:He,use:Ku,useCallback:Ug,useContext:He,useEffect:Df,useImperativeHandle:Lg,useInsertionEffect:xg,useLayoutEffect:kg,useMemo:zg,useReducer:Qu,useRef:Og,useState:function(){return Qu($i)},useDebugValue:Of,useDeferredValue:function(e,i){var a=_e();return jg(a,Wt.memoizedState,e,i)},useTransition:function(){var e=Qu($i)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:pg,useId:Fg,useHostTransitionStatus:xf,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,i){var a=_e();return Tg(a,Wt,e,i)},useMemoCache:Rf,useCacheRefresh:Gg};Pf.useEffectEvent=Vg;var $g={readContext:He,use:Ku,useCallback:Ug,useContext:He,useEffect:Df,useImperativeHandle:Lg,useInsertionEffect:xg,useLayoutEffect:kg,useMemo:zg,useReducer:If,useRef:Og,useState:function(){return If($i)},useDebugValue:Of,useDeferredValue:function(e,i){var a=_e();return Wt===null?Mf(a,e,i):jg(a,Wt.memoizedState,e,i)},useTransition:function(){var e=If($i)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:pg,useId:Fg,useHostTransitionStatus:xf,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,i){var a=_e();return Wt!==null?Tg(a,Wt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Gg};$g.useEffectEvent=Vg;function Lf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Sn(),h=Vs(o);h.payload=i,a!=null&&(h.callback=a),i=xs(e,h,o),i!==null&&(cn(i,e,o),Xo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Sn(),h=Vs(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=xs(e,h,o),i!==null&&(cn(i,e,o),Xo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Sn(),o=Vs(a);o.tag=2,i!=null&&(o.callback=i),i=xs(e,o,a),i!==null&&(cn(i,e,a),Xo(i,e,a))}};function Zg(e,i,a,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,f):!0}function Jg(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Uf.enqueueReplaceState(i,i.state,null)}function Fr(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Wg(e){Cu(e)}function ty(e){console.error(e)}function ey(e){Cu(e)}function Zu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ny(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(e,i,a){return a=Vs(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(e,i)},a}function iy(e){return e=Vs(e),e.tag=3,e}function sy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ny(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ny(i,a,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function XS(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ia(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?uc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),cd(e,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),cd(e,o,h)),!1}throw Error(r(435,a.tag))}return cd(e,o,h),uc(),!1}if(Bt)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==sf&&(e=Error(r(422),{cause:o}),Fo(Dn(e,a)))):(o!==sf&&(i=Error(r(423),{cause:o}),Fo(Dn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,a),h=zf(e.stateNode,o,h),pf(e,h),de!==4&&(de=2)),!1;var f=Error(r(520),{cause:o});if(f=Dn(f,a),ul===null?ul=[f]:ul.push(f),de!==4&&(de=2),i===null)return!0;o=Dn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=zf(a.stateNode,o,e),pf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(js===null||!js.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=iy(h),sy(h,e,a,o),pf(a,h),!1}a=a.return}while(a!==null);return!1}var jf=Error(r(461)),we=!1;function Fe(e,i,a,o){i.child=e===null?lg(i,null,a,o):qr(i,e.child,a,o)}function ry(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Ur(i),o=Tf(e,i,a,_,f,h),T=Sf(),e!==null&&!we?(Af(e,i,h),Zi(e,i,h)):(Bt&&T&&ef(i),i.flags|=1,Fe(e,i,o,h),i.child)}function ay(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,oy(e,i,f,o,h)):(e=Mu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Yf(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(_,o)&&e.ref===i.ref)return Zi(e,i,h)}return i.flags|=1,e=Gi(f,o),e.ref=i.ref,e.return=i,i.child=e}function oy(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Bo(f,o)&&e.ref===i.ref)if(we=!1,i.pendingProps=o=f,Yf(e,h))(e.flags&131072)!==0&&(we=!0);else return i.lanes=e.lanes,Zi(e,i,h)}return Bf(e,i,a,o,h)}function ly(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return uy(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pu(i,f!==null?f.cachePool:null),f!==null?hg(i,f):yf(),fg(i);else return o=i.lanes=536870912,uy(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Pu(i,f.cachePool),hg(i,f),Ps(),i.memoizedState=null):(e!==null&&Pu(i,null),yf(),Ps());return Fe(e,i,h,a),i.child}function nl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function uy(e,i,a,o,h){var f=hf();return f=f===null?null:{parent:be._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&Pu(i,null),yf(),fg(i),e!==null&&Ia(e,i,o,!0),i.childLanes=h,null}function Ju(e,i){return i=tc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function cy(e,i,a){return qr(i,e.child,null,a),e=Ju(i,i.pendingProps),e.flags|=2,vn(i),i.memoizedState=null,e}function $S(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=Ju(i,o),i.lanes=536870912,nl(null,e);if(vf(i),(e=se)?(e=S_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Cs!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Qp(e),a.return=i,i.child=a,qe=i,se=null)):e=null,e===null)throw Ds(i);return i.lanes=536870912,null}return Ju(i,o)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(vf(i),h)if(i.flags&256)i.flags&=-257,i=cy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(we||Ia(e,i,a,!1),h=(a&e.childLanes)!==0,we||h){if(o=ne,o!==null&&(_=Ao(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,xr(e,_),cn(o,e,_),jf;uc(),i=cy(e,i,a)}else e=f.treeContext,se=kn(_.nextSibling),qe=i,Bt=!0,Ns=null,Vn=!1,e!==null&&$p(i,e),i=Ju(i,o),i.flags|=4096;return i}return e=Gi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Wu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Bf(e,i,a,o,h){return Ur(i),a=Tf(e,i,a,o,void 0,h),o=Sf(),e!==null&&!we?(Af(e,i,h),Zi(e,i,h)):(Bt&&o&&ef(i),i.flags|=1,Fe(e,i,a,h),i.child)}function hy(e,i,a,o,h,f){return Ur(i),i.updateQueue=null,a=mg(i,o,a,h),dg(e),o=Sf(),e!==null&&!we?(Af(e,i,f),Zi(e,i,f)):(Bt&&o&&ef(i),i.flags|=1,Fe(e,i,a,f),i.child)}function fy(e,i,a,o,h){if(Ur(i),i.stateNode===null){var f=Aa,_=a.contextType;typeof _=="object"&&_!==null&&(f=He(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},df(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?He(_):Aa,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Lf(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Uf.enqueueReplaceState(f,f.state,null),Zo(i,o,f,h),$o(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var T=i.memoizedProps,C=Fr(a,T);f.props=C;var z=f.context,K=a.contextType;_=Aa,typeof K=="object"&&K!==null&&(_=He(K));var X=a.getDerivedStateFromProps;K=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==_)&&Jg(i,f,o,_),Ms=!1;var j=i.memoizedState;f.state=j,Zo(i,o,f,h),$o(),z=i.memoizedState,T||j!==z||Ms?(typeof X=="function"&&(Lf(i,a,X,o),z=i.memoizedState),(C=Ms||Zg(i,a,C,o,j,z,_))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=_,o=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,mf(e,i),_=i.memoizedProps,K=Fr(a,_),f.props=K,X=i.pendingProps,j=f.context,z=a.contextType,C=Aa,typeof z=="object"&&z!==null&&(C=He(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==X||j!==C)&&Jg(i,f,o,C),Ms=!1,j=i.memoizedState,f.state=j,Zo(i,o,f,h),$o();var H=i.memoizedState;_!==X||j!==H||Ms||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof T=="function"&&(Lf(i,a,T,o),H=i.memoizedState),(K=Ms||Zg(i,a,K,o,j,H,C)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),f.props=o,f.state=H,f.context=C,o=K):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Wu(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=qr(i,e.child,null,h),i.child=qr(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Zi(e,i,h),e}function dy(e,i,a,o){return Pr(),i.flags|=256,Fe(e,i,a,o),i.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(e){return{baseLanes:e,cachePool:ng()}}function Ff(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Tn),e}function my(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?ks(i):Ps(),(e=se)?(e=S_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Cs!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Qp(e),a.return=i,i.child=a,qe=i,se=null)):e=null,e===null)throw Ds(i);return wd(e)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Ps(),h=i.mode,T=tc({mode:"hidden",children:T},h),o=kr(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=Hf(a),o.childLanes=Ff(e,_,a),i.memoizedState=qf,nl(null,o)):(ks(i),Gf(i,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)i.flags&256?(ks(i),i.flags&=-257,i=Kf(e,i,a)):i.memoizedState!==null?(Ps(),i.child=e.child,i.flags|=128,i=null):(Ps(),T=o.fallback,h=i.mode,o=tc({mode:"visible",children:o.children},h),T=kr(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,qr(i,e.child,null,a),o=i.child,o.memoizedState=Hf(a),o.childLanes=Ff(e,_,a),i.memoizedState=qf,i=nl(null,o));else if(ks(i),wd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(r(419)),o.stack="",o.digest=_,Fo({value:o,source:null,stack:null}),i=Kf(e,i,a)}else if(we||Ia(e,i,a,!1),_=(a&e.childLanes)!==0,we||_){if(_=ne,_!==null&&(o=Ao(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,xr(e,o),cn(_,e,o),jf;Rd(T)||uc(),i=Kf(e,i,a)}else Rd(T)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,se=kn(T.nextSibling),qe=i,Bt=!0,Ns=null,Vn=!1,e!==null&&$p(i,e),i=Gf(i,o.children),i.flags|=4096);return i}return h?(Ps(),T=o.fallback,h=i.mode,C=e.child,z=C.sibling,o=Gi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=Gi(z,T):(T=kr(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,nl(null,o),o=i.child,T=e.child.memoizedState,T===null?T=Hf(a):(h=T.cachePool,h!==null?(C=be._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ng(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Ff(e,_,a),i.memoizedState=qf,nl(e.child,o)):(ks(i),a=e.child,e=a.sibling,a=Gi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Gf(e,i){return i=tc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function tc(e,i){return e=yn(22,e,null,i),e.lanes=0,e}function Kf(e,i,a){return qr(i,e.child,null,a),e=Gf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function py(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),of(e.return,i,a)}function Qf(e,i,a,o,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function gy(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=ye.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,nt(ye,_),Fe(e,i,o,a),o=Bt?Ho:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,a,i);else if(e.tag===19)py(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Qf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Qf(i,!0,a,null,f,o);break;case"together":Qf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Zi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),zs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ia(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Gi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Gi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Yf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function ZS(e,i,a){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),Os(i,be,e.memoizedState.cache),Pr();break;case 27:case 5:zi(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:Os(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,vf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(i),i.flags|=128,null):(a&i.child.childLanes)!==0?my(e,i,a):(ks(i),e=Zi(e,i,a),e!==null?e.sibling:null);ks(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ia(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return gy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(ye,ye.current),o)break;return null;case 22:return i.lanes=0,ly(e,i,a,i.pendingProps);case 24:Os(i,be,e.memoizedState.cache)}return Zi(e,i,a)}function yy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)we=!0;else{if(!Yf(e,a)&&(i.flags&128)===0)return we=!1,ZS(e,i,a);we=(e.flags&131072)!==0}else we=!1,Bt&&(i.flags&1048576)!==0&&Xp(i,Ho,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=jr(i.elementType),i.type=e,typeof e=="function")Jh(e)?(o=Fr(e,o),i.tag=1,i=fy(null,i,e,o,a)):(i.tag=0,i=Bf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===dt){i.tag=11,i=ry(null,i,e,o,a);break t}else if(h===I){i.tag=14,i=ay(null,i,e,o,a);break t}}throw i=ie(e)||e,Error(r(306,i,""))}}return i;case 0:return Bf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Fr(o,i.pendingProps),fy(e,i,o,h,a);case 3:t:{if(Vt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,mf(e,i),Zo(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Os(i,be,o),o!==f.cache&&lf(i,[be],a,!0),$o(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=dy(e,i,o,a);break t}else if(o!==h){h=Dn(Error(r(424)),i),Fo(h),i=dy(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(se=kn(e.firstChild),qe=i,Bt=!0,Ns=null,Vn=!0,a=lg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pr(),o===h){i=Zi(e,i,a);break t}Fe(e,i,o,a)}i=i.child}return i;case 26:return Wu(e,i),e===null?(a=C_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=gc(yt.current).createElement(a),o[Te]=i,o[ke]=e,Ge(o,a,e),Se(o),i.stateNode=o):i.memoizedState=C_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return zi(i),e===null&&Bt&&(o=i.stateNode=R_(i.type,i.pendingProps,yt.current),qe=i,Vn=!0,h=se,Fs(i.type)?(Id=h,se=kn(o.firstChild)):se=h),Fe(e,i,i.pendingProps.children,a),Wu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=se)&&(o=IA(o,i.type,i.pendingProps,Vn),o!==null?(i.stateNode=o,qe=i,se=kn(o.firstChild),Vn=!1,h=!0):h=!1),h||Ds(i)),zi(i),h=i.type,f=i.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Sd(h,f)?o=null:_!==null&&Sd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Tf(e,i,qS,null,null,a),yl._currentValue=h),Wu(e,i),Fe(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=se)&&(a=CA(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,qe=i,se=null,e=!0):e=!1),e||Ds(i)),null;case 13:return my(e,i,a);case 4:return Vt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=qr(i,null,o,a):Fe(e,i,o,a),i.child;case 11:return ry(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Os(i,i.type,o.value),Fe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ur(i),h=He(h),o=o(h),i.flags|=1,Fe(e,i,o,a),i.child;case 14:return ay(e,i,i.type,i.pendingProps,a);case 15:return oy(e,i,i.type,i.pendingProps,a);case 19:return gy(e,i,a);case 31:return $S(e,i,a);case 22:return ly(e,i,a,i.pendingProps);case 24:return Ur(i),o=He(be),e===null?(h=hf(),h===null&&(h=ne,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},df(i),Os(i,be,h)):((e.lanes&a)!==0&&(mf(e,i),Zo(i,null,null,a),$o()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Os(i,be,o)):(o=f.cache,Os(i,be,o),o!==h.cache&&lf(i,[be],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ji(e){e.flags|=4}function Xf(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Fy())e.flags|=8192;else throw Br=Uu,ff}else e.flags&=-16777217}function _y(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!V_(i))if(Fy())e.flags|=8192;else throw Br=Uu,ff}function ec(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ou():536870912,e.lanes|=i,za|=i)}function il(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function JS(e,i,a){var o=i.pendingProps;switch(nf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Yi(be),Zt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wa(i)?Ji(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rf())),re(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Ji(i),f!==null?(re(i),_y(i,f)):(re(i),Xf(i,h,null,o,a))):f?f!==e.memoizedState?(Ji(i),re(i),_y(i,f)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ji(i),re(i),Xf(i,h,e,o,a)),null;case 27:if(ds(i),a=yt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ji(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return re(i),null}e=rt.current,wa(i)?Zp(i):(e=R_(h,o,a),i.stateNode=e,Ji(i))}return re(i),null;case 5:if(ds(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Ji(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return re(i),null}if(f=rt.current,wa(i))Zp(i);else{var _=gc(yt.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Te]=i,f[ke]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ji(i)}}return re(i),Xf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Ji(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=yt.current,wa(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||m_(e.nodeValue,a)),e||Ds(i,!0)}else e=gc(e).createTextNode(o),e[Te]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=wa(i),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Te]=i}else Pr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return re(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Te]=i}else Pr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),ec(i,i.updateQueue),re(i),null);case 4:return Zt(),e===null&&yd(i.stateNode.containerInfo),re(i),null;case 10:return Yi(i.type),re(i),null;case 19:if(Q(ye),o=i.memoizedState,o===null)return re(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=qu(e),f!==null){for(i.flags|=128,il(o,!1),e=f.updateQueue,i.updateQueue=e,ec(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Kp(a,e),a=a.sibling;return nt(ye,ye.current&1|2),Bt&&Ki(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&tn()>ac&&(i.flags|=128,h=!0,il(o,!1),i.lanes=4194304)}else{if(!h)if(e=qu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,ec(i,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return re(i),null}else 2*tn()-o.renderingStartTime>ac&&a!==536870912&&(i.flags|=128,h=!0,il(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=ye.current,nt(ye,h?a&1|2:a&1),Bt&&Ki(i,o.treeForkCount),e):(re(i),null);case 22:case 23:return vn(i),_f(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&ec(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&Q(zr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(be),re(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function WS(e,i){switch(nf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Yi(be),Zt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ds(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(r(340));Pr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(vn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Pr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Q(ye),null;case 4:return Zt(),null;case 10:return Yi(i.type),null;case 22:case 23:return vn(i),_f(),e!==null&&Q(zr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Yi(be),null;case 25:return null;default:return null}}function vy(e,i){switch(nf(i),i.tag){case 3:Yi(be),Zt();break;case 26:case 27:case 5:ds(i);break;case 4:Zt();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:Q(ye);break;case 10:Yi(i.type);break;case 22:case 23:vn(i),_f(),e!==null&&Q(zr);break;case 24:Yi(be)}}function sl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function Ls(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,z=T;try{z()}catch(K){$t(h,C,K)}}}o=o.next}while(o!==f)}}catch(K){$t(i,i.return,K)}}function Ey(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{cg(i,a)}catch(o){$t(e,e.return,o)}}}function Ty(e,i,a){a.props=Fr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function rl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,i,h)}}function Si(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Sy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function $f(e,i,a){try{var o=e.stateNode;TA(o,e.type,a,i),o[ke]=i}catch(h){$t(e,e.return,h)}}function Ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fs(e.type)||e.tag===4}function Zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hn));else if(o!==4&&(o===27&&Fs(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Jf(e,i,a),e=e.sibling;e!==null;)Jf(e,i,a),e=e.sibling}function nc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Fs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(nc(e,i,a),e=e.sibling;e!==null;)nc(e,i,a),e=e.sibling}function by(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,o,a),i[Te]=e,i[ke]=a}catch(f){$t(e,e.return,f)}}var Wi=!1,Ie=!1,Wf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Le=null;function tA(e,i){if(e=e.containerInfo,Ed=Ac,e=Lp(e),Gh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,T=-1,C=-1,z=0,K=0,X=e,j=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(T=_+h),X!==f||o!==0&&X.nodeType!==3||(C=_+o),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===e)break e;if(j===a&&++z===h&&(T=_),j===f&&++K===o&&(C=_),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:e,selectionRange:a},Ac=!1,Le=i;Le!==null;)if(i=Le,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Le=e;else for(;Le!==null;){switch(i=Le,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ut=Fr(a.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){$t(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)bd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Le=e;break}Le=i.return}}function wy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:es(e,a),o&4&&sl(5,a);break;case 1:if(es(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){$t(a,a.return,_)}else{var h=Fr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}o&64&&Ey(a),o&512&&rl(a,a.return);break;case 3:if(es(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{cg(e,i)}catch(_){$t(a,a.return,_)}}break;case 27:i===null&&o&4&&by(a);case 26:case 5:es(e,a),i===null&&o&4&&Sy(a),o&512&&rl(a,a.return);break;case 12:es(e,a);break;case 31:es(e,a),o&4&&Ny(e,a);break;case 13:es(e,a),o&4&&Dy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=uA.bind(null,a),NA(e,a))));break;case 22:if(o=a.memoizedState!==null||Wi,!o){i=i!==null&&i.memoizedState!==null||Ie,h=Wi;var f=Ie;Wi=o,(Ie=i)&&!f?ns(e,a,(a.subtreeFlags&8772)!==0):es(e,a),Wi=h,Ie=f}break;case 30:break;default:es(e,a)}}function Iy(e){var i=e.alternate;i!==null&&(e.alternate=null,Iy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ua(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,an=!1;function ts(e,i,a){for(a=a.child;a!==null;)Cy(e,i,a),a=a.sibling}function Cy(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Ie||Si(a,i),ts(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Si(a,i);var o=ue,h=an;Fs(a.type)&&(ue=a.stateNode,an=!1),ts(e,i,a),ml(a.stateNode),ue=o,an=h;break;case 5:Ie||Si(a,i);case 6:if(o=ue,h=an,ue=null,ts(e,i,a),ue=o,an=h,ue!==null)if(an)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(f){$t(a,i,f)}else try{ue.removeChild(a.stateNode)}catch(f){$t(a,i,f)}break;case 18:ue!==null&&(an?(e=ue,E_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Qa(e)):E_(ue,a.stateNode));break;case 4:o=ue,h=an,ue=a.stateNode.containerInfo,an=!0,ts(e,i,a),ue=o,an=h;break;case 0:case 11:case 14:case 15:Ls(2,a,i),Ie||Ls(4,a,i),ts(e,i,a);break;case 1:Ie||(Si(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,i,o)),ts(e,i,a);break;case 21:ts(e,i,a);break;case 22:Ie=(o=Ie)||a.memoizedState!==null,ts(e,i,a),Ie=o;break;default:ts(e,i,a)}}function Ny(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(a){$t(i,i.return,a)}}}function Dy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(a){$t(i,i.return,a)}}function eA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ry),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ry),i;default:throw Error(r(435,e.tag))}}function ic(e,i){var a=eA(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=cA.bind(null,e,o);o.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Fs(T.type)){ue=T.stateNode,an=!1;break t}break;case 5:ue=T.stateNode,an=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(ue===null)throw Error(r(160));Cy(f,_,h),ue=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Oy(i,e),i=i.sibling}var Xn=null;function Oy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),o&4&&(Ls(3,e,e.return),sl(3,e),Ls(5,e,e.return));break;case 1:on(i,e),ln(e),o&512&&(Ie||a===null||Si(a,a.return)),o&64&&Wi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(on(i,e),ln(e),o&512&&(Ie||a===null||Si(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[Te]=e,Se(f),o=f;break t;case"link":var _=O_("link","href",h).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(_=O_("meta","content",h).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Te]=e,Se(f),o=f}e.stateNode=o}else M_(h,e.type,e.stateNode);else e.stateNode=D_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?M_(h,e.type,e.stateNode):D_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&$f(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),o&512&&(Ie||a===null||Si(a,a.return)),a!==null&&o&4&&$f(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),o&512&&(Ie||a===null||Si(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ut){$t(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,$f(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Wf=!0);break;case 6:if(on(i,e),ln(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ut){$t(e,e.return,ut)}}break;case 3:if(vc=null,h=Xn,Xn=yc(i.containerInfo),on(i,e),Xn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(ut){$t(e,e.return,ut)}Wf&&(Wf=!1,My(e));break;case 4:o=Xn,Xn=yc(e.stateNode.containerInfo),on(i,e),ln(e),Xn=o;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Wi,K=Ie;if(Wi=z||h,Ie=K||C,on(i,e),Ie=K,Wi=z,ln(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Wi||Ie||Gr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){$t(C,C.return,ut)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ut){$t(C,C.return,ut)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?T_(H,!0):T_(C.stateNode,!1)}catch(ut){$t(C,C.return,ut)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ic(e,a))));break;case 19:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Ay(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(e);nc(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var T=Zf(e);nc(e,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Zf(e);Jf(e,z,C);break;default:throw Error(r(161))}}catch(K){$t(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function My(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;My(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function es(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)wy(e,i.alternate,i),i=i.sibling}function Gr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ls(4,i,i.return),Gr(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ty(i,i.return,a),Gr(i);break;case 27:ml(i.stateNode);case 26:case 5:Si(i,i.return),Gr(i);break;case 22:i.memoizedState===null&&Gr(i);break;case 30:Gr(i);break;default:Gr(i)}e=e.sibling}}function ns(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:ns(h,f,a),sl(4,f);break;case 1:if(ns(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ug(C[h],T)}catch(z){$t(o,o.return,z)}}a&&_&64&&Ey(f),rl(f,f.return);break;case 27:by(f);case 26:case 5:ns(h,f,a),a&&o===null&&_&4&&Sy(f),rl(f,f.return);break;case 12:ns(h,f,a);break;case 31:ns(h,f,a),a&&_&4&&Ny(h,f);break;case 13:ns(h,f,a),a&&_&4&&Dy(h,f);break;case 22:f.memoizedState===null&&ns(h,f,a),rl(f,f.return);break;case 30:break;default:ns(h,f,a)}i=i.sibling}}function td(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function ed(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e))}function $n(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vy(e,i,a,o),i=i.sibling}function Vy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$n(e,i,a,o),h&2048&&sl(9,i);break;case 1:$n(e,i,a,o);break;case 3:$n(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){$n(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(i,i.return,C)}}else $n(e,i,a,o);break;case 31:$n(e,i,a,o);break;case 13:$n(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?$n(e,i,a,o):al(e,i):f._visibility&2?$n(e,i,a,o):(f._visibility|=2,Pa(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&td(_,i);break;case 24:$n(e,i,a,o),h&2048&&ed(i.alternate,i);break;default:$n(e,i,a,o)}}function Pa(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,_=i,T=a,C=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:Pa(f,_,T,C,h),sl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Pa(f,_,T,C,h):al(f,_):(K._visibility|=2,Pa(f,_,T,C,h)),h&&z&2048&&td(_.alternate,_);break;case 24:Pa(f,_,T,C,h),h&&z&2048&&ed(_.alternate,_);break;default:Pa(f,_,T,C,h)}i=i.sibling}}function al(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&td(o.alternate,o);break;case 24:al(a,o),h&2048&&ed(o.alternate,o);break;default:al(a,o)}i=i.sibling}}var ol=8192;function La(e,i,a){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)xy(e,i,a),e=e.sibling}function xy(e,i,a){switch(e.tag){case 26:La(e,i,a),e.flags&ol&&e.memoizedState!==null&&BA(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:La(e,i,a);break;case 3:case 4:var o=Xn;Xn=yc(e.stateNode.containerInfo),La(e,i,a),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,La(e,i,a),ol=o):La(e,i,a));break;default:La(e,i,a)}}function ky(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ll(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,Ly(o,e)}ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Py(e),e=e.sibling}function Py(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,sc(e)):ll(e);break;default:ll(e)}}function sc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,Ly(o,e)}ky(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ls(8,i,i.return),sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,sc(i));break;default:sc(i)}e=e.sibling}}function Ly(e,i){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Ls(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(Iy(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var nA={getCacheForType:function(e){var i=He(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(be).controller.signal}},iA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,xt=null,Pt=0,Xt=0,En=null,Us=!1,Ua=!1,nd=!1,is=0,de=0,zs=0,Kr=0,id=0,Tn=0,za=0,ul=null,un=null,sd=!1,rc=0,Uy=0,ac=1/0,oc=null,js=null,Oe=0,Bs=null,ja=null,ss=0,rd=0,ad=null,zy=null,cl=0,od=null;function Sn(){return(Kt&2)!==0&&Pt!==0?Pt&-Pt:B.T!==null?dd():lu()}function jy(){if(Tn===0)if((Pt&536870912)===0||Bt){var e=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function cn(e,i,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),qs(e,Pt,Tn,!1)),Er(e,a),((Kt&2)===0||e!==ne)&&(e===ne&&((Kt&2)===0&&(Kr|=a),de===4&&qs(e,Pt,Tn,!1)),Ai(e))}function By(e,i,a){if((Kt&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||jn(e,i),h=o?aA(e,i):ud(e,i,!0),f=o;do{if(h===0){Ua&&!o&&qs(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!sA(a)){h=ud(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=ul;var C=T.current.memoizedState.isDehydrated;if(C&&(Ba(T,_).flags|=256),_=ud(T,_,!1),_!==2){if(nd&&!C){T.errorRecoveryDisabledLanes|=f,Kr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ba(e,0),qs(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:qs(o,i,Tn,!Us);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=rc+300-tn(),10<h)){if(qs(o,i,Tn,!Us),ri(o,0,!0)!==0)break t;ss=i,o.timeoutHandle=__(qy.bind(null,o,a,un,oc,sd,i,Tn,Kr,za,Us,f,"Throttled",-0,0),h);break t}qy(o,a,un,oc,sd,i,Tn,Kr,za,Us,f,null,-0,0)}}break}while(!0);Ai(e)}function qy(e,i,a,o,h,f,_,T,C,z,K,X,j,H){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},xy(i,f,X);var ut=(f&62914560)===f?rc-tn():(f&4194048)===f?Uy-tn():0;if(ut=qA(X,ut),ut!==null){ss=f,e.cancelPendingCommit=ut($y.bind(null,e,i,f,a,o,h,_,T,C,K,X,null,j,H)),qs(e,f,_,!z);return}}$y(e,i,f,a,o,h,_,T,C)}function sA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qs(e,i,a,o){i&=~id,i&=~Kr,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-pe(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&Tr(e,a,i)}function lc(){return(Kt&6)===0?(hl(0),!1):!0}function ld(){if(xt!==null){if(Xt===0)var e=xt.return;else e=xt,Qi=Lr=null,bf(e),Oa=null,Qo=0,e=xt;for(;e!==null;)vy(e.alternate,e),e=e.return;xt=null}}function Ba(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,bA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ss=0,ld(),ne=e,xt=a=Gi(e.current,null),Pt=i,Xt=0,En=null,Us=!1,Ua=jn(e,i),nd=!1,za=Tn=id=Kr=zs=de=0,un=ul=null,sd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-pe(o),f=1<<h;i|=e[h],o&=~f}return is=i,Nu(),a}function Hy(e,i){Nt=null,B.H=el,i===Da||i===Lu?(i=rg(),Xt=3):i===ff?(i=rg(),Xt=4):Xt=i===jf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,xt===null&&(de=1,Zu(e,Dn(i,e.current)))}function Fy(){var e=_n.current;return e===null?!0:(Pt&4194048)===Pt?xn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===xn:!1}function Gy(){var e=B.H;return B.H=el,e===null?el:e}function Ky(){var e=B.A;return B.A=nA,e}function uc(){de=4,Us||(Pt&4194048)!==Pt&&_n.current!==null||(Ua=!0),(zs&134217727)===0&&(Kr&134217727)===0||ne===null||qs(ne,Pt,Tn,!1)}function ud(e,i,a){var o=Kt;Kt|=2;var h=Gy(),f=Ky();(ne!==e||Pt!==i)&&(oc=null,Ba(e,i)),i=!1;var _=de;t:do try{if(Xt!==0&&xt!==null){var T=xt,C=En;switch(Xt){case 8:ld(),_=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var z=Xt;if(Xt=0,En=null,qa(e,T,C,z),a&&Ua){_=0;break t}break;default:z=Xt,Xt=0,En=null,qa(e,T,C,z)}}rA(),_=de;break}catch(K){Hy(e,K)}while(!0);return i&&e.shellSuspendCounter++,Qi=Lr=null,Kt=o,B.H=h,B.A=f,xt===null&&(ne=null,Pt=0,Nu()),_}function rA(){for(;xt!==null;)Qy(xt)}function aA(e,i){var a=Kt;Kt|=2;var o=Gy(),h=Ky();ne!==e||Pt!==i?(oc=null,ac=tn()+500,Ba(e,i)):Ua=jn(e,i);t:do try{if(Xt!==0&&xt!==null){i=xt;var f=En;e:switch(Xt){case 1:Xt=0,En=null,qa(e,i,f,1);break;case 2:case 9:if(ig(f)){Xt=0,En=null,Yy(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),Ai(e)},f.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:ig(f)?(Xt=0,En=null,Yy(i)):(Xt=0,En=null,qa(e,i,f,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var T=xt;if(_?V_(_):T.stateNode.complete){Xt=0,En=null;var C=T.sibling;if(C!==null)xt=C;else{var z=T.return;z!==null?(xt=z,cc(z)):xt=null}break e}}Xt=0,En=null,qa(e,i,f,5);break;case 6:Xt=0,En=null,qa(e,i,f,6);break;case 8:ld(),de=6;break t;default:throw Error(r(462))}}oA();break}catch(K){Hy(e,K)}while(!0);return Qi=Lr=null,B.H=o,B.A=h,Kt=a,xt!==null?0:(ne=null,Pt=0,Nu(),de)}function oA(){for(;xt!==null&&!Uh();)Qy(xt)}function Qy(e){var i=yy(e.alternate,e,is);e.memoizedProps=e.pendingProps,i===null?cc(e):xt=i}function Yy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=hy(a,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=hy(a,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:bf(i);default:vy(a,i),i=xt=Kp(i,is),i=yy(a,i,is)}e.memoizedProps=e.pendingProps,i===null?cc(e):xt=i}function qa(e,i,a,o){Qi=Lr=null,bf(i),Oa=null,Qo=0;var h=i.return;try{if(XS(e,h,i,a,Pt)){de=1,Zu(e,Dn(a,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;de=1,Zu(e,Dn(a,e.current)),xt=null;return}i.flags&32768?(Bt||o===1?e=!0:Ua||(Pt&536870912)!==0?e=!1:(Us=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xy(i,e)):cc(i)}function cc(e){var i=e;do{if((i.flags&32768)!==0){Xy(i,Us);return}e=i.return;var a=JS(i.alternate,i,is);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);de===0&&(de=5)}function Xy(e,i){do{var a=WS(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);de=6,xt=null}function $y(e,i,a,o,h,f,_,T,C){e.cancelPendingCommit=null;do hc();while(Oe!==0);if((Kt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=$h,Bh(e,a,f,_,T,C),e===ne&&(xt=ne=null,Pt=0),ja=i,Bs=e,ss=a,rd=f,ad=h,zy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hA(_s,function(){return e_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,h=J.p,J.p=2,_=Kt,Kt|=4;try{tA(e,i,a)}finally{Kt=_,J.p=h,B.T=o}}Oe=1,Zy(),Jy(),Wy()}}function Zy(){if(Oe===1){Oe=0;var e=Bs,i=ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var o=J.p;J.p=2;var h=Kt;Kt|=4;try{Oy(i,e);var f=Td,_=Lp(e.containerInfo),T=f.focusedElem,C=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&Pp(T.ownerDocument.documentElement,T)){if(C!==null&&Gh(T)){var z=C.start,K=C.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var X=T.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),ut=T.textContent.length,_t=Math.min(C.start,ut),ee=C.end===void 0?_t:Math.min(C.end,ut);!H.extend&&_t>ee&&(_=ee,ee=_t,_t=_);var k=kp(T,_t),O=kp(T,ee);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var U=X.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),_t>ee?(H.addRange(U),H.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),H.addRange(U))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ac=!!Ed,Td=Ed=null}finally{Kt=h,J.p=o,B.T=a}}e.current=i,Oe=2}}function Jy(){if(Oe===2){Oe=0;var e=Bs,i=ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var o=J.p;J.p=2;var h=Kt;Kt|=4;try{wy(e,i.alternate,i)}finally{Kt=h,J.p=o,B.T=a}}Oe=3}}function Wy(){if(Oe===4||Oe===3){Oe=0,eu();var e=Bs,i=ja,a=ss,o=zy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Oe=5:(Oe=0,ja=Bs=null,t_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(js=null),Bi(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=B.T,h=J.p,J.p=2,B.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var T=o[_];f(T.value,{componentStack:T.stack})}}finally{B.T=i,J.p=h}}(ss&3)!==0&&hc(),Ai(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===od?cl++:(cl=0,od=e):cl=0,hl(0)}}function t_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Go(i)))}function hc(){return Zy(),Jy(),Wy(),e_()}function e_(){if(Oe!==5)return!1;var e=Bs,i=rd;rd=0;var a=Bi(ss),o=B.T,h=J.p;try{J.p=32>a?32:a,B.T=null,a=ad,ad=null;var f=Bs,_=ss;if(Oe=0,ja=Bs=null,ss=0,(Kt&6)!==0)throw Error(r(331));var T=Kt;if(Kt|=4,Py(f.current),Vy(f,f.current,_,a),Kt=T,hl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{J.p=h,B.T=o,t_(e,i)}}function n_(e,i,a){i=Dn(a,i),i=zf(e.stateNode,i,2),e=xs(e,i,2),e!==null&&(Er(e,2),Ai(e))}function $t(e,i,a){if(e.tag===3)n_(e,e,a);else for(;i!==null;){if(i.tag===3){n_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){e=Dn(a,e),a=iy(2),o=xs(i,a,2),o!==null&&(sy(a,o,i,e),Er(o,2),Ai(o));break}}i=i.return}}function cd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new iA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(nd=!0,h.add(a),e=lA.bind(null,e,i,a),i.then(e,e))}function lA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Pt&a)===a&&(de===4||de===3&&(Pt&62914560)===Pt&&300>tn()-rc?(Kt&2)===0&&Ba(e,0):id|=a,za===Pt&&(za=0)),Ai(e)}function i_(e,i){i===0&&(i=ou()),e=xr(e,i),e!==null&&(Er(e,i),Ai(e))}function uA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),i_(e,a)}function cA(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),i_(e,a)}function hA(e,i){return me(e,i)}var fc=null,Ha=null,hd=!1,dc=!1,fd=!1,Hs=0;function Ai(e){e!==Ha&&e.next===null&&(Ha===null?fc=Ha=e:Ha=Ha.next=e),dc=!0,hd||(hd=!0,dA())}function hl(e,i){if(!fd&&dc){fd=!0;do for(var a=!1,o=fc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-pe(42|e)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,o_(o,f))}else f=Pt,f=ri(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jn(o,f)||(a=!0,o_(o,f));o=o.next}while(a);fd=!1}}function fA(){s_()}function s_(){dc=hd=!1;var e=0;Hs!==0&&AA()&&(e=Hs);for(var i=tn(),a=null,o=fc;o!==null;){var h=o.next,f=r_(o,i);f===0?(o.next=null,a===null?fc=h:a.next=h,h===null&&(Ha=a)):(a=o,(e!==0||(f&3)!==0)&&(dc=!0)),o=h}Oe!==0&&Oe!==5||hl(e),Hs!==0&&(Hs=0)}function r_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-pe(f),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&o)!==0)&&(h[_]=jh(T,i)):C<=i&&(e.expiredLanes|=T),f&=~T}if(i=ne,a=Pt,a=ri(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ys(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&ys(o),Bi(a)){case 2:case 8:a=To;break;case 32:a=_s;break;case 268435456:a=nu;break;default:a=_s}return o=a_.bind(null,e),a=me(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&ys(o),e.callbackPriority=2,e.callbackNode=null,2}function a_(e,i){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(hc()&&e.callbackNode!==a)return null;var o=Pt;return o=ri(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(By(e,o,i),r_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?a_.bind(null,e):null)}function o_(e,i){if(hc())return null;By(e,i,!0)}function dA(){RA(function(){(Kt&6)!==0?me(Eo,fA):s_()})}function dd(){if(Hs===0){var e=Ca;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Hs=e}return Hs}function l_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:da(""+e)}function u_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function mA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=l_((h[ke]||null).action),_=o.submitter;_&&(i=(i=_[ke]||null)?l_(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var T=new gi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var C=_?u_(h,_):new FormData(h);Vf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=_?u_(h,_):new FormData(h),Vf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var pd=Xh[md],pA=pd.toLowerCase(),gA=pd[0].toUpperCase()+pd.slice(1);Yn(pA,"on"+gA)}Yn(jp,"onAnimationEnd"),Yn(Bp,"onAnimationIteration"),Yn(qp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(MS,"onTransitionRun"),Yn(VS,"onTransitionStart"),Yn(xS,"onTransitionCancel"),Yn(Hp,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function c_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var T=o[_],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(K){Cu(K)}h.currentTarget=null,f=C}else for(_=0;_<o.length;_++){if(T=o[_],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(K){Cu(K)}h.currentTarget=null,f=C}}}}function kt(e,i){var a=i[la];a===void 0&&(a=i[la]=new Set);var o=e+"__bubble";a.has(o)||(h_(i,e,2,!1),a.add(o))}function gd(e,i,a){var o=0;i&&(o|=4),h_(a,e,o,i)}var mc="_reactListening"+Math.random().toString(36).slice(2);function yd(e){if(!e[mc]){e[mc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(yA.has(a)||gd(a,!1,e),gd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[mc]||(i[mc]=!0,gd("selectionchange",!1,i))}}function h_(e,i,a,o){switch(j_(i)){case 2:var h=GA;break;case 8:h=KA;break;default:h=Md}a=h.bind(null,i,a,e),h=void 0,!wr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function _d(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ui(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=f=_;continue t}T=T.parentNode}}o=o.return}bs(function(){var z=f,K=wn(a),X=[];t:{var j=Fp.get(e);if(j!==void 0){var H=gi,ut=e;switch(e){case"keypress":if(Cr(a)===0)break t;case"keydown":case"keyup":H=Ru;break;case"focusin":ut="focus",H=Dr;break;case"focusout":ut="blur",H=Dr;break;case"beforeblur":case"afterblur":H=Dr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case jp:case Bp:case qp:H=_u;break;case Hp:H=S;break;case"scroll":case"scrollend":H=Po;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Fi;break;case"toggle":case"beforetoggle":H=Ct}var _t=(i&4)!==0,ee=!_t&&(e==="scroll"||e==="scrollend"),k=_t?j!==null?j+"Capture":null:j;_t=[];for(var O=z,U;O!==null;){var Y=O;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||k===null||(Y=Fn(O,k),Y!=null&&_t.push(dl(O,Y,U))),ee)break;O=O.return}0<_t.length&&(j=new H(j,ut,null,a,K),X.push({event:j,listeners:_t}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&a!==Vo&&(ut=a.relatedTarget||a.fromElement)&&(ui(ut)||ut[oi]))break t;if((H||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ut=a.relatedTarget||a.toElement,H=z,ut=ut?ui(ut):null,ut!==null&&(ee=u(ut),_t=ut.tag,ut!==ee||_t!==5&&_t!==27&&_t!==6)&&(ut=null)):(H=null,ut=z),H!==ut)){if(_t=Lo,Y="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Fi,Y="onPointerLeave",k="onPointerEnter",O="pointer"),ee=H==null?j:mn(H),U=ut==null?j:mn(ut),j=new _t(Y,O+"leave",H,a,K),j.target=ee,j.relatedTarget=U,Y=null,ui(K)===z&&(_t=new _t(k,O+"enter",ut,a,K),_t.target=U,_t.relatedTarget=ee,Y=_t),ee=Y,H&&ut)e:{for(_t=_A,k=H,O=ut,U=0,Y=k;Y;Y=_t(Y))U++;Y=0;for(var pt=O;pt;pt=_t(pt))Y++;for(;0<U-Y;)k=_t(k),U--;for(;0<Y-U;)O=_t(O),Y--;for(;U--;){if(k===O||O!==null&&k===O.alternate){_t=k;break e}k=_t(k),O=_t(O)}_t=null}else _t=null;H!==null&&f_(X,j,H,_t,!1),ut!==null&&ee!==null&&f_(X,ee,ut,_t,!0)}}t:{if(j=z?mn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Ht=Np;else if(Ip(j))if(Dp)Ht=NS;else{Ht=IS;var ht=wS}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&fa(z.elementType)&&(Ht=Np):Ht=CS;if(Ht&&(Ht=Ht(e,z))){Cp(X,Ht,a,K);break t}ht&&ht(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Do(j,"number",j.value)}switch(ht=z?mn(z):window,e){case"focusin":(Ip(ht)||ht.contentEditable==="true")&&(Ea=ht,Kh=z,qo=null);break;case"focusout":qo=Kh=Ea=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Up(X,a,K);break;case"selectionchange":if(OS)break;case"keydown":case"keyup":Up(X,a,K)}var Dt;if(Gt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else va?Or(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(vi&&a.locale!=="ko"&&(va||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&va&&(Dt=ko()):(pi=K,xo="value"in pi?pi.value:pi.textContent,va=!0)),ht=pc(z,Lt),0<ht.length&&(Lt=new _i(Lt,e,null,a,K),X.push({event:Lt,listeners:ht}),Dt?Lt.data=Dt:(Dt=_a(a),Dt!==null&&(Lt.data=Dt)))),(Dt=Cn?SS(e,a):AS(e,a))&&(Lt=pc(z,"onBeforeInput"),0<Lt.length&&(ht=new _i("onBeforeInput","beforeinput",null,a,K),X.push({event:ht,listeners:Lt}),ht.data=Dt)),mA(X,e,z,a,K)}c_(X,i)})}function dl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function pc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,a),h!=null&&o.unshift(dl(e,h,f)),h=Fn(e,i),h!=null&&o.push(dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function _A(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function f_(e,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=Fn(a,f),z!=null&&_.unshift(dl(a,z,C))):h||(z=Fn(a,f),z!=null&&_.push(dl(a,z,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var vA=/\r\n?/g,EA=/\u0000|\uFFFD/g;function d_(e){return(typeof e=="string"?e:""+e).replace(vA,`
`).replace(EA,"")}function m_(e,i){return i=d_(i),d_(e)===i}function te(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&rn(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,o);break;case"style":Mo(e,o,f);break;case"data":if(i!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=da(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&te(e,i,"name",h.name,h,null),te(e,i,"formEncType",h.formEncType,h,null),te(e,i,"formMethod",h.formMethod,h,null),te(e,i,"formTarget",h.formTarget,h,null)):(te(e,i,"encType",h.encType,h,null),te(e,i,"method",h.method,h,null),te(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=da(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=da(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),ca(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ca(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pu.get(a)||a,ca(e,a,o))}}function vd(e,i,a,o,h,f){switch(a){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ca(e,a,o)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:te(e,i,f,_,a,null)}}h&&te(e,i,"srcSet",a.srcSet,a,null),o&&te(e,i,"src",a.src,a,null);return;case"input":kt("invalid",e);var T=f=_=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":_=K;break;case"checked":C=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:te(e,i,o,K,a,null)}}fu(e,f,T,C,z,_,h,!1);return;case"select":kt("invalid",e),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:te(e,i,h,T,a,null)}i=f,a=_,e.multiple=!!o,i!=null?Es(e,!!o,i,!1):a!=null&&Es(e,!!o,a,!0);return;case"textarea":kt("invalid",e),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:te(e,i,_,T,a,null)}Ts(e,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:te(e,i,C,o,a,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)kt(fl[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:te(e,i,z,o,a,null)}return;default:if(fa(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&vd(e,i,K,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&te(e,i,T,o,a,null))}function TA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,C=null,z=null,K=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||te(e,i,H,null,o,X)}}for(var j in o){var H=o[j];if(X=a[j],o.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==X&&te(e,i,j,H,o,X)}}ha(e,_,T,C,z,K,f,h);return;case"select":H=_=T=j=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||te(e,i,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==C&&te(e,i,h,f,o,C)}i=T,a=_,o=H,j!=null?Es(e,!!a,j,!1):!!o!=!!a&&(i!=null?Es(e,!!a,i,!0):Es(e,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:te(e,i,T,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&te(e,i,_,h,o,f)}du(e,j,H);return;case"option":for(var ut in a)if(j=a[ut],a.hasOwnProperty(ut)&&j!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:te(e,i,ut,null,o,j)}for(C in o)if(j=o[C],H=a[C],o.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:te(e,i,C,j,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)j=a[_t],a.hasOwnProperty(_t)&&j!=null&&!o.hasOwnProperty(_t)&&te(e,i,_t,null,o,j);for(z in o)if(j=o[z],H=a[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:te(e,i,z,j,o,H)}return;default:if(fa(i)){for(var ee in a)j=a[ee],a.hasOwnProperty(ee)&&j!==void 0&&!o.hasOwnProperty(ee)&&vd(e,i,ee,void 0,o,j);for(K in o)j=o[K],H=a[K],!o.hasOwnProperty(K)||j===H||j===void 0&&H===void 0||vd(e,i,K,j,o,H);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&te(e,i,k,null,o,j);for(X in o)j=o[X],H=a[X],!o.hasOwnProperty(X)||j===H||j==null&&H==null||te(e,i,X,j,o,H)}function p_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&p_(_)){for(_=0,T=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>T)break;var K=C.transferSize,X=C.initiatorType;K&&p_(X)&&(C=C.responseEnd,_+=K*(C<T?1:(T-z)/(C-z)))}if(--o,i+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ed=null,Td=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function g_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Sd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ad=null;function AA(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(e){return v_.resolve(null).then(e).catch(wA)}:__;function wA(e){setTimeout(function(){throw e})}function Fs(e){return e==="head"}function E_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Qa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ml(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[li]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&ml(e.ownerDocument.body);a=h}while(a);Qa(i)}function T_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function bd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function IA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function CA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function S_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=kn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function NA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Id=null;function A_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return kn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function b_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function R_(e,i,a){switch(i=gc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ml(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ua(e)}var Pn=new Map,w_=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rs=J.d;J.d={f:DA,r:OA,D:MA,C:VA,L:xA,m:kA,X:LA,S:PA,M:UA};function DA(){var e=rs.f(),i=lc();return e||i}function OA(e){var i=Rn(e);i!==null&&i.tag===5&&i.type==="form"?Hg(i):rs.r(e)}var Fa=typeof document>"u"?null:document;function I_(e,i,a){var o=Fa;if(o&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),w_.has(h)||(w_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ge(i,"link",e),Se(i),o.head.appendChild(i)))}}function MA(e){rs.D(e),I_("dns-prefetch",e,null)}function VA(e,i){rs.C(e,i),I_("preconnect",e,i)}function xA(e,i,a){rs.L(e,i,a);var o=Fa;if(o&&e&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(i){case"style":f=Ga(e);break;case"script":f=Ka(e)}Pn.has(f)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Pn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(pl(f))||i==="script"&&o.querySelector(gl(f))||(i=o.createElement("link"),Ge(i,"link",e),Se(i),o.head.appendChild(i)))}}function kA(e,i){rs.m(e,i);var a=Fa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(e)}if(!Pn.has(f)&&(e=A({rel:"modulepreload",href:e},i),Pn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Se(o),a.head.appendChild(o)}}}function PA(e,i,a){rs.S(e,i,a);var o=Fa;if(o&&e){var h=ci(o).hoistableStyles,f=Ga(e);i=i||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(pl(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Pn.get(f))&&Cd(e,a);var C=_=o.createElement("link");Se(C),Ge(C,"link",e),C._p=new Promise(function(z,K){C.onload=z,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_c(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function LA(e,i){rs.X(e,i);var a=Fa;if(a&&e){var o=ci(a).hoistableScripts,h=Ka(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=A({src:e,async:!0},i),(i=Pn.get(h))&&Nd(e,i),f=a.createElement("script"),Se(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function UA(e,i){rs.M(e,i);var a=Fa;if(a&&e){var o=ci(a).hoistableScripts,h=Ka(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=A({src:e,async:!0,type:"module"},i),(i=Pn.get(h))&&Nd(e,i),f=a.createElement("script"),Se(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C_(e,i,a,o){var h=(h=yt.current)?yc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ga(a.href),a=ci(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ga(a.href);var f=ci(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(pl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),f||zA(h,e,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(a),a=ci(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ga(e){return'href="'+sn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function N_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function zA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ge(i,"link",a),Se(i),e.head.appendChild(i))}function Ka(e){return'[src="'+sn(e)+'"]'}function gl(e){return"script[async]"+e}function D_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return i.instance=o,Se(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),Ge(o,"style",h),_c(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ga(a.href);var f=e.querySelector(pl(h));if(f)return i.state.loading|=4,i.instance=f,Se(f),f;o=N_(a),(h=Pn.get(h))&&Cd(o,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var _=f;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ge(f,"link",o),i.state.loading|=4,_c(f,a.precedence,e),i.instance=f;case"script":return f=Ka(a.src),(h=e.querySelector(gl(f)))?(i.instance=h,Se(h),h):(o=a,(h=Pn.get(f))&&(o=A({},a),Nd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ge(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,_c(o,a.precedence,e));return i.instance}function _c(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===i)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Cd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var vc=null;function O_(e,i,a){if(vc===null){var o=new Map,h=vc=new Map;h.set(a,o)}else h=vc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=e+_;var T=o.get(_);T?T.push(f):o.set(_,[f])}}return o}function M_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function jA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function V_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function BA(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(o.href),f=i.querySelector(pl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ec.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Se(f);return}f=i.ownerDocument||i,o=N_(o),(h=Pn.get(h))&&Cd(o,h),f=f.createElement("link"),Se(f);var _=f;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ec.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Dd=0;function qA(e,i){return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Dd===0&&(Dd=62500*SA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Dd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function Sc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,i.forEach(HA,e),Tc=null,Ec.call(e))}function HA(e,i){if(!(i.state.loading&4)){var a=Tc.get(e);if(a)var o=a.get(null);else{a=new Map,Tc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var yl={$$typeof:st,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function FA(e,i,a,o,h,f,_,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function x_(e,i,a,o,h,f,_,T,C,z,K,X){return e=new FA(e,i,a,_,C,z,K,X,T),i=1,f===!0&&(i|=24),f=yn(3,null,null,i),e.current=f,f.stateNode=e,i=uf(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},df(f),e}function k_(e){return e?(e=Aa,e):Aa}function P_(e,i,a,o,h,f){h=k_(h),o.context===null?o.context=h:o.pendingContext=h,o=Vs(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=xs(e,o,i),a!==null&&(cn(a,e,i),Xo(a,e,i))}function L_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Od(e,i){L_(e,i),(e=e.alternate)&&L_(e,i)}function U_(e){if(e.tag===13||e.tag===31){var i=xr(e,67108864);i!==null&&cn(i,e,67108864),Od(e,67108864)}}function z_(e){if(e.tag===13||e.tag===31){var i=Sn();i=Sr(i);var a=xr(e,i);a!==null&&cn(a,e,i),Od(e,i)}}var Ac=!0;function GA(e,i,a,o){var h=B.T;B.T=null;var f=J.p;try{J.p=2,Md(e,i,a,o)}finally{J.p=f,B.T=h}}function KA(e,i,a,o){var h=B.T;B.T=null;var f=J.p;try{J.p=8,Md(e,i,a,o)}finally{J.p=f,B.T=h}}function Md(e,i,a,o){if(Ac){var h=Vd(o);if(h===null)_d(e,i,o,bc,a),B_(e,o);else if(YA(h,e,i,a,o))o.stopPropagation();else if(B_(e,o),i&4&&-1<QA.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=si(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-pe(_);T.entanglements[1]|=C,_&=~C}Ai(f),(Kt&6)===0&&(ac=tn()+500,hl(0))}}break;case 31:case 13:T=xr(f,2),T!==null&&cn(T,f,2),lc(),Od(f,2)}if(f=Vd(o),f===null&&_d(e,i,o,bc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else _d(e,i,o,null,a)}}function Vd(e){return e=wn(e),xd(e)}var bc=null;function xd(e){if(bc=null,e=ui(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return bc=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case Eo:return 2;case To:return 8;case _s:case zh:return 32;case nu:return 268435456;default:return 32}default:return 32}}var kd=!1,Gs=null,Ks=null,Qs=null,_l=new Map,vl=new Map,Ys=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(e,i){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function El(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&U_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function YA(e,i,a,o,h){switch(i){case"focusin":return Gs=El(Gs,e,i,a,o,h),!0;case"dragenter":return Ks=El(Ks,e,i,a,o,h),!0;case"mouseover":return Qs=El(Qs,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,El(_l.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,El(vl.get(f)||null,e,i,a,o,h)),!0}return!1}function q_(e){var i=ui(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Bn(e.priority,function(){z_(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Bn(e.priority,function(){z_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Vo=o,a.target.dispatchEvent(o),Vo=null}else return i=Rn(a),i!==null&&U_(i),e.blockedOn=a,!1;i.shift()}return!0}function H_(e,i,a){Rc(e)&&a.delete(i)}function XA(){kd=!1,Gs!==null&&Rc(Gs)&&(Gs=null),Ks!==null&&Rc(Ks)&&(Ks=null),Qs!==null&&Rc(Qs)&&(Qs=null),_l.forEach(H_),vl.forEach(H_)}function wc(e,i){e.blockedOn===i&&(e.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,XA)))}var Ic=null;function F_(e){Ic!==e&&(Ic=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ic===e&&(Ic=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(xd(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(i,3),i-=3,Vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Qa(e){function i(C){return wc(C,e)}Gs!==null&&wc(Gs,e),Ks!==null&&wc(Ks,e),Qs!==null&&wc(Qs,e),_l.forEach(i),vl.forEach(i);for(var a=0;a<Ys.length;a++){var o=Ys[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ys.length&&(a=Ys[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&Ys.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[ke]||null;if(typeof f=="function")_||F_(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[ke]||null)T=_.formAction;else if(xd(h)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),F_(a)}}}function G_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Pd(e){this._internalRoot=e}Cc.prototype.render=Pd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Sn();P_(a,o,e,i,null,null)},Cc.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;P_(e.current,2,null,e,null,null),lc(),i[oi]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var i=lu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ys.length&&i!==0&&i<Ys[a].priority;a++);Ys.splice(a,0,e),a===0&&q_(e)}};var K_=t.version;if(K_!=="19.2.0")throw Error(r(527,K_,"19.2.0"));J.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var $A={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{zn=Nc.inject($A),je=Nc}catch{}}return Sl.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=Wg,f=ty,_=ey;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=x_(e,1,!1,null,null,a,o,null,h,f,_,G_),e[oi]=i.current,yd(e),new Pd(i)},Sl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Wg,_=ty,T=ey,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=x_(e,1,!0,i,a??null,o,h,C,f,_,T,G_),i.context=k_(null),a=i.current,o=Sn(),o=Sr(o),h=Vs(o),h.callback=null,xs(a,h,o),a=o,i.current.lanes=a,Er(i,a),Ai(i),e[oi]=i.current,yd(e),new Cc(i)},Sl.version="19.2.0",Sl}var nv;function a1(){if(nv)return zd.exports;nv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),zd.exports=r1(),zd.exports}var o1=a1();const l1=()=>{};var iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},u1=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],p=s[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],d=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},KE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,g=y?s[l+2]:0,E=u>>2,A=(u&3)<<4|p>>4;let N=(p&15)<<2|g>>6,F=g&63;y||(F=64,d||(N=64)),r.push(n[E],n[A],n[N],n[F])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(GE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):u1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const g=l<s.length?n[s.charAt(l)]:64;++l;const A=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||p==null||g==null||A==null)throw new c1;const N=u<<2|p>>4;if(r.push(N),g!==64){const F=p<<4&240|g>>2;if(r.push(F),A!==64){const tt=g<<6&192|A;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class c1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h1=function(s){const t=GE(s);return KE.encodeByteArray(t,!0)},Qc=function(s){return h1(s).replace(/\./g,"")},QE=function(s){try{return KE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=()=>f1().__FIREBASE_DEFAULTS__,m1=()=>{if(typeof process>"u"||typeof iv>"u")return;const s=iv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},p1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&QE(s[1]);return t&&JSON.parse(t)},ph=()=>{try{return l1()||d1()||m1()||p1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},YE=s=>ph()?.emulatorHosts?.[s],XE=s=>{const t=YE(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},$E=()=>ph()?.config,ZE=s=>ph()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dm(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qc(JSON.stringify(n)),Qc(JSON.stringify(d)),""].join(".")}const Dl={};function y1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Dl))Dl[t]?s.emulator.push(t):s.prod.push(t);return s}function _1(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let sv=!1;function Om(s,t){if(typeof window>"u"||typeof document>"u"||!na(window.location.host)||Dl[s]===t||Dl[s]||sv)return;Dl[s]=t;function n(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=y1().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,F){N.setAttribute("width","24"),N.setAttribute("id",F),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function g(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{sv=!0,d()},N}function E(N,F){N.setAttribute("id",F),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=_1(r),F=n("text"),tt=document.getElementById(F)||document.createElement("span"),et=n("learnmore"),G=document.getElementById(et)||document.createElement("a"),W=n("preprendIcon"),ft=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const st=N.element;p(st),E(G,et);const dt=g();y(ft,W),st.append(ft,tt,G,dt),document.body.appendChild(st)}u?(tt.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function E1(){const s=ph()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function A1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b1(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function R1(){return!E1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w1(){try{return typeof indexedDB=="object"}catch{return!1}}function I1(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="FirebaseError";class Li extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=C1,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?N1(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Li(l,p,r)}}function N1(s,t){return s.replace(D1,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const D1=/\{\$([^}]+)}/g;function O1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Zr(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const u=s[l],d=t[l];if(rv(u)&&rv(d)){if(!Zr(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function rv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function bl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Rl(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function M1(s,t){const n=new V1(s,t);return n.subscribe.bind(n)}class V1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");x1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=Hd),l.error===void 0&&(l.error=Hd),l.complete===void 0&&(l.complete=Hd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x1(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Hd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(s){return s&&s._delegate?s._delegate:s}class lr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new g1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(L1(t))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=Qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qr){return this.instances.has(t)}getOptions(t=Qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P1(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Qr){return this.component?this.component.multipleInstances?t:Qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P1(s){return s===Qr?void 0:s}function L1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new k1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const z1={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},j1=Ut.INFO,B1={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},q1=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=B1[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Mm{constructor(t){this.name=t,this._logLevel=j1,this._logHandler=q1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?z1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const H1=(s,t)=>t.some(n=>s instanceof n);let av,ov;function F1(){return av||(av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G1(){return ov||(ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,im=new WeakMap,tT=new WeakMap,Fd=new WeakMap,Vm=new WeakMap;function K1(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(ir(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&WE.set(n,s)}).catch(()=>{}),Vm.set(t,s),t}function Q1(s){if(im.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,t)}let sm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return im.get(s);if(t==="objectStoreNames")return s.objectStoreNames||tT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Y1(s){sm=s(sm)}function X1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Gd(this),t,...n);return tT.set(r,t.sort?t.sort():[t]),ir(r)}:G1().includes(s)?function(...t){return s.apply(Gd(this),t),ir(WE.get(this))}:function(...t){return ir(s.apply(Gd(this),t))}}function $1(s){return typeof s=="function"?X1(s):(s instanceof IDBTransaction&&Q1(s),H1(s,F1())?new Proxy(s,sm):s)}function ir(s){if(s instanceof IDBRequest)return K1(s);if(Fd.has(s))return Fd.get(s);const t=$1(s);return t!==s&&(Fd.set(s,t),Vm.set(t,s)),t}const Gd=s=>Vm.get(s);function Z1(s,t,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,t),p=ir(d);return r&&d.addEventListener("upgradeneeded",y=>{r(ir(d.result),y.oldVersion,y.newVersion,ir(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const J1=["get","getKey","getAll","getAllKeys","count"],W1=["put","add","delete","clear"],Kd=new Map;function lv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=W1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||J1.includes(n)))return;const u=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),l&&y.done]))[0]};return Kd.set(t,u),u}Y1(s=>({...s,get:(t,n,r)=>lv(t,n)||s.get(t,n,r),has:(t,n)=>!!lv(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eb(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",uv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Mm("@firebase/app"),nb="@firebase/app-compat",ib="@firebase/analytics-compat",sb="@firebase/analytics",rb="@firebase/app-check-compat",ab="@firebase/app-check",ob="@firebase/auth",lb="@firebase/auth-compat",ub="@firebase/database",cb="@firebase/data-connect",hb="@firebase/database-compat",fb="@firebase/functions",db="@firebase/functions-compat",mb="@firebase/installations",pb="@firebase/installations-compat",gb="@firebase/messaging",yb="@firebase/messaging-compat",_b="@firebase/performance",vb="@firebase/performance-compat",Eb="@firebase/remote-config",Tb="@firebase/remote-config-compat",Sb="@firebase/storage",Ab="@firebase/storage-compat",bb="@firebase/firestore",Rb="@firebase/ai",wb="@firebase/firestore-compat",Ib="firebase",Cb="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="[DEFAULT]",Nb={[rm]:"fire-core",[nb]:"fire-core-compat",[sb]:"fire-analytics",[ib]:"fire-analytics-compat",[ab]:"fire-app-check",[rb]:"fire-app-check-compat",[ob]:"fire-auth",[lb]:"fire-auth-compat",[ub]:"fire-rtdb",[cb]:"fire-data-connect",[hb]:"fire-rtdb-compat",[fb]:"fire-fn",[db]:"fire-fn-compat",[mb]:"fire-iid",[pb]:"fire-iid-compat",[gb]:"fire-fcm",[yb]:"fire-fcm-compat",[_b]:"fire-perf",[vb]:"fire-perf-compat",[Eb]:"fire-rc",[Tb]:"fire-rc-compat",[Sb]:"fire-gcs",[Ab]:"fire-gcs-compat",[bb]:"fire-fst",[wb]:"fire-fst-compat",[Rb]:"fire-vertex","fire-js":"fire-js",[Ib]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,Db=new Map,om=new Map;function cv(s,t){try{s.container.addComponent(t)}catch(n){us.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Jr(s){const t=s.name;if(om.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,s);for(const n of Yc.values())cv(n,s);for(const n of Db.values())cv(n,s);return!0}function gh(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Ln(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new Gl("app","Firebase",Ob);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=Cb;function eT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:am,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw sr.create("bad-app-name",{appName:String(l)});if(n||(n=$E()),!n)throw sr.create("no-options");const u=Yc.get(l);if(u){if(Zr(n,u.options)&&Zr(r,u.config))return u;throw sr.create("duplicate-app",{appName:l})}const d=new U1(l);for(const y of om.values())d.addComponent(y);const p=new Mb(n,r,d);return Yc.set(l,p),p}function xm(s=am){const t=Yc.get(s);if(!t&&s===am&&$E())return eT();if(!t)throw sr.create("no-app",{appName:s});return t}function wi(s,t,n){let r=Nb[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}Jr(new lr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firebase-heartbeat-database",xb=1,Pl="firebase-heartbeat-store";let Qd=null;function nT(){return Qd||(Qd=Z1(Vb,xb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(s=>{throw sr.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function kb(s){try{const n=(await nT()).transaction(Pl),r=await n.objectStore(Pl).get(iT(s));return await n.done,r}catch(t){if(t instanceof Li)us.warn(t.message);else{const n=sr.create("idb-get",{originalErrorMessage:t?.message});us.warn(n.message)}}}async function hv(s,t){try{const r=(await nT()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(t,iT(s)),await r.done}catch(n){if(n instanceof Li)us.warn(n.message);else{const r=sr.create("idb-set",{originalErrorMessage:n?.message});us.warn(r.message)}}}function iT(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=1024,Lb=30;class Ub{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Lb){const l=Bb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){us.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fv(),{heartbeatsToSend:n,unsentEntries:r}=zb(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return us.warn(t),""}}}function fv(){return new Date().toISOString().substring(0,10)}function zb(s,t=Pb){const n=[];let r=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),dv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),dv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w1()?I1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kb(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return hv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return hv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function dv(s){return Qc(JSON.stringify({version:2,heartbeats:s})).length}function Bb(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(s){Jr(new lr("platform-logger",t=>new tb(t),"PRIVATE")),Jr(new lr("heartbeat",t=>new Ub(t),"PRIVATE")),wi(rm,uv,s),wi(rm,uv,"esm2020"),wi("fire-js","")}qb("");function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hb=sT,rT=new Gl("auth","Firebase",sT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Mm("@firebase/auth");function Fb(s,...t){Xc.logLevel<=Ut.WARN&&Xc.warn(`Auth (${ia}): ${s}`,...t)}function Lc(s,...t){Xc.logLevel<=Ut.ERROR&&Xc.error(`Auth (${ia}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(s,...t){throw km(s,...t)}function Ii(s,...t){return km(s,...t)}function aT(s,t,n){const r={...Hb(),[t]:n};return new Gl("auth","Firebase",r).create(t,{appName:s.name})}function rr(s){return aT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return rT.create(s,...t)}function vt(s,t,...n){if(!s)throw km(t,...n)}function as(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Lc(t),new Error(t)}function cs(s,t){s||as(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){return typeof self<"u"&&self.location?.href||""}function Gb(){return mv()==="http:"||mv()==="https:"}function mv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gb()||S1()||"connection"in navigator)?navigator.onLine:!0}function Qb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,n){this.shortDelay=t,this.longDelay=n,cs(n>t,"Short delay should be less than long delay!"),this.isMobile=v1()||A1()}get(){return Kb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(s,t){cs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$b=new Ql(3e4,6e4);function sa(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function pr(s,t,n,r,l={}){return lT(s,l,async()=>{let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});const p=Kl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:y,...u};return T1()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&na(s.emulatorConfig.host)&&(g.credentials="include"),oT.fetch()(await uT(s,s.config.apiHost,n,p),g)})}async function lT(s,t,n){s._canInitEmulator=!1;const r={...Yb,...t};try{const l=new Jb(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Dc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Dc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Dc(s,"user-disabled",d);const E=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw aT(s,E,g);ti(s,E)}}catch(l){if(l instanceof Li)throw l;ti(s,"network-request-failed",{message:String(l)})}}async function yh(s,t,n,r,l={}){const u=await pr(s,t,n,r,l);return"mfaPendingCredential"in u&&ti(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function uT(s,t,n,r){const l=`${t}${n}?${r}`,u=s,d=u.config.emulator?Pm(s.config,l):`${s.config.apiScheme}://${l}`;return Xb.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function Zb(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),$b.get())})}}function Dc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ii(s,t,r);return l.customData._tokenResponse=n,l}function pv(s){return s!==void 0&&s.enterprise!==void 0}class Wb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Zb(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tR(s,t){return pr(s,"GET","/v2/recaptchaConfig",sa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(s,t){return pr(s,"POST","/v1/accounts:delete",t)}async function $c(s,t){return pr(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nR(s,t=!1){const n=ze(s),r=await n.getIdToken(t),l=Lm(r);vt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Ol(Yd(l.auth_time)),issuedAtTime:Ol(Yd(l.iat)),expirationTime:Ol(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Yd(s){return Number(s)*1e3}function Lm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=QE(n);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function gv(s){const t=Lm(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Li&&iR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function iR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(s){const t=s.auth,n=await s.getIdToken(),r=await Ll(s,$c(t,{idToken:n}));vt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?cT(l.providerUserInfo):[],d=aR(s.providerData,u),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,g=p?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(s,E)}async function rR(s){const t=ze(s);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aR(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function cT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(s,t){const n=await lT(s,{},async()=>{const r=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await uT(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&na(s.emulatorConfig.host)&&(y.credentials="include"),oT.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lR(s,t){return pr(s,"POST","/v2/accounts:revokeToken",sa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):gv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=gv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await oR(t,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new to;return r&&(vt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(vt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new sR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return nR(this,t)}reload(){return rR(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(rr(this.auth));const t=await this.getIdToken();return await Ll(this,eR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:F,providerData:tt,stsTokenManager:et}=n;vt(A&&et,t,"internal-error");const G=to.fromJSON(this.name,et);vt(typeof A=="string",t,"internal-error"),$s(r,t.name),$s(l,t.name),vt(typeof N=="boolean",t,"internal-error"),vt(typeof F=="boolean",t,"internal-error"),$s(u,t.name),$s(d,t.name),$s(p,t.name),$s(y,t.name),$s(g,t.name),$s(E,t.name);const W=new Zn({uid:A,auth:t,email:l,emailVerified:N,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:G,createdAt:g,lastLoginAt:E});return tt&&Array.isArray(tt)&&(W.providerData=tt.map(ft=>({...ft}))),y&&(W._redirectEventId=y),W}static async _fromIdTokenResponse(t,n,r=!1){const l=new to;l.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Zc(u),u}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];vt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?cT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new to;p.updateFromIdToken(r);const y=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;function os(s){cs(s instanceof Function,"Expected a class definition");let t=yv.get(s);return t?(cs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,yv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}hT.type="NONE";const _v=hT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(s,t,n){return`firebase:${s}:${t}:${n}`}class eo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Uc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await $c(this.auth,{idToken:t}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new eo(os(_v),t,r);const l=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||os(_v);const d=Uc(r,t.config.apiKey,t.name);let p=null;for(const g of n)try{const E=await g._get(d);if(E){let A;if(typeof E=="string"){const N=await $c(t,{idToken:E}).catch(()=>{});if(!N)break;A=await Zn._fromGetAccountInfoResponse(t,N,E)}else A=Zn._fromJSON(t,E);g!==u&&(p=A),u=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new eo(u,t,r):(u=y[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new eo(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yT(t))return"Blackberry";if(_T(t))return"Webos";if(dT(t))return"Safari";if((t.includes("chrome/")||mT(t))&&!t.includes("edge/"))return"Chrome";if(gT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function fT(s=We()){return/firefox\//i.test(s)}function dT(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mT(s=We()){return/crios\//i.test(s)}function pT(s=We()){return/iemobile/i.test(s)}function gT(s=We()){return/android/i.test(s)}function yT(s=We()){return/blackberry/i.test(s)}function _T(s=We()){return/webos/i.test(s)}function Um(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function uR(s=We()){return Um(s)&&!!window.navigator?.standalone}function cR(){return b1()&&document.documentMode===10}function vT(s=We()){return Um(s)||gT(s)||_T(s)||yT(s)||/windows phone/i.test(s)||pT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(s,t=[]){let n;switch(s){case"Browser":n=vv(We());break;case"Worker":n=`${vv(We())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((d,p)=>{try{const y=t(u);d(y)}catch(y){p(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(s,t={}){return pr(s,"GET","/v2/passwordPolicy",sa(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=6;class mR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new hR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await $c(this,{idToken:t}),r=await Zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Zc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Qb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(rr(this));const n=t?ze(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fR(this),n=new mR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&os(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Fb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function fo(s){return ze(s)}class Ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=M1(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gR(s){_h=s}function TT(s){return _h.loadJS(s)}function yR(){return _h.recaptchaEnterpriseScript}function _R(){return _h.gapiScript}function vR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class ER{constructor(){this.enterprise=new TR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class TR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const SR="recaptcha-enterprise",ST="NO_RECAPTCHA";class AR{constructor(t){this.type=SR,this.auth=fo(t)}async verify(t="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{tR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new Wb(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(y=>{p(y)})})}function l(u,d,p){const y=window.grecaptcha;pv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(g=>{d(g)}).catch(()=>{d(ST)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ER().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!n&&pv(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=yR();y.length!==0&&(y+=p),TT(y).then(()=>{l(p,u,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function Tv(s,t,n,r=!1,l=!1){const u=new AR(s);let d;if(l)d=ST;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Sv(s,t,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Tv(s,t,n,n==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Tv(s,t,n,n==="getOobCode");return r(s,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(s,t){const n=gh(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Zr(u,t??{}))return l;ti(l,"already-initialized")}return n.initialize({options:t})}function RR(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(os);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function wR(s,t,n){const r=fo(s);vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,u=AT(t),{host:d,port:p}=IR(t),y=p===null?"":`:${p}`,g={url:`${u}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(Zr(g,r.config.emulator)&&Zr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,na(d)?(Dm(`${u}//${d}${y}`),Om("Auth",!0)):CR()}function AT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function IR(s){const t=AT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Av(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Av(d)}}}function Av(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function CR(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return as("not implemented")}_getIdTokenResponse(t){return as("not implemented")}_linkToIdToken(t,n){return as("not implemented")}_getReauthenticationResolver(t){return as("not implemented")}}async function NR(s,t){return pr(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(s,t){return yh(s,"POST","/v1/accounts:signInWithPassword",sa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(s,t){return yh(s,"POST","/v1/accounts:signInWithEmailLink",sa(s,t))}async function MR(s,t){return yh(s,"POST","/v1/accounts:signInWithEmailLink",sa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends zm{constructor(t,n,r,l=null){super("password",r),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Ul(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Ul(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sv(t,n,"signInWithPassword",DR);case"emailLink":return OR(t,{email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sv(t,r,"signUpPassword",NR);case"emailLink":return MR(t,{idToken:n,email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(s,t){return yh(s,"POST","/v1/accounts:signInWithIdp",sa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="http://localhost";class Wr extends zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Wr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new Wr(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return no(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,no(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,no(t,n)}buildRequest(){const t={requestUri:VR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Kl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kR(s){const t=bl(Rl(s)).link,n=t?bl(Rl(t)).deep_link_id:null,r=bl(Rl(s)).deep_link_id;return(r?bl(Rl(r)).link:null)||r||n||t||s}class jm{constructor(t){const n=bl(Rl(t)),r=n.apiKey??null,l=n.oobCode??null,u=xR(n.mode??null);vt(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=kR(t);try{return new jm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(t,n){return Ul._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=jm.parseLink(n);return vt(r,"argument-error"),Ul._fromEmailAndCode(t,r.code,r.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends bT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Yl{constructor(){super("facebook.com")}static credential(t){return Wr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Wr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Yl{constructor(){super("github.com")}static credential(t){return Wr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Yl{constructor(){super("twitter.com")}static credential(t,n){return Wr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return er.credential(n,r)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const u=await Zn._fromIdTokenResponse(t,r,l),d=bv(r);return new ro({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=bv(r);return new ro({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function bv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Li{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new Jc(t,n,r,l)}}function RT(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,u,t,r):u})}async function PR(s,t,n=!1){const r=await Ll(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return ro._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(s,t,n=!1){const{auth:r}=s;if(Ln(r.app))return Promise.reject(rr(r));const l="reauthenticate";try{const u=await Ll(s,RT(r,l,t,s),n);vt(u.idToken,r,"internal-error");const d=Lm(u.idToken);vt(d,r,"internal-error");const{sub:p}=d;return vt(s.uid===p,r,"user-mismatch"),ro._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ti(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(s,t,n=!1){if(Ln(s.app))return Promise.reject(rr(s));const r="signIn",l=await RT(s,r,t),u=await ro._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function UR(s,t){return wT(fo(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(s){const t=fo(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function jR(s,t,n){return Ln(s.app)?Promise.reject(rr(s)):UR(ze(s),mo.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zR(s),r})}function BR(s,t,n,r){return ze(s).onIdTokenChanged(t,n,r)}function qR(s,t,n){return ze(s).beforeAuthStateChanged(t,n)}function HR(s,t,n,r){return ze(s).onAuthStateChanged(t,n,r)}function FR(s){return ze(s).signOut()}const Wc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=1e3,KR=10;class CT extends IT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);cR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,KR):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},GR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}CT.type="LOCAL";const QR=CT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends IT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}NT.type="SESSION";const DT=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new vh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async g=>g(n.origin,u)),y=await YR(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,y)=>{const g=Bm("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const N=A;if(N.data.eventId===g)switch(N.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function $R(s){Ci().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function ZR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JR(){return navigator?.serviceWorker?.controller||null}function WR(){return OT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firebaseLocalStorageDb",tw=1,th="firebaseLocalStorage",VT="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eh(s,t){return s.transaction([th],t?"readwrite":"readonly").objectStore(th)}function ew(){const s=indexedDB.deleteDatabase(MT);return new Xl(s).toPromise()}function cm(){const s=indexedDB.open(MT,tw);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(th,{keyPath:VT})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(th)?t(r):(r.close(),await ew(),t(await cm()))})})}async function Rv(s,t,n){const r=Eh(s,!0).put({[VT]:t,value:n});return new Xl(r).toPromise()}async function nw(s,t){const n=Eh(s,!1).get(t),r=await new Xl(n).toPromise();return r===void 0?null:r.value}function wv(s,t){const n=Eh(s,!0).delete(t);return new Xl(n).toPromise()}const iw=800,sw=3;class xT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>sw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(WR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZR(),!this.activeServiceWorker)return;this.sender=new XR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||JR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cm();return await Rv(t,Wc,"1"),await wv(t,Wc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Rv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>nw(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Eh(l,!1).getAll();return new Xl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xT.type="LOCAL";const rw=xT;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(s,t){return t?os(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends zm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return no(t,this._buildIdpRequest())}_linkToIdToken(t,n){return no(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return no(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ow(s){return wT(s.auth,new qm(s),s.bypassAuthState)}function lw(s){const{auth:t,user:n}=s;return vt(n,t,"internal-error"),LR(n,new qm(s),s.bypassAuthState)}async function uw(s){const{auth:t,user:n}=s;return vt(n,t,"internal-error"),PR(n,new qm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,n,r,l,u=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ow;case"linkViaPopup":case"linkViaRedirect":return uw;case"reauthViaPopup":case"reauthViaRedirect":return lw;default:ti(this.auth,"internal-error")}}resolve(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new Ql(2e3,1e4);class Wa extends kT{constructor(t,n,r,l,u){super(t,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const t=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cw.get())};t()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="pendingRedirect",zc=new Map;class fw extends kT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const r=await dw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dw(s,t){const n=gw(t),r=pw(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function mw(s,t){zc.set(s._key(),t)}function pw(s){return os(s._redirectPersistence)}function gw(s){return Uc(hw,s.config.apiKey,s.name)}async function yw(s,t,n=!1){if(Ln(s.app))return Promise.reject(rr(s));const r=fo(s),l=aw(r,t),d=await new fw(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=600*1e3;class vw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ew(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!PT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_w&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iv(t))}saveEventToCache(t){this.cachedEventUids.add(Iv(t)),this.lastProcessedEventTime=Date.now()}}function Iv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function PT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Ew(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(s,t={}){return pr(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aw=/^https?/;async function bw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Tw(s);for(const n of t)try{if(Rw(n))return}catch{}ti(s,"unauthorized-domain")}function Rw(s){const t=lm(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!Aw.test(n))return!1;if(Sw.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new Ql(3e4,6e4);function Cv(){const s=Ci().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Iw(s){return new Promise((t,n)=>{function r(){Cv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Cv(),n(Ii(s,"network-request-failed"))},timeout:ww.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)r();else{const l=vR("iframefcb");return Ci()[l]=()=>{gapi.load?r():n(Ii(s,"network-request-failed"))},TT(`${_R()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw jc=null,t})}let jc=null;function Cw(s){return jc=jc||Iw(s),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Ql(5e3,15e3),Dw="__/auth/iframe",Ow="emulator/auth/iframe",Mw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xw(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Pm(t,Ow):`https://${s.config.authDomain}/${Dw}`,r={apiKey:t.apiKey,appName:s.name,v:ia},l=Vw.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Kl(r).slice(1)}`}async function kw(s){const t=await Cw(s),n=Ci().gapi;return vt(n,s,"internal-error"),t.open({where:document.body,url:xw(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mw,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ii(s,"network-request-failed"),p=Ci().setTimeout(()=>{u(d)},Nw.get());function y(){Ci().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lw=500,Uw=600,zw="_blank",jw="http://localhost";class Nv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bw(s,t,n,r=Lw,l=Uw){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...Pw,width:r.toString(),height:l.toString(),top:u,left:d},g=We().toLowerCase();n&&(p=mT(g)?zw:n),fT(g)&&(t=t||jw,y.scrollbars="yes");const E=Object.entries(y).reduce((N,[F,tt])=>`${N}${F}=${tt},`,"");if(uR(g)&&p!=="_self")return qw(t||"",p),new Nv(null);const A=window.open(t||"",p,E);vt(A,s,"popup-blocked");try{A.focus()}catch{}return new Nv(A)}function qw(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="__/auth/handler",Fw="emulator/auth/handler",Gw=encodeURIComponent("fac");async function Dv(s,t,n,r,l,u){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ia,eventId:l};if(t instanceof bT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",O1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(t instanceof Yl){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await s._getAppCheckToken(),g=y?`#${Gw}=${encodeURIComponent(y)}`:"";return`${Kw(s)}?${Kl(p).slice(1)}${g}`}function Kw({config:s}){return s.emulator?Pm(s,Fw):`https://${s.authDomain}/${Hw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="webStorageSupport";class Qw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DT,this._completeRedirectFn=yw,this._overrideRedirectResult=mw}async _openPopup(t,n,r,l){cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Dv(t,n,r,lm(),l);return Bw(t,u,Bm())}async _openRedirect(t,n,r,l){await this._originValidation(t);const u=await Dv(t,n,r,lm(),l);return $R(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(cs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await kw(t),r=new vw(t);return n.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Xd,{type:Xd},l=>{const u=l?.[0]?.[Xd];u!==void 0&&n(!!u),ti(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return vT()||dT()||Um()}}const Yw=Qw;var Ov="@firebase/auth",Mv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zw(s){Jr(new lr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(s)},g=new pR(r,l,u,y);return RR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Jr(new lr("auth-internal",t=>{const n=fo(t.getProvider("auth").getImmediate());return(r=>new Xw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(Ov,Mv,$w(s)),wi(Ov,Mv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=300,Ww=ZE("authIdTokenMaxAge")||Jw;let Vv=null;const tI=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ww)return;const l=n?.token;Vv!==l&&(Vv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function eI(s=xm()){const t=gh(s,"auth");if(t.isInitialized())return t.getImmediate();const n=bR(s,{popupRedirectResolver:Yw,persistence:[rw,QR,DT]}),r=ZE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=tI(u.toString());qR(n,d,()=>d(n.currentUser)),BR(n,p=>d(p))}}const l=YE("auth");return l&&wR(n,`http://${l}`),n}function nI(){return document.getElementsByTagName("head")?.[0]??document}gR({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const u=Ii("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",nI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zw("Browser");var iI="firebase",sI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(iI,sI,"app");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ar,LT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,b){function R(){}R.prototype=b.prototype,I.F=b.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(x,M,P){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[M].apply(x,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,R){R||(R=0);const x=Array(16);if(typeof b=="string")for(var M=0;M<16;++M)x[M]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(M=0;M<16;++M)x[M]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=I.g[0],R=I.g[1],M=I.g[2];let P=I.g[3],w;w=b+(P^R&(M^P))+x[0]+3614090360&4294967295,b=R+(w<<7&4294967295|w>>>25),w=P+(M^b&(R^M))+x[1]+3905402710&4294967295,P=b+(w<<12&4294967295|w>>>20),w=M+(R^P&(b^R))+x[2]+606105819&4294967295,M=P+(w<<17&4294967295|w>>>15),w=R+(b^M&(P^b))+x[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=b+(P^R&(M^P))+x[4]+4118548399&4294967295,b=R+(w<<7&4294967295|w>>>25),w=P+(M^b&(R^M))+x[5]+1200080426&4294967295,P=b+(w<<12&4294967295|w>>>20),w=M+(R^P&(b^R))+x[6]+2821735955&4294967295,M=P+(w<<17&4294967295|w>>>15),w=R+(b^M&(P^b))+x[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=b+(P^R&(M^P))+x[8]+1770035416&4294967295,b=R+(w<<7&4294967295|w>>>25),w=P+(M^b&(R^M))+x[9]+2336552879&4294967295,P=b+(w<<12&4294967295|w>>>20),w=M+(R^P&(b^R))+x[10]+4294925233&4294967295,M=P+(w<<17&4294967295|w>>>15),w=R+(b^M&(P^b))+x[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=b+(P^R&(M^P))+x[12]+1804603682&4294967295,b=R+(w<<7&4294967295|w>>>25),w=P+(M^b&(R^M))+x[13]+4254626195&4294967295,P=b+(w<<12&4294967295|w>>>20),w=M+(R^P&(b^R))+x[14]+2792965006&4294967295,M=P+(w<<17&4294967295|w>>>15),w=R+(b^M&(P^b))+x[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=b+(M^P&(R^M))+x[1]+4129170786&4294967295,b=R+(w<<5&4294967295|w>>>27),w=P+(R^M&(b^R))+x[6]+3225465664&4294967295,P=b+(w<<9&4294967295|w>>>23),w=M+(b^R&(P^b))+x[11]+643717713&4294967295,M=P+(w<<14&4294967295|w>>>18),w=R+(P^b&(M^P))+x[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=b+(M^P&(R^M))+x[5]+3593408605&4294967295,b=R+(w<<5&4294967295|w>>>27),w=P+(R^M&(b^R))+x[10]+38016083&4294967295,P=b+(w<<9&4294967295|w>>>23),w=M+(b^R&(P^b))+x[15]+3634488961&4294967295,M=P+(w<<14&4294967295|w>>>18),w=R+(P^b&(M^P))+x[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=b+(M^P&(R^M))+x[9]+568446438&4294967295,b=R+(w<<5&4294967295|w>>>27),w=P+(R^M&(b^R))+x[14]+3275163606&4294967295,P=b+(w<<9&4294967295|w>>>23),w=M+(b^R&(P^b))+x[3]+4107603335&4294967295,M=P+(w<<14&4294967295|w>>>18),w=R+(P^b&(M^P))+x[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=b+(M^P&(R^M))+x[13]+2850285829&4294967295,b=R+(w<<5&4294967295|w>>>27),w=P+(R^M&(b^R))+x[2]+4243563512&4294967295,P=b+(w<<9&4294967295|w>>>23),w=M+(b^R&(P^b))+x[7]+1735328473&4294967295,M=P+(w<<14&4294967295|w>>>18),w=R+(P^b&(M^P))+x[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=b+(R^M^P)+x[5]+4294588738&4294967295,b=R+(w<<4&4294967295|w>>>28),w=P+(b^R^M)+x[8]+2272392833&4294967295,P=b+(w<<11&4294967295|w>>>21),w=M+(P^b^R)+x[11]+1839030562&4294967295,M=P+(w<<16&4294967295|w>>>16),w=R+(M^P^b)+x[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=b+(R^M^P)+x[1]+2763975236&4294967295,b=R+(w<<4&4294967295|w>>>28),w=P+(b^R^M)+x[4]+1272893353&4294967295,P=b+(w<<11&4294967295|w>>>21),w=M+(P^b^R)+x[7]+4139469664&4294967295,M=P+(w<<16&4294967295|w>>>16),w=R+(M^P^b)+x[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=b+(R^M^P)+x[13]+681279174&4294967295,b=R+(w<<4&4294967295|w>>>28),w=P+(b^R^M)+x[0]+3936430074&4294967295,P=b+(w<<11&4294967295|w>>>21),w=M+(P^b^R)+x[3]+3572445317&4294967295,M=P+(w<<16&4294967295|w>>>16),w=R+(M^P^b)+x[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=b+(R^M^P)+x[9]+3654602809&4294967295,b=R+(w<<4&4294967295|w>>>28),w=P+(b^R^M)+x[12]+3873151461&4294967295,P=b+(w<<11&4294967295|w>>>21),w=M+(P^b^R)+x[15]+530742520&4294967295,M=P+(w<<16&4294967295|w>>>16),w=R+(M^P^b)+x[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=b+(M^(R|~P))+x[0]+4096336452&4294967295,b=R+(w<<6&4294967295|w>>>26),w=P+(R^(b|~M))+x[7]+1126891415&4294967295,P=b+(w<<10&4294967295|w>>>22),w=M+(b^(P|~R))+x[14]+2878612391&4294967295,M=P+(w<<15&4294967295|w>>>17),w=R+(P^(M|~b))+x[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=b+(M^(R|~P))+x[12]+1700485571&4294967295,b=R+(w<<6&4294967295|w>>>26),w=P+(R^(b|~M))+x[3]+2399980690&4294967295,P=b+(w<<10&4294967295|w>>>22),w=M+(b^(P|~R))+x[10]+4293915773&4294967295,M=P+(w<<15&4294967295|w>>>17),w=R+(P^(M|~b))+x[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=b+(M^(R|~P))+x[8]+1873313359&4294967295,b=R+(w<<6&4294967295|w>>>26),w=P+(R^(b|~M))+x[15]+4264355552&4294967295,P=b+(w<<10&4294967295|w>>>22),w=M+(b^(P|~R))+x[6]+2734768916&4294967295,M=P+(w<<15&4294967295|w>>>17),w=R+(P^(M|~b))+x[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=b+(M^(R|~P))+x[4]+4149444226&4294967295,b=R+(w<<6&4294967295|w>>>26),w=P+(R^(b|~M))+x[11]+3174756917&4294967295,P=b+(w<<10&4294967295|w>>>22),w=M+(b^(P|~R))+x[2]+718787259&4294967295,M=P+(w<<15&4294967295|w>>>17),w=R+(P^(M|~b))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+P&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const R=b-this.blockSize,x=this.C;let M=this.h,P=0;for(;P<b;){if(M==0)for(;P<=R;)l(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<b;)if(x[M++]=I.charCodeAt(P++),M==this.blockSize){l(this,x),M=0;break}}else for(;P<b;)if(x[M++]=I[P++],M==this.blockSize){l(this,x),M=0;break}}this.h=M,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,R=0;R<4;++R)for(let x=0;x<32;x+=8)I[b++]=this.g[R]>>>x&255;return I};function u(I,b){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=b(I)}function d(I,b){this.h=b;const R=[];let x=!0;for(let M=I.length-1;M>=0;M--){const P=I[M]|0;x&&P==b||(R[M]=P,x=!1)}this.g=R}var p={};function y(I){return-128<=I&&I<128?u(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return G(g(-I));const b=[];let R=1;for(let x=0;I>=R;x++)b[x]=I/R|0,R*=4294967296;return new d(b,0)}function E(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return G(E(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(b,8));let x=A;for(let P=0;P<I.length;P+=8){var M=Math.min(8,I.length-P);const w=parseInt(I.substring(P,P+M),b);M<8?(M=g(Math.pow(b,M)),x=x.j(M).add(g(w))):(x=x.j(R),x=x.add(g(w)))}return x}var A=y(0),N=y(1),F=y(16777216);s=d.prototype,s.m=function(){if(et(this))return-G(this).m();let I=0,b=1;for(let R=0;R<this.g.length;R++){const x=this.i(R);I+=(x>=0?x:4294967296+x)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(tt(this))return"0";if(et(this))return"-"+G(this).toString(I);const b=g(Math.pow(I,6));var R=this;let x="";for(;;){const M=dt(R,b).g;R=W(R,M.j(b));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=M,tt(R))return P+x;for(;P.length<6;)P="0"+P;x=P+x}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function tt(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function et(I){return I.h==-1}s.l=function(I){return I=W(this,I),et(I)?-1:tt(I)?0:1};function G(I){const b=I.g.length,R=[];for(let x=0;x<b;x++)R[x]=~I.g[x];return new d(R,~I.h).add(N)}s.abs=function(){return et(this)?G(this):this},s.add=function(I){const b=Math.max(this.g.length,I.g.length),R=[];let x=0;for(let M=0;M<=b;M++){let P=x+(this.i(M)&65535)+(I.i(M)&65535),w=(P>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);x=w>>>16,P&=65535,w&=65535,R[M]=w<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function W(I,b){return I.add(G(b))}s.j=function(I){if(tt(this)||tt(I))return A;if(et(this))return et(I)?G(this).j(G(I)):G(G(this).j(I));if(et(I))return G(this.j(G(I)));if(this.l(F)<0&&I.l(F)<0)return g(this.m()*I.m());const b=this.g.length+I.g.length,R=[];for(var x=0;x<2*b;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(let M=0;M<I.g.length;M++){const P=this.i(x)>>>16,w=this.i(x)&65535,ie=I.i(M)>>>16,Tt=I.i(M)&65535;R[2*x+2*M]+=w*Tt,ft(R,2*x+2*M),R[2*x+2*M+1]+=P*Tt,ft(R,2*x+2*M+1),R[2*x+2*M+1]+=w*ie,ft(R,2*x+2*M+1),R[2*x+2*M+2]+=P*ie,ft(R,2*x+2*M+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new d(R,0)};function ft(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function st(I,b){this.g=I,this.h=b}function dt(I,b){if(tt(b))throw Error("division by zero");if(tt(I))return new st(A,A);if(et(I))return b=dt(G(I),b),new st(G(b.g),G(b.h));if(et(b))return b=dt(I,G(b)),new st(G(b.g),b.h);if(I.g.length>30){if(et(I)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var R=N,x=b;x.l(I)<=0;)R=Mt(R),x=Mt(x);var M=wt(R,1),P=wt(x,1);for(x=wt(x,2),R=wt(R,2);!tt(x);){var w=P.add(x);w.l(I)<=0&&(M=M.add(R),P=w),x=wt(x,1),R=wt(R,1)}return b=W(I,M.j(b)),new st(M,b)}for(M=A;I.l(b)>=0;){for(R=Math.max(1,Math.floor(I.m()/b.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),P=g(R),w=P.j(b);et(w)||w.l(I)>0;)R-=x,P=g(R),w=P.j(b);tt(P)&&(P=N),M=M.add(P),I=W(I,w)}return new st(M,I)}s.B=function(I){return dt(this,I).h},s.and=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let x=0;x<b;x++)R[x]=this.i(x)&I.i(x);return new d(R,this.h&I.h)},s.or=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let x=0;x<b;x++)R[x]=this.i(x)|I.i(x);return new d(R,this.h|I.h)},s.xor=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let x=0;x<b;x++)R[x]=this.i(x)^I.i(x);return new d(R,this.h^I.h)};function Mt(I){const b=I.g.length+1,R=[];for(let x=0;x<b;x++)R[x]=I.i(x)<<1|I.i(x-1)>>>31;return new d(R,I.h)}function wt(I,b){const R=b>>5;b%=32;const x=I.g.length-R,M=[];for(let P=0;P<x;P++)M[P]=b>0?I.i(P+R)>>>b|I.i(P+R+1)<<32-b:I.i(P+R);return new d(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,LT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=E,ar=d}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UT,wl,zT,Bc,hm,jT,BT,qT;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)t:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break t;v=v[L]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function g(c,m,v){return g=y,g.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,q){for(var it=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)it[Ct-2]=arguments[Ct];return m.prototype[L].apply(S,it)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function F(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function tt(c,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let it=0;it<q;it++)c[v+it]=L[it]}else c.push(L)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function G(c){d.setTimeout(()=>{throw c},0)}function W(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,v){const S=st.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var st=new et(()=>new dt,c=>c.reset());class dt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Mt,wt=!1,I=new ft,b=()=>{const c=Promise.resolve(void 0);Mt=()=>{c.then(R)}};function R(){for(var c;c=W();){try{c.h.call(c.g)}catch(v){G(v)}var m=st;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}wt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function ie(c,m){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(ie,M),ie.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),B=0;function J(c,m,v,S,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++B,this.da=this.fa=!1}function lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function St(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function It(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function D(c){const m={};for(const v in c)m[v]=c[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function rt(c){this.src=c,this.g={},this.h=0}rt.prototype.add=function(c,m,v,S,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const it=yt(c,m,S,L);return it>-1?(m=c[it],v||(m.fa=!1)):(m=new J(m,this.src,q,!!S,L),m.fa=v,c.push(m)),m};function mt(c,m){const v=m.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(S,L,1),q&&(lt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function yt(c,m,v,S){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return L}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),Vt={};function Zt(c,m,v,S,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Zt(c,m[q],v,S,L);return null}return v=gs(v),c&&c[Tt]?c.J(m,v,p(S)?!!S.capture:!1,L):zi(c,m,v,!1,S,L)}function zi(c,m,v,S,L,q){if(!m)throw Error("Invalid event type");const it=p(L)?!!L.capture:!!L;let Ct=ni(c);if(Ct||(c[Ot]=Ct=new rt(c)),v=Ct.add(m,v,S,it,q),v.proxy)return v;if(S=ds(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)P||(L=it),L===void 0&&(L=!1),c.addEventListener(m.toString(),S,L);else if(c.attachEvent)c.attachEvent(dn(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ds(){function c(v){return m.call(c.src,c.listener,v)}const m=ei;return c}function ms(c,m,v,S,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)ms(c,m[q],v,S,L);else S=p(S)?!!S.capture:!!S,v=gs(v),c&&c[Tt]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=yt(m,v,S,L),v>-1&&(lt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=ni(c))&&(m=c.g[m.toString()],c=-1,m&&(c=yt(m,v,S,L)),(v=c>-1?m[c]:null)&&ji(v))}function ji(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Tt])mt(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(dn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=ni(m))?(mt(v,c),v.h==0&&(v.src=null,m[Ot]=null)):lt(c)}}}function dn(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function ei(c,m){if(c.da)c=!0;else{m=new ie(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&ji(c),c=v.call(S,m)}return c}function ni(c){return c=c[Ot],c instanceof rt?c:null}var ps="__closure_events_fn_"+(Math.random()*1e9>>>0);function gs(c){return typeof c=="function"?c:(c[ps]||(c[ps]=function(m){return c.handleEvent(m)}),c[ps])}function ce(){x.call(this),this.i=new rt(this),this.M=this,this.G=null}A(ce,x),ce.prototype[Tt]=!0,ce.prototype.removeEventListener=function(c,m,v,S){ms(this,c,m,v,S)};function me(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new M(m,c);else if(m instanceof M)m.target=m.target||c;else{var L=m;m=new M(S,c),nt(m,L)}L=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],L=ys(q,S,!0,m)&&L;if(q=m.g=c,L=ys(q,S,!0,m)&&L,L=ys(q,S,!1,m)&&L,v)for(it=0;it<v.length;it++)q=m.g=v[it],L=ys(q,S,!1,m)&&L}ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)lt(v[S]);delete c.g[m],c.h--}}this.G=null},ce.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},ce.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function ys(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const Ct=it.listener,ge=it.ha||it.src;it.fa&&mt(c.i,it),L=Ct.call(ge,S)!==!1&&L}}return L&&!S.defaultPrevented}function Uh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function eu(c){c.g=Uh(()=>{c.g=null,c.i&&(c.i=!1,eu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class tn extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(c){x.call(this),this.h=c,this.g={}}A(_r,x);var Eo=[];function To(c){St(c.g,function(m,v){this.g.hasOwnProperty(v)&&ji(m)},c),c.g={}}_r.prototype.N=function(){_r.Z.N.call(this),To(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,zh=d.JSON.parse,nu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function iu(){}function su(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){M.call(this,"d")}A(je,M);function bn(){M.call(this,"c")}A(bn,M);var pe={},ru=null;function oa(){return ru=ru||new ce}pe.Ia="serverreachability";function au(c){M.call(this,pe.Ia,c)}A(au,M);function ii(c){const m=oa();me(m,new au(m))}pe.STAT_EVENT="statevent";function vr(c,m){M.call(this,pe.STAT_EVENT,c),this.stat=m}A(vr,M);function Ee(c){const m=oa();me(m,new vr(m,c))}pe.Ja="timingevent";function si(c,m){M.call(this,pe.Ja,c),this.size=m}A(si,M);function ri(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function jh(c,m,v,S,L,q){c.info(function(){if(c.g)if(q){var it="",Ct=q.split("&");for(let Gt=0;Gt<Ct.length;Gt++){var ge=Ct[Gt].split("=");if(ge.length>1){const le=ge[0];ge=ge[1];const Cn=le.split("_");it=Cn.length>=2&&Cn[1]=="type"?it+(le+"="+ge+"&"):it+(le+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+it})}function ou(c,m,v,S,L,q,it){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+it})}function ai(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(c,v)+(S?" "+S:"")})}function Er(c,m){c.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Bh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let it=1;it<S.length;it++)S[it]=""}}}}return _s(q)}catch{return m}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function Sr(){}A(Sr,iu),Sr.prototype.g=function(){return new XMLHttpRequest},Ao=new Sr;function Bi(c){return encodeURIComponent(String(c))}function lu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Bn(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Te={},ke={};function oi(c,m,v){c.M=1,c.A=Ar(Ae(m)),c.u=v,c.R=!0,la(c,null)}function la(c,m){c.F=Date.now(),li(c),c.B=Ae(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),fa(v.i,"t",S),c.C=0,v=c.j.L,c.h=new qn,c.g=Au(c.j,v?m:null,!c.u),c.P>0&&(c.O=new tn(g(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Eo[0]=L.toString()),L=Eo);for(let q=0;q<L.length;q++){const it=Zt(v,L[q],S||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ii(),jh(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Gn(c)==3?m.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)t:{const Ct=Gn(this.g),ge=this.g.ya(),Gt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Ct!=4||ge==7||(ge==8||Gt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=qh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var q=S;break e}}q=null}if(c=q)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,Ee(12),mn(this),Rn(this);break t}}if(this.R){c=!0;let le;for(;!this.K&&this.C<v.length;)if(le=cu(this,v),le==ke){Ct==4&&(this.m=4,Ee(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Te){this.m=4,Ee(15),ai(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,le,null),ci(this,le);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Uo(it),it.P=!0,Ee(11))}}else ai(this.i,this.l,v,null),ci(this,v);Ct==4&&mn(this),this.o&&!this.K&&(Ct==4?vu(this.j,this):(this.o=!1,li(this)))}else Hi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),mn(this),Rn(this)}}}catch{}finally{}};function qh(c){if(!uu(c))return c.g.la();const m=Be(c.g);if(m==="")return"";let v="";const S=m.length,L=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Rn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(L&&q==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function uu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function cu(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?ke:(v=Number(m.substring(v,S)),isNaN(v)?Te:(S+=1,S+v>m.length?ke:(m=m.slice(S,S+v),c.C=S+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function li(c){c.T=Date.now()+c.H,ua(c,c.H)}function ua(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ri(g(c.aa,c),m)}function ui(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Er(this.i,this.B),this.M!=2&&(ii(),Ee(17)),mn(this),this.m=2,Rn(this)):ua(this,this.T-c)};function Rn(c){c.j.I==0||c.K||vu(c.j,c)}function mn(c){ui(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,To(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ci(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||fi(v.h,c))){if(!c.L&&fi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ya(v),ws(v);else break t;Dr(v),Ee(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(g(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((c.L||v.g==c)&&ya(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const le=Gt[0];if(!(le<=v.K))if(v.K=le,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const Cn=Gt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const vi=Gt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Kn=Gt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(S=1.5*Kn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Qn=c.g;if(Qn){const Or=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var q=S.h;q.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(wo(q,q.h),q.h=null))}if(S.G){const _a=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(S.wa=_a,Yt(S.J,S.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var it=c;if(S.na=Su(S,S.L?S.ba:null,S.W),it.L){Io(S.h,it);var Ct=it,ge=S.O;ge&&(Ct.H=ge),Ct.D&&(ui(Ct),li(Ct)),S.g=it}else yu(S);v.i.length>0&&yi(v)}else Gt[0]!="stop"&&Gt[0]!="close"||_i(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?_i(v,7):Po(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}ii(4)}catch{}}var Se=class{constructor(c,m){this.g=c,this.map=m}};function bo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function fi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function wo(c,m){c.g?c.g.add(m):c.h=m}function Io(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return F(c.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,q=null;S>=0?(L=c[v].substring(0,S),q=c[v].substring(S+1)):L=c[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof pn?(this.l=c.l,Pe(this,c.j),this.o=c.o,this.g=c.g,vs(this,c.u),this.h=c.h,No(this,pu(c.i)),this.m=c.m):c&&(m=String(c).match(hu))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),vs(this,m[4]),this.h=di(m[5]||"",!0),No(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}pn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(br(m,ha,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(br(m,ha,!0),"@"),c.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(br(v,v.charAt(0)=="/"?Do:fu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",br(v,du)),c.join("")},pn.prototype.resolve=function(c){const m=Ae(this);let v=!!c.j;v?Pe(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)vs(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let it=0;it<L.length;){const Ct=L[it++];Ct=="."?S&&it==L.length&&q.push(""):Ct==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&it==L.length&&q.push("")):(q.push(Ct),S=!0)}S=q.join("/")}else S=L}return v?m.h=S:v=c.i.toString()!=="",v?No(m,pu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Ae(c){return new pn(c)}function Pe(c,m,v){c.j=v?di(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function vs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function No(c,m,v){m instanceof Ts?(c.i=m,da(c.i,c.l)):(v||(m=br(m,Es)),c.i=new Ts(m,c.l))}function Yt(c,m,v){c.i.set(m,v)}function Ar(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function br(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,fu=/[#\?:]/g,Do=/[#\?]/g,Es=/[#\?@]/g,du=/#/g;function Ts(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ts.prototype,s.add=function(c,m){rn(this),this.i=null,c=Ss(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function mu(c,m){rn(c),m=Ss(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Oo(c,m){return rn(c),m=Ss(c,m),c.g.has(m)}s.forEach=function(c,m){rn(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(m,L,S,this)},this)},this)};function Mo(c,m){rn(c);let v=[];if(typeof m=="string")Oo(c,m)&&(v=v.concat(c.g.get(Ss(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return rn(this),this.i=null,c=Ss(this,c),Oo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Mo(this,c),c.length>0?String(c[0]):m):m};function fa(c,m,v){mu(c,m),v.length>0&&(c.i=null,c.g.set(Ss(c,m),F(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=Bi(v);v=Mo(this,v);for(let q=0;q<v.length;q++){let it=L;v[q]!==""&&(it+="="+Bi(v[q])),c.push(it)}}return this.i=c.join("&")};function pu(c){const m=new Ts;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Ss(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function da(c,m){m&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(mu(this,S),fa(this,L,v))},c)),c.j=m}function Hn(c,m){const v=new jn;if(d.Image){const S=new Image;S.onload=E(wn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=E(wn,v,"TestLoadImage: error",!1,m,S),S.onabort=E(wn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(wn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function Vo(c,m){const v=new jn,S=new AbortController,L=setTimeout(()=>{S.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(L),q.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(v,"TestPingServer: error",!1,m)})}function wn(c,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function As(){this.g=new nu}function mi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(mi,iu),mi.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(c,m){ce.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Rr,ce),s=Rr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Fn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?bs(this):Fn(this),this.readyState==3&&ma(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,bs(this))},s.Na=function(c){this.g&&(this.response=c,bs(this))},s.ga=function(){this.g&&bs(this)};function bs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let m="";return St(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function wr(c,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=In(v),typeof c=="string"?v!=null&&Bi(v):Yt(c,m,v))}function Jt(c){ce.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Jt,ce);var pi=/^https?$/i,xo=["POST","PUT"];s=Jt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=N(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Ir(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(xo,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ir(this,q)}};function Ir(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,ko(c),qi(c)}function ko(c){c.A||(c.A=!0,me(c,"complete"),me(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,me(this,"complete"),me(this,"abort"),qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},s.Xa=function(){Cr(this)};function Cr(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(me(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let it=String(c.D).match(hu)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),S=!pi.test(it?it.toLowerCase():"")}v=S}if(v)me(c,"complete"),me(c,"success");else{c.o=6;try{var L=Gn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",ko(c)}}finally{qi(c)}}}}function qi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||me(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),zh(m)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const m={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(w(c[S]))continue;var v=lu(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}It(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Rs(c){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,c),this.Za=gi("retryDelaySeedMs",1e4,c),this.Ta=gi("forwardChannelMaxRetries",2,c),this.va=gi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(c&&c.concurrentRequestLimit),this.Ba=new As,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Rs.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,S){Ee(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Su(this,null,this.W),yi(this)};function Po(c){if(pa(c),c.I==3){var m=c.V++,v=Ae(c.J);if(Yt(v,"SID",c.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),Nr(c,v),m=new Bn(c,c.j,m),m.M=2,m.A=Ar(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}Tu(c)}function ws(c){c.g&&(Uo(c),c.g.cancel(),c.g=null)}function pa(c){ws(c),c.v&&(d.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function yi(c){if(!Ro(c.h)&&!c.m){c.m=!0;var m=c.Ea;Mt||b(),wt||(Mt(),wt=!0),I.add(m,c),c.D=0}}function ga(c,m){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ri(g(c.Ea,c,m),Eu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Bn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=D(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,L,m),v=Ae(this.J),Yt(v,"RID",c),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),Nr(this,v),q&&(this.R?m="headers="+Bi(In(q))+"&"+m:this.u&&wr(v,this.u,q)),wo(this.h,L),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(c?Lo(this,c):this.i.length==0||Ro(this.h)||Lo(this))};function Lo(c,m){var v;m?v=m.l:v=c.V++;const S=Ae(c.J);Yt(S,"SID",c.M),Yt(S,"RID",v),Yt(S,"AID",c.K),Nr(c,S),c.u&&c.o&&wr(S,c.u,c.o),v=new Bn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=gu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),wo(c.h,v),oi(v,S,m)}function Nr(c,m){c.H&&St(c.H,function(v,S){Yt(m,S,v)}),c.l&&St({},function(v,S){Yt(m,S,v)})}function gu(c,m,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;t:{var L=c.i;let Ct=-1;for(;;){const ge=["count="+v];Ct==-1?v>0?(Ct=L[0].g,ge.push("ofs="+Ct)):Ct=0:ge.push("ofs="+Ct);let Gt=!0;for(let le=0;le<v;le++){var q=L[le].g;const Cn=L[le].map;if(q-=Ct,q<0)Ct=Math.max(0,L[le].g-100),Gt=!1;else try{q="req"+q+"_"||"";try{var it=Cn instanceof Map?Cn:Object.entries(Cn);for(const[vi,Kn]of it){let Qn=Kn;p(Kn)&&(Qn=_s(Kn)),ge.push(q+vi+"="+encodeURIComponent(Qn))}}catch(vi){throw ge.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{S&&S(Cn)}}if(Gt){it=ge.join("&");break t}}it=void 0}return c=c.i.splice(0,v),m.G=c,it}function yu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Mt||b(),wt||(Mt(),wt=!0),I.add(m,c),c.A=0}}function Dr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ri(g(c.Da,c),Eu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ri(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),ws(this),_u(this))};function Uo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function _u(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Ae(c.na);Yt(m,"RID","rpc"),Yt(m,"SID",c.M),Yt(m,"AID",c.K),Yt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(m,"TO",c.ia),Yt(m,"TYPE","xmlhttp"),Nr(c,m),c.u&&c.o&&wr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ar(Ae(m)),v.u=null,v.R=!0,la(v,c)}s.Va=function(){this.C!=null&&(this.C=null,ws(this),Dr(this),Ee(19))};function ya(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function vu(c,m){var v=null;if(c.g==m){ya(c),Uo(c),c.g=null;var S=2}else if(fi(c.h,m))v=m.G,Io(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;S=oa(),me(S,new si(S,v)),yi(c)}else yu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&ga(c,m)||S==2&&Dr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function Eu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function _i(c,m){if(c.j.info("Error code "+m),m==2){var v=g(c.bb,c),S=c.Ua;const L=!S;S=new pn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(S,"https"),Ar(S),L?Hn(S.toString(),v):Vo(S.toString(),v)}else Ee(2);c.I=0,c.l&&c.l.pa(m),Tu(c),pa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Tu(c){if(c.I=0,c.ja=[],c.l){const m=Co(c.h);(m.length!=0||c.i.length!=0)&&(tt(c.ja,m),tt(c.ja,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.oa()}}function Su(c,m,v){var S=v instanceof pn?Ae(v):new pn(v);if(S.g!="")m&&(S.g=m+"."+S.g),vs(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new pn(null);S&&Pe(q,S),m&&(q.g=m),L&&vs(q,L),v&&(q.h=v),S=q}return v=c.G,m=c.wa,v&&m&&Yt(S,v,m),Yt(S,"VER",c.ka),Nr(c,S),S}function Au(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Jt(new mi({ab:v})):new Jt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}s=bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Is(){}Is.prototype.g=function(c,m){return new en(c,m)};function en(c,m){ce.call(this),this.g=new Rs(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Fi(this)}A(en,ce),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Po(this.g)},en.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_s(c),c=v);m.i.push(new Se(m.Ya++,c)),m.I==3&&yi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,en.Z.N.call(this)};function Ru(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Ru,je);function wu(){bn.call(this),this.status=1}A(wu,bn);function Fi(c){this.g=c}A(Fi,bu),Fi.prototype.ra=function(){me(this.g,"a")},Fi.prototype.qa=function(c){me(this.g,new Ru(c))},Fi.prototype.pa=function(c){me(this.g,new wu)},Fi.prototype.oa=function(){me(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,qT=function(){return new Is},BT=function(){return oa()},jT=pe,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Bc=Tr,So.COMPLETE="complete",zT=So,su.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ce.prototype.listen=ce.prototype.J,wl=su,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,UT=Jt}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const kv="@firebase/firestore",Pv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new Mm("@firebase/firestore");function Xa(){return ta.logLevel}function ot(s,...t){if(ta.logLevel<=Ut.DEBUG){const n=t.map(Hm);ta.debug(`Firestore (${po}): ${s}`,...n)}}function hs(s,...t){if(ta.logLevel<=Ut.ERROR){const n=t.map(Hm);ta.error(`Firestore (${po}): ${s}`,...n)}}function ao(s,...t){if(ta.logLevel<=Ut.WARN){const n=t.map(Hm);ta.warn(`Firestore (${po}): ${s}`,...n)}}function Hm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,HT(s,r,n)}function HT(s,t,n){let r=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hs(r),new Error(r)}function Qt(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||HT(t,l,r)}function Rt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Li{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ze.UNAUTHENTICATED)))}shutdown(){}}class aI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oI{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ls,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ls)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new FT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class lI{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new lI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Qt(this.o===void 0,3512);const r=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=hI(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=t.charAt(l[u]%62))}return r}}function zt(s,t){return s<t?-1:s>t?1:0}function fm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=t.charAt(r);if(l!==u)return $d(l)===$d(u)?zt(l,u):$d(l)?1:-1}return zt(s.length,t.length)}const fI=55296,dI=57343;function $d(s){const t=s.charCodeAt(0);return t>=fI&&t<=dI}function oo(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="__name__";class bi{constructor(t,n,r){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Et(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const u=bi.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return zt(t.length,n.length)}static compareSegments(t,n){const r=bi.isNumericId(t),l=bi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?bi.extractNumericId(t).compare(bi.extractNumericId(n)):fm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}}class ae extends bi{construct(t,n,r){return new ae(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const mI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends bi{construct(t,n,r){return new Qe(t,n,r)}static isValidIdentifier(t){return mI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uv}static keyField(){return new Qe([Uv])}static fromServerFormat(t){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ae.fromString(t))}static fromName(t){return new gt(ae.fromString(t).popFirst(5))}static empty(){return new gt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(s,t,n){if(!n)throw new ct(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function pI(s,t,n,r){if(t===!0&&r===!0)throw new ct(Z.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function zv(s){if(!gt.isDocumentKey(s))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function jv(s){if(gt.isDocumentKey(s))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function KT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Gm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Et(12329,{type:typeof s})}function Vi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gm(s);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(s,t){const n={typeString:s};return t&&(n.value=t),n}function $l(s,t){if(!KT(s))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ct(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=-62135596800,qv=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*qv);return new oe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Bv)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qv}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($l(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Bv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ne("string",oe._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new oe(0,0))}static max(){return new At(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=-1;function gI(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new oe(n+1,0):new oe(n,r));return new ur(l,gt.empty(),t)}function yI(s){return new ur(s.readTime,s.key,zl)}class ur{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ur(At.min(),gt.empty(),zl)}static max(){return new ur(At.max(),gt.empty(),zl)}}function _I(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(s.documentKey,t.documentKey),n!==0?n:zt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==vI)throw s;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,r)=>{n(t)}))}static reject(t){return new $(((n,r)=>{r(t)}))}static waitFor(t){return new $(((n,r)=>{let l=0,u=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(y=>r(y)))})),d=!0,u===l&&n()}))}static or(t){let n=$.resolve(!1);for(const r of t)n=n.next((l=>l?$.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(t,n){return new $(((r,l)=>{const u=t.length,d=new Array(u);let p=0;for(let y=0;y<u;y++){const g=y;n(t[g]).next((E=>{d[g]=E,++p,p===u&&r(d)}),(E=>l(E)))}}))}static doWhile(t,n){return new $(((r,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):r()};u()}))}}function TI(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=-1;function Sh(s){return s==null}function eh(s){return s===0&&1/s==-1/0}function SI(s){return typeof s=="number"&&Number.isInteger(s)&&!eh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="";function AI(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Hv(t)),t=bI(s.get(n),t);return Hv(t)}function bI(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case QT:n+="";break;default:n+=u}}return n}function Hv(s){return s+QT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function gr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function YT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mc(this.root,t,this.comparator,!0)}}class Mc{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,r,l,u){this.key=t,this.value=n,this.color=r??Ke.RED,this.left=l??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,u){return new Ke(t??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,r,l,u){return this}insert(t,n,r){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gv(this.data.getIterator())}getIteratorFrom(t){return new Gv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class Gv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new An([])}unionWith(t){let n=new xe(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new An(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return oo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new XT("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const RI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(s){if(Qt(!!s,39018),typeof s=="string"){let t=0;const n=RI.exec(s);if(Qt(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ve(s.seconds),nanos:ve(s.nanos)}}function ve(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function hr(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="server_timestamp",ZT="__type__",JT="__previous_value__",WT="__local_write_time__";function Qm(s){return(s?.mapValue?.fields||{})[ZT]?.stringValue===$T}function Ah(s){const t=s.mapValue.fields[JT];return Qm(t)?Ah(t):t}function jl(s){const t=cr(s.mapValue.fields[WT].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,n,r,l,u,d,p,y,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const nh="(default)";class Bl{constructor(t,n){this.projectId=t,this.database=n||nh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===nh}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="__type__",II="__max__",Vc={mapValue:{}},e0="__vector__",ih="value";function fr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Qm(s)?4:NI(s)?9007199254740991:CI(s)?10:11:Et(28295,{value:s})}function xi(s,t){if(s===t)return!0;const n=fr(s);if(n!==fr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return jl(s).isEqual(jl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=cr(l.timestampValue),p=cr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,u){return hr(l.bytesValue).isEqual(hr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,u){return ve(l.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(s,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ve(l.integerValue)===ve(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ve(l.doubleValue),p=ve(u.doubleValue);return d===p?eh(d)===eh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return oo(s.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(Fv(d)!==Fv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!xi(d[y],p[y])))return!1;return!0})(s,t);default:return Et(52216,{left:s})}}function ql(s,t){return(s.values||[]).find((n=>xi(n,t)))!==void 0}function lo(s,t){if(s===t)return 0;const n=fr(s),r=fr(t);if(n!==r)return zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(u,d){const p=ve(u.integerValue||u.doubleValue),y=ve(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return Kv(s.timestampValue,t.timestampValue);case 4:return Kv(jl(s),jl(t));case 5:return fm(s.stringValue,t.stringValue);case 6:return(function(u,d){const p=hr(u),y=hr(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(u,d){const p=u.split("/"),y=d.split("/");for(let g=0;g<p.length&&g<y.length;g++){const E=zt(p[g],y[g]);if(E!==0)return E}return zt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,d){const p=zt(ve(u.latitude),ve(d.latitude));return p!==0?p:zt(ve(u.longitude),ve(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Qv(s.arrayValue,t.arrayValue);case 10:return(function(u,d){const p=u.fields||{},y=d.fields||{},g=p[ih]?.arrayValue,E=y[ih]?.arrayValue,A=zt(g?.values?.length||0,E?.values?.length||0);return A!==0?A:Qv(g,E)})(s.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Vc.mapValue&&d===Vc.mapValue)return 0;if(u===Vc.mapValue)return 1;if(d===Vc.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),g=d.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const N=fm(y[A],E[A]);if(N!==0)return N;const F=lo(p[y[A]],g[E[A]]);if(F!==0)return F}return zt(y.length,E.length)})(s.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function Kv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const n=cr(s),r=cr(t),l=zt(n.seconds,r.seconds);return l!==0?l:zt(n.nanos,r.nanos)}function Qv(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=lo(n[l],r[l]);if(u)return u}return zt(n.length,r.length)}function uo(s){return dm(s)}function dm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=cr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return hr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return gt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=dm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${dm(n.fields[d])}`;return l+"}"})(s.mapValue):Et(61005,{value:s})}function qc(s){switch(fr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(s);return t?16+qc(t):16;case 5:return 2*s.stringValue.length;case 6:return hr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+qc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return gr(r.fields,((u,d)=>{l+=u.length+qc(d)})),l})(s.mapValue);default:throw Et(13486,{value:s})}}function mm(s){return!!s&&"integerValue"in s}function Ym(s){return!!s&&"arrayValue"in s}function Yv(s){return!!s&&"nullValue"in s}function Xv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hc(s){return!!s&&"mapValue"in s}function CI(s){return(s?.mapValue?.fields||{})[t0]?.stringValue===e0}function Ml(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return gr(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Ml(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ml(s.arrayValue.values[n]);return t}return{...s}}function NI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===II}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Hc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ml(n)}setAll(t){let n=Qe.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=Ml(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(t){const n=this.field(t.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){gr(n,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new fn(Ml(this.value))}}function n0(s){const t=[];return gr(s.fields,((n,r)=>{const l=new Qe([n]);if(Hc(r)){const u=n0(r.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new An(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n,r,l,u,d,p){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,At.min(),At.min(),At.min(),fn.empty(),0)}static newFoundDocument(t,n,r,l){return new Je(t,1,n,At.min(),r,l,0)}static newNoDocument(t,n){return new Je(t,2,n,At.min(),At.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,At.min(),At.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,n){this.position=t,this.inclusive=n}}function $v(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const u=t[l],d=s.position[l];if(u.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),n.key):r=lo(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!xi(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n="asc"){this.field=t,this.dir=n}}function DI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{}class Ve extends i0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new MI(t,n,r):n==="array-contains"?new kI(t,r):n==="in"?new PI(t,r):n==="not-in"?new LI(t,r):n==="array-contains-any"?new UI(t,r):new Ve(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new VI(t,r):new xI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&fr(this.value)===fr(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends i0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ki(t,n)}matches(t){return s0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function s0(s){return s.op==="and"}function r0(s){return OI(s)&&s0(s)}function OI(s){for(const t of s.filters)if(t instanceof ki)return!1;return!0}function pm(s){if(s instanceof Ve)return s.field.canonicalString()+s.op.toString()+uo(s.value);if(r0(s))return s.filters.map((t=>pm(t))).join(",");{const t=s.filters.map((n=>pm(n))).join(",");return`${s.op}(${t})`}}function a0(s,t){return s instanceof Ve?(function(r,l){return l instanceof Ve&&r.op===l.op&&r.field.isEqual(l.field)&&xi(r.value,l.value)})(s,t):s instanceof ki?(function(r,l){return l instanceof ki&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&a0(d,l.filters[p])),!0):!1})(s,t):void Et(19439)}function o0(s){return s instanceof Ve?(function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`})(s):s instanceof ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(o0).join(" ,")+"}"})(s):"Filter"}class MI extends Ve{constructor(t,n,r){super(t,n,r),this.key=gt.fromName(r.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class VI extends Ve{constructor(t,n){super(t,"in",n),this.keys=l0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class xI extends Ve{constructor(t,n){super(t,"not-in",n),this.keys=l0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function l0(s,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class kI extends Ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ym(n)&&ql(n.arrayValue,this.value)}}class PI extends Ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class LI extends Ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ql(this.value.arrayValue,n)}}class UI extends Ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ql(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,n=null,r=[],l=[],u=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function Jv(s,t=null,n=[],r=[],l=null,u=null,d=null){return new zI(s,t,n,r,l,u,d)}function Xm(s){const t=Rt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>pm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Sh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>uo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>uo(r))).join(",")),t.Te=n}return t.Te}function $m(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!DI(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!a0(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Zv(s.startAt,t.startAt)&&Zv(s.endAt,t.endAt)}function gm(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,n=null,r=[],l=[],u=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jI(s,t,n,r,l,u,d,p){return new bh(s,t,n,r,l,u,d,p)}function Zm(s){return new bh(s)}function Wv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function BI(s){return s.collectionGroup!==null}function Vl(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new xe(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new rh(u,r))})),n.has(Qe.keyField().canonicalString())||t.Ie.push(new rh(Qe.keyField(),r))}return t.Ie}function Ni(s){const t=Rt(s);return t.Ee||(t.Ee=qI(t,Vl(s))),t.Ee}function qI(s,t){if(s.limitType==="F")return Jv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new rh(l.field,u)}));const n=s.endAt?new sh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new sh(s.startAt.position,s.startAt.inclusive):null;return Jv(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function ym(s,t,n){return new bh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Rh(s,t){return $m(Ni(s),Ni(t))&&s.limitType===t.limitType}function u0(s){return`${Xm(Ni(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>o0(l))).join(", ")}]`),Sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>uo(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>uo(l))).join(",")),`Target(${r})`})(Ni(s))}; limitType=${s.limitType})`}function wh(s,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):gt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,l){for(const u of Vl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const g=$v(d,p,y);return d.inclusive?g<=0:g<0})(r.startAt,Vl(r),l)||r.endAt&&!(function(d,p,y){const g=$v(d,p,y);return d.inclusive?g>=0:g>0})(r.endAt,Vl(r),l))})(s,t)}function HI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function c0(s){return(t,n)=>{let r=!1;for(const l of Vl(s)){const u=FI(l,t,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function FI(s,t,n){const r=s.field.isKeyField()?gt.comparator(t.key,n.key):(function(u,d,p){const y=d.data.field(u),g=p.data.field(u);return y!==null&&g!==null?lo(y,g):Et(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){gr(this.inner,((n,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return YT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new he(gt.comparator);function fs(){return GI}const h0=new he(gt.comparator);function Il(...s){let t=h0;for(const n of s)t=t.insert(n.key,n);return t}function f0(s){let t=h0;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Xr(){return xl()}function d0(){return xl()}function xl(){return new ra((s=>s.toString()),((s,t)=>s.isEqual(t)))}const KI=new he(gt.comparator),QI=new xe(gt.comparator);function jt(...s){let t=QI;for(const n of s)t=t.add(n);return t}const YI=new xe(zt);function XI(){return YI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(t)?"-0":t}}function m0(s){return{integerValue:""+s}}function $I(s,t){return SI(t)?m0(t):Jm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function ZI(s,t,n){return s instanceof ah?(function(l,u){const d={fields:{[ZT]:{stringValue:$T},[WT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Qm(u)&&(u=Ah(u)),u&&(d.fields[JT]=u),{mapValue:d}})(n,t):s instanceof Hl?g0(s,t):s instanceof Fl?y0(s,t):(function(l,u){const d=p0(l,u),p=tE(d)+tE(l.Ae);return mm(d)&&mm(l.Ae)?m0(p):Jm(l.serializer,p)})(s,t)}function JI(s,t,n){return s instanceof Hl?g0(s,t):s instanceof Fl?y0(s,t):n}function p0(s,t){return s instanceof oh?(function(r){return mm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class ah extends Ih{}class Hl extends Ih{constructor(t){super(),this.elements=t}}function g0(s,t){const n=_0(t);for(const r of s.elements)n.some((l=>xi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Fl extends Ih{constructor(t){super(),this.elements=t}}function y0(s,t){let n=_0(t);for(const r of s.elements)n=n.filter((l=>!xi(l,r)));return{arrayValue:{values:n}}}class oh extends Ih{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function tE(s){return ve(s.integerValue||s.doubleValue)}function _0(s){return Ym(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function WI(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Hl&&l instanceof Hl||r instanceof Fl&&l instanceof Fl?oo(r.elements,l.elements,xi):r instanceof oh&&l instanceof oh?xi(r.Ae,l.Ae):r instanceof ah&&l instanceof ah})(s.transform,t.transform)}class tC{constructor(t,n){this.version=t,this.transformResults=n}}class Wn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Wn}static exists(t){return new Wn(void 0,t)}static updateTime(t){return new Wn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Ch{}function v0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Wm(s.key,Wn.none()):new Zl(s.key,s.data,Wn.none());{const n=s.data,r=fn.empty();let l=new xe(Qe.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new yr(s.key,r,new An(l.toArray()),Wn.none())}}function eC(s,t,n){s instanceof Zl?(function(l,u,d){const p=l.value.clone(),y=nE(l.fieldTransforms,u,d.transformResults);p.setAll(y),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,n):s instanceof yr?(function(l,u,d){if(!Fc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=nE(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(E0(l)),y.setAll(p),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function kl(s,t,n,r){return s instanceof Zl?(function(u,d,p,y){if(!Fc(u.precondition,d))return p;const g=u.value.clone(),E=iE(u.fieldTransforms,y,d);return g.setAll(E),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(s,t,n,r):s instanceof yr?(function(u,d,p,y){if(!Fc(u.precondition,d))return p;const g=iE(u.fieldTransforms,y,d),E=d.data;return E.setAll(E0(u)),E.setAll(g),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,t,n,r):(function(u,d,p){return Fc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,n)}function nC(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),u=p0(r.transform,l||null);u!=null&&(n===null&&(n=fn.empty()),n.set(r.field,u))}return n||null}function eE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&oo(r,l,((u,d)=>WI(u,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Zl extends Ch{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class yr extends Ch{constructor(t,n,r,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function E0(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function nE(s,t,n){const r=new Map;Qt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,p=t.data.field(u.field);r.set(u.field,JI(d,p,n[l]))}return r}function iE(s,t,n){const r=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);r.set(l.field,ZI(u,d,t))}return r}class Wm extends Ch{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iC extends Ch{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&eC(u,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=kl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=kl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=d0();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const y=v0(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),jt())}isEqual(t){return this.batchId===t.batchId&&oo(this.mutations,t.mutations,((n,r)=>eE(n,r)))&&oo(this.baseMutations,t.baseMutations,((n,r)=>eE(n,r)))}}class tp{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){Qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return KI})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new tp(t,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,qt;function oC(s){switch(s){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:s})}}function T0(s){if(s===void 0)return hs("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Ce.OK:return Z.OK;case Ce.CANCELLED:return Z.CANCELLED;case Ce.UNKNOWN:return Z.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return Z.INTERNAL;case Ce.UNAVAILABLE:return Z.UNAVAILABLE;case Ce.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ce.NOT_FOUND:return Z.NOT_FOUND;case Ce.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ce.ABORTED:return Z.ABORTED;case Ce.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ce.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:s})}}(qt=Ce||(Ce={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new ar([4294967295,4294967295],0);function sE(s){const t=lC().encode(s),n=new LT;return n.update(t),new Uint8Array(n.digest())}function rE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ar([n,r],0),new ar([l,u],0)]}class ep{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ar.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(ar.fromNumber(r)));return l.compare(uC)===1&&(l=new ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=sE(t),[r,l]=rE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new ep(u,l,n);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=sE(t),[r,l]=rE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,n,r,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Nh(At.min(),l,new he(zt),fs(),jt())}}class Jl{constructor(t,n,r,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Jl(r,n,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n,r,l){this.be=t,this.removedTargetIds=n,this.key=r,this.De=l}}class S0{constructor(t,n){this.targetId=t,this.Ce=n}}class A0{constructor(t,n,r=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class aE{constructor(){this.ve=0,this.Fe=oE(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),n=jt(),r=jt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Et(38017,{changeType:u})}})),new Jl(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=oE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cC{constructor(t){this.Ge=t,this.ze=new Map,this.je=fs(),this.Je=xc(),this.He=xc(),this.Ye=new he(zt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(gm(u))if(r===0){const d=new gt(u.path);this.et(n,d,Je.newNoDocument(d,At.min()))}else Qt(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=hr(r).toUint8Array()}catch(y){if(y instanceof XT)return ao("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new ep(d,l,u)}catch(y){return ao(y instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&gm(p.target)){const y=new gt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let r=jt();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new Nh(t,n,this.Ye,this.je,r);return this.je=fs(),this.Je=xc(),this.He=xc(),this.Ye=new he(zt),l}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new aE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new xe(zt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new xe(zt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new aE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function xc(){return new he(gt.comparator)}function oE(){return new he(gt.comparator)}const hC={asc:"ASCENDING",desc:"DESCENDING"},fC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dC={and:"AND",or:"OR"};class mC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function _m(s,t){return s.useProto3Json||Sh(t)?t:{value:t}}function lh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function b0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function pC(s,t){return lh(s,t.toTimestamp())}function Di(s){return Qt(!!s,49232),At.fromTimestamp((function(n){const r=cr(n);return new oe(r.seconds,r.nanos)})(s))}function np(s,t){return vm(s,t).canonicalString()}function vm(s,t){const n=(function(l){return new ae(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function R0(s){const t=ae.fromString(s);return Qt(D0(t),10190,{key:t.toString()}),t}function Em(s,t){return np(s.databaseId,t.path)}function Zd(s,t){const n=R0(t);if(n.get(1)!==s.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new gt(I0(n))}function w0(s,t){return np(s.databaseId,t)}function gC(s){const t=R0(s);return t.length===4?ae.emptyPath():I0(t)}function Tm(s){return new ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function I0(s){return Qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function lE(s,t,n){return{name:Em(s,t),fields:n.value.mapValue.fields}}function yC(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Qt(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(g){const E=g.code===void 0?Z.UNKNOWN:T0(g.code);return new ct(E,g.message||"")})(d);n=new A0(r,l,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Zd(s,r.document.name),u=Di(r.document.updateTime),d=r.document.createTime?Di(r.document.createTime):At.min(),p=new fn({mapValue:{fields:r.document.fields}}),y=Je.newFoundDocument(l,u,d,p),g=r.targetIds||[],E=r.removedTargetIds||[];n=new Gc(g,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Zd(s,r.document),u=r.readTime?Di(r.readTime):At.min(),d=Je.newNoDocument(l,u),p=r.removedTargetIds||[];n=new Gc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Zd(s,r.document),u=r.removedTargetIds||[];n=new Gc([],u,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new aC(l,u),p=r.targetId;n=new S0(p,d)}}return n}function _C(s,t){let n;if(t instanceof Zl)n={update:lE(s,t.key,t.value)};else if(t instanceof Wm)n={delete:Em(s,t.key)};else if(t instanceof yr)n={update:lE(s,t.key,t.data),updateMask:IC(t.fieldMask)};else{if(!(t instanceof iC))return Et(16599,{Vt:t.type});n={verify:Em(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof ah)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Hl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof oh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:pC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(s,t.precondition)),n}function vC(s,t){return s&&s.length>0?(Qt(t!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?Di(l.updateTime):Di(u);return d.isEqual(At.min())&&(d=Di(u)),new tC(d,l.transformResults||[])})(n,t)))):[]}function EC(s,t){return{documents:[w0(s,t.path)]}}function TC(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=w0(s,l);const u=(function(g){if(g.length!==0)return N0(ki.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(g){if(g.length!==0)return g.map((E=>(function(N){return{field:Za(N.field),direction:bC(N.dir)}})(E)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=_m(s,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:l}}function SC(s){let t=gC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Qt(r===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const N=C0(A);return N instanceof ki&&r0(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(A){return A.map((N=>(function(tt){return new rh(Ja(tt.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(N)))})(n.orderBy));let p=null;n.limit&&(p=(function(A){let N;return N=typeof A=="object"?A.value:A,Sh(N)?null:N})(n.limit));let y=null;n.startAt&&(y=(function(A){const N=!!A.before,F=A.values||[];return new sh(F,N)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const N=!A.before,F=A.values||[];return new sh(F,N)})(n.endAt)),jI(t,l,d,u,p,"F",y,g)}function AC(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function C0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ja(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ja(n.unaryFilter.field);return Ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ja(n.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ve.create(Ja(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ki.create(n.compositeFilter.filters.map((r=>C0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(s):Et(30097,{filter:s})}function bC(s){return hC[s]}function RC(s){return fC[s]}function wC(s){return dC[s]}function Za(s){return{fieldPath:s.canonicalString()}}function Ja(s){return Qe.fromServerFormat(s.fieldPath)}function N0(s){return s instanceof Ve?(function(n){if(n.op==="=="){if(Xv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(Yv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(Yv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:RC(n.op),value:n.value}}})(s):s instanceof ki?(function(n){const r=n.getFilters().map((l=>N0(l)));return r.length===1?r[0]:{compositeFilter:{op:wC(n.op),filters:r}}})(s):Et(54877,{filter:s})}function IC(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function D0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t,n,r,l,u=At.min(),d=At.min(),p=Ye.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t){this.yt=t}}function NC(s){const t=SC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ym(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.Cn=new OC}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(ur.min())}updateCollectionGroup(t,n,r){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class OC{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new xe(ae.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new xe(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O0=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(O0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",MC=1048576;function hE([s,t],[n,r]){const l=zt(s,n);return l===0?zt(t,r):l}class VC{constructor(t){this.Ir=t,this.buffer=new xe(hE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xC{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(cE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?ot(cE,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Vr(3e5)}))}}class kC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Th.ce);const r=new VC(n);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(uE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,l,u,d,p,y,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,p=Date.now(),this.removeTargets(t,r,n)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(g=Date.now(),Xa()<=Ut.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function PC(s,t){return new kC(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.changes=new ra((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&kl(r.mutation,l,An.empty(),oe.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,jt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=jt()){const l=Xr();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((u=>{let d=Il();return u.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const r=Xr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,jt())))}populateOverlays(t,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,r,l){let u=fs();const d=xl(),p=(function(){return xl()})();return n.forEach(((y,g)=>{const E=r.get(g.key);l.has(g.key)&&(E===void 0||E.mutation instanceof yr)?u=u.insert(g.key,g):E!==void 0?(d.set(g.key,E.mutation.getFieldMask()),kl(E.mutation,g,E.mutation.getFieldMask(),oe.now())):d.set(g.key,An.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((g,E)=>d.set(g,E))),n.forEach(((g,E)=>p.set(g,new UC(E,d.get(g)??null)))),p)))}recalculateAndSaveOverlays(t,n){const r=xl();let l=new he(((d,p)=>d-p)),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let E=r.get(y)||An.empty();E=p.applyToLocalView(g,E),r.set(y,E);const A=(l.get(p.batchId)||jt()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,E=y.value,A=d0();E.forEach((N=>{if(!u.has(N)){const F=v0(n.get(N),r.get(N));F!==null&&A.set(N,F),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,g,A))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):BI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-u.size):$.resolve(Xr());let p=zl,y=u;return d.next((g=>$.forEach(g,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next((N=>{y=y.insert(E,N)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,y,g,jt()))).next((E=>({batchId:p,changes:f0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((r=>{let l=Il();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const u=n.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(t,u).next((p=>$.forEach(p,(y=>{const g=(function(A,N){return new bh(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,l).next((E=>{E.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,l)))).next((d=>{u.forEach(((y,g)=>{const E=g.getKey();d.get(E)===null&&(d=d.insert(E,Je.newInvalidDocument(E)))}));let p=Il();return d.forEach(((y,g)=>{const E=u.get(y);E!==void 0&&kl(E.mutation,g,An.empty(),oe.now()),wh(n,g)&&(p=p.insert(y,g))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:NC(l.bundledQuery),readTime:Di(l.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.overlays=new he(gt.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Xr();return $.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,u)=>{this.St(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,n,r){const l=Xr(),u=n.length+1,d=new gt(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let u=new he(((g,E)=>g-E));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let E=u.get(g.largestBatchId);E===null&&(E=Xr(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=Xr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,E)=>p.set(g,E))),!(p.size()>=l)););return $.resolve(p)}St(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new rC(n,r));let u=this.qr.get(n);u===void 0&&(u=jt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.Qr=new xe(Ue.$r),this.Ur=new xe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Ue(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Ue(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new gt(new ae([])),r=new Ue(n,t),l=new Ue(n,t+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new gt(new ae([])),r=new Ue(n,t),l=new Ue(n,t+1);let u=jt();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new Ue(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return gt.comparator(t.key,n.key)||zt(t.Yr,n.Yr)}static Kr(t,n){return zt(t.Yr,n.Yr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xe(Ue.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new sC(u,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ue(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Km:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ue(n,0),l=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new xe(zt);return n.forEach((l=>{const u=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let u=r;gt.isDocumentKey(u)||(u=u.child(""));const d=new Ue(new gt(u),0);let p=new xe(zt);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,(l=>{const u=new Ue(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Ue(n,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.ri=t,this.docs=(function(){return new he(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let r=fs();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let u=fs();const d=n.path,p=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||_I(yI(E),r)<=0||(l.has(E.key)||wh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,r,l){Et(9500)}ii(t,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new GC(this)}getSize(t){return $.resolve(this.size)}}class GC extends LC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.persistence=t,this.si=new ra((n=>Xm(n)),$m),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new ip,this.targetCount=0,this.ai=co.ur()}forEachTarget(t,n){return this.si.forEach(((r,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new co(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,n){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new qC,this.referenceDelegate=t(this),this.Pi=new KC(this),this.indexManager=new DC,this.remoteDocumentCache=(function(l){return new FC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new CC(n),this.Ii=new jC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new BC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new HC(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){ot("MemoryPersistence","Starting transaction:",t);const l=new QC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class QC extends EI{constructor(t){super(),this.currentSequenceNumber=t}}class sp{constructor(t){this.persistence=t,this.Ri=new ip,this.Vi=null}static mi(t){return new sp(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=gt.fromPath(r);return this.gi(t,l).next((u=>{u||n.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class uh{constructor(t,n){this.persistence=t,this.pi=new ra((r=>AI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=PC(this,n)}static mi(t,n){return new uh(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((u=>u?$.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((p=>{p||(r++,u.removeEntry(d,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=qc(t.data.value)),n}br(t,n,r){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=l}static As(t,n){let r=jt(),l=jt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new rp(t,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return R1()?8:TI(We())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const u={result:null};return this.ys(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new YC;return this.Ss(t,n,d).next((p=>{if(u.result=p,this.Vs)return this.bs(t,n,d,p.size)}))})).next((()=>u.result))}bs(t,n,r,l){return r.documentReadCount<this.fs?(Xa()<=Ut.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Xa()<=Ut.DEBUG&&ot("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Xa()<=Ut.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(n))):$.resolve())}ys(t,n){if(Wv(n))return $.resolve(null);let r=Ni(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=ym(n,null,"F"),r=Ni(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const d=jt(...u);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const g=this.Ds(n,p);return this.Cs(n,g,d,y.readTime)?this.ys(t,ym(n,null,"F")):this.vs(t,g,n,y)}))))})))))}ws(t,n,r,l){return Wv(n)||l.isEqual(At.min())?$.resolve(null):this.ps.getDocuments(t,r).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,r,l)?$.resolve(null):(Xa()<=Ut.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$a(n)),this.vs(t,d,n,gI(l,zl)).next((p=>p)))}))}Ds(t,n){let r=new xe(c0(t));return n.forEach(((l,u)=>{wh(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,r){return Xa()<=Ut.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",$a(n)),this.ps.getDocumentsMatchingQuery(t,n,ur.min(),r)}vs(t,n,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="LocalStore",$C=3e8;class ZC{constructor(t,n,r,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new he(zt),this.xs=new ra((u=>Xm(u)),$m),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function JC(s,t,n,r){return new ZC(s,t,n,r)}async function V0(s,t){const n=Rt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let y=jt();for(const g of l){d.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(r,y).next((g=>({Ls:g,removedBatchIds:d,addedBatchIds:p})))}))}))}function WC(s,t){const n=Rt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,g,E){const A=g.batch,N=A.keys();let F=$.resolve();return N.forEach((tt=>{F=F.next((()=>E.getEntry(y,tt))).next((et=>{const G=g.docVersions.get(tt);Qt(G!==null,48541),et.version.compareTo(G)<0&&(A.applyToRemoteDocument(et,g),et.isValidDocument()&&(et.setReadTime(g.commitVersion),E.addEntry(et)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=jt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function x0(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function t2(s,t){const n=Rt(s),r=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];t.targetChanges.forEach(((E,A)=>{const N=l.get(A);if(!N)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A))));let F=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken(Ye.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,r)),l=l.insert(A,F),(function(et,G,W){return et.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=$C?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(N,F,E)&&p.push(n.Pi.updateTargetData(u,F))}));let y=fs(),g=jt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(e2(u,d,t.documentUpdates).next((E=>{y=E.ks,g=E.qs}))),!r.isEqual(At.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return $.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.Ms=l,u)))}function e2(s,t,n){let r=jt(),l=jt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let d=fs();return n.forEach(((p,y)=>{const g=u.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(At.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ot(ap,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function n2(s,t){const n=Rt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Km),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function i2(s,t){const n=Rt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,t).next((u=>u?(l=u,$.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new nr(t,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Sm(s,t,n){const r=Rt(s),l=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!yo(d))throw d;ot(ap,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function fE(s,t,n){const r=Rt(s);let l=At.min(),u=jt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,g,E){const A=Rt(y),N=A.xs.get(E);return N!==void 0?$.resolve(A.Ms.get(N)):A.Pi.getTargetData(g,E)})(r,d,Ni(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,n?l:At.min(),n?u:jt()))).next((p=>(s2(r,HI(t),p),{documents:p,Qs:u})))))}function s2(s,t,n){let r=s.Os.get(t)||At.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class dE{constructor(){this.activeTargetIds=XI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class r2{constructor(){this.Mo=new dE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new dE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="ConnectivityMonitor";class pE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(mE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(mE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=null;function Am(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="RestConnection",o2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===nh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,n,r,l,u){const d=Am(),p=this.zo(t,n.toUriEncodedString());ot(Jd,`Sending RPC '${t}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:g}=new URL(p),E=na(g);return this.Jo(t,p,y,r,E).then((A=>(ot(Jd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw ao(Jd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}Ho(t,n,r,l,u,d){return this.Go(t,n,r,l,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const r=o2[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class c2 extends l2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,l,u){const d=Am();return new Promise(((p,y)=>{const g=new UT;g.setWithCredentials(!0),g.listenOnce(zT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Bc.NO_ERROR:const A=g.getResponseJson();ot($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Bc.TIMEOUT:ot($e,`RPC '${t}' ${d} timed out`),y(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const N=g.getStatus();if(ot($e,`RPC '${t}' ${d} failed with status:`,N,"response text:",g.getResponseText()),N>0){let F=g.getResponseJson();Array.isArray(F)&&(F=F[0]);const tt=F?.error;if(tt&&tt.status&&tt.message){const et=(function(W){const ft=W.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ft)>=0?ft:Z.UNKNOWN})(tt.status);y(new ct(et,tt.message))}else y(new ct(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ot($e,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);ot($e,`RPC '${t}' ${d} sending request:`,l),g.send(n,"POST",E,r,15)}))}T_(t,n,r){const l=Am(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=qT(),p=BT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const E=u.join("");ot($e,`Creating RPC '${t}' stream ${l}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let N=!1,F=!1;const tt=new u2({Yo:G=>{F?ot($e,`Not sending because RPC '${t}' stream ${l} is closed:`,G):(N||(ot($e,`Opening RPC '${t}' stream ${l} transport.`),A.open(),N=!0),ot($e,`RPC '${t}' stream ${l} sending:`,G),A.send(G))},Zo:()=>A.close()}),et=(G,W,ft)=>{G.listen(W,(st=>{try{ft(st)}catch(dt){setTimeout((()=>{throw dt}),0)}}))};return et(A,wl.EventType.OPEN,(()=>{F||(ot($e,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),et(A,wl.EventType.CLOSE,(()=>{F||(F=!0,ot($e,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(A))})),et(A,wl.EventType.ERROR,(G=>{F||(F=!0,ao($e,`RPC '${t}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),tt.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),et(A,wl.EventType.MESSAGE,(G=>{if(!F){const W=G.data[0];Qt(!!W,16349);const ft=W,st=ft?.error||ft[0]?.error;if(st){ot($e,`RPC '${t}' stream ${l} received error:`,st);const dt=st.status;let Mt=(function(b){const R=Ce[b];if(R!==void 0)return T0(R)})(dt),wt=st.message;Mt===void 0&&(Mt=Z.INTERNAL,wt="Unknown error status: "+dt+" with message "+st.message),F=!0,tt.a_(new ct(Mt,wt)),A.close()}else ot($e,`RPC '${t}' stream ${l} received:`,W),tt.u_(W)}})),et(p,jT.STAT_EVENT,(G=>{G.stat===hm.PROXY?ot($e,`RPC '${t}' stream ${l} detected buffering proxy`):G.stat===hm.NOPROXY&&ot($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(s){return new mC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,n,r=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="PersistentStream";class P0{constructor(t,n,r,l,u,d,p,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new k0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(gE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ot(gE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class h2 extends P0{constructor(t,n,r,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=yC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Di(d.readTime):At.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Tm(this.serializer),n.addTarget=(function(u,d){let p;const y=d.target;if(p=gm(y)?{documents:EC(u,y)}:{query:TC(u,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=b0(u,d.resumeToken);const g=_m(u,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=lh(u,d.snapshotVersion.toTimestamp());const g=_m(u,d.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,t);const r=AC(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Tm(this.serializer),n.removeTarget=t,this.q_(n)}}class f2 extends P0{constructor(t,n,r,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=vC(t.writeResults,t.commitTime),r=Di(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Tm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>_C(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{}class m2 extends d2{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,vm(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(Z.UNKNOWN,u.toString())}))}Ho(t,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,vm(n,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class p2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class g2{constructor(t,n,r,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{aa(this)&&(ot(ea,"Restarting streams for network reachability change."),await(async function(y){const g=Rt(y);g.Ea.add(4),await Wl(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Oh(g)})(this))}))})),this.Ra=new p2(r,l)}}async function Oh(s){if(aa(s))for(const t of s.da)await t(!0)}async function Wl(s){for(const t of s.da)await t(!1)}function L0(s,t){const n=Rt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),cp(n)?up(n):_o(n).O_()&&lp(n,t))}function op(s,t){const n=Rt(s),r=_o(n);n.Ia.delete(t),r.O_()&&U0(n,t),n.Ia.size===0&&(r.O_()?r.L_():aa(n)&&n.Ra.set("Unknown"))}function lp(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_o(s).Y_(t)}function U0(s,t){s.Va.Ue(t),_o(s).Z_(t)}function up(s){s.Va=new cC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),_o(s).start(),s.Ra.ua()}function cp(s){return aa(s)&&!_o(s).x_()&&s.Ia.size>0}function aa(s){return Rt(s).Ea.size===0}function z0(s){s.Va=void 0}async function y2(s){s.Ra.set("Online")}async function _2(s){s.Ia.forEach(((t,n)=>{lp(s,t)}))}async function v2(s,t){z0(s),cp(s)?(s.Ra.ha(t),up(s)):s.Ra.set("Unknown")}async function E2(s,t,n){if(s.Ra.set("Online"),t instanceof A0&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){ot(ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ch(s,r)}else if(t instanceof Gc?s.Va.Ze(t):t instanceof S0?s.Va.st(t):s.Va.tt(t),!n.isEqual(At.min()))try{const r=await x0(s.localStore);n.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,g)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),U0(u,y);const A=new nr(E.target,y,g,E.sequenceNumber);lp(u,A)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){ot(ea,"Failed to raise snapshot:",r),await ch(s,r)}}async function ch(s,t,n){if(!yo(t))throw t;s.Ea.add(1),await Wl(s),s.Ra.set("Offline"),n||(n=()=>x0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(ea,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Oh(s)}))}function j0(s,t){return t().catch((n=>ch(s,n,t)))}async function Mh(s){const t=Rt(s),n=dr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Km;for(;T2(t);)try{const l=await n2(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,S2(t,l)}catch(l){await ch(t,l)}B0(t)&&q0(t)}function T2(s){return aa(s)&&s.Ta.length<10}function S2(s,t){s.Ta.push(t);const n=dr(s);n.O_()&&n.X_&&n.ea(t.mutations)}function B0(s){return aa(s)&&!dr(s).x_()&&s.Ta.length>0}function q0(s){dr(s).start()}async function A2(s){dr(s).ra()}async function b2(s){const t=dr(s);for(const n of s.Ta)t.ea(n.mutations)}async function R2(s,t,n){const r=s.Ta.shift(),l=tp.from(r,t,n);await j0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Mh(s)}async function w2(s,t){t&&dr(s).X_&&await(async function(r,l){if((function(d){return oC(d)&&d!==Z.ABORTED})(l.code)){const u=r.Ta.shift();dr(r).B_(),await j0(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Mh(r)}})(s,t),B0(s)&&q0(s)}async function yE(s,t){const n=Rt(s);n.asyncQueue.verifyOperationInProgress(),ot(ea,"RemoteStore received new credentials");const r=aa(n);n.Ea.add(3),await Wl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Oh(n)}async function I2(s,t){const n=Rt(s);t?(n.Ea.delete(2),await Oh(n)):t||(n.Ea.add(2),await Wl(n),n.Ra.set("Unknown"))}function _o(s){return s.ma||(s.ma=(function(n,r,l){const u=Rt(n);return u.sa(),new h2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:y2.bind(null,s),t_:_2.bind(null,s),r_:v2.bind(null,s),H_:E2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),cp(s)?up(s):s.Ra.set("Unknown")):(await s.ma.stop(),z0(s))}))),s.ma}function dr(s){return s.fa||(s.fa=(function(n,r,l){const u=Rt(n);return u.sa(),new f2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:A2.bind(null,s),r_:w2.bind(null,s),ta:b2.bind(null,s),na:R2.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Mh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,n,r,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,u){const d=Date.now()+r,p=new hp(t,n,d,l,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(s,t){if(hs("AsyncQueue",`${t}: ${s}`),yo(s))return new ct(Z.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(t){return new io(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof io)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new io;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.ga=new he(gt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class ho{constructor(t,n,r,l,u,d,p,y,g){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(t,n,r,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new ho(t,n,io.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class N2{constructor(){this.queries=vE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Rt(n),u=l.queries;l.queries=vE(),u.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function vE(){return new ra((s=>u0(s)),Rh)}async function H0(s,t){const n=Rt(s);let r=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(r=2):(u=new C2,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=fp(d,`Initialization of query '${$a(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&dp(n)}async function F0(s,t){const n=Rt(s),r=t.query;let l=3;const u=n.queries.get(r);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function D2(s,t){const n=Rt(s);let r=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&dp(n)}function O2(s,t,n){const r=Rt(s),l=r.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(t)}function dp(s){s.Ca.forEach((t=>{t.next()}))}var bm,EE;(EE=bm||(bm={})).Ma="default",EE.Cache="cache";class G0{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new ho(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t){this.key=t}}class Q0{constructor(t){this.key=t}}class M2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=c0(t),this.tu=new io(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new _E,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,A)=>{const N=l.get(E),F=wh(this.query,A)?A:null,tt=!!N&&this.mutatedKeys.has(N.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let G=!1;N&&F?N.data.isEqual(F.data)?tt!==et&&(r.track({type:3,doc:F}),G=!0):this.su(N,F)||(r.track({type:2,doc:F}),G=!0,(y&&this.eu(F,y)>0||g&&this.eu(F,g)<0)&&(p=!0)):!N&&F?(r.track({type:0,doc:F}),G=!0):N&&!F&&(r.track({type:1,doc:N}),G=!0,(y||g)&&(p=!0)),G&&(F?(d=d.add(F),u=et?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,A)=>(function(F,tt){const et=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:G})}};return et(F)-et(tt)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,g=y!==this.Za;return this.Za=y,d.length!==0||g?{snapshot:new ho(this.query,t.tu,u,d,t.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _E,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new Q0(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new K0(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=jt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mp="SyncEngine";class V2{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class x2{constructor(t){this.key=t,this.hu=!1}}class k2{constructor(t,n,r,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((p=>u0(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new he(gt.comparator),this.Au=new Map,this.Ru=new ip,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P2(s,t,n=!0){const r=W0(s);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await Y0(r,t,n,!0),l}async function L2(s,t){const n=W0(s);await Y0(n,t,!0,!1)}async function Y0(s,t,n,r){const l=await i2(s.localStore,Ni(t)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await U2(s,t,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&L0(s.remoteStore,l),p}async function U2(s,t,n,r,l){s.pu=(A,N,F)=>(async function(et,G,W,ft){let st=G.view.ru(W);st.Cs&&(st=await fE(et.localStore,G.query,!1).then((({documents:I})=>G.view.ru(I,st))));const dt=ft&&ft.targetChanges.get(G.targetId),Mt=ft&&ft.targetMismatches.get(G.targetId)!=null,wt=G.view.applyChanges(st,et.isPrimaryClient,dt,Mt);return SE(et,G.targetId,wt.au),wt.snapshot})(s,A,N,F);const u=await fE(s.localStore,t,!0),d=new M2(t,u.Qs),p=d.ru(u.documents),y=Jl.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),g=d.applyChanges(p,s.isPrimaryClient,y);SE(s,n,g.au);const E=new V2(t,n,d);return s.Tu.set(t,E),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),g.snapshot}async function z2(s,t,n){const r=Rt(s),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Rh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&op(r.remoteStore,l.targetId),Rm(r,l.targetId)})).catch(go)):(Rm(r,l.targetId),await Sm(r.localStore,l.targetId,!0))}async function j2(s,t){const n=Rt(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),op(n.remoteStore,r.targetId))}async function B2(s,t,n){const r=Y2(s);try{const l=await(function(d,p){const y=Rt(d),g=oe.now(),E=p.reduce(((F,tt)=>F.add(tt.key)),jt());let A,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let tt=fs(),et=jt();return y.Ns.getEntries(F,E).next((G=>{tt=G,tt.forEach(((W,ft)=>{ft.isValidDocument()||(et=et.add(W))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,tt))).next((G=>{A=G;const W=[];for(const ft of p){const st=nC(ft,A.get(ft.key).overlayedDocument);st!=null&&W.push(new yr(ft.key,st,n0(st.value.mapValue),Wn.exists(!0)))}return y.mutationQueue.addMutationBatch(F,g,W,p)})).next((G=>{N=G;const W=G.applyToLocalDocumentSet(A,et);return y.documentOverlayCache.saveOverlays(F,G.batchId,W)}))})).then((()=>({batchId:N.batchId,changes:f0(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let g=d.Vu[d.currentUser.toKey()];g||(g=new he(zt)),g=g.insert(p,y),d.Vu[d.currentUser.toKey()]=g})(r,l.batchId,n),await tu(r,l.changes),await Mh(r.remoteStore)}catch(l){const u=fp(l,"Failed to persist write");n.reject(u)}}async function X0(s,t){const n=Rt(s);try{const r=await t2(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await tu(n,r,t)}catch(r){await go(r)}}function TE(s,t,n){const r=Rt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Rt(d);y.onlineState=p;let g=!1;y.queries.forEach(((E,A)=>{for(const N of A.Sa)N.va(p)&&(g=!0)})),g&&dp(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function q2(s,t,n){const r=Rt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),u=l&&l.key;if(u){let d=new he(gt.comparator);d=d.insert(u,Je.newNoDocument(u,At.min()));const p=jt().add(u),y=new Nh(At.min(),new Map,new he(zt),d,p);await X0(r,y),r.du=r.du.remove(u),r.Au.delete(t),pp(r)}else await Sm(r.localStore,t,!1).then((()=>Rm(r,t,n))).catch(go)}async function H2(s,t){const n=Rt(s),r=t.batch.batchId;try{const l=await WC(n.localStore,t);Z0(n,r,null),$0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tu(n,l)}catch(l){await go(l)}}async function F2(s,t,n){const r=Rt(s);try{const l=await(function(d,p){const y=Rt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return y.mutationQueue.lookupMutationBatch(g,p).next((A=>(Qt(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(g,A)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>y.localDocuments.getDocuments(g,E)))}))})(r.localStore,t);Z0(r,t,n),$0(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await tu(r,l)}catch(l){await go(l)}}function $0(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function Z0(s,t,n){const r=Rt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Rm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||J0(s,r)}))}function J0(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(op(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),pp(s))}function SE(s,t,n){for(const r of n)r instanceof K0?(s.Ru.addReference(r.key,t),G2(s,r)):r instanceof Q0?(ot(mp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||J0(s,r.key)):Et(19791,{wu:r})}function G2(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(ot(mp,"New document in limbo: "+n),s.Eu.add(r),pp(s))}function pp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new gt(ae.fromString(t)),r=s.fu.next();s.Au.set(r,new x2(n)),s.du=s.du.insert(n,r),L0(s.remoteStore,new nr(Ni(Zm(n.path)),r,"TargetPurposeLimboResolution",Th.ce))}}async function tu(s,t,n){const r=Rt(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,t,n).then((g=>{if((g||n)&&r.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){l.push(g);const E=rp.As(y.targetId,g);u.push(E)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,g){const E=Rt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(g,(N=>$.forEach(N.Es,(F=>E.persistence.referenceDelegate.addReference(A,N.targetId,F))).next((()=>$.forEach(N.ds,(F=>E.persistence.referenceDelegate.removeReference(A,N.targetId,F)))))))))}catch(A){if(!yo(A))throw A;ot(ap,"Failed to update sequence numbers: "+A)}for(const A of g){const N=A.targetId;if(!A.fromCache){const F=E.Ms.get(N),tt=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion(tt);E.Ms=E.Ms.insert(N,et)}}})(r.localStore,u))}async function K2(s,t){const n=Rt(s);if(!n.currentUser.isEqual(t)){ot(mp,"User change. New user:",t.toKey());const r=await V0(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new ct(Z.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await tu(n,r.Ls)}}function Q2(s,t){const n=Rt(s),r=n.Au.get(t);if(r&&r.hu)return jt().add(r.key);{let l=jt();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function W0(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=X0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=q2.bind(null,t),t.Pu.H_=D2.bind(null,t.eventManager),t.Pu.yu=O2.bind(null,t.eventManager),t}function Y2(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=H2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=F2.bind(null,t),t}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return JC(this.persistence,new XC,t.initialUser,this.serializer)}Cu(t){return new M0(sp.mi,this.serializer)}Du(t){return new r2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class X2 extends hh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Qt(this.persistence.referenceDelegate instanceof uh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xC(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new M0((r=>uh.mi(r,n)),this.serializer)}}class wm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K2.bind(null,this.syncEngine),await I2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new N2})()}createDatastore(t){const n=Dh(t.databaseInfo.databaseId),r=(function(u){return new c2(u)})(t.databaseInfo);return(function(u,d,p,y){return new m2(u,d,p,y)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,u,d,p){return new g2(r,l,u,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>TE(this.syncEngine,n,0)),(function(){return pE.v()?new pE:new a2})())}createSyncEngine(t,n){return(function(l,u,d,p,y,g,E){const A=new k2(l,u,d,p,y,g);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Rt(n);ot(ea,"RemoteStore shutting down."),r.Ea.add(5),await Wl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="FirestoreClient";class $2{constructor(t,n,r,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{ot(mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=fp(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function tm(s,t){s.asyncQueue.verifyOperationInProgress(),ot(mr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await V0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function AE(s,t){s.asyncQueue.verifyOperationInProgress();const n=await Z2(s);ot(mr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>yE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>yE(t.remoteStore,l))),s._onlineComponents=t}async function Z2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(mr,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await tm(s,new hh)}}else ot(mr,"Using default OfflineComponentProvider"),await tm(s,new X2(void 0));return s._offlineComponents}async function eS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(mr,"Using user provided OnlineComponentProvider"),await AE(s,s._uninitializedComponentsProvider._online)):(ot(mr,"Using default OnlineComponentProvider"),await AE(s,new wm))),s._onlineComponents}function J2(s){return eS(s).then((t=>t.syncEngine))}async function nS(s){const t=await eS(s),n=t.eventManager;return n.onListen=P2.bind(null,t.syncEngine),n.onUnlisten=z2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=L2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=j2.bind(null,t.syncEngine),n}function W2(s,t,n={}){const r=new ls;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,y,g){const E=new tS({next:N=>{E.Nu(),d.enqueueAndForget((()=>F0(u,A)));const F=N.docs.has(p);!F&&N.fromCache?g.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&N.fromCache&&y&&y.source==="server"?g.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(N)},error:N=>g.reject(N)}),A=new G0(Zm(p.path),E,{includeMetadataChanges:!0,qa:!0});return H0(u,A)})(await nS(s),s.asyncQueue,t,n,r))),r.promise}function tN(s,t,n={}){const r=new ls;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,y,g){const E=new tS({next:N=>{E.Nu(),d.enqueueAndForget((()=>F0(u,A))),N.fromCache&&y.source==="server"?g.reject(new ct(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(N)},error:N=>g.reject(N)}),A=new G0(p,E,{includeMetadataChanges:!0,qa:!0});return H0(u,A)})(await nS(s),s.asyncQueue,t,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="firestore.googleapis.com",RE=!0;class wE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sS,this.ssl=RE}else this.host=t.host,this.ssl=t.ssl??RE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=O0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MC)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vh{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rI;switch(r.type){case"firstParty":return new uI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=bE.get(n);r&&(ot("ComponentProvider","Removing Datastore"),bE.delete(n),r.terminate())})(this),Promise.resolve()}}function eN(s,t,n,r={}){s=Vi(s,Vh);const l=na(t),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${n}`;l&&(Dm(`https://${p}`),Om("Firestore",!0)),u.host!==sS&&u.host!==p&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:l,emulatorOptions:r};if(!Zr(y,d)&&(s._setSettings(y),r.mockUserToken)){let g,E;if(typeof r.mockUserToken=="string")g=r.mockUserToken,E=Ze.MOCK_USER;else{g=JE(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ze(A)}s._authCredentials=new aI(new FT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new xh(this.firestore,t,this._query)}}class De{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new De(this.firestore,t,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if($l(n,De._jsonSchema))return new De(t,r||null,new gt(ae.fromString(n.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ne("string",De._jsonSchemaVersion),referencePath:Ne("string")};class or extends xh{constructor(t,n,r){super(t,n,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new De(this.firestore,null,new gt(t))}withConverter(t){return new or(this.firestore,t,this._path)}}function gp(s,t,...n){if(s=ze(s),GT("collection","path",t),s instanceof Vh){const r=ae.fromString(t,...n);return jv(r),new or(s,null,r)}{if(!(s instanceof De||s instanceof or))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(t,...n));return jv(r),new or(s.firestore,null,r)}}function Yr(s,t,...n){if(s=ze(s),arguments.length===1&&(t=Fm.newId()),GT("doc","path",t),s instanceof Vh){const r=ae.fromString(t,...n);return zv(r),new De(s,null,new gt(r))}{if(!(s instanceof De||s instanceof or))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(t,...n));return zv(r),new De(s.firestore,s instanceof or?s.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="AsyncQueue";class CE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new k0(this,"async_queue_retry"),this._c=()=>{const r=Wd();r&&ot(IE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!yo(t))throw t;ot(IE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",NE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=hp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:NE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function NE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class vo extends Vh{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new CE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new CE(t),this._firestoreClient=void 0,await t}}}function nN(s,t){const n=typeof s=="object"?s:xm(),r=typeof s=="string"?s:nh,l=gh(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=XE("firestore");u&&eN(l,...u)}return l}function yp(s){if(s._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||iN(s),s._firestoreClient}function iN(s){const t=s._freezeSettings(),n=(function(l,u,d,p){return new wI(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,iS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new $2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ye.fromBase64String(t))}catch(n){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Un(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($l(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ne("string",Un._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if($l(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ne("string",Oi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($l(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Mi(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Ne("string",Mi._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=/^__.*__$/;class rN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new yr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zl(t,this.data,n,this.fieldTransforms)}}class rS{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new yr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function aS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:s})}}class vp{constructor(t,n,r,l,u,d){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new vp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return fh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(aS(this.Ac)&&sN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class aN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Dh(t)}Cc(t,n,r,l=!1){return new vp({Ac:t,methodName:n,Dc:r,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oS(s){const t=s._freezeSettings(),n=Dh(s._databaseId);return new aN(s._databaseId,!!t.ignoreUndefinedProperties,n)}function oN(s,t,n,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,t,n,l);Ep("Data must be an object, but it was:",d,r);const p=lS(r,d);let y,g;if(u.merge)y=new An(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const N=Im(t,A,n);if(!d.contains(N))throw new ct(Z.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);cS(E,N)||E.push(N)}y=new An(E),g=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,g=d.fieldTransforms;return new rN(new fn(p),y,g)}class Ph extends _p{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ph}}function lN(s,t,n,r){const l=s.Cc(1,t,n);Ep("Data must be an object, but it was:",l,r);const u=[],d=fn.empty();gr(r,((y,g)=>{const E=Tp(t,y,n);g=ze(g);const A=l.yc(E);if(g instanceof Ph)u.push(E);else{const N=Lh(g,A);N!=null&&(u.push(E),d.set(E,N))}}));const p=new An(u);return new rS(d,p,l.fieldTransforms)}function uN(s,t,n,r,l,u){const d=s.Cc(1,t,n),p=[Im(t,r,n)],y=[l];if(u.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)p.push(Im(t,u[N])),y.push(u[N+1]);const g=[],E=fn.empty();for(let N=p.length-1;N>=0;--N)if(!cS(g,p[N])){const F=p[N];let tt=y[N];tt=ze(tt);const et=d.yc(F);if(tt instanceof Ph)g.push(F);else{const G=Lh(tt,et);G!=null&&(g.push(F),E.set(F,G))}}const A=new An(g);return new rS(E,A,d.fieldTransforms)}function Lh(s,t){if(uS(s=ze(s)))return Ep("Unsupported field value:",t,s),lS(s,t);if(s instanceof _p)return(function(r,l){if(!aS(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let y=Lh(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,t)}return(function(r,l){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $I(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=oe.fromDate(r);return{timestampValue:lh(l.serializer,u)}}if(r instanceof oe){const u=new oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lh(l.serializer,u)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:b0(l.serializer,r._byteString)};if(r instanceof De){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:np(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Mi)return(function(d,p){return{mapValue:{fields:{[t0]:{stringValue:e0},[ih]:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Jm(p.serializer,g)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Gm(r)}`)})(s,t)}function lS(s,t){const n={};return YT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gr(s,((r,l)=>{const u=Lh(l,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function uS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof oe||s instanceof Oi||s instanceof Un||s instanceof De||s instanceof _p||s instanceof Mi)}function Ep(s,t,n){if(!uS(n)||!KT(n)){const r=Gm(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Im(s,t,n){if((t=ze(t))instanceof kh)return t._internalPath;if(typeof t=="string")return Tp(s,t);throw fh("Field path arguments must be of type string or ",s,!1,void 0,n)}const cN=new RegExp("[~\\*/\\[\\]]");function Tp(s,t,n){if(t.search(cN)>=0)throw fh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new kh(...t.split("."))._internalPath}catch{throw fh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function fh(s,t,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ct(Z.INVALID_ARGUMENT,p+s+y)}function cS(s,t){return s.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t,n,r,l,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new hN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(fS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hN extends hS{data(){return super.data()}}function fS(s,t){return typeof t=="string"?Tp(s,t):t instanceof kh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dN{convertValue(t,n="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return gr(t,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[ih].arrayValue?.values?.map((r=>ve(r.doubleValue)));return new Mi(n)}convertGeoPoint(t){return new Oi(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Ah(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jl(t));default:return null}}convertTimestamp(t){const n=cr(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ae.fromString(t);Qt(D0(r),9688,{name:t});const l=new Bl(r.get(1),r.get(3)),u=new gt(r.popFirst(5));return l.isEqual(n)||hs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class Nl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $r extends hS{constructor(t,n,r,l,u,d){super(t,n,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(fS("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=$r._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$r._jsonSchemaVersion="firestore/documentSnapshot/1.0",$r._jsonSchema={type:Ne("string",$r._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Kc extends $r{data(t={}){return super.data(t)}}class so{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Nl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Kc(this._firestore,this._userDataWriter,r.key,r,new Nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Nl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Nl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,E=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:pN(p.type),doc:y,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=so._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function pN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(s){s=Vi(s,De);const t=Vi(s.firestore,vo);return W2(yp(t),s._key).then((n=>yN(t,s,n)))}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Ne("string",so._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class dS extends dN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new De(this.firestore,null,n)}}function Sp(s){s=Vi(s,xh);const t=Vi(s.firestore,vo),n=yp(t),r=new dS(t);return fN(s._query),tN(n,s._query).then((l=>new so(t,r,s,l)))}function OE(s,t,n){s=Vi(s,De);const r=Vi(s.firestore,vo),l=mN(s.converter,t);return Ap(r,[oN(oS(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Wn.none())])}function Cm(s,t,n,...r){s=Vi(s,De);const l=Vi(s.firestore,vo),u=oS(l);let d;return d=typeof(t=ze(t))=="string"||t instanceof kh?uN(u,"updateDoc",s._key,t,n,r):lN(u,"updateDoc",s._key,t),Ap(l,[d.toMutation(s._key,Wn.exists(!0))])}function gN(s){return Ap(Vi(s.firestore,vo),[new Wm(s._key,Wn.none())])}function Ap(s,t){return(function(r,l){const u=new ls;return r.asyncQueue.enqueueAndForget((async()=>B2(await J2(r),l,u))),u.promise})(yp(s),t)}function yN(s,t,n){const r=n.docs.get(t._key),l=new dS(s);return new $r(s,l,t._key,r,new Nl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){po=l})(ia),Jr(new lr("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new vo(new oI(r.getProvider("auth-internal")),new cI(d,r.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(g.options.projectId,E)})(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),wi(kv,Pv,t),wi(kv,Pv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="firebasestorage.googleapis.com",_N="storageBucket",vN=120*1e3,EN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Li{constructor(t,n,r=0){super(em(t),`Firebase Storage: ${n} (${em(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ui.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return em(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pi;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pi||(Pi={}));function em(s){return"storage/"+s}function TN(){const s="An unknown error occurred, please check the error payload for server response.";return new Ui(Pi.UNKNOWN,s)}function SN(){return new Ui(Pi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AN(){return new Ui(Pi.CANCELED,"User canceled the upload/download.")}function bN(s){return new Ui(Pi.INVALID_URL,"Invalid URL '"+s+"'.")}function RN(s){return new Ui(Pi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function ME(s){return new Ui(Pi.INVALID_ARGUMENT,s)}function pS(){return new Ui(Pi.APP_DELETED,"The Firebase app was deleted.")}function wN(s){return new Ui(Pi.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Jn.makeFromUrl(t,n)}catch{return new Jn(t,"")}if(r.path==="")return r;throw RN(t)}static makeFromUrl(t,n){let r=null;const l="([A-Za-z0-9.\\-_]+)";function u(dt){dt.path.charAt(dt.path.length-1)==="/"&&(dt.path_=dt.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+l+d,"i"),y={bucket:1,path:3};function g(dt){dt.path_=decodeURIComponent(dt.path)}const E="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",F=new RegExp(`^https?://${A}/${E}/b/${l}/o${N}`,"i"),tt={bucket:1,path:3},et=n===mS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,G="([^?#]*)",W=new RegExp(`^https?://${et}/${l}/${G}`,"i"),st=[{regex:p,indices:y,postModify:u},{regex:F,indices:tt,postModify:g},{regex:W,indices:{bucket:1,path:2},postModify:g}];for(let dt=0;dt<st.length;dt++){const Mt=st[dt],wt=Mt.regex.exec(t);if(wt){const I=wt[Mt.indices.bucket];let b=wt[Mt.indices.path];b||(b=""),r=new Jn(I,b),Mt.postModify(r);break}}if(r==null)throw bN(t);return r}}class IN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(s,t,n){let r=1,l=null,u=null,d=!1,p=0;function y(){return p===2}let g=!1;function E(...G){g||(g=!0,t.apply(null,G))}function A(G){l=setTimeout(()=>{l=null,s(F,y())},G)}function N(){u&&clearTimeout(u)}function F(G,...W){if(g){N();return}if(G){N(),E.call(null,G,...W);return}if(y()||d){N(),E.call(null,G,...W);return}r<64&&(r*=2);let st;p===1?(p=2,st=0):st=(r+Math.random())*1e3,A(st)}let tt=!1;function et(G){tt||(tt=!0,N(),!g&&(l!==null?(G||(p=2),clearTimeout(l),A(0)):G||(p=1)))}return A(0),u=setTimeout(()=>{d=!0,et(!0)},n),et}function NN(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(s){return s!==void 0}function VE(s,t,n,r){if(r<t)throw ME(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw ME(`Invalid value for '${s}'. Expected ${n} or less.`)}function ON(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const l=t(r)+"="+t(s[r]);n=n+l+"&"}return n=n.slice(0,-1),n}var dh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(dh||(dh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(s,t){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return n||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t,n,r,l,u,d,p,y,g,E,A,N=!0,F=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=y,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=A,this.retry=N,this.isUsingEmulator=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((tt,et)=>{this.resolve_=tt,this.reject_=et,this.start_()})}start_(){const t=(r,l)=>{if(l){r(!1,new Pc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const y=p.loaded,g=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,g)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===dh.NO_ERROR,y=u.getStatus();if(!p||MN(y,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===dh.ABORT;r(!1,new Pc(!1,null,E));return}const g=this.successCodes_.indexOf(y)!==-1;r(!0,new Pc(g,u))})},n=(r,l)=>{const u=this.resolve_,d=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());DN(y)?u(y):u()}catch(y){d(y)}else if(p!==null){const y=TN();y.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,y)):d(y)}else if(l.canceled){const y=this.appDelete_?pS():AN();d(y)}else{const y=SN();d(y)}};this.canceled_?n(!1,new Pc(!1,null,!0)):this.backoffId_=CN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&NN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function xN(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function kN(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function PN(s,t){t&&(s["X-Firebase-GMPID"]=t)}function LN(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function UN(s,t,n,r,l,u,d=!0,p=!1){const y=ON(s.urlParams),g=s.url+y,E=Object.assign({},s.headers);return PN(E,t),xN(E,n),kN(E,u),LN(E,r),new VN(g,s.method,E,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function jN(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n){this._service=t,n instanceof Jn?this._location=n:this._location=Jn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new mh(t,n)}get root(){const t=new Jn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jN(this._location.path)}get storage(){return this._service}get parent(){const t=zN(this._location.path);if(t===null)return null;const n=new Jn(this._location.bucket,t);return new mh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw wN(t)}}function xE(s,t){const n=t?.[_N];return n==null?null:Jn.makeFromBucketSpec(n,s)}function BN(s,t,n,r={}){s.host=`${t}:${n}`;const l=na(t);l&&(Dm(`https://${s.host}/b`),Om("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:JE(u,s.app.options.projectId))}class qN{constructor(t,n,r,l,u,d=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=mS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vN,this._maxUploadRetryTime=EN,this._requests=new Set,l!=null?this._bucket=Jn.makeFromBucketSpec(l,this._host):this._bucket=xE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,t):this._bucket=xE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){VE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){VE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new mh(this,t)}_makeRequest(t,n,r,l,u=!0){if(this._deleted)return new IN(pS());{const d=UN(t,this._appId,r,l,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,n){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,l).getPromise()}}const kE="@firebase/storage",PE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="storage";function HN(s=xm(),t){s=ze(s);const r=gh(s,gS).getImmediate({identifier:t}),l=XE("storage");return l&&FN(r,...l),r}function FN(s,t,n,r={}){BN(s,t,n,r)}function GN(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new qN(n,r,l,t,ia)}function KN(){Jr(new lr(gS,GN,"PUBLIC").setMultipleInstances(!0)),wi(kE,PE,""),wi(kE,PE,"esm2020")}KN();const QN={apiKey:"AIzaSyAsRvsb-_QY_JAVz2GaRWifR95aCRiddLA",authDomain:"footballsanci.firebaseapp.com",databaseURL:"https://footballsanci-default-rtdb.europe-west1.firebasedatabase.app",projectId:"footballsanci",storageBucket:"footballsanci.appspot.com",messagingSenderId:"108108129157",appId:"1:108108129157:web:c881c7b4d787677c43daec",measurementId:"G-VESXDYD12H"},bp=eT(QN),nm=eI(bp),Ri=nN(bp);HN(bp);const yS=at.createContext(),Rp=()=>{const s=at.useContext(yS);if(!s)throw new Error("useAuth must be used within AuthProvider");return s};function YN({children:s}){const[t,n]=at.useState(null),[r,l]=at.useState(!0);at.useEffect(()=>HR(nm,y=>{n(y),l(!1)}),[]);const u=async(p,y)=>await jR(nm,p.trim(),y),d=async()=>{try{await FR(nm)}catch(p){console.error("Logout error:",p)}};return V.jsx(yS.Provider,{value:{currentUser:t,authLoading:r,login:u,logout:d},children:s})}const _S=at.createContext();function XN({children:s}){const[t,n]=at.useState([]),[r,l]=at.useState(""),[u,d]=at.useState(!0);return at.useEffect(()=>{(async()=>{try{const g=(await Sp(gp(Ri,"seasons"))).docs.map(E=>E.id).sort();n(g),g.length>0&&l(g[g.length-1])}catch(y){console.error("Error loading seasons:",y)}finally{d(!1)}})()},[]),V.jsx(_S.Provider,{value:{seasons:t,selectedSeason:r,setSelectedSeason:l,loadingSeasons:u},children:s})}function wp(){return at.useContext(_S)}function $N(){const{seasons:s,selectedSeason:t,setSelectedSeason:n,loadingSeasons:r}=wp(),[l,u]=at.useState("ranking"),d=["ranking","draw","history"],p=E=>{const A=document.getElementById(E);if(!A)return;const F=A.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:F,behavior:"smooth"}),u(E)};at.useEffect(()=>{const E=()=>{const A=window.scrollY+80;for(let N=d.length-1;N>=0;N--){const F=document.getElementById(d[N]);if(F&&A>=F.offsetTop){u(d[N]);break}}};return window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)},[]);const y=E=>{const A=E?.match(/\d+/);return A?`Season ${A[0]}`:E||"Season"},g=!r&&!!t&&s.length>0;return V.jsxs("header",{style:Zs.header,children:[V.jsx("div",{style:Zs.left,children:g?V.jsx("select",{style:Zs.select,value:t,onChange:E=>n(E.target.value),children:s.map(E=>V.jsx("option",{value:E,style:Zs.option,children:y(E)},E))}):V.jsx("div",{style:Zs.seasonPlaceholder,children:"Season"})}),V.jsx("nav",{style:Zs.right,children:d.map(E=>V.jsx("button",{style:{...Zs.navBtn,...l===E?Zs.navBtnActive:{}},onClick:()=>p(E),children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]})}const Zs={header:{position:"fixed",top:0,left:0,right:0,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",color:"#fff",background:"rgba(8, 8, 10, 0.5)",backdropFilter:"blur(12px)",borderBottom:"1px solid rgba(255,255,255,0.08)",zIndex:1e3},left:{display:"flex",alignItems:"center",paddingLeft:"10px"},right:{display:"flex",alignItems:"center",gap:"0.6rem",paddingRight:"0.6rem"},select:{flex:"0 0 auto",width:"auto",color:"#fff",background:"transparent",border:"none",outline:"none",fontSize:"clamp(1.05rem, 2.4vw, 1.15rem)",fontWeight:500,lineHeight:1.2,cursor:"pointer",padding:"8px 22px 8px 6px",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 6" fill="white"><path d="M0 0l5 6 5-6H0z"/></svg>')`,backgroundRepeat:"no-repeat",backgroundPosition:"right 6px center",backgroundSize:"10px 6px"},option:{color:"#000",backgroundColor:"#fff"},seasonPlaceholder:{flex:"0 0 auto",padding:"8px 22px 8px 6px",fontSize:"clamp(1.05rem, 2.4vw, 1.15rem)",fontWeight:500,lineHeight:1.2,color:"#fff",whiteSpace:"nowrap"},navBtn:{background:"transparent",border:"none",color:"#fff",letterSpacing:"0.5px",cursor:"pointer",transition:"color 0.2s ease, opacity 0.2s ease",opacity:.8,minWidth:"22px",fontSize:"clamp(1.05rem, 2.4vw, 1.15rem)",fontWeight:500,padding:"4px 6px",whiteSpace:"nowrap",textDecoration:"none",lineHeight:1.2},navBtnActive:{color:"#10B981",opacity:1,fontWeight:600}};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),LE=s=>{const t=JN(s);return t.charAt(0).toUpperCase()+t.slice(1)},vS=(...s)=>s.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),WN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=at.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},y)=>at.createElement("svg",{ref:y,...tD,width:t,height:t,stroke:s,strokeWidth:r?Number(n)*24/Number(t):n,className:vS("lucide",l),...!u&&!WN(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,E])=>at.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=(s,t)=>{const n=at.forwardRef(({className:r,...l},u)=>at.createElement(eD,{ref:u,iconNode:t,className:vS(`lucide-${ZN(LE(s))}`,`lucide-${s}`,r),...l}));return n.displayName=LE(s),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sD=nD("log-out",iD);function rD(){const{currentUser:s,login:t,logout:n}=Rp(),[r,l]=at.useState(!1),[u,d]=at.useState(""),[p,y]=at.useState(""),[g,E]=at.useState(!1),[A,N]=at.useState(""),F=async()=>{N(""),E(!0);try{await t(u,p),l(!1),d(""),y("")}catch(W){N(W.message||"Login failed")}finally{E(!1)}},tt=async()=>{await n()},et=()=>{l(!1),d(""),y(""),N("")},G=W=>{W.key==="Enter"&&u&&p&&!g&&F()};return V.jsxs(V.Fragment,{children:[V.jsx("footer",{style:Me.footer,children:V.jsxs("p",{children:[s?V.jsx("span",{onClick:tt,style:Me.logoutIcon,role:"button",tabIndex:0,onKeyPress:W=>W.key==="Enter"&&tt(),children:V.jsx(sD,{color:"red",size:20})}):V.jsx("span",{onClick:()=>l(!0),style:Me.copyright,role:"button",tabIndex:0,onKeyPress:W=>W.key==="Enter"&&l(!0),children:""})," ",new Date().getFullYear()," FootballSanci. All rights reserved."]})}),r&&V.jsx("div",{style:Me.overlay,onClick:et,children:V.jsxs("div",{style:Me.modal,onClick:W=>W.stopPropagation(),children:[V.jsx("button",{style:Me.closeButton,onClick:et,"aria-label":"Close",children:""}),V.jsxs("div",{style:Me.modalHeader,children:[V.jsx("h2",{style:Me.title,children:"Login"}),V.jsx("p",{style:Me.subtitle,children:"Welcome  Please log in to continue."})]}),V.jsxs("div",{style:Me.formContainer,children:[V.jsxs("div",{style:Me.inputGroup,children:[V.jsx("label",{style:Me.label,htmlFor:"email",children:"Email"}),V.jsx("input",{id:"email",type:"email",value:u,onChange:W=>d(W.target.value),onKeyPress:G,style:Me.input,placeholder:"you@example.com"})]}),V.jsxs("div",{style:Me.inputGroup,children:[V.jsx("label",{style:Me.label,htmlFor:"password",children:"Password"}),V.jsx("input",{id:"password",type:"password",value:p,onChange:W=>y(W.target.value),onKeyPress:G,style:Me.input,placeholder:""})]}),A&&V.jsx("div",{style:Me.error,children:A}),V.jsx("button",{onClick:F,disabled:g||!u||!p,style:{...Me.submitButton,...g||!u||!p?Me.submitButtonDisabled:{}},children:g?"Logging in...":"Log in"})]})]})})]})}const Me={footer:{textAlign:"center",padding:"20px 0",color:"#ccc",background:"rgba(10, 10, 10, 0.4)",backdropFilter:"blur(10px)",position:"relative",zIndex:1},copyright:{cursor:"pointer",padding:"2px 6px",borderRadius:"4px",display:"inline-block",fontWeight:"600"},logoutIcon:{cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"2px 4px",borderRadius:"4px"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{background:"rgba(10, 10, 10, 0.95)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"32px",width:"90%",maxWidth:"420px",boxShadow:"0 0 40px rgba(16, 185, 129, 0.2)",position:"relative",transition:"none"},closeButton:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",color:"rgba(255, 255, 255, 0.6)",fontSize:"24px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",lineHeight:1},modalHeader:{marginBottom:"28px",textAlign:"center"},title:{fontSize:"28px",fontWeight:"700",color:"#fff",margin:"0 0 12px 0",textTransform:"uppercase",letterSpacing:"1px"},subtitle:{fontSize:"15px",color:"rgba(255, 255, 255, 0.7)",margin:0},formContainer:{display:"flex",flexDirection:"column",gap:"20px"},inputGroup:{display:"flex",flexDirection:"column",gap:"8px"},label:{fontSize:"14px",fontWeight:"600",color:"rgba(16, 185, 129, 1)",textTransform:"uppercase",letterSpacing:"0.5px"},input:{background:"rgba(6, 78, 59, 0.15)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",padding:"12px 16px",fontSize:"15px",color:"#fff",outline:"none",fontFamily:"inherit"},error:{background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.4)",borderRadius:"8px",padding:"12px 16px",color:"rgba(239, 68, 68, 1)",fontSize:"14px",textAlign:"center"},submitButton:{marginTop:"8px",padding:"14px 24px",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.3), rgba(6, 78, 59, 0.4))",border:"2px solid rgba(16, 185, 129, 0.5)",borderRadius:"8px",color:"#fff",fontSize:"16px",fontWeight:"700",cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 4px 15px rgba(16, 185, 129, 0.2)"},submitButtonDisabled:{opacity:.5,cursor:"not-allowed"}},UE={1:"rank-gold",2:"rank-silver",3:"rank-bronze",default:"rank-default"},aD=[{label:"Winrate",field:"winrate",editable:!1,format:s=>`${s}%`},{label:"Matches",field:"matches",editable:!1},{label:"Wins",field:"wins",editable:!0},{label:"Losses",field:"losses",editable:!0},{label:"Draws",field:"draws",editable:!0},{label:"Bonus 5 Goal",field:"bonus5goal",editable:!0}],oD=(s=0,t=0,n=0,r=0)=>{const l=s+t+n,u=l>0?(s/l*100).toFixed(1):0,d=s*3+t+r,p=l>0?(10*(.9*((3*s+t)/(3*l))+.1*Math.min(r/l,1))).toFixed(2):0;return{matches:l,winrate:parseFloat(u),points:d,value:Number(p).toFixed(2)}},ES=s=>UE[s]||UE.default,lD=()=>V.jsx("div",{className:"ranking-container",children:V.jsxs("div",{className:"loading-state",children:[V.jsx("div",{className:"loading-spinner"}),V.jsx("p",{children:"Loading rankings..."})]})}),uD=()=>V.jsx("div",{className:"ranking-container",children:V.jsx("div",{className:"empty-state",children:V.jsx("p",{children:"No players found for this season."})})}),cD=({rank:s})=>V.jsx("div",{className:"rank-badge",children:V.jsx("span",{className:"rank-number",children:s})}),hD=({name:s})=>V.jsx("div",{className:"player-info",children:V.jsx("h3",{className:"player-name",children:s})}),fD=({playerId:s,fame:t,currentUser:n,onUpdate:r})=>{const l=at.useRef(null),u=at.useRef(null),[d,p]=at.useState(!1);return at.useEffect(()=>{const y=()=>{if(l.current&&u.current){const g=l.current.offsetWidth,A=u.current.scrollWidth>g;p(A),A&&u.current.style.setProperty("--container-width",`${g}px`)}};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[t]),V.jsx("div",{className:"player-fame-container",ref:l,children:n?V.jsx("input",{type:"text",className:"player-fame fame-input",value:t||"",onChange:y=>r(s,y.target.value),placeholder:"Enter fame...",onClick:y=>y.stopPropagation()}):t&&V.jsx("p",{ref:u,className:`player-fame ${d?"scrolling":""}`,children:t})})},dD=({points:s,value:t,rank:n})=>{const r=ES(n);return V.jsxs("div",{className:"player-points",children:[V.jsxs("div",{className:"points-group",children:[V.jsx("span",{className:`points-value ${r}`,children:s||0}),V.jsx("span",{className:"points-label",children:"Points"})]}),t!==void 0&&V.jsxs("div",{className:"value-group",children:[V.jsx("span",{className:`points-value ${r}`,children:Number(t).toFixed(2)}),V.jsx("span",{className:"points-label",children:"Value"})]})]})},mD=({onIncrement:s,onDecrement:t})=>V.jsxs("div",{className:"stat-controls",onClick:n=>n.stopPropagation(),children:[V.jsx("button",{className:"stat-btn stat-btn-minus",onClick:t,children:""}),V.jsx("button",{className:"stat-btn stat-btn-plus",onClick:s,children:"+"})]}),pD=({label:s,value:t,editable:n,currentUser:r,onUpdate:l,format:u})=>V.jsxs("div",{className:"stat-item",children:[V.jsx("span",{className:"stat-label",children:s}),V.jsxs("div",{className:"stat-value-row",children:[V.jsx("span",{className:"stat-value",children:u?u(t):t}),r&&n&&V.jsx(mD,{onIncrement:()=>l(1),onDecrement:()=>l(-1)})]})]}),gD=({player:s,currentUser:t,onUpdateField:n})=>V.jsx("div",{className:"ranking-item-details",children:V.jsx("div",{className:"stats-grid",children:aD.map(({label:r,field:l,editable:u,format:d})=>V.jsx(pD,{label:r,value:s[l]||0,editable:u,currentUser:t,onUpdate:p=>n(s.id,l,p),format:d},l))})}),yD=({player:s,rank:t,isExpanded:n,onToggle:r,currentUser:l,onUpdateField:u,onUpdateFame:d})=>{const p=ES(t),y=g=>{!g.target.closest(".stat-controls")&&!g.target.closest(".fame-input")&&r(s.id)};return V.jsxs("div",{className:`ranking-item ${p} ${n?"expanded":""}`,onClick:y,children:[V.jsxs("div",{className:"ranking-item-main",children:[V.jsx(cD,{rank:t}),V.jsx(hD,{name:s.name}),V.jsx(fD,{playerId:s.id,fame:s.fame,currentUser:l,onUpdate:d}),V.jsx(dD,{points:s.points,value:s.value,rank:t})]}),n&&V.jsx(gD,{player:s,currentUser:l,onUpdateField:u})]})};function _D(){const{selectedSeason:s}=wp(),{currentUser:t}=Rp(),[n,r]=at.useState([]),[l,u]=at.useState(!0),[d,p]=at.useState(null);at.useEffect(()=>{if(!s)return;(async()=>{u(!0);try{const ft=(await Sp(gp(Ri,`seasons/${s}/players`))).docs.map(st=>({id:st.id,...st.data()})).sort((st,dt)=>(st.rank||0)!==(dt.rank||0)?(st.rank||0)-(dt.rank||0):(st.matches||0)===0&&(dt.matches||0)>0?1:(dt.matches||0)===0&&(st.matches||0)>0?-1:(dt.points||0)!==(st.points||0)?(dt.points||0)-(st.points||0):(st.matches||0)!==(dt.matches||0)?(st.matches||0)-(dt.matches||0):(dt.value||0)-(st.value||0));r(ft),p(null)}catch(W){console.error("Error loading players:",W)}finally{u(!1)}})()},[s]);const y=at.useCallback(async(G,W,ft)=>{const st=n.find(I=>I.id===G);if(!st)return;const dt=Math.max(0,(st[W]||0)+ft),Mt={...st,[W]:dt},wt=oD(Mt.wins,Mt.draws,Mt.losses,Mt.bonus5goal);r(I=>I.map(b=>b.id===G?{...b,[W]:dt,...wt}:b).sort((b,R)=>(b.rank||0)!==(R.rank||0)?(b.rank||0)-(R.rank||0):(b.matches||0)===0&&(R.matches||0)>0?1:(R.matches||0)===0&&(b.matches||0)>0?-1:(R.points||0)!==(b.points||0)?(R.points||0)-(b.points||0):(b.matches||0)!==(R.matches||0)?(b.matches||0)-(R.matches||0):(R.value||0)-(b.value||0)));try{const I=Yr(Ri,`seasons/${s}/players/${G}`);await Cm(I,{[W]:dt,...wt})}catch(I){console.error("Error updating player:",I)}},[n,s]),g=at.useCallback(async(G,W)=>{r(ft=>ft.map(st=>st.id===G?{...st,fame:W}:st));try{const ft=Yr(Ri,`seasons/${s}/players/${G}`);await Cm(ft,{fame:W})}catch(ft){console.error("Error updating fame:",ft)}},[s]),E=at.useCallback(G=>{p(W=>W===G?null:G)},[]);if(l)return V.jsx(lD,{});if(n.length===0)return V.jsx(uD,{});const A=[];let N=1,F=0;n.forEach((G,W)=>{W>0&&(n[W-1].matches||0)>0&&G.points===n[W-1].points&&G.matches===n[W-1].matches&&G.value===n[W-1].value&&(G.rank||0)===(n[W-1].rank||0)?A.push(N):(G.matches||0)>0?(N=F+1,A.push(N),F++):A.push(null)});const et=Math.max(...A.filter(G=>G!==null))+1;return A.forEach((G,W)=>{G===null&&(A[W]=et)}),V.jsxs("div",{className:"ranking-container",children:[V.jsx("h1",{className:"section-title",children:"FootballSanci"}),V.jsx("div",{className:"ranking-list",children:n.map((G,W)=>V.jsx(yD,{player:G,rank:A[W],isExpanded:d===G.id,onToggle:E,currentUser:t,onUpdateField:y,onUpdateFame:g},G.id))})]})}function vD({title:s,children:t}){return V.jsxs("div",{style:zE.container,children:[s&&V.jsx("h2",{style:zE.title,children:s}),V.jsx("div",{children:t})]})}const zE={container:{padding:"100px 20px",minHeight:"100vh",background:"transparent",color:"inherit",zIndex:1,position:"relative"},title:{textAlign:"center",marginBottom:"30px"}};function ED(){return V.jsxs(vD,{children:[V.jsx("h1",{className:"section-title",children:"History"}),V.jsx("p",{children:"Coming soon: list of past matches here."})]})}const TD=["Fit Five","Halle"],jE=.1,SD=0,BE=s=>String(s).padStart(2,"0"),TS=s=>`${s.getFullYear()}-${BE(s.getMonth()+1)}-${BE(s.getDate())}`,AD=()=>TS(new Date),bD=()=>{const s=new Date,t=(6-s.getDay())%7||7,n=new Date(s);return n.setDate(s.getDate()+t),TS(n)},Al=({label:s,icon:t,children:n})=>V.jsxs("div",{className:"match-row",children:[t&&V.jsx("span",{className:"match-row-icon",children:t}),V.jsxs("label",{children:[s,":"]}),n]}),RD=({value:s,onChange:t})=>V.jsxs("div",{className:"gap-control",children:[V.jsx("button",{type:"button","aria-label":"Decrease gap",onClick:()=>{const n=Number(s)||0;t(Math.max(SD,+(n-jE).toFixed(2)))},children:""}),V.jsx("span",{children:Number(s).toFixed(2)}),V.jsx("button",{type:"button","aria-label":"Increase gap",onClick:()=>{const n=Number(s)||0;t(+(n+jE).toFixed(2))},children:"+"})]}),wD=({title:s,children:t})=>V.jsxs("div",{className:"match-box",children:[s&&V.jsx("h3",{className:"section-title section-title--compact",children:s}),V.jsx("div",{className:"match-section",children:t})]}),ID=({matchDetails:s,onChange:t,selectedCount:n=0,totalCount:r=0,onGenerate:l=()=>{},disabled:u=!1})=>{const d=at.useMemo(bD,[]),p=at.useMemo(AD,[]),y=at.useRef(!1);return at.useEffect(()=>{if(y.current)return;const g=s?.date;(!g||g===p)&&t("date",d),y.current=!0},[]),V.jsxs(wD,{title:"Next Match",children:[V.jsx(Al,{label:"Date",icon:"",children:V.jsx("input",{type:"date",value:s.date||d,onChange:g=>t("date",g.target.value)})}),V.jsx(Al,{label:"Start",icon:"",children:V.jsx("input",{type:"time",value:s.startTime,onChange:g=>t("startTime",g.target.value)})}),V.jsx(Al,{label:"End",icon:"",children:V.jsx("input",{type:"time",value:s.endTime,onChange:g=>t("endTime",g.target.value)})}),V.jsx(Al,{label:"Location",icon:"",children:V.jsx("select",{value:s.location,onChange:g=>t("location",g.target.value),children:TD.map(g=>V.jsx("option",{value:g,children:g},g))})}),V.jsx(Al,{label:"Gap",icon:"",children:V.jsx(RD,{value:s.gap,onChange:g=>t("gap",g)})}),V.jsxs("div",{className:"generate-section",children:[V.jsxs("div",{className:"selected-counter",children:[V.jsx("span",{className:"selected-counter-number",children:n})," / ",r," joueurs slectionns"]}),V.jsx("button",{className:"generate-button",onClick:l,disabled:u,children:"Generate Teams"})]})]})},CD=({player:s,isSelected:t,onToggle:n})=>V.jsxs("button",{className:`player-card ${t?"selected":""}`,onClick:n,"aria-pressed":t,children:[V.jsx("h4",{className:"player-card-name",children:s.name}),V.jsx("span",{className:"player-card-value",children:s.value})]}),ND=({onAdd:s})=>{const[t,n]=at.useState(""),[r,l]=at.useState(""),[u,d]=at.useState(!1),p=at.useRef(null);at.useEffect(()=>{u&&p.current&&setTimeout(()=>{p.current.scrollIntoView({behavior:"smooth",block:"center"})},300)},[u]);const y=()=>{const E=r.replace(",","."),A=parseFloat(E);t.trim()&&!isNaN(A)&&A>=0&&(s({id:`temp-${Date.now()}`,name:t.trim(),value:A,isTemporary:!0}),n(""),l(""),d(!1))},g=(E,A)=>{E.key==="Enter"&&(A==="name"&&t.trim()?document.getElementById("temp-value-input")?.focus():A==="value"&&y())};return u?V.jsxs("div",{ref:p,className:"player-card temp-player-card-form",children:[V.jsx("input",{type:"text",className:"temp-player-input temp-player-name",placeholder:"Name",value:t,onChange:E=>n(E.target.value),onKeyPress:E=>g(E,"name"),autoFocus:!0}),V.jsx("input",{id:"temp-value-input",type:"text",inputMode:"decimal",className:"temp-player-input temp-player-value",placeholder:"Value",value:r,onChange:E=>{const A=E.target.value.replace(/[^0-9.,]/g,"");l(A)},onKeyDown:E=>{!/[0-9.,]/.test(E.key)&&E.key!=="Backspace"&&E.key!=="Delete"&&E.key!=="ArrowLeft"&&E.key!=="ArrowRight"&&E.key!=="Tab"&&E.preventDefault()},onKeyPress:E=>g(E,"value"),step:"0.1",min:"0"}),V.jsx("div",{className:"temp-player-actions",children:V.jsx("button",{className:"temp-player-btn temp-player-add",onClick:y,disabled:!t.trim()||!r||isNaN(parseFloat(r)),children:""})})]}):V.jsxs("button",{className:"player-card temp-player-card-trigger",onClick:()=>d(!0),children:[V.jsx("h4",{className:"player-card-name",children:"Temp Player"}),V.jsx("span",{className:"player-card-value",children:"+"})]})},DD=({players:s,selectedPlayers:t,onToggle:n,onAddTemp:r})=>V.jsxs("div",{className:"players-grid",children:[s.map(l=>V.jsx(CD,{player:l,isSelected:t.some(u=>u.id===l.id),onToggle:()=>n(l)},l.id)),V.jsx(ND,{onAdd:r})]}),OD=s=>s.reduce((t,n)=>t+(Number(n.value)||0),0),qE=(s,t)=>{if(!s||!t)return null;const[n,r,l]=(s||"").split("-").map(Number),[u,d]=(t||"").split(":").map(Number);return[n,r,l,u,d].every(p=>Number.isFinite(p))?new Date(l,r-1,n,u,d,0,0):null},Ya=s=>String(s).padStart(2,"0"),HE=s=>{s<0&&(s=0);const t=Math.floor(s/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),l=Math.floor(t%3600/60),u=t%60;return n>0?`${n}d ${Ya(r)}:${Ya(l)}:${Ya(u)}`:`${Ya(r)}:${Ya(l)}:${Ya(u)}`},MD=s=>{const t=qE(s?.date,s?.startTime),n=qE(s?.date,s?.endTime),[r,l]=at.useState(()=>Date.now());return at.useEffect(()=>{const u=setInterval(()=>l(Date.now()),1e3);return()=>clearInterval(u)},[s?.date,s?.startTime,s?.endTime]),!t||!n?{phase:"invalid",text:""}:r<t.getTime()?{phase:"before",text:`Starts in ${HE(t.getTime()-r)}`}:r>=t.getTime()&&r<n.getTime()?{phase:"during",text:`Ends in ${HE(n.getTime()-r)}`}:{phase:"after",text:"Match finished"}},VD=({matchData:s,countdown:t})=>{if(!s)return V.jsxs("div",{className:"match-details-card",children:[V.jsx("h3",{className:"match-details-header",children:"Match Info"}),V.jsx("div",{className:"match-details-empty",children:"No match info available."})]});const{phase:n,text:r}=t||{phase:"invalid",text:""},l=s.startTime&&s.endTime?`${s.startTime} - ${s.endTime}`:s.startTime||"";return V.jsxs("div",{className:"match-details-card",children:[V.jsx("h3",{className:"section-title section-title--compact",children:"Live Draw"}),V.jsxs("div",{className:"match-details-grid",children:[V.jsxs("div",{className:`match-details-item match-details-item--full countdown-${n}`,children:[V.jsx("span",{className:"match-details-icon",children:""}),V.jsxs("div",{className:"match-details-text",children:[V.jsx("span",{className:"match-details-label",children:"Countdown"}),V.jsx("span",{className:"match-details-value match-details-value--countdown",children:r})]})]}),V.jsxs("div",{className:"match-details-item",children:[V.jsx("span",{className:"match-details-icon",children:""}),V.jsxs("div",{className:"match-details-text",children:[V.jsx("span",{className:"match-details-label",children:"Date"}),V.jsx("span",{className:"match-details-value",children:s.date||""})]})]}),V.jsxs("div",{className:"match-details-item",children:[V.jsx("span",{className:"match-details-icon",children:""}),V.jsxs("div",{className:"match-details-text",children:[V.jsx("span",{className:"match-details-label",children:"Time"}),V.jsx("span",{className:"match-details-value",children:l})]})]}),V.jsxs("div",{className:"match-details-item",children:[V.jsx("span",{className:"match-details-icon",children:""}),V.jsxs("div",{className:"match-details-text",children:[V.jsx("span",{className:"match-details-label",children:"Location"}),V.jsx("span",{className:"match-details-value",children:s.location||""})]})]}),V.jsxs("div",{className:"match-details-item",children:[V.jsx("span",{className:"match-details-icon",children:""}),V.jsxs("div",{className:"match-details-text",children:[V.jsx("span",{className:"match-details-label",children:"Value Gap"}),V.jsx("span",{className:"match-details-value",children:s.gap||""})]})]})]})]})},xD=({team:s,index:t})=>{const n=at.useMemo(()=>OD(s),[s]);return V.jsxs("div",{className:`team-card team-${t+1}`,children:[V.jsxs("div",{className:"team-header",children:[V.jsxs("h3",{className:"team-title",children:["Team ",t+1]}),V.jsx("div",{className:"team-total",children:n.toFixed(2)})]}),V.jsx("ul",{className:"team-players",children:s.map(r=>V.jsxs("li",{className:"team-player-item",children:[V.jsx("span",{className:"team-player-name",children:r.name}),V.jsx("span",{className:"team-player-value",children:r.value})]},r.id||r.name))})]})},kD=({scoreTeam1:s,scoreTeam2:t,onChange:n})=>{const r=u=>{u.target.select()},l=(u,d)=>{const p=parseInt(d,10);n(u,isNaN(p)?0:p)};return V.jsxs("div",{className:"score-input-wrapper",children:[V.jsx("input",{type:"number",min:"0",value:s,onFocus:r,onChange:u=>l("scoreTeam1",u.target.value),className:"score-input score-input-team1"}),V.jsx("span",{className:"score-separator",children:"-"}),V.jsx("input",{type:"number",min:"0",value:t,onFocus:r,onChange:u=>l("scoreTeam2",u.target.value),className:"score-input score-input-team2"})]})},PD=({scoreTeam1:s,scoreTeam2:t,onScoreChange:n,onSave:r,disabled:l})=>V.jsxs("div",{className:"save-match-section",children:[V.jsx(kD,{scoreTeam1:s,scoreTeam2:t,onChange:n}),V.jsx("button",{className:"generate-button",onClick:r,disabled:l,children:"Save Match"})]}),LD=({teams:s,matchData:t,scoreTeam1:n,scoreTeam2:r,onScoreChange:l,onSaveMatch:u,currentUser:d})=>{const p=MD(t||{});return V.jsxs("div",{className:"teams-wrapper",children:[V.jsx(VD,{matchData:t,countdown:p}),V.jsx("div",{className:"teams-container",children:s.map((y,g)=>V.jsx(xD,{team:y,index:g},g))}),d&&V.jsx(PD,{scoreTeam1:n,scoreTeam2:r,onScoreChange:l,onSave:u,disabled:!1})]})},UD={date:new Date().toISOString().split("T")[0],startTime:"21:00",endTime:"22:00",location:"Fit Five",gap:1},zD=s=>{const t=new Date(s),n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getFullYear());return`${n}-${r}-${l}`},FE=s=>s.reduce((t,n)=>t+(n.value||0),0),jD=(s=0,t=0,n=0,r=0)=>{const l=s+t+n,u=l>0?(s/l*100).toFixed(1):0,d=s*3+t+r,p=l>0?(10*(.9*((3*s+t)/(3*l))+.1*Math.min(r/l,1))).toFixed(2):0;return{matches:l,winrate:parseFloat(u),points:d,value:parseFloat(p)}};function BD(){const{selectedSeason:s}=wp(),{currentUser:t}=Rp(),[n,r]=at.useState([]),[l,u]=at.useState([]),[d,p]=at.useState([]),[y,g]=at.useState(!0),[E,A]=at.useState(UD),[N,F]=at.useState(null),[tt,et]=at.useState(0),[G,W]=at.useState(0),ft=at.useRef(null),st=at.useRef(!1),dt=at.useCallback(async()=>{if(s){g(!0);try{if(t){const lt=(await Sp(gp(Ri,`seasons/${s}/players`))).docs.map(St=>({id:St.id,...St.data()}));r(lt)}const Tt=Yr(Ri,`seasons/${s}/matches/Live`),B=await DE(Tt);if(B.exists()){const J=B.data();p([J.team1,J.team2]),F(J),et(J.scoreTeam1||0),W(J.scoreTeam2||0)}else p([]),F(null),et(0),W(0)}catch(Tt){console.error("Error loading data:",Tt)}finally{g(!1)}}},[s,t]);at.useEffect(()=>{dt()},[dt]),at.useEffect(()=>{st.current&&d.length===2&&ft.current&&(setTimeout(()=>{ft.current.scrollIntoView({behavior:"smooth",block:"end"})},100),st.current=!1)},[d]);const Mt=at.useCallback(Tt=>{r(B=>[...B,Tt]),u(B=>[...B,Tt])},[]),wt=at.useCallback(Tt=>{u(B=>B.find(J=>J.id===Tt.id)?B.filter(J=>J.id!==Tt.id):[...B,Tt])},[]),I=at.useCallback(Tt=>{const B=E.gap;let J=[],lt=[],St=1/0;const It=Tt.length<=10?1e3:500;for(let D=0;D<It;D++){const Q=[...Tt].sort(()=>Math.random()-.5),nt=[],rt=[];Q.forEach((Vt,Zt)=>{(Zt%2===0?nt:rt).push(Vt)});const mt=FE(nt),yt=FE(rt),Ot=Math.abs(mt-yt);if(Ot<=B)return[nt,rt];Ot<St&&(St=Ot,J=nt,lt=rt)}return[J,lt]},[E.gap]),b=at.useCallback(async()=>{if(l.length<2)return;const[Tt,B]=I(l);p([Tt,B]),et(0),W(0);try{const J=zD(E.date),lt=Yr(Ri,`seasons/${s}/matches/Live`),St={team1:Tt.map(It=>({name:It.name,value:Number(It.value||0).toFixed(2)})),team2:B.map(It=>({name:It.name,value:Number(It.value||0).toFixed(2)})),date:J,startTime:E.startTime,endTime:E.endTime,location:E.location,gap:Number(E.gap).toFixed(2),scoreTeam1:0,scoreTeam2:0};await OE(lt,St),F(St)}catch(J){console.error("Error saving live match:",J)}},[l,E,I,s]),R=at.useCallback(()=>{l.length<2||(st.current=!0,b())},[l,b]),x=at.useCallback((Tt,B)=>{const J=Number(B)||0;Tt==="scoreTeam1"?et(J):Tt==="scoreTeam2"&&W(J)},[]),M=at.useCallback(async()=>{if(N)try{const Tt=N.date,B=Yr(Ri,`seasons/${s}/matches/${Tt}`),J={...N,scoreTeam1:tt,scoreTeam2:G};await OE(B,J);const lt=Number(tt)||0,St=Number(G)||0,It=N.team1||[],D=N.team2||[];let Q;lt>St?Q="team1":St>lt?Q="team2":Q="draw";const nt=Math.abs(lt-St),rt=Q==="draw"?0:Math.floor(nt/5),mt=async(Vt,{winDelta:Zt=0,drawDelta:zi=0,lossDelta:ds=0,bonusDelta:ms=0})=>{if(!Vt)return;const ji=Yr(Ri,`seasons/${s}/players/${Vt}`),dn=await DE(ji);if(!dn.exists()){console.warn("Player document not found for",Vt);return}const ei=dn.data(),ni=(ei.wins||0)+Zt,ps=(ei.draws||0)+zi,gs=(ei.losses||0)+ds,ce=(ei.bonus5goal||0)+ms,me=jD(ni,ps,gs,ce);await Cm(ji,{wins:ni,draws:ps,losses:gs,bonus5goal:ce,...me,lastMatchDate:Tt})},yt=[];Q==="draw"?(It.forEach(Vt=>{yt.push(mt(Vt.name,{drawDelta:1}))}),D.forEach(Vt=>{yt.push(mt(Vt.name,{drawDelta:1}))})):Q==="team1"?(It.forEach(Vt=>{yt.push(mt(Vt.name,{winDelta:1,bonusDelta:rt}))}),D.forEach(Vt=>{yt.push(mt(Vt.name,{lossDelta:1}))})):Q==="team2"&&(D.forEach(Vt=>{yt.push(mt(Vt.name,{winDelta:1,bonusDelta:rt}))}),It.forEach(Vt=>{yt.push(mt(Vt.name,{lossDelta:1}))})),await Promise.all(yt);const Ot=Yr(Ri,`seasons/${s}/matches/Live`);await gN(Ot),p([]),F(null),u([]),et(0),W(0)}catch(Tt){console.error("Error saving match:",Tt)}},[N,s,tt,G]),P=at.useCallback((Tt,B)=>{A(J=>{let lt=B;if(Tt==="gap"){const St=(B??"").toString();lt=(parseFloat(St.replace(",","."))||0).toFixed(2)}return{...J,[Tt]:lt}}),Tt==="date"&&u([])},[]);if(y)return V.jsx("div",{className:"draw-container",children:V.jsxs("div",{className:"loading-state",children:[V.jsx("div",{className:"loading-spinner"}),V.jsx("p",{children:"Loading..."})]})});const w=d.length===2,ie=l.length>=2;return V.jsxs("div",{className:"draw-container",children:[t&&V.jsxs(V.Fragment,{children:[V.jsx("h2",{className:"section-title",children:"Live Draw"}),n.length>0&&V.jsx(DD,{players:n,selectedPlayers:l,onToggle:wt,onAddTemp:Mt}),V.jsx(ID,{matchDetails:E,onChange:P,selectedCount:l.length,totalCount:n.length,onGenerate:R,disabled:!ie})]}),w&&V.jsx("div",{ref:ft,children:V.jsx(LD,{teams:d,matchData:N,scoreTeam1:tt,scoreTeam2:G,onScoreChange:x,onSaveMatch:M,currentUser:t})}),!t&&!w&&V.jsxs("div",{className:"empty-state",children:[V.jsx("div",{className:"empty-state-icon",children:""}),V.jsx("p",{children:"No live match available. Check back soon!"})]})]})}function qD(){return V.jsx(YN,{children:V.jsxs(XN,{children:[V.jsx($N,{}),V.jsxs("main",{style:{position:"relative",zIndex:1},children:[V.jsx("section",{id:"ranking",children:V.jsx(_D,{})}),V.jsx("section",{id:"draw",children:V.jsx(BD,{})}),V.jsx("section",{id:"history",children:V.jsx(ED,{})})]}),V.jsx(rD,{})]})})}o1.createRoot(document.getElementById("root")).render(V.jsx(at.StrictMode,{children:V.jsx(qD,{})}));
